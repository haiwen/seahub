/*! For license information please see excalidrawEditor.e214e412.js.LICENSE.txt */
(self.webpackChunkseahub_frontend=self.webpackChunkseahub_frontend||[]).push([[3e3],{36297:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{Decoder:function(){return tt},Encoder:function(){return Je},PacketType:function(){return qe},protocol:function(){return Qe}});var a,i,o=n(9950),l=n(1352),s=n(9961),c=n(5544),u=n(36755),d=n(10467),f=n(64059),h={"zh-cn":"zh-CN",en:"en","zh-tw":"zh-TW",ru:"ru-RU",it:"it-IT",fr:"fr-FR","es-ms":"en","es-ar":"en",es:"es-ES",de:"de-DE",cs:"cs-CZ"},p="excalidraw",v="excalidraw-state",U="excalidraw-library",m="version-dataState",g="version-files",b="default",y="SCENE_INIT",x="SCENE_UPDATE",w="MOUSE_LOCATION",E=n(23029),k=n(92901);function S(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function M(e,t){var n;return function(r,a){return function(){if(n)return n;var r=indexedDB.open(e);return r.onupgradeneeded=function(){return r.result.createObjectStore(t)},(n=S(r)).then((function(e){e.onclose=function(){return n=void 0}}),(function(){})),n}().then((function(e){return a(e.transaction(t,r).objectStore(t))}))}}function C(){return a||(a=M("keyval-store","keyval")),a}function I(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:C())("readonly",(function(t){return S(t.get(e))}))}var j=function(){function e(){(0,E.default)(this,e)}return(0,k.default)(e,null,[{key:"load",value:function(){var t=(0,d.default)((0,u.default)().mark((function t(){var n;return(0,u.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e.key,e.store);case 2:return n=t.sent,t.abrupt("return",n||null);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"save",value:function(t){return function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:C())("readwrite",(function(n){return n.put(t,e),S(n.transaction)}))}(e.key,t,e.store)}}])}();i=j,j.idb_name=U,j.key="libraryData",j.store=M("".concat(i.idb_name,"-db"),"".concat(i.idb_name,"-store"));var T=n(80045),A=n(43088),D=n.n(A),_=n(5182),L=n(39874),R=n(85501),P=n(50531),N=Object.create(null);N.open="0",N.close="1",N.ping="2",N.pong="3",N.message="4",N.upgrade="5",N.noop="6";var F=Object.create(null);Object.keys(N).forEach((function(e){F[N[e]]=e}));var O,z={type:"error",data:"parser error"},B="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),H="function"===typeof ArrayBuffer,W=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},X=function(e,t,n){var r=e.type,a=e.data;return B&&a instanceof Blob?t?n(a):V(a,n):H&&(a instanceof ArrayBuffer||W(a))?t?n(a):V(new Blob([a]),n):n(N[r]+(a||""))},V=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function G(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}for(var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z="undefined"===typeof Uint8Array?[]:new Uint8Array(256),K=0;K<64;K++)Z[Y.charCodeAt(K)]=K;var q,$="function"===typeof ArrayBuffer,Q=function(e,t){if("string"!==typeof e)return{type:"message",data:ee(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:J(e.substring(1),t)}:F[n]?e.length>1?{type:F[n],data:e.substring(1)}:{type:F[n]}:z},J=function(e,t){if($){var n=function(e){var t,n,r,a,i,o=.75*e.length,l=e.length,s=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<l;t+=4)n=Z[e.charCodeAt(t)],r=Z[e.charCodeAt(t+1)],a=Z[e.charCodeAt(t+2)],i=Z[e.charCodeAt(t+3)],u[s++]=n<<2|r>>4,u[s++]=(15&r)<<4|a>>2,u[s++]=(3&a)<<6|63&i;return c}(e);return ee(n,t)}return{base64:!0,data:e}},ee=function(e,t){return"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},te=String.fromCharCode(30);function ne(){return new TransformStream({transform:function(e,t){!function(e,t){B&&e.data instanceof Blob?e.data.arrayBuffer().then(G).then(t):H&&(e.data instanceof ArrayBuffer||W(e.data))?t(G(e.data)):X(e,!1,(function(e){O||(O=new TextEncoder),t(O.encode(e))}))}(e,(function(n){var r,a=n.length;if(a<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,a);else if(a<65536){r=new Uint8Array(3);var i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{r=new Uint8Array(9);var o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(a))}e.data&&"string"!==typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)}))}})}function re(e){return e.reduce((function(e,t){return e+t.length}),0)}function ae(e,t){if(e[0].length===t)return e.shift();for(var n=new Uint8Array(t),r=0,a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}var ie=n(42742),oe="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},le="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var ce=le.setTimeout,ue=le.clearTimeout;function de(e,t){t.useNativeTimers?(e.setTimeoutFn=ce.bind(le),e.clearTimeoutFn=ue.bind(le)):(e.setTimeoutFn=le.setTimeout.bind(le),e.clearTimeoutFn=le.clearTimeout.bind(le))}function fe(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var he=function(e){function t(e,n,r){var a;return(0,E.default)(this,t),(a=(0,L.default)(this,t,[e])).description=n,a.context=r,a.type="TransportError",a}return(0,R.default)(t,e),(0,k.default)(t)}((0,P.A)(Error)),pe=function(e){function t(e){var n;return(0,E.default)(this,t),(n=(0,L.default)(this,t)).writable=!1,de(n,e),n.opts=e,n.query=e.query,n.socket=e.socket,n.supportsBinary=!e.forceBase64,n}return(0,R.default)(t,e),(0,k.default)(t,[{key:"onError",value:function(e,n,r){return(0,_.A)(t,"emitReserved",this,3)(["error",new he(e,n,r)]),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,(0,_.A)(t,"emitReserved",this,3)(["open"])}},{key:"onData",value:function(e){var t=Q(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){(0,_.A)(t,"emitReserved",this,3)(["packet",e])}},{key:"onClose",value:function(e){this.readyState="closed",(0,_.A)(t,"emitReserved",this,3)(["close",e])}},{key:"pause",value:function(e){}},{key:"createUri",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}},{key:"_hostname",value:function(){var e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}},{key:"_query",value:function(e){var t=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}])}(ie.Emitter),ve=function(e){function t(){var e;return(0,E.default)(this,t),(e=(0,L.default)(this,t,arguments))._polling=!1,e}return(0,R.default)(t,e),(0,k.default)(t,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this._poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this._polling||!this.writable){var r=0;this._polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"_poll",value:function(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(te),r=[],a=0;a<n.length;a++){var i=Q(n[a],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),a=0;e.forEach((function(e,i){X(e,!1,(function(e){r[i]=e,++a===n&&t(r.join(te))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=fe()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}])}(pe),Ue=!1;try{Ue="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(yn){}var me=Ue;function ge(){}var be=function(e){function t(e){var n;if((0,E.default)(this,t),n=(0,L.default)(this,t,[e]),"undefined"!==typeof location){var r="https:"===location.protocol,a=location.port;a||(a=r?"443":"80"),n.xd="undefined"!==typeof location&&e.hostname!==location.hostname||a!==e.port}return n}return(0,R.default)(t,e),(0,k.default)(t,[{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}])}(ve),ye=function(e){function t(e,n,r){var a;return(0,E.default)(this,t),(a=(0,L.default)(this,t)).createRequest=e,de(a,r),a._opts=r,a._method=r.method||"GET",a._uri=n,a._data=void 0!==r.data?r.data:null,a._create(),a}return(0,R.default)(t,e),(0,k.default)(t,[{key:"_create",value:function(){var e,n=this,r=se(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;var a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(var i in a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&a.setRequestHeader(i,this._opts.extraHeaders[i])}catch(o){}if("POST"===this._method)try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{a.setRequestHeader("Accept","*/*")}catch(o){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=function(){var e;3===a.readyState&&(null===(e=n._opts.cookieJar)||void 0===e||e.parseCookies(a.getResponseHeader("set-cookie"))),4===a.readyState&&(200===a.status||1223===a.status?n._onLoad():n.setTimeoutFn((function(){n._onError("number"===typeof a.status?a.status:0)}),0))},a.send(this._data)}catch(o){return void this.setTimeoutFn((function(){n._onError(o)}),0)}"undefined"!==typeof document&&(this._index=t.requestsCount++,t.requests[this._index]=this)}},{key:"_onError",value:function(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}},{key:"_cleanup",value:function(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ge,e)try{this._xhr.abort()}catch(n){}"undefined"!==typeof document&&delete t.requests[this._index],this._xhr=null}}},{key:"_onLoad",value:function(){var e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}},{key:"abort",value:function(){this._cleanup()}}])}(ie.Emitter);if(ye.requestsCount=0,ye.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",xe);else if("function"===typeof addEventListener){addEventListener("onpagehide"in le?"pagehide":"unload",xe,!1)}function xe(){for(var e in ye.requests)ye.requests.hasOwnProperty(e)&&ye.requests[e].abort()}var we=function(){var e=ke({xdomain:!1});return e&&null!==e.responseType}(),Ee=function(e){function t(e){var n;(0,E.default)(this,t),n=(0,L.default)(this,t,[e]);var r=e&&e.forceBase64;return n.supportsBinary=we&&!r,n}return(0,R.default)(t,e),(0,k.default)(t,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new ye(ke,this.uri(),e)}}])}(be);function ke(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||me))return new XMLHttpRequest}catch(n){}if(!t)try{return new(le[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}var Se="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Me=function(e){function t(){return(0,E.default)(this,t),(0,L.default)(this,t,arguments)}return(0,R.default)(t,e),(0,k.default)(t,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){var e=this.uri(),t=this.opts.protocols,n=Se?{}:se(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(yn){return this.emitReserved("error",yn)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],a=r===e.length-1;X(n,t.supportsBinary,(function(e){try{t.doWrite(n,e)}catch(r){}a&&oe((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.onerror=function(){},this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=fe()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}])}(pe),Ce=le.WebSocket||le.MozWebSocket,Ie=function(e){function t(){return(0,E.default)(this,t),(0,L.default)(this,t,arguments)}return(0,R.default)(t,e),(0,k.default)(t,[{key:"createSocket",value:function(e,t,n){return Se?new Ce(e,t,n):t?new Ce(e,t):new Ce(e)}},{key:"doWrite",value:function(e,t){this.ws.send(t)}}])}(Me),je=function(e){function t(){return(0,E.default)(this,t),(0,L.default)(this,t,arguments)}return(0,R.default)(t,e),(0,k.default)(t,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var e=this;try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(yn){return this.emitReserved("error",yn)}this._transport.closed.then((function(){e.onClose()})).catch((function(t){e.onError("webtransport error",t)})),this._transport.ready.then((function(){e._transport.createBidirectionalStream().then((function(t){var n=function(e,t){q||(q=new TextDecoder);var n=[],r=0,a=-1,i=!1;return new TransformStream({transform:function(o,l){for(n.push(o);;){if(0===r){if(re(n)<1)break;var s=ae(n,1);i=128===(128&s[0]),a=127&s[0],r=a<126?3:126===a?1:2}else if(1===r){if(re(n)<2)break;var c=ae(n,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(2===r){if(re(n)<8)break;var u=ae(n,8),d=new DataView(u.buffer,u.byteOffset,u.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(z);break}a=f*Math.pow(2,32)+d.getUint32(4),r=3}else{if(re(n)<a)break;var h=ae(n,a);l.enqueue(Q(i?h:q.decode(h),t)),r=0}if(0===a||a>e){l.enqueue(z);break}}}})}(Number.MAX_SAFE_INTEGER,e.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),a=ne();a.readable.pipeTo(t.writable),e._writer=a.writable.getWriter();var i=function(){r.read().then((function(t){var n=t.done,r=t.value;n||(e.onPacket(r),i())})).catch((function(e){}))};i();var o={type:"open"};e.query.sid&&(o.data='{"sid":"'.concat(e.query.sid,'"}')),e._writer.write(o).then((function(){return e.onOpen()}))}))}))}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[r],a=r===e.length-1;t._writer.write(n).then((function(){a&&oe((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n()}},{key:"doClose",value:function(){var e;null===(e=this._transport)||void 0===e||e.close()}}])}(pe),Te={websocket:Ie,webtransport:je,polling:Ee},Ae=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,De=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _e(e){if(e.length>8e3)throw"URI too long";var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var a=Ae.exec(e||""),i={},o=14;o--;)i[De[o]]=a[o]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}var Le="function"===typeof addEventListener&&"function"===typeof removeEventListener,Re=[];Le&&addEventListener("offline",(function(){Re.forEach((function(e){return e()}))}),!1);var Pe=function(e){function t(e,n){var r;if((0,E.default)(this,t),(r=(0,L.default)(this,t)).binaryType="arraybuffer",r.writeBuffer=[],r._prevBufferLen=0,r._pingInterval=-1,r._pingTimeout=-1,r._maxPayload=-1,r._pingTimeoutTime=1/0,e&&"object"===typeof e&&(n=e,e=null),e){var a=_e(e);n.hostname=a.host,n.secure="https"===a.protocol||"wss"===a.protocol,n.port=a.port,a.query&&(n.query=a.query)}else n.host&&(n.hostname=_e(n.host).host);return de(r,n),r.secure=null!=n.secure?n.secure:"undefined"!==typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=r.secure?"443":"80"),r.hostname=n.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=n.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=[],r._transportsByName={},n.transports.forEach((function(e){var t=e.prototype.name;r.transports.push(t),r._transportsByName[t]=e})),r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),r.opts.path=r.opts.path.replace(/\/$/,"")+(r.opts.addTrailingSlash?"/":""),"string"===typeof r.opts.query&&(r.opts.query=function(e){for(var t={},n=e.split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}(r.opts.query)),Le&&(r.opts.closeOnBeforeunload&&(r._beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r._beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r._offlineEventListener=function(){r._onClose("transport close",{description:"network connection lost"})},Re.push(r._offlineEventListener))),r.opts.withCredentials&&(r._cookieJar=void 0),r._open(),r}return(0,R.default)(t,e),(0,k.default)(t,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}},{key:"_open",value:function(){var e=this;if(0!==this.transports.length){var n=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";var r=this.createTransport(n);r.open(),this.setTransport(r)}else this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(function(e){return t._onClose("transport close",e)}))}},{key:"onOpen",value:function(){this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}},{key:"_onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":var t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}},{key:"_resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this._pingTimeoutTimer);var t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((function(){e._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}},{key:"_onDrain",value:function(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"_getWritablePackets",value:function(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"===typeof(e=r)?function(e){for(var t=0,n=0,r=0,a=e.length;r<a;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"_hasPingExpired",value:function(){var e=this;if(!this._pingTimeoutTime)return!0;var t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,oe((function(){e._onClose("ping timeout")}),this.setTimeoutFn)),t}},{key:"write",value:function(e,t,n){return this._sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this._sendPacket("message",e,t,n),this}},{key:"_sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e._onClose("forced close"),e.transport.close()},n=function(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"_onError",value:function(e){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}},{key:"_onClose",value:function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Le&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){var n=Re.indexOf(this._offlineEventListener);-1!==n&&Re.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}])}(ie.Emitter);Pe.protocol=4;var Ne=function(e){function t(){var e;return(0,E.default)(this,t),(e=(0,L.default)(this,t,arguments))._upgrades=[],e}return(0,R.default)(t,e),(0,k.default)(t,[{key:"onOpen",value:function(){if((0,_.A)(t,"onOpen",this,3)([]),"open"===this.readyState&&this.opts.upgrade)for(var e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}},{key:"_probe",value:function(e){var t=this,n=this.createTransport(e),r=!1;Pe.priorWebsocketSuccess=!1;var a=function(){r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(e){if(!r)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",n),!n)return;Pe.priorWebsocketSuccess="websocket"===n.name,t.transport.pause((function(){r||"closed"!==t.readyState&&(u(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emitReserved("upgrade",n),n=null,t.upgrading=!1,t.flush())}))}else{var a=new Error("probe error");a.transport=n.name,t.emitReserved("upgradeError",a)}})))};function i(){r||(r=!0,u(),n.close(),n=null)}var o=function(e){var r=new Error("probe error: "+e);r.transport=n.name,i(),t.emitReserved("upgradeError",r)};function l(){o("transport closed")}function s(){o("socket closed")}function c(e){n&&e.name!==n.name&&i()}var u=function(){n.removeListener("open",a),n.removeListener("error",o),n.removeListener("close",l),t.off("close",s),t.off("upgrading",c)};n.once("open",a),n.once("error",o),n.once("close",l),this.once("close",s),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((function(){r||n.open()}),200):n.open()}},{key:"onHandshake",value:function(e){this._upgrades=this._filterUpgrades(e.upgrades),(0,_.A)(t,"onHandshake",this,3)([e])}},{key:"_filterUpgrades",value:function(e){for(var t=[],n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}])}(Pe),Fe=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,E.default)(this,t);var r="object"===typeof e?e:n;return(!r.transports||r.transports&&"string"===typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map((function(e){return Te[e]})).filter((function(e){return!!e}))),(0,L.default)(this,t,[e,r])}return(0,R.default)(t,e),(0,k.default)(t)}(Ne);Fe.protocol;var Oe=n(24765),ze="function"===typeof ArrayBuffer,Be=Object.prototype.toString,He="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Be.call(Blob),We="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Be.call(File);function Xe(e){return ze&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||He&&e instanceof Blob||We&&e instanceof File}function Ve(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(Ve(e[n]))return!0;return!1}if(Xe(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Ve(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&Ve(e[a]))return!0;return!1}function Ge(e){var t=[],n=e.data,r=e;return r.data=Ye(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ye(e,t){if(!e)return e;if(Xe(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=Ye(e[a],t);return r}if("object"===typeof e&&!(e instanceof Date)){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=Ye(e[o],t));return i}return e}function Ze(e,t){return e.data=Ke(e.data,t),delete e.attachments,e}function Ke(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=Ke(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ke(e[r],t));return e}var qe,$e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Qe=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(qe||(qe={}));var Je=function(){return(0,k.default)((function e(t){(0,E.default)(this,e),this.replacer=t}),[{key:"encode",value:function(e){return e.type!==qe.EVENT&&e.type!==qe.ACK||!Ve(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===qe.EVENT?qe.BINARY_EVENT:qe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==qe.BINARY_EVENT&&e.type!==qe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=Ge(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}])}();function et(e){return"[object Object]"===Object.prototype.toString.call(e)}var tt=function(e){function t(e){var n;return(0,E.default)(this,t),(n=(0,L.default)(this,t)).reviver=e,n}return(0,R.default)(t,e),(0,k.default)(t,[{key:"add",value:function(e){var n;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var r=(n=this.decodeString(e)).type===qe.BINARY_EVENT;r||n.type===qe.BINARY_ACK?(n.type=r?qe.EVENT:qe.ACK,this.reconstructor=new nt(n),0===n.attachments&&(0,_.A)(t,"emitReserved",this,3)(["decoded",n])):(0,_.A)(t,"emitReserved",this,3)(["decoded",n])}else{if(!Xe(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,(0,_.A)(t,"emitReserved",this,3)(["decoded",n]))}}},{key:"decodeString",value:function(e){var n=0,r={type:Number(e.charAt(0))};if(void 0===qe[r.type])throw new Error("unknown packet type "+r.type);if(r.type===qe.BINARY_EVENT||r.type===qe.BINARY_ACK){for(var a=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var i=e.substring(a,n);if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1)){for(var o=n+1;++n;){if(","===e.charAt(n))break;if(n===e.length)break}r.nsp=e.substring(o,n)}else r.nsp="/";var l=e.charAt(n+1);if(""!==l&&Number(l)==l){for(var s=n+1;++n;){var c=e.charAt(n);if(null==c||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){var u=this.tryParse(e.substr(n));if(!t.isPayloadValid(r.type,u))throw new Error("invalid payload");r.data=u}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case qe.CONNECT:return et(t);case qe.DISCONNECT:return void 0===t;case qe.CONNECT_ERROR:return"string"===typeof t||et(t);case qe.EVENT:case qe.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===$e.indexOf(t[0]));case qe.ACK:case qe.BINARY_ACK:return Array.isArray(t)}}}])}(ie.Emitter),nt=function(){return(0,k.default)((function e(t){(0,E.default)(this,e),this.packet=t,this.buffers=[],this.reconPack=t}),[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=Ze(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}])}();function rt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var at=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),it=function(e){function t(e,n,r){var a;return(0,E.default)(this,t),(a=(0,L.default)(this,t)).connected=!1,a.recovered=!1,a.receiveBuffer=[],a.sendBuffer=[],a._queue=[],a._queueSeq=0,a.ids=0,a.acks={},a.flags={},a.io=e,a.nsp=n,r&&r.auth&&(a.auth=r.auth),a._opts=Object.assign({},r),a.io._autoConnect&&a.open(),a}return(0,R.default)(t,e),(0,k.default)(t,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[rt(e,"open",this.onopen.bind(this)),rt(e,"packet",this.onpacket.bind(this)),rt(e,"error",this.onerror.bind(this)),rt(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){var t,n,r;if(at.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;var l={type:qe.EVENT,data:i,options:{}};if(l.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){var s=this.ids++,c=i.pop();this._registerAckCallback(s,c),l.id=s}var u=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,d=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!u||(d?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n,r=this,a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==a){var i=this.io.setTimeoutFn((function(){delete r.acks[e];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===e&&r.sendBuffer.splice(n,1);t.call(r,new Error("operation has timed out"))}),a),o=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,n)};o.withError=!0,this.acks[e]=o}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return new Promise((function(n,a){var i=function(e,t){return e?a(e):n(t)};i.withError=!0,r.push(i),t.emit.apply(t,[e].concat(r))}))}},{key:"_addToQueue",value:function(e){var t,n=this;"function"===typeof e[e.length-1]&&(t=e.pop());var r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r===n._queue[0]){if(null!==e)r.tryCount>n._opts.retries&&(n._queue.shift(),t&&t(e));else if(n._queue.shift(),t){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];t.apply(void 0,[null].concat(i))}return r.pending=!1,n._drainQueue()}})),this._queue.push(r),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:qe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}},{key:"_clearAcks",value:function(){var e=this;Object.keys(this.acks).forEach((function(t){if(!e.sendBuffer.some((function(e){return String(e.id)===t}))){var n=e.acks[t];delete e.acks[t],n.withError&&n.call(e,new Error("socket has been disconnected"))}}))}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case qe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qe.EVENT:case qe.BINARY_EVENT:this.onevent(e);break;case qe.ACK:case qe.BINARY_ACK:this.onack(e);break;case qe.DISCONNECT:this.ondisconnect();break;case qe.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var n,r=this._anyListeners.slice(),a=(0,Oe.default)(r);try{for(a.s();!(n=a.n()).done;){n.value.apply(this,e)}}catch(yn){a.e(yn)}finally{a.f()}}(0,_.A)(t,"emit",this,1).apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:qe.ACK,id:e,data:a})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:qe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=this._anyOutgoingListeners.slice(),r=(0,Oe.default)(n);try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e.data)}}catch(yn){r.e(yn)}finally{r.f()}}}}])}(ie.Emitter);function ot(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ot.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ot.prototype.reset=function(){this.attempts=0},ot.prototype.setMin=function(e){this.ms=e},ot.prototype.setMax=function(e){this.max=e},ot.prototype.setJitter=function(e){this.jitter=e};var lt=function(e){function t(e,n){var a,i;(0,E.default)(this,t),(a=(0,L.default)(this,t)).nsps={},a.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",a.opts=n,de(a,n),a.reconnection(!1!==n.reconnection),a.reconnectionAttempts(n.reconnectionAttempts||1/0),a.reconnectionDelay(n.reconnectionDelay||1e3),a.reconnectionDelayMax(n.reconnectionDelayMax||5e3),a.randomizationFactor(null!==(i=n.randomizationFactor)&&void 0!==i?i:.5),a.backoff=new ot({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(null==n.timeout?2e4:n.timeout),a._readyState="closed",a.uri=e;var o=n.parser||r;return a.encoder=new o.Encoder,a.decoder=new o.Decoder,a._autoConnect=!1!==n.autoConnect,a._autoConnect&&a.open(),a}return(0,R.default)(t,e),(0,k.default)(t,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Fe(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var a=rt(n,"open",(function(){r.onopen(),e&&e()})),i=function(n){t.cleanup(),t._readyState="closed",t.emitReserved("error",n),e?e(n):t.maybeReconnectOnOpen()},o=rt(n,"error",i);if(!1!==this._timeout){var l=this._timeout,s=this.setTimeoutFn((function(){a(),i(new Error("timeout")),n.close()}),l);this.opts.autoUnref&&s.unref(),this.subs.push((function(){t.clearTimeoutFn(s)}))}return this.subs.push(a),this.subs.push(o),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(rt(e,"ping",this.onping.bind(this)),rt(e,"data",this.ondata.bind(this)),rt(e,"error",this.onerror.bind(this)),rt(e,"close",this.onclose.bind(this)),rt(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;oe((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new it(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){e.clearTimeoutFn(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}])}(ie.Emitter),st={};function ct(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=_e(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),a=r.source,i=r.id,o=r.path,l=st[i]&&o in st[i].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?n=new lt(a,t):(st[i]||(st[i]=new lt(a,t)),n=st[i]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(ct,{Manager:lt,Socket:it,io:ct,connect:ct});var ut,dt=n(89379),ft=n(23134),ht=n.n(ft),pt=n(90287),vt=function(){return(0,k.default)((function e(t){(0,E.default)(this,e),this.server=t.exdrawServer,this.docUuid=t.exdrawUuid,this.accessToken=t.accessToken}),[{key:"getSceneContent",value:function(){var e=this.server,t=this.docUuid,n=this.accessToken,r="".concat(e,"/api/v1/exdraw/").concat(t,"/");return pt.A.get(r,{headers:{Authorization:"Token ".concat(n)}})}},{key:"saveSceneContent",value:function(e){var t=this.server,n=this.docUuid,r=this.accessToken,a="".concat(t,"/api/v1/exdraw/").concat(n,"/"),i=new FormData;return i.append("doc_content",e),pt.A.post(a,i,{headers:{Authorization:"Token ".concat(r)}})}}])}(),Ut=vt,mt=n(97011),gt=n(65604),bt=window.app.pageOptions,yt=bt.repoID,xt=bt.filePath,wt=bt.fileName,Et=gt.Aq.getDirName(xt),kt=new(function(){return(0,k.default)((function e(){(0,E.default)(this,e),this.getFileContent=function(){return mt.e.getFileDownloadLink(yt,xt).then((function(e){var t=e.data;return mt.e.getFileContent(t)}))},this.getExdrawToken=function(){return mt.e.getExdrawToken(yt,xt).then((function(e){return e.data.access_token}))}}),[{key:"saveContent",value:function(e){return mt.e.getUpdateLink(yt,Et).then((function(t){var n=t.data;return mt.e.updateFile(n,xt,wt,e)}))}}])}()),St=window.app.config.avatarURL,Mt=window.app.pageOptions,Ct=Mt.docUuid,It=Mt.excalidrawServerUrl,jt=window.app.userInfo,Tt=new((0,k.default)((function e(){var t=this;(0,E.default)(this,e),this.initSettings=(0,d.default)((0,u.default)().mark((function e(){var n,r;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.docUuid=Ct,t.exdrawServer=It,t.user=(0,dt.default)((0,dt.default)({},jt),{},{_username:jt.username,username:jt.name,avatarUrl:St}),e.next=5,kt.getExdrawToken();case 5:n=e.sent,r=n,t.accessToken=r,t.exdrawApi=new Ut({exdrawUuid:Ct,exdrawServer:It,accessToken:r});case 9:case"end":return e.stop()}}),e)}))),this.getDocUuid=function(){return t.docUuid},this.getSettings=function(){return{docUuid:t.docUuid,exdrawServer:new(ht())(t.exdrawServer).origin,accessToken:t.accessToken,user:t.user}},this.getSceneContent=function(){return t.exdrawApi.getSceneContent()},this.saveSceneContent=function(e){return t.exdrawApi.saveSceneContent(e)},this.docUuid="",this.exdrawServer="",this.user=null,this.accessToken=""}))),At=(0,k.default)((function e(){(0,E.default)(this,e)}));ut=At,At.cache=new Map,At.get=function(e){return ut.cache.get(e)},At.set=function(e,t){var n=(0,f.Ho)(t);ut.cache.set(e,n)};var Dt=function(){var e=(0,d.default)((0,u.default)().mark((function e(){var t;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt.getSceneContent();case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=(0,d.default)((0,u.default)().mark((function e(t){var n;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.saveSceneContent(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Lt=function(e,t){return!e||!t||At.get(e)===(0,f.Ho)(t)},Rt=function(){var e=(0,d.default)((0,u.default)().mark((function e(t,n,r){var a,i,o,l,s,c;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.version,i=n.elements,t&&!Lt(t,i)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,_t(JSON.stringify({version:a,elements:i}));case 5:if((o=e.sent).success){e.next=8;break}return e.abrupt("return",null);case 8:if(At.set(t,i),null,o.updated){e.next=15;break}return s=o.elements,c=Nt((0,f.Mp)(s)),l=Nt((0,f.Wh)(i,c,r)),e.abrupt("return",(0,dt.default)((0,dt.default)({},o),{},{storedElements:l}));case 15:return e.abrupt("return",(0,dt.default)({},o));case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Pt=function(e){return e.isDeleted?e.updated>Date.now()-864e5:!(0,f.J2)(e)},Nt=function(e){return e.filter((function(e){return Pt(e)}))},Ft=function(){var e=null,t=null,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},Ot=n(10255),zt=n.n(Ot),Bt=zt()("excalidraw:state-change");Bt.enabled=!0,Bt.log=console.log;var Ht=zt()("excalidraw:socket-client");Ht.enabled=!0,Ht.log=console.log;var Wt=zt()("excalidraw:socket-server");Wt.enabled=!0,Wt.log=console.log;var Xt=zt()("excalidraw:sdoc-conflict");Xt.enabled=!0,Xt.log=console.log;var Vt=(0,k.default)((function e(t,n){var r=this;(0,E.default)(this,e),this.getParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.settings,n=t.docUuid,a=t.user;return(0,dt.default)({doc_uuid:n,user:a},e)},this.open=function(e){return r.socket=e,r.socket.on("init-room",(function(){r.socket&&(Wt("join-room message"),r.socket.emit("join-room",r.getParams({})))})),r.socket.on("new-user",(0,d.default)((0,u.default)().mark((function e(){var t;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wt("sync with elements to another"),t=r.collab.getSceneElementsIncludingDeleted(),r.broadcastScene(y,t,true);case 4:case"end":return e.stop()}}),e)})))),r.socket.on("room-user-change",(function(e){Wt("room users changed. all users count: %s",e.length),r.collab.receiveRoomUserChanged(e)})),r.socket.on("leave-room",(function(e){Wt("%s leaved room success.",e.name),r.collab.receiveLeaveRoom(e)})),e},this._broadcastSocketData=function(e){var t=r.getParams(e);r.socket.emit("server-broadcast",t)},this.broadcastScene=function(){var e=(0,d.default)((0,u.default)().mark((function e(t,n,a){var i,o;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.reduce((function(e,t){var n=!r.broadcastedElementVersions.has(t.id)||t.version>r.broadcastedElementVersions.get(t.id);return(a||n&&Pt(t))&&e.push(t),e}),[]),o={elements:i},r._broadcastSocketData({type:t,payload:o});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.broadcastMouseLocation=function(e){var t=w;r._broadcastSocketData((0,dt.default)({type:t},e))},this.close=function(){r.socket&&(r.socket.close(),r.socket=null,r.socketInitialized=!1,r.broadcastedElementVersions=new Map)},this.isOpen=function(){return!(!r.socketInitialized||!r.socket)},this.collab=t,this.settings=n,this.socket=null,this.socketInitialized=!1,this.broadcastedElementVersions=new Map})),Gt=Vt,Yt=["user"],Zt=(0,k.default)((function e(t,n){var r=this;(0,E.default)(this,e),this.setDocument=function(e){r.document=e},this.getDocumentVersion=function(){return r.document.version},this.updateDocumentVersion=function(e){r.document.version=e},this.getLastBroadcastedOrReceivedSceneVersion=function(){return r.lastBroadcastedOrReceivedSceneVersion},this.getSceneElementsIncludingDeleted=function(){return r.excalidrawAPI.getSceneElementsIncludingDeleted()},this.setLastBroadcastedOrReceivedSceneVersion=function(e){r.lastBroadcastedOrReceivedSceneVersion=e},this.initializeRoom=function(){var e=(0,d.default)((0,u.default)().mark((function e(t){var n,a,i;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(r.socketInitializationTimer),r.portal.socket&&r.fallbackInitializationHandler&&r.portal.socket.off("connect_error",r.fallbackInitializationHandler),!t||!r.portal.socket){e.next=24;break}return r.excalidrawAPI.resetScene(),e.prev=4,e.next=7,Dt();case 7:if(n=e.sent,!(a=n.elements)){e.next=14;break}return i=(0,f.Ho)(a),r.setLastBroadcastedOrReceivedSceneVersion(i),r.setDocument(n),e.abrupt("return",{elements:a,scrollToContent:!0});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:return e.prev=19,r.portal.socketInitialized=!0,e.finish(19);case 22:e.next=25;break;case 24:r.portal.socketInitialized=!0;case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[4,16,19,22]])})));return function(t){return e.apply(this,arguments)}}(),this.startCollaboration=(0,d.default)((0,u.default)().mark((function e(){var t,n,a,i;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.portal.socket){e.next=2;break}return e.abrupt("return");case 2:t=Ft(),n=function(){r.initializeRoom(!0).then((function(e){t.resolve(e)}))},r.fallbackInitializationHandler=n,a=r.config,e.prev=6,i=ct("".concat(a.exdrawServer,"/exdraw"),{auth:{token:a.accessToken},query:{sdoc_uuid:a.docUuid}}),r.portal.socket=r.portal.open(i),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",null);case 15:return r.socketInitializationTimer=window.setTimeout(n,5e3),r.portal.socket.on("first-in-room",(0,d.default)((0,u.default)().mark((function e(){var n;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.portal.socket&&(Wt("first in room message"),r.portal.socket.off("first-in-room")),e.next=3,r.initializeRoom(!0);case 3:n=e.sent,t.resolve(n);case 5:case"end":return e.stop()}}),e)})))),r.portal.socket.on("client-broadcast",(function(e){var n=e.type,a=e.payload;switch(n){case y:if(!r.portal.socketInitialized){Wt("sync with elements from another, %O",a),r.initializeRoom({fetchScene:!1}),r.handleRemoteSceneUpdate(a),r.setDocument(a);var i=a.elements;t.resolve({elements:i,scrollToContent:!0})}break;case x:Wt("sync elements by another updated, %O",a),r.handleRemoteSceneUpdate(a);break;case w:Wt("sync another's mouse location"),r.handleRemoteMouseLocation(e);break;default:console.log("never execute to here")}})),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[6,11]])}))),this.stopCollaboration=function(){r.queueBroadcastAllElements.cancel(),r.queueSaveToServerStorage.cancel();var e=Nt(r.excalidrawAPI.getSceneElementsIncludingDeleted());r.saveCollabRoomToServerStorage(e),r.portal.socket&&r.fallbackInitializationHandler&&r.portal.socket.off("connect_error",r.fallbackInitializationHandler),r.destroySocketClient()},this.syncElements=function(e){r.broadcastElements(e),r.queueSaveToServerStorage()},this.broadcastElements=function(e){(0,f.Ho)(e)>r.getLastBroadcastedOrReceivedSceneVersion()&&(r.portal.broadcastScene(x,e,!1),r.lastBroadcastedOrReceivedSceneVersion=(0,f.Ho)(e),r.queueBroadcastAllElements())},this.queueBroadcastAllElements=D()((function(){var e=r.excalidrawAPI.getSceneElementsIncludingDeleted();r.portal.broadcastScene(x,e,!0);var t=r.getLastBroadcastedOrReceivedSceneVersion(),n=Math.max(t,(0,f.Ho)(e));r.setLastBroadcastedOrReceivedSceneVersion(n)}),2e4),this.queueSaveToServerStorage=D()((function(){var e=Nt(r.excalidrawAPI.getSceneElementsIncludingDeleted());r.saveCollabRoomToServerStorage(e)}),2e4,{leading:!1}),this.saveCollabRoomToServerStorage=function(){var e=(0,d.default)((0,u.default)().mark((function e(t){var n,a,i,o;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getDocumentVersion(),a={version:n,elements:t},i=r.portal.socket,e.next=5,Rt(i.id,a,r.excalidrawAPI.getAppState());case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return");case 8:o.storedElements&&r.excalidrawAPI.updateScene({elements:o.storedElements}),r.updateDocumentVersion(o.version);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleRemoteSceneUpdate=function(e){var t=e.elements,n=r.getSceneElementsIncludingDeleted(),a=r.excalidrawAPI.getAppState(),i=(0,f.Mp)(t,null),o=(0,f.Wh)(n,i,a);r.setLastBroadcastedOrReceivedSceneVersion((0,f.Ho)(o)),r.excalidrawAPI.updateScene({elements:o,captureUpdate:f.y5.NEVER})},this.syncPointer=D()((function(e){if(e.pointersMap.size<2){var t=e.pointer,n=e.button;r.portal.broadcastMouseLocation({pointer:t,button:n})}}),33),this.handleRemoteMouseLocation=function(e){var t=new Map(r.collaborators),n=e.user,a=(0,T.default)(e,Yt);if(t.get(n._username)){var i=Object.assign({},t.get(n._username),a);t.set(i._username,i),r.collaborators=t,r.excalidrawAPI.updateScene({collaborators:t})}},this.receiveRoomUserChanged=function(e){var t=new Map(r.collaborators);e&&Array.isArray(e)&&(e.forEach((function(e){t.get(e._username)||t.set(e._username,e)})),r.collaborators=t,setTimeout((function(){r.excalidrawAPI.updateScene({collaborators:t})}),100))},this.receiveLeaveRoom=function(e){var t=new Map(r.collaborators);t.get(e._username)&&(t.delete(e._username),r.collaborators=t,r.excalidrawAPI.updateScene({collaborators:t}))},this.destroySocketClient=function(){r.lastBroadcastedOrReceivedSceneVersion=-1,r.portal.close()},this.excalidrawAPI=t,this.config=n,this.document=null,this.collaborators=new Map;var a=n.user;this.collaborators.set(a._username,a,{isCurrentUser:!0}),this.excalidrawAPI.updateScene({collaborators:this.collaborators}),this.lastBroadcastedOrReceivedSceneVersion=0,this.portal=new Gt(this,n)})),Kt=Zt,qt="#1e1e1e",$t="transparent",Qt="solid",Jt=2,en="solid",tn=1,nn=100,rn=!1,an={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemArrowType:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},currentHoveredFontFamily:{browser:!1,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},newElement:{browser:!1,export:!1,server:!1},editingTextElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},gridStep:{browser:!0,export:!0,server:!0},gridModeEnabled:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},hoveredElementIds:{browser:!1,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},stats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1},userToFollow:{browser:!1,export:!1,server:!1},followedBy:{browser:!1,export:!1,server:!1},isCropping:{browser:!1,export:!1,server:!1},croppingElementId:{browser:!1,export:!1,server:!1},searchMatches:{browser:!1,export:!1,server:!1}},on=function(e){return function(e,t){for(var n={},r=0,a=Object.keys(e);r<a.length;r++){var i=a[r],o=an[i];if(null===o||void 0===o?void 0:o[t]){var l=e[i];n[i]=l}}return n}(e,"browser")},ln=n(64467),sn=(0,ln.default)((0,ln.default)({},m,-1),g,-1),cn=function(e,t,n){try{var r,a=on(n);(null===(r=a.openSidebar)||void 0===r?void 0:r.name)===b&&"search"===a.openSidebar.tab&&(a.openSidebar=null);var i="".concat(p,"_").concat(e),o="".concat(v,"_").concat(e);localStorage.setItem(i,JSON.stringify(t)),localStorage.setItem(o,JSON.stringify(a)),function(e){var t=Date.now();try{localStorage.setItem(e,JSON.stringify(t)),sn[e]=t}catch(n){console.error("error while updating browser state version",n)}}(m)}catch(l){console.error(l)}},un=(0,gt.sg)((function(e,t,n){cn(e,t,n)}),300),dn=function(e){var t=null,n=null,r="".concat(p,"_").concat(e),a="".concat(v,"_").concat(e);try{t=localStorage.getItem(r),n=localStorage.getItem(a)}catch(l){console.error(l)}var i=[];if(t)try{i=JSON.parse(t)}catch(l){console.error(l)}var o=null;if(n)try{o=Object.assign(Object.assign({},{showWelcomeScreen:!1,theme:"light",collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:$t,currentItemEndArrowhead:"arrow",currentItemFillStyle:Qt,currentItemFontFamily:5,currentItemFontSize:20,currentItemOpacity:nn,currentItemRoughness:tn,currentItemStartArrowhead:null,currentItemStrokeColor:qt,currentItemRoundness:"round",currentItemArrowType:"round",currentItemStrokeStyle:en,currentItemStrokeWidth:Jt,currentItemTextAlign:"left",currentHoveredFontFamily:null,cursorButton:"up",activeEmbeddable:null,newElement:null,editingTextElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:rn,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:1,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:20,gridStep:5,gridModeEnabled:!1,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:null,contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},hoveredElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,stats:{open:!1,panels:3},startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:"#ffffff",zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1,userToFollow:null,followedBy:new Set,isCropping:!1,croppingElementId:null,searchMatches:[]}),on(JSON.parse(n)))}catch(l){console.error(l)}return{elements:i,appState:o}},fn=(n(78267),n(44414)),hn=window.app.pageOptions.docUuid;window.name="".concat(hn);var pn={canvasActions:{saveToActiveFile:!1,LoadScene:!1},tools:{image:!1}},vn=function(){var e=(0,d.default)((0,u.default)().mark((function e(t){var n,r,a,i,o,l,s;return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Tt.getDocUuid(),r=dn(n),a=null,!t){e.next=13;break}return e.next=6,t.startCollaboration();case 6:i=e.sent,o=i.elements,l=(0,f.Mp)(o,null),s=(0,f.Wh)(r.elements,l,r.appState),a={elements:s,appState:r.appState},e.next=14;break;case 13:a=(0,f.PF)(r||null,null,null,{repairBindings:!0});case 14:return e.abrupt("return",{screen:a});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=(0,o.useRef)(null),t=(0,o.useRef)({promise:null});t.current.promise||(t.current.promise=Ft());var n=(0,o.useState)(null),r=(0,c.default)(n,2),a=r[0],i=r[1];(0,f.jL)({excalidrawAPI:a,adapter:j}),(0,o.useEffect)((function(){a&&Tt.initSettings().then((function(){var n=Tt.getSettings(),r=new Kt(a,n);e.current=r,vn(r).then(function(){var e=(0,d.default)((0,u.default)().mark((function e(n){return(0,u.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.current.promise.resolve(n.screen);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}),[a]);var l=(0,o.useCallback)((function(t,n,r){if(e.current){e.current.syncElements(t);var a=Tt.getDocUuid();un(a,t,n)}}),[]),s=(0,o.useCallback)((function(t){e.current&&e.current.syncPointer(t)}),[]);return(0,fn.jsx)("div",{className:"excali-container",style:{height:"100%",width:"100%"},children:(0,fn.jsx)(f.Td,{initialData:t.current.promise,excalidrawAPI:function(e){return i(e)},onChange:l,onPointerUpdate:s,UIOptions:pn,langCode:h[window.app.config.lang]||"en",children:(0,fn.jsxs)(f.zU,{children:[(0,fn.jsx)(f.zU.DefaultItems.Export,{}),(0,fn.jsx)(f.zU.DefaultItems.SaveAsImage,{}),(0,fn.jsx)(f.zU.DefaultItems.Help,{}),(0,fn.jsx)(f.zU.DefaultItems.ClearCanvas,{}),(0,fn.jsx)(f.zU.DefaultItems.ToggleTheme,{}),(0,fn.jsx)(f.zU.DefaultItems.ChangeCanvasBackground,{})]})})})},mn=function(){return(0,o.useEffect)((function(){!function(){var e=window.app.pageOptions.docName,t=gt.Aq.getFileIconUrl(e);document.getElementById("favicon").href=t}()}),[]),(0,fn.jsx)("div",{className:"file-view-content flex-1 p-0 border-0",children:(0,fn.jsx)(Un,{})})},gn=n(44591),bn=function(){return(0,fn.jsx)(gn.A,{content:(0,fn.jsx)(mn,{}),isOnlyofficeFile:!0})};(0,l.createRoot)(document.getElementById("wrapper")).render((0,fn.jsx)(o.Suspense,{fallback:(0,fn.jsx)(s.A,{}),children:(0,fn.jsx)(bn,{})}))},83144:function(e,t){"use strict";t.J=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,a=/&(newline|tab);/gi,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,l=[".","/"];t.J=function(e){var t,s=(t=e||"",t.replace(r,(function(e,t){return String.fromCharCode(t)}))).replace(a,"").replace(i,"").trim();if(!s)return"about:blank";if(function(e){return l.indexOf(e[0])>-1}(s))return s;var c=s.match(o);if(!c)return s;var u=c[0];return n.test(u)?"about:blank":s}},28159:function(e,t,n){"use strict";n.r(t),n.d(t,{hideOthers:function(){return u},inertOthers:function(){return d},supportsInert:function(){return f},suppressOthers:function(){return h}});var r=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},a=new WeakMap,i=new WeakMap,o={},l=0,s=function(e){return e&&(e.host||s(e.parentNode))},c=function(e,t,n,r){var c=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=s(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);o[n]||(o[n]=new WeakMap);var u=o[n],d=[],f=new Set,h=new Set(c),p=function(e){e&&!f.has(e)&&(f.add(e),p(e.parentNode))};c.forEach(p);var v=function(e){e&&!h.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(f.has(e))v(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,l=(a.get(e)||0)+1,s=(u.get(e)||0)+1;a.set(e,l),u.set(e,s),d.push(e),1===l&&o&&i.set(e,!0),1===s&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(c){console.error("aria-hidden: cannot operate on ",e,c)}}))};return v(t),f.clear(),l++,function(){d.forEach((function(e){var t=a.get(e)-1,o=u.get(e)-1;a.set(e,t),u.set(e,o),t||(i.has(e)||e.removeAttribute(r),i.delete(e)),o||e.removeAttribute(n)})),--l||(a=new WeakMap,a=new WeakMap,i=new WeakMap,o={})}},u=function(e,t,n){void 0===n&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=t||r(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),c(a,i,n,"aria-hidden")):function(){return null}},d=function(e,t,n){void 0===n&&(n="data-inert-ed");var a=t||r(e);return a?c(e,a,n,"inert"):function(){return null}},f=function(){return"undefined"!==typeof HTMLElement&&HTMLElement.prototype.hasOwnProperty("inert")},h=function(e,t,n){return void 0===n&&(n="data-suppressed"),(f()?d:u)(e,t,n)}},2803:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"===typeof e||"number"===typeof e)a+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.d(t,{A:function(){return a}})},3656:function(e,t,n){var r,a=n(93325).hp;r=function(e){e.version="0.3.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}(),n="undefined"!==typeof a;function r(e){for(var n=-1,r=0,a=e.length-7;r<a;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])])>>>8^t[255&(n^e[r++])];for(;r<a+7;)n=n>>>8^t[255&(n^e[r++])];return~n}e.table=t,e.bstr=function(e){if(e.length>32768&&n)return r(new a(e));for(var i=-1,o=e.length-1,l=0;l<o;)i=t[255&(i^e.charCodeAt(l++))]^i>>>8,i=t[255&(i^e.charCodeAt(l++))]^i>>>8;return l===o&&(i=i>>>8^t[255&(i^e.charCodeAt(l))]),~i},e.buf=function(e){if(e.length>1e4)return r(e);for(var n=-1,a=0,i=e.length-3;a<i;)n=(n=(n=(n=n>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])])>>>8^t[255&(n^e[a++])];for(;a<i+3;)n=n>>>8^t[255&(n^e[a++])];return~n},e.str=function(e){for(var n,r,a=-1,i=0,o=e.length;i<o;)(n=e.charCodeAt(i++))<128?a=a>>>8^t[255&(a^n)]:n<2048?a=(a=a>>>8^t[255&(a^(192|n>>6&31))])>>>8^t[255&(a^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&e.charCodeAt(i++),a=(a=(a=(a=a>>>8^t[255&(a^(240|n>>8&7))])>>>8^t[255&(a^(128|n>>2&63))])>>>8^t[255&(a^(128|r>>6&15|3&n))])>>>8^t[255&(a^(128|63&r))]):a=(a=(a=a>>>8^t[255&(a^(224|n>>12&15))])>>>8^t[255&(a^(128|n>>6&63))])>>>8^t[255&(a^(128|63&n))];return~a}},"undefined"===typeof DO_NOT_EXPORT_CRC?r(t):r({})},76277:function(e,t){var n,r,a;r=[],void 0===(a="function"===typeof(n=function(){"use strict";var e=function(){this._listeners={}};e.prototype.addEventListener=function(e,t){this._listeners[e]=this._listeners[e]||[],this._listeners[e].indexOf(t)<0&&this._listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);n>=0&&this._listeners[e].splice(n,1)}},e.prototype.dispatchEvent=function(e){if(this._listeners[e.type]&&this._listeners[e.type].length)for(var t=this._listeners[e.type].slice(),n=0,r=t.length;n<r;++n)t[n].call(this,e)};var t=function(e){return"function"===typeof e.constructor&&"GeneratorFunction"===e.constructor.name},n=function(e){return{next:function(){var t=e();return t?{value:t}:{done:!0}}}},r=function(e){var t=!1;return{next:function(){return t?{done:!0}:(t=!0,{value:e})}}},a=function(e,a){var i=typeof e;if("object"===i){if("function"===typeof e.next)return e;if("function"===typeof e.then)return r(e)}return"function"===i?t(e)?e():n(e):r(a.resolve(e))},i=function(e,t,n){this.target=e,this.type=t,this.data=n},o=function(t,n,r){if(e.call(this),"number"!==typeof n||Math.floor(n)!==n||n<1)throw new Error("Invalid concurrency");this._concurrency=n,this._options=r||{},this._options.promise=this._options.promise||Promise,this._iterator=a(t,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return o.prototype=new e,o.prototype.constructor=o,o.prototype.concurrency=function(e){return"undefined"!==typeof e&&(this._concurrency=e,this.active()&&this._proceed()),this._concurrency},o.prototype.size=function(){return this._size},o.prototype.active=function(){return!!this._promise},o.prototype.promise=function(){return this._promise},o.prototype.start=function(){var e=this,t=this._options.promise;return this._promise=new t((function(t,n){e._callbacks={reject:n,resolve:t},e._proceed()})),this._promise},o.prototype._fireEvent=function(e,t){this.dispatchEvent(new i(this,e,t))},o.prototype._settle=function(e){e?this._callbacks.reject(e):this._callbacks.resolve(),this._promise=null,this._callbacks=null},o.prototype._onPooledPromiseFulfilled=function(e,t){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:e,result:t}),this._proceed())},o.prototype._onPooledPromiseRejected=function(e,t){this._size--,this.active()&&(this._fireEvent("rejected",{promise:e,error:t}),this._settle(t||new Error("Unknown error")))},o.prototype._trackPromise=function(e){var t=this;e.then((function(n){t._onPooledPromiseFulfilled(e,n)}),(function(n){t._onPooledPromiseRejected(e,n)})).catch((function(e){t._settle(new Error("Promise processing failed: "+e))}))},o.prototype._proceed=function(){if(!this._done){for(var e={done:!1};this._size<this._concurrency&&!(e=this._iterator.next()).done;)this._size++,this._trackPromise(e.value);this._done=null===e||!!e.done}this._done&&0===this._size&&this._settle()},o.PromisePoolEvent=i,o.PromisePool=o,o})?n.apply(t,r):n)||(e.exports=a)},19469:function(e){!function(){var t={};e.exports=t,t.simpleFilter=function(e,n){return n.filter((function(n){return t.test(e,n)}))},t.test=function(e,n){return null!==t.match(e,n)},t.match=function(e,t,n){n=n||{};var r,a=0,i=[],o=t.length,l=0,s=0,c=n.pre||"",u=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<o;f++)r=t[f],d[f]===e[a]?(r=c+r+u,a+=1,s+=1+s):s=0,l+=s,i[i.length]=r;return a===e.length?(l=d===e?1/0:l,{rendered:i.join(""),score:l}):null},t.filter=function(e,n,r){return n&&0!==n.length?"string"!==typeof e?n:(r=r||{},n.reduce((function(n,a,i,o){var l=a;r.extract&&(l=r.extract(a));var s=t.match(e,l,r);return null!=s&&(n[n.length]={string:s.rendered,score:s.score,index:i,original:a}),n}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}}()},64267:function(e,t,n){var r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")(),d=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return u.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||o.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r,a,i,o,l,s,c=0,u=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,i=a;return r=a=void 0,c=t,o=e.apply(i,n)}function b(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-c>=i}function y(){var e=p();if(b(e))return x(e);l=setTimeout(y,function(e){var n=t-(e-s);return d?h(n,i-(e-c)):n}(e))}function x(e){return l=void 0,m&&r?g(e):(r=a=void 0,o)}function w(){var e=p(),n=b(e);if(r=arguments,a=this,s=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(y,t),u?g(e):o}(s);if(d)return l=setTimeout(y,t),g(s)}return void 0===l&&(l=setTimeout(y,t)),o}return t=U(t)||0,v(n)&&(u=!!n.leading,i=(d="maxWait"in n)?f(U(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=a=l=void 0},w.flush=function(){return void 0===l?o:x(p())},w}},52534:function(e){e.exports=function(e){e.data&&e.name&&(e=e.data);for(var t=!0,n="",r="",a=0;a<e.length;a++){var i=e[a];if(t)i?r+=String.fromCharCode(i):t=!1;else{if(!i)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");n+=String.fromCharCode(i)}}return{keyword:r,text:n}}},12346:function(e){e.exports=function(e,t){if(e=String(e),t=String(t),!/^[\x00-\xFF]+$/.test(e)||!/^[\x00-\xFF]+$/.test(t))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(e.length>=80)throw new Error('Keyword "'+e+'" is longer than the 79-character limit imposed by the PNG specification');for(var n,r=e.length+t.length+1,a=new Uint8Array(r),i=0,o=0;o<e.length;o++){if(!(n=e.charCodeAt(o)))throw new Error("0x00 character is not permitted in tEXt keywords");a[i++]=n}a[i++]=0;for(var l=0;l<t.length;l++){if(!(n=t.charCodeAt(l)))throw new Error("0x00 character is not permitted in tEXt content");a[i++]=n}return{name:"tEXt",data:a}}},12362:function(e,t,n){t.encode=n(12346),t.decode=n(52534)},5424:function(e,t,n){var r=n(56585),a=n(3656);e.exports=function(e){var t,n=8,s=n;for(t=0;t<e.length;t++)n+=e[t].data.length,n+=12;var c=new Uint8Array(n);for(c[0]=137,c[1]=80,c[2]=78,c[3]=71,c[4]=13,c[5]=10,c[6]=26,c[7]=10,t=0;t<e.length;t++){var u=e[t],d=u.name,f=u.data,h=f.length,p=[d.charCodeAt(0),d.charCodeAt(1),d.charCodeAt(2),d.charCodeAt(3)];l[0]=h,c[s++]=i[3],c[s++]=i[2],c[s++]=i[1],c[s++]=i[0],c[s++]=p[0],c[s++]=p[1],c[s++]=p[2],c[s++]=p[3];for(var v=0;v<h;)c[s++]=f[v++];var U=p.concat(r(f)),m=a.buf(U);o[0]=m,c[s++]=i[3],c[s++]=i[2],c[s++]=i[1],c[s++]=i[0]}return c};var i=new Uint8Array(4),o=new Int32Array(i.buffer),l=new Uint32Array(i.buffer)},41619:function(e,t,n){var r=n(3656);e.exports=function(e){if(137!==e[0])throw new Error("Invalid .png file header");if(80!==e[1])throw new Error("Invalid .png file header");if(78!==e[2])throw new Error("Invalid .png file header");if(71!==e[3])throw new Error("Invalid .png file header");if(13!==e[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==e[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==e[6])throw new Error("Invalid .png file header");if(10!==e[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");var t=!1,n=[],l=8;for(;l<e.length;){a[3]=e[l++],a[2]=e[l++],a[1]=e[l++],a[0]=e[l++];var s=o[0]+4,c=new Uint8Array(s);c[0]=e[l++],c[1]=e[l++],c[2]=e[l++],c[3]=e[l++];var u=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]);if(!n.length&&"IHDR"!==u)throw new Error("IHDR header missing");if("IEND"===u){t=!0,n.push({name:u,data:new Uint8Array(0)});break}for(var d=4;d<s;d++)c[d]=e[l++];a[3]=e[l++],a[2]=e[l++],a[1]=e[l++],a[0]=e[l++];var f=i[0];if(r.buf(c)!==f)throw new Error("CRC values for "+u+" header do not match, PNG file is likely corrupted");var h=new Uint8Array(c.buffer.slice(4));n.push({name:u,data:h})}if(!t)throw new Error(".png file ended prematurely: no IEND header was found");return n};var a=new Uint8Array(4),i=new Int32Array(a.buffer),o=new Uint32Array(a.buffer)},86325:function(e,t,n){"use strict";n.d(t,{A:function(){return Z}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;function i(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(9950),l="right-scroll-bar-position",s="width-before-scroll-bar";function c(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var u="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,d=new WeakMap;function f(e,t){var n=function(e,t){var n=(0,o.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return c(e,t)}))}));return u((function(){var t=d.get(n);if(t){var r=new Set(t),a=new Set(e),i=n.current;r.forEach((function(e){a.has(e)||c(e,null)})),a.forEach((function(e){r.has(e)||c(e,i)}))}d.set(n,e)}),[e]),n}function h(e){return e}function p(e,t){void 0===t&&(t=h);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var a=t(e,r);return n.push(a),function(){n=n.filter((function(e){return e!==a}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var a=n;n=[],a.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(i)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}var v=function(e){void 0===e&&(e={});var t=p(null);return t.options=r({async:!0,ssr:!1},e),t}(),U=function(){},m=o.forwardRef((function(e,t){var n=o.useRef(null),i=o.useState({onScrollCapture:U,onWheelCapture:U,onTouchMoveCapture:U}),l=i[0],s=i[1],c=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,b=e.noIsolation,y=e.inert,x=e.allowPinchZoom,w=e.as,E=void 0===w?"div":w,k=e.gapMode,S=a(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=g,C=f([n,t]),I=r(r({},S),l);return o.createElement(o.Fragment,null,p&&o.createElement(M,{sideCar:v,removeScrollBar:h,shards:m,noIsolation:b,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:k}),c?o.cloneElement(o.Children.only(u),r(r({},I),{ref:C})):o.createElement(E,r({},I,{className:d,ref:C}),u))}));m.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},m.classNames={fullWidth:s,zeroRight:l};var g,b=function(e){var t=e.sideCar,n=a(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return o.createElement(i,r({},n))};b.isSideCarExport=!0;function y(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=g||n.nc;return t&&e.setAttribute("nonce",t),e}var x=function(){var e=0,t=null;return{add:function(n){var r,a;0==e&&(t=y())&&(a=n,(r=t).styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},w=function(){var e=function(){var e=x();return function(t,n){o.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},E={left:0,top:0,right:0,gap:0},k=function(e){return parseInt(e||"",10)||0},S=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return E;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[k(n),k(r),k(a)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},M=w(),C="data-scroll-locked",I=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,c=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(c,"px ").concat(r,";\n  }\n  body[").concat(C,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(l," {\n    right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(s," {\n    margin-right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(l," .").concat(l," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(s," .").concat(s," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(C,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},j=function(){var e=parseInt(document.body.getAttribute(C)||"0",10);return isFinite(e)?e:0},T=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;o.useEffect((function(){return document.body.setAttribute(C,(j()+1).toString()),function(){var e=j()-1;e<=0?document.body.removeAttribute(C):document.body.setAttribute(C,e.toString())}}),[]);var i=o.useMemo((function(){return S(a)}),[a]);return o.createElement(M,{styles:I(i,!t,a,n?"":"!important")})},A=!1;if("undefined"!==typeof window)try{var D=Object.defineProperty({},"passive",{get:function(){return A=!0,!0}});window.addEventListener("test",D,D),window.removeEventListener("test",D,D)}catch(K){A=!1}var _=!!A&&{passive:!1},L=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},R=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),P(e,r)){var a=N(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},P=function(e,t){return"v"===e?function(e){return L(e,"overflowY")}(t):function(e){return L(e,"overflowX")}(t)},N=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},F=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},O=function(e){return[e.deltaX,e.deltaY]},z=function(e){return e&&"current"in e?e.current:e},B=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},H=0,W=[];function X(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var V,G=(V=function(e){var t=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),a=o.useState(H++)[0],l=o.useState(w)[0],s=o.useRef(e);o.useEffect((function(){s.current=e}),[e]),o.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=i([e.lockRef.current],(e.shards||[]).map(z),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(a))}))}}}),[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var a,i=F(e),o=n.current,l="deltaX"in e?e.deltaX:o[0]-i[0],c="deltaY"in e?e.deltaY:o[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=R(d,u);if(!f)return!0;if(f?a=d:(a="v"===d?"h":"v",f=R(d,u)),!f)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=a),!a)return!0;var h=r.current||a;return function(e,t,n,r,a){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,s=t.contains(l),c=!1,u=o>0,d=0,f=0;do{var h=N(e,l),p=h[0],v=h[1]-h[2]-i*p;(p||v)&&P(e,l)&&(d+=v,f+=p),l=l instanceof ShadowRoot?l.host:l.parentNode}while(!s&&l!==document.body||s&&(t.contains(l)||t===l));return(u&&(a&&Math.abs(d)<1||!a&&o>d)||!u&&(a&&Math.abs(f)<1||!a&&-o>f))&&(c=!0),c}(h,t,e,"h"===h?l:c,!0)}),[]),u=o.useCallback((function(e){var n=e;if(W.length&&W[W.length-1]===l){var r="deltaY"in n?O(n):F(n),a=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,a=r,t[0]===a[0]&&t[1]===a[1]);var t,a}))[0];if(a&&a.should)n.cancelable&&n.preventDefault();else if(!a){var i=(s.current.shards||[]).map(z).filter(Boolean).filter((function(e){return e.contains(n.target)}));(i.length>0?c(n,i[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),d=o.useCallback((function(e,n,r,a){var i={name:e,delta:n,target:r,should:a,shadowParent:X(r)};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),f=o.useCallback((function(e){n.current=F(e),r.current=void 0}),[]),h=o.useCallback((function(t){d(t.type,O(t),t.target,c(t,e.lockRef.current))}),[]),p=o.useCallback((function(t){d(t.type,F(t),t.target,c(t,e.lockRef.current))}),[]);o.useEffect((function(){return W.push(l),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,_),document.addEventListener("touchmove",u,_),document.addEventListener("touchstart",f,_),function(){W=W.filter((function(e){return e!==l})),document.removeEventListener("wheel",u,_),document.removeEventListener("touchmove",u,_),document.removeEventListener("touchstart",f,_)}}),[]);var v=e.removeScrollBar,U=e.inert;return o.createElement(o.Fragment,null,U?o.createElement(l,{styles:B(a)}):null,v?o.createElement(T,{gapMode:e.gapMode}):null)},v.useMedium(V),b),Y=o.forwardRef((function(e,t){return o.createElement(m,r({},e,{ref:t,sideCar:G}))}));Y.classNames=m.classNames;var Z=Y},57456:function(e,t,n){"use strict";n.d(t,{f:function(){return de}});var r=n(24765),a=n(23029),i=n(92901),o=n(5544),l=n(60436);function s(e,t,n){if(e&&e.length){var a,i=(0,o.default)(t,2),l=i[0],s=i[1],c=Math.PI/180*n,u=Math.cos(c),d=Math.sin(c),f=(0,r.default)(e);try{for(f.s();!(a=f.n()).done;){var h=a.value,p=(0,o.default)(h,2),v=p[0],U=p[1];h[0]=(v-l)*u-(U-s)*d+l,h[1]=(v-l)*d+(U-s)*u+s}}catch(m){f.e(m)}finally{f.f()}}}function c(e,t){return e[0]===t[0]&&e[1]===t[1]}function u(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=n,o=Math.max(t,.1),u=e[0]&&e[0][0]&&"number"===typeof e[0][0]?[e]:e,d=[0,0];if(i){var f,h=(0,r.default)(u);try{for(h.s();!(f=h.n()).done;){s(f.value,d,i)}}catch(m){h.e(m)}finally{h.f()}}var p=function(e,t,n){var a,i=[],o=(0,r.default)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=(0,l.default)(s);c(u[0],u[u.length-1])||u.push([u[0][0],u[0][1]]),u.length>2&&i.push(u)}}catch(m){o.e(m)}finally{o.f()}var d=[];t=Math.max(t,.1);for(var f=[],h=0,p=i;h<p.length;h++)for(var v=p[h],U=0;U<v.length-1;U++){var g=v[U],b=v[U+1];if(g[1]!==b[1]){var y=Math.min(g[1],b[1]);f.push({ymin:y,ymax:Math.max(g[1],b[1]),x:y===g[1]?g[0]:b[0],islope:(b[0]-g[0])/(b[1]-g[1])})}}if(f.sort((function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)})),!f.length)return d;var x=[],w=f[0].ymin,E=0;for(;x.length||f.length;){if(f.length){for(var k=-1,S=0;S<f.length&&!(f[S].ymin>w);S++)k=S;f.splice(0,k+1).forEach((function(e){x.push({s:w,edge:e})}))}if((x=x.filter((function(e){return!(e.edge.ymax<=w)}))).sort((function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)})),(1!==n||E%t===0)&&x.length>1)for(var M=0;M<x.length;M+=2){var C=M+1;if(C>=x.length)break;var I=x[M].edge,j=x[C].edge;d.push([[Math.round(I.x),w],[Math.round(j.x),w]])}w+=n,x.forEach((function(e){e.edge.x=e.edge.x+n*e.edge.islope})),E++}return d}(u,o,a);if(i){var v,U=(0,r.default)(u);try{for(U.s();!(v=U.n()).done;){s(v.value,d,-i)}}catch(m){U.e(m)}finally{U.f()}!function(e,t,n){var r=[];e.forEach((function(e){return r.push.apply(r,(0,l.default)(e))})),s(r,t,n)}(p,d,-i)}return p}function d(e,t){var n,r=t.hachureAngle+90,a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.max(a,.1);var i=1;return t.roughness>=1&&((null===(n=t.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(i=a),u(e,a,r,i||1)}var f=function(){return(0,i.default)((function e(t){(0,a.default)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){return this._fillPolygons(e,t)}},{key:"_fillPolygons",value:function(e,t){var n=d(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}},{key:"renderLines",value:function(e,t){var n,a=[],i=(0,r.default)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push.apply(a,(0,l.default)(this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t)))}}catch(s){i.e(s)}finally{i.f()}return a}}])}(),h=n(39874),p=n(85501);function v(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}var U=function(e){function t(){return(0,a.default)(this,t),(0,h.default)(this,t,arguments)}return(0,p.default)(t,e),(0,i.default)(t,[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);var a,i=d(e,Object.assign({},t,{hachureGap:n})),s=Math.PI/180*t.hachureAngle,c=[],u=.5*n*Math.cos(s),f=.5*n*Math.sin(s),h=(0,r.default)(i);try{for(h.s();!(a=h.n()).done;){var p=(0,o.default)(a.value,2),U=p[0],m=p[1];v([U,m])&&c.push([[U[0]-u,U[1]+f],(0,l.default)(m)],[[U[0]+u,U[1]-f],(0,l.default)(m)])}}catch(g){h.e(g)}finally{h.f()}return{type:"fillSketch",ops:this.renderLines(c,t)}}}])}(f),m=function(e){function t(){return(0,a.default)(this,t),(0,h.default)(this,t,arguments)}return(0,p.default)(t,e),(0,i.default)(t,[{key:"fillPolygons",value:function(e,t){var n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),a=this._fillPolygons(e,r);return n.ops=n.ops.concat(a.ops),n}}])}(f),g=function(){return(0,i.default)((function e(t){(0,a.default)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){var n=d(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}},{key:"dotsOnLines",value:function(e,t){var n=[],a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.max(a,.1);var i=t.fillWeight;i<0&&(i=t.strokeWidth/2);var o,s=a/4,c=(0,r.default)(e);try{for(c.s();!(o=c.n()).done;)for(var u=o.value,d=v(u),f=d/a,h=Math.ceil(f)-1,p=d-h*a,U=(u[0][0]+u[1][0])/2-a/4,m=Math.min(u[0][1],u[1][1]),g=0;g<h;g++){var b=m+p+g*a,y=U-s+2*Math.random()*s,x=b-s+2*Math.random()*s,w=this.helper.ellipse(y,x,i,i,t);n.push.apply(n,(0,l.default)(w.ops))}}catch(E){c.e(E)}finally{c.f()}return{type:"fillSketch",ops:n}}}])}(),b=function(){return(0,i.default)((function e(t){(0,a.default)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){var n=d(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}},{key:"dashedLine",value:function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,a=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach((function(e){var o=v(e),s=Math.floor(o/(r+a)),c=(o+a-s*(r+a))/2,u=e[0],d=e[1];u[0]>d[0]&&(u=e[1],d=e[0]);for(var f=Math.atan((d[1]-u[1])/(d[0]-u[0])),h=0;h<s;h++){var p=h*(r+a),U=p+r,m=[u[0]+p*Math.cos(f)+c*Math.cos(f),u[1]+p*Math.sin(f)+c*Math.sin(f)],g=[u[0]+U*Math.cos(f)+c*Math.cos(f),u[1]+U*Math.sin(f)+c*Math.sin(f)];i.push.apply(i,(0,l.default)(n.helper.doubleLineOps(m[0],m[1],g[0],g[1],t)))}})),i}}])}(),y=function(){return(0,i.default)((function e(t){(0,a.default)(this,e),this.helper=t}),[{key:"fillPolygons",value:function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,a=d(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(a,r,t)}}},{key:"zigzagLines",value:function(e,t,n){var r=this,a=[];return e.forEach((function(e){var i=v(e),o=Math.round(i/(2*t)),s=e[0],c=e[1];s[0]>c[0]&&(s=e[1],c=e[0]);for(var u=Math.atan((c[1]-s[1])/(c[0]-s[0])),d=0;d<o;d++){var f=2*d*t,h=2*(d+1)*t,p=Math.sqrt(2*Math.pow(t,2)),U=[s[0]+f*Math.cos(u),s[1]+f*Math.sin(u)],m=[s[0]+h*Math.cos(u),s[1]+h*Math.sin(u)],g=[U[0]+p*Math.cos(u+Math.PI/4),U[1]+p*Math.sin(u+Math.PI/4)];a.push.apply(a,(0,l.default)(r.helper.doubleLineOps(U[0],U[1],g[0],g[1],n)).concat((0,l.default)(r.helper.doubleLineOps(g[0],g[1],m[0],m[1],n))))}})),a}}])}(),x={};var w=n(33151),E={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(e,t){return e.type===t}function S(e){for(var t=[],n=function(e){for(var t=new Array;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),r="BOD",a=0,i=n[a];!k(i,2);){var o=0,l=[];if("BOD"===r){if("M"!==i.text&&"m"!==i.text)return S("M0,0"+e);a++,o=E[i.text],r=i.text}else k(i,1)?o=E[r]:(a++,o=E[i.text],r=i.text);if(!(a+o<n.length))throw new Error("Path data ended short");for(var s=a;s<a+o;s++){var c=n[s];if(!k(c,1))throw new Error("Param not a number: "+r+","+c.text);l[l.length]=+c.text}if("number"!==typeof E[r])throw new Error("Bad segment: "+r);var u={key:r,data:l};t.push(u),i=n[a+=o],"M"===r&&(r="L"),"m"===r&&(r="l")}return t}function M(e){var t,n=0,a=0,i=0,s=0,c=[],u=(0,r.default)(e);try{for(u.s();!(t=u.n()).done;){var d=t.value,f=d.key,h=d.data;switch(f){case"M":c.push({key:"M",data:(0,l.default)(h)});var p=(0,o.default)(h,2);n=p[0],a=p[1];var v=(0,o.default)(h,2);i=v[0],s=v[1];break;case"m":n+=h[0],a+=h[1],c.push({key:"M",data:[n,a]}),i=n,s=a;break;case"L":c.push({key:"L",data:(0,l.default)(h)});var U=(0,o.default)(h,2);n=U[0],a=U[1];break;case"l":n+=h[0],a+=h[1],c.push({key:"L",data:[n,a]});break;case"C":c.push({key:"C",data:(0,l.default)(h)}),n=h[4],a=h[5];break;case"c":var m=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"C",data:m}),n=m[4],a=m[5];break;case"Q":c.push({key:"Q",data:(0,l.default)(h)}),n=h[2],a=h[3];break;case"q":var g=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"Q",data:g}),n=g[2],a=g[3];break;case"A":c.push({key:"A",data:(0,l.default)(h)}),n=h[5],a=h[6];break;case"a":n+=h[5],a+=h[6],c.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],n,a]});break;case"H":c.push({key:"H",data:(0,l.default)(h)}),n=h[0];break;case"h":n+=h[0],c.push({key:"H",data:[n]});break;case"V":c.push({key:"V",data:(0,l.default)(h)}),a=h[0];break;case"v":a+=h[0],c.push({key:"V",data:[a]});break;case"S":c.push({key:"S",data:(0,l.default)(h)}),n=h[2],a=h[3];break;case"s":var b=h.map((function(e,t){return t%2?e+a:e+n}));c.push({key:"S",data:b}),n=b[2],a=b[3];break;case"T":c.push({key:"T",data:(0,l.default)(h)}),n=h[0],a=h[1];break;case"t":n+=h[0],a+=h[1],c.push({key:"T",data:[n,a]});break;case"Z":case"z":c.push({key:"Z",data:[]}),n=i,a=s}}}catch(y){u.e(y)}finally{u.f()}return c}function C(e){var t,n=[],a="",i=0,s=0,c=0,u=0,d=0,f=0,h=(0,r.default)(e);try{for(h.s();!(t=h.n()).done;){var p=t.value,v=p.key,U=p.data;switch(v){case"M":n.push({key:"M",data:(0,l.default)(U)});var m=(0,o.default)(U,2);i=m[0],s=m[1];var g=(0,o.default)(U,2);c=g[0],u=g[1];break;case"C":n.push({key:"C",data:(0,l.default)(U)}),i=U[4],s=U[5],d=U[2],f=U[3];break;case"L":n.push({key:"L",data:(0,l.default)(U)});var b=(0,o.default)(U,2);i=b[0],s=b[1];break;case"H":i=U[0],n.push({key:"L",data:[i,s]});break;case"V":s=U[0],n.push({key:"L",data:[i,s]});break;case"S":var y=0,x=0;"C"===a||"S"===a?(y=i+(i-d),x=s+(s-f)):(y=i,x=s),n.push({key:"C",data:[y,x].concat((0,l.default)(U))}),d=U[0],f=U[1],i=U[2],s=U[3];break;case"T":var w=(0,o.default)(U,2),E=w[0],k=w[1],S=0,M=0;"Q"===a||"T"===a?(S=i+(i-d),M=s+(s-f)):(S=i,M=s);var C=i+2*(S-i)/3,I=s+2*(M-s)/3,T=E+2*(S-E)/3,A=k+2*(M-k)/3;n.push({key:"C",data:[C,I,T,A,E,k]}),d=S,f=M,i=E,s=k;break;case"Q":var D=(0,o.default)(U,4),_=D[0],L=D[1],R=D[2],P=D[3],N=i+2*(_-i)/3,F=s+2*(L-s)/3,O=R+2*(_-R)/3,z=P+2*(L-P)/3;n.push({key:"C",data:[N,F,O,z,R,P]}),d=_,f=L,i=R,s=P;break;case"A":var B=Math.abs(U[0]),H=Math.abs(U[1]),W=U[2],X=U[3],V=U[4],G=U[5],Y=U[6];if(0===B||0===H)n.push({key:"C",data:[i,s,G,Y,G,Y]}),i=G,s=Y;else if(i!==G||s!==Y)j(i,s,G,Y,B,H,W,X,V).forEach((function(e){n.push({key:"C",data:e})})),i=G,s=Y;break;case"Z":n.push({key:"Z",data:[]}),i=c,s=u}a=v}}catch(Z){h.e(Z)}finally{h.f()}return n}function I(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function j(e,t,n,r,a,i,l,s,c,u){var d,f=(d=l,Math.PI*d/180),h=[],p=0,v=0,U=0,m=0;if(u){var g=(0,o.default)(u,4);p=g[0],v=g[1],U=g[2],m=g[3]}else{var b=I(e,t,-f),y=(0,o.default)(b,2);e=y[0],t=y[1];var x=I(n,r,-f),w=(0,o.default)(x,2),E=(e-(n=w[0]))/2,k=(t-(r=w[1]))/2,S=E*E/(a*a)+k*k/(i*i);S>1&&(a*=S=Math.sqrt(S),i*=S);var M=a*a,C=i*i,T=M*C-M*k*k-C*E*E,A=M*k*k+C*E*E,D=(s===c?-1:1)*Math.sqrt(Math.abs(T/A));U=D*a*k/i+(e+n)/2,m=D*-i*E/a+(t+r)/2,p=Math.asin(parseFloat(((t-m)/i).toFixed(9))),v=Math.asin(parseFloat(((r-m)/i).toFixed(9))),e<U&&(p=Math.PI-p),n<U&&(v=Math.PI-v),p<0&&(p=2*Math.PI+p),v<0&&(v=2*Math.PI+v),c&&p>v&&(p-=2*Math.PI),!c&&v>p&&(v-=2*Math.PI)}var _=v-p;if(Math.abs(_)>120*Math.PI/180){var L=v,R=n,P=r;v=c&&v>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=j(n=U+a*Math.cos(v),r=m+i*Math.sin(v),R,P,a,i,l,0,c,[v,L,U,m])}_=v-p;var N=Math.cos(p),F=Math.sin(p),O=Math.cos(v),z=Math.sin(v),B=Math.tan(_/4),H=4/3*a*B,W=4/3*i*B,X=[e,t],V=[e+H*F,t-W*N],G=[n+H*z,r-W*O],Y=[n,r];if(V[0]=2*X[0]-V[0],V[1]=2*X[1]-V[1],u)return[V,G,Y].concat(h);h=[V,G,Y].concat(h);for(var Z=[],K=0;K<h.length;K+=3){var q=I(h[K][0],h[K][1],f),$=I(h[K+1][0],h[K+1][1],f),Q=I(h[K+2][0],h[K+2][1],f);Z.push([q[0],q[1],$[0],$[1],Q[0],Q[1]])}return Z}var T={randOffset:function(e,t){return W(e,t)},randOffsetWithRange:function(e,t,n){return H(e,t,n)},ellipse:function(e,t,n,r,a){var i=R(n,r,a);return P(e,t,a,i).opset},doubleLineOps:function(e,t,n,r,a){return X(e,t,n,r,a,!0)}};function A(e,t,n,r,a){return{type:"path",ops:X(e,t,n,r,a)}}function D(e,t,n){var r=(e||[]).length;if(r>2){for(var a=[],i=0;i<r-1;i++)a.push.apply(a,(0,l.default)(X(e[i][0],e[i][1],e[i+1][0],e[i+1][1],n)));return t&&a.push.apply(a,(0,l.default)(X(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n))),{type:"path",ops:a}}return 2===r?A(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function _(e,t,n,r,a){return function(e,t){return D(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],a)}function L(e,t){var n=G(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){var r=G(e,1.5*(1+.22*t.roughness),function(e){var t=Object.assign({},e);t.randomizer=void 0,e.seed&&(t.seed=e.seed+1);return t}(t));n=n.concat(r)}return{type:"path",ops:n}}function R(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),i=2*Math.PI/a,o=Math.abs(e/2),l=Math.abs(t/2),s=1-n.curveFitting;return{increment:i,rx:o+=W(o*s,n),ry:l+=W(l*s,n)}}function P(e,t,n,r){var a=Z(r.increment,e,t,r.rx,r.ry,1,r.increment*H(.1,H(.4,1,n),n),n),i=(0,o.default)(a,2),l=i[0],s=i[1],c=Y(l,null,n);if(!n.disableMultiStroke&&0!==n.roughness){var u=Z(r.increment,e,t,r.rx,r.ry,1.5,0,n),d=Y((0,o.default)(u,1)[0],null,n);c=c.concat(d)}return{estimatedPoints:s,opset:{type:"path",ops:c}}}function N(e,t,n,r,a,i,o,s,c){var u=e,d=t,f=Math.abs(n/2),h=Math.abs(r/2);f+=W(.01*f,c),h+=W(.01*h,c);for(var p=a,v=i;p<0;)p+=2*Math.PI,v+=2*Math.PI;v-p>2*Math.PI&&(p=0,v=2*Math.PI);var U=2*Math.PI/c.curveStepCount,m=Math.min(U/2,(v-p)/2),g=K(m,u,d,f,h,p,v,1,c);if(!c.disableMultiStroke){var b=K(m,u,d,f,h,p,v,1.5,c);g.push.apply(g,(0,l.default)(b))}return o&&(s?g.push.apply(g,(0,l.default)(X(u,d,u+f*Math.cos(p),d+h*Math.sin(p),c)).concat((0,l.default)(X(u,d,u+f*Math.cos(v),d+h*Math.sin(v),c)))):g.push({op:"lineTo",data:[u,d]},{op:"lineTo",data:[u+f*Math.cos(p),d+h*Math.sin(p)]})),{type:"path",ops:g}}function F(e,t){var n,a=C(M(S(e))),i=[],s=[0,0],c=[0,0],u=(0,r.default)(a);try{for(u.s();!(n=u.n()).done;){var d=n.value,f=d.key,h=d.data;switch(f){case"M":c=[h[0],h[1]],s=[h[0],h[1]];break;case"L":i.push.apply(i,(0,l.default)(X(c[0],c[1],h[0],h[1],t))),c=[h[0],h[1]];break;case"C":var p=(0,o.default)(h,6),v=p[0],U=p[1],m=p[2],g=p[3],b=p[4],y=p[5];i.push.apply(i,(0,l.default)(q(v,U,m,g,b,y,c,t))),c=[b,y];break;case"Z":i.push.apply(i,(0,l.default)(X(c[0],c[1],s[0],s[1],t))),c=[s[0],s[1]]}}}catch(x){u.e(x)}finally{u.f()}return{type:"path",ops:i}}function O(e,t){var n,a=[],i=(0,r.default)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.length){var l=t.maxRandomnessOffset||0,s=o.length;if(s>2){a.push({op:"move",data:[o[0][0]+W(l,t),o[0][1]+W(l,t)]});for(var c=1;c<s;c++)a.push({op:"lineTo",data:[o[c][0]+W(l,t),o[c][1]+W(l,t)]})}}}}catch(u){i.e(u)}finally{i.f()}return{type:"fillPath",ops:a}}function z(e,t){return function(e,t){var n=e.fillStyle||"hachure";if(!x[n])switch(n){case"zigzag":x[n]||(x[n]=new U(t));break;case"cross-hatch":x[n]||(x[n]=new m(t));break;case"dots":x[n]||(x[n]=new g(t));break;case"dashed":x[n]||(x[n]=new b(t));break;case"zigzag-line":x[n]||(x[n]=new y(t));break;default:x[n="hachure"]||(x[n]=new f(t))}return x[n]}(t,T).fillPolygons(e,t)}function B(e){return e.randomizer||(e.randomizer=new w.o(e.seed||0)),e.randomizer.next()}function H(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return n.roughness*r*(B(n)*(t-e)+e)}function W(e,t){return H(-e,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function X(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?a.disableMultiStrokeFill:a.disableMultiStroke,o=V(e,t,n,r,a,!0,!1);if(i)return o;var l=V(e,t,n,r,a,!0,!0);return o.concat(l)}function V(e,t,n,r,a,i,o){var l=Math.pow(e-n,2)+Math.pow(t-r,2),s=Math.sqrt(l),c=1;c=s<200?1:s>500?.4:-.0016668*s+1.233334;var u=a.maxRandomnessOffset||0;u*u*100>l&&(u=s/10);var d=u/2,f=.2+.2*B(a),h=a.bowing*a.maxRandomnessOffset*(r-t)/200,p=a.bowing*a.maxRandomnessOffset*(e-n)/200;h=W(h,a,c),p=W(p,a,c);var v=[],U=function(){return W(d,a,c)},m=function(){return W(u,a,c)},g=a.preserveVertices;return i&&(o?v.push({op:"move",data:[e+(g?0:U()),t+(g?0:U())]}):v.push({op:"move",data:[e+(g?0:W(u,a,c)),t+(g?0:W(u,a,c))]})),o?v.push({op:"bcurveTo",data:[h+e+(n-e)*f+U(),p+t+(r-t)*f+U(),h+e+2*(n-e)*f+U(),p+t+2*(r-t)*f+U(),n+(g?0:U()),r+(g?0:U())]}):v.push({op:"bcurveTo",data:[h+e+(n-e)*f+m(),p+t+(r-t)*f+m(),h+e+2*(n-e)*f+m(),p+t+2*(r-t)*f+m(),n+(g?0:m()),r+(g?0:m())]}),v}function G(e,t,n){var r=[];r.push([e[0][0]+W(t,n),e[0][1]+W(t,n)]),r.push([e[0][0]+W(t,n),e[0][1]+W(t,n)]);for(var a=1;a<e.length;a++)r.push([e[a][0]+W(t,n),e[a][1]+W(t,n)]),a===e.length-1&&r.push([e[a][0]+W(t,n),e[a][1]+W(t,n)]);return Y(r,null,n)}function Y(e,t,n){var r=e.length,a=[];if(r>3){var i=[],o=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(var s=1;s+2<r;s++){var c=e[s];i[0]=[c[0],c[1]],i[1]=[c[0]+(o*e[s+1][0]-o*e[s-1][0])/6,c[1]+(o*e[s+1][1]-o*e[s-1][1])/6],i[2]=[e[s+1][0]+(o*e[s][0]-o*e[s+2][0])/6,e[s+1][1]+(o*e[s][1]-o*e[s+2][1])/6],i[3]=[e[s+1][0],e[s+1][1]],a.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}if(t&&2===t.length){var u=n.maxRandomnessOffset;a.push({op:"lineTo",data:[t[0]+W(u,n),t[1]+W(u,n)]})}}else 3===r?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&a.push.apply(a,(0,l.default)(X(e[0][0],e[0][1],e[1][0],e[1][1],n)));return a}function Z(e,t,n,r,a,i,o,l){var s=[],c=[];if(0===l.roughness){e/=4,c.push([t+r*Math.cos(-e),n+a*Math.sin(-e)]);for(var u=0;u<=2*Math.PI;u+=e){var d=[t+r*Math.cos(u),n+a*Math.sin(u)];s.push(d),c.push(d)}c.push([t+r*Math.cos(0),n+a*Math.sin(0)]),c.push([t+r*Math.cos(e),n+a*Math.sin(e)])}else{var f=W(.5,l)-Math.PI/2;c.push([W(i,l)+t+.9*r*Math.cos(f-e),W(i,l)+n+.9*a*Math.sin(f-e)]);for(var h=2*Math.PI+f-.01,p=f;p<h;p+=e){var v=[W(i,l)+t+r*Math.cos(p),W(i,l)+n+a*Math.sin(p)];s.push(v),c.push(v)}c.push([W(i,l)+t+r*Math.cos(f+2*Math.PI+.5*o),W(i,l)+n+a*Math.sin(f+2*Math.PI+.5*o)]),c.push([W(i,l)+t+.98*r*Math.cos(f+o),W(i,l)+n+.98*a*Math.sin(f+o)]),c.push([W(i,l)+t+.9*r*Math.cos(f+.5*o),W(i,l)+n+.9*a*Math.sin(f+.5*o)])}return[c,s]}function K(e,t,n,r,a,i,o,l,s){var c=i+W(.1,s),u=[];u.push([W(l,s)+t+.9*r*Math.cos(c-e),W(l,s)+n+.9*a*Math.sin(c-e)]);for(var d=c;d<=o;d+=e)u.push([W(l,s)+t+r*Math.cos(d),W(l,s)+n+a*Math.sin(d)]);return u.push([t+r*Math.cos(o),n+a*Math.sin(o)]),u.push([t+r*Math.cos(o),n+a*Math.sin(o)]),Y(u,null,s)}function q(e,t,n,r,a,i,o,l){for(var s=[],c=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3],u=[0,0],d=l.disableMultiStroke?1:2,f=l.preserveVertices,h=0;h<d;h++)0===h?s.push({op:"move",data:[o[0],o[1]]}):s.push({op:"move",data:[o[0]+(f?0:W(c[0],l)),o[1]+(f?0:W(c[0],l))]}),u=f?[a,i]:[a+W(c[h],l),i+W(c[h],l)],s.push({op:"bcurveTo",data:[e+W(c[h],l),t+W(c[h],l),n+W(c[h],l),r+W(c[h],l),u[0],u[1]]});return s}function $(e){return(0,l.default)(e)}function Q(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function J(e,t,n){var r=Q(t,n);if(0===r)return Q(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return Q(e,ee(t,n,a=Math.max(0,Math.min(1,a))))}function ee(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function te(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(Q(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],u=e[t+2],d=e[t+3],f=ee(s,c,l),h=ee(c,u,l),p=ee(u,d,l),v=ee(f,h,l),U=ee(h,p,l),m=ee(v,U,l);te([s,f,v,m],0,n,a),te([m,U,p,d],0,n,a)}return a}function ne(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,u=t+1;u<n-1;++u){var d=J(e[u],o,l);d>s&&(s=d,c=u)}return Math.sqrt(s)>r?(ne(e,t,c+1,r,i),ne(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}function re(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function ae(e,t,n){var r=re(t,n);if(0===r)return re(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return re(e,ie(t,n,a=Math.max(0,Math.min(1,a))))}function ie(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function oe(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(re(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],u=e[t+2],d=e[t+3],f=ie(s,c,l),h=ie(c,u,l),p=ie(u,d,l),v=ie(f,h,l),U=ie(h,p,l),m=ie(v,U,l);oe([s,f,v,m],0,n,a),oe([m,U,p,d],0,n,a)}return a}function le(e,t){return se(e,0,e.length,t)}function se(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,u=t+1;u<n-1;++u){var d=ae(e[u],o,l);d>s&&(s=d,c=u)}return Math.sqrt(s)>r?(se(e,t,c+1,r,i),se(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}function ce(e,t,n){var a,i=C(M(S(e))),o=[],s=[],c=[0,0],u=[],d=function(){var e;u.length>=4&&(e=s).push.apply(e,(0,l.default)(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)oe(e,3*i,t,r);return n&&n>0?se(r,0,r.length,n):r}(u,t)));u=[]},f=function(){d(),s.length&&(o.push(s),s=[])},h=(0,r.default)(i);try{for(h.s();!(a=h.n()).done;){var p=a.value,v=p.key,U=p.data;switch(v){case"M":f(),c=[U[0],U[1]],s.push(c);break;case"L":d(),s.push([U[0],U[1]]);break;case"C":if(!u.length){var m=s.length?s[s.length-1]:c;u.push([m[0],m[1]])}u.push([U[0],U[1]]),u.push([U[2],U[3]]),u.push([U[4],U[5]]);break;case"Z":d(),s.push([c[0],c[1]])}}}catch(w){h.e(w)}finally{h.f()}if(f(),!n)return o;for(var g=[],b=0,y=o;b<y.length;b++){var x=le(y[b],n);x.length&&g.push(x)}return g}var ue="none",de=function(){return(0,i.default)((function e(t){(0,a.default)(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}),[{key:"_o",value:function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}},{key:"_d",value:function(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}},{key:"line",value:function(e,t,n,r,a){var i=this._o(a);return this._d("line",[A(e,t,n,r,i)],i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this._o(a),o=[],l=_(e,t,n,r,i);if(i.fill){var s=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===i.fillStyle?o.push(O([s],i)):o.push(z([s],i))}return i.stroke!==ue&&o.push(l),this._d("rectangle",o,i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this._o(a),o=[],l=R(n,r,i),s=P(e,t,i,l);if(i.fill)if("solid"===i.fillStyle){var c=P(e,t,i,l).opset;c.type="fillPath",o.push(c)}else o.push(z([s.estimatedPoints],i));return i.stroke!==ue&&o.push(s.opset),this._d("ellipse",o,i)}},{key:"circle",value:function(e,t,n,r){var a=this.ellipse(e,t,n,n,r);return a.shape="circle",a}},{key:"linearPath",value:function(e,t){var n=this._o(t);return this._d("linearPath",[D(e,!1,n)],n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this._o(l),c=[],u=N(e,t,n,r,a,i,o,!0,s);if(o&&s.fill)if("solid"===s.fillStyle){var d=Object.assign({},s);d.disableMultiStroke=!0;var f=N(e,t,n,r,a,i,!0,!1,d);f.type="fillPath",c.push(f)}else c.push(function(e,t,n,r,a,i,o){var l=e,s=t,c=Math.abs(n/2),u=Math.abs(r/2);c+=W(.01*c,o),u+=W(.01*u,o);for(var d=a,f=i;d<0;)d+=2*Math.PI,f+=2*Math.PI;f-d>2*Math.PI&&(d=0,f=2*Math.PI);for(var h=(f-d)/o.curveStepCount,p=[],v=d;v<=f;v+=h)p.push([l+c*Math.cos(v),s+u*Math.sin(v)]);return p.push([l+c*Math.cos(f),s+u*Math.sin(f)]),p.push([l,s]),z([p],o)}(e,t,n,r,a,i,s));return s.stroke!==ue&&c.push(u),this._d("arc",c,s)}},{key:"curve",value:function(e,t){var n=this._o(t),r=[],a=L(e,n);if(n.fill&&n.fill!==ue&&e.length>=3)if("solid"===n.fillStyle){var i=L(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(n<3)throw new Error("A curve must have at least three points.");var r=[];if(3===n)r.push($(e[0]),$(e[1]),$(e[2]),$(e[2]));else{var a=[];a.push(e[0],e[0]);for(var i=1;i<e.length;i++)a.push(e[i]),i===e.length-1&&a.push(e[i]);var o=[],l=1-t;r.push($(a[0]));for(var s=1;s+2<a.length;s++){var c=a[s];o[0]=[c[0],c[1]],o[1]=[c[0]+(l*a[s+1][0]-l*a[s-1][0])/6,c[1]+(l*a[s+1][1]-l*a[s-1][1])/6],o[2]=[a[s+1][0]+(l*a[s][0]-l*a[s+2][0])/6,a[s+1][1]+(l*a[s][1]-l*a[s+2][1])/6],o[3]=[a[s+1][0],a[s+1][1]],r.push(o[1],o[2],o[3])}}return r}(e),l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)te(e,3*i,t,r);return n&&n>0?ne(r,0,r.length,n):r}(o,10,(1+n.roughness)/2);r.push(z([l],n))}return n.stroke!==ue&&r.push(a),this._d("curve",r,n)}},{key:"polygon",value:function(e,t){var n=this._o(t),r=[],a=D(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(O([e],n)):r.push(z([e],n))),n.stroke!==ue&&r.push(a),this._d("polygon",r,n)}},{key:"path",value:function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var a=n.fill&&"transparent"!==n.fill&&n.fill!==ue,i=n.stroke!==ue,o=!!(n.simplification&&n.simplification<1),l=ce(e,1,o?4-4*(n.simplification||1):(1+n.roughness)/2),s=F(e,n);if(a)if("solid"===n.fillStyle)if(1===l.length){var c=F(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else r.push(O(l,n));else r.push(z(l,n));return i&&(o?l.forEach((function(e){r.push(D(e,!1,n))})):r.push(s)),this._d("path",r,n)}},{key:"opsToPath",value:function(e,t){var n,a="",i=(0,r.default)(e.ops);try{for(i.s();!(n=i.n()).done;){var o=n.value,l="number"===typeof t&&t>=0?o.data.map((function(e){return+e.toFixed(t)})):o.data;switch(o.op){case"move":a+="M".concat(l[0]," ").concat(l[1]," ");break;case"bcurveTo":a+="C".concat(l[0]," ").concat(l[1],", ").concat(l[2]," ").concat(l[3],", ").concat(l[4]," ").concat(l[5]," ");break;case"lineTo":a+="L".concat(l[0]," ").concat(l[1]," ")}}}catch(s){i.e(s)}finally{i.f()}return a.trim()}},{key:"toPaths",value:function(e){var t,n=e.sets||[],a=e.options||this.defaultOptions,i=[],o=(0,r.default)(n);try{for(o.s();!(t=o.n()).done;){var l=t.value,s=null;switch(l.type){case"path":s={d:this.opsToPath(l),stroke:a.stroke,strokeWidth:a.strokeWidth,fill:ue};break;case"fillPath":s={d:this.opsToPath(l),stroke:ue,strokeWidth:0,fill:a.fill||ue};break;case"fillSketch":s=this.fillSketch(l,a)}s&&i.push(s)}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"fillSketch",value:function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||ue,strokeWidth:n,fill:ue}}},{key:"_mergedShape",value:function(e){return e.filter((function(e,t){return 0===t||"move"!==e.op}))}}],[{key:"newSeed",value:function(){return(0,w.v)()}}])}()},33151:function(e,t,n){"use strict";n.d(t,{o:function(){return o},v:function(){return i}});var r=n(23029),a=n(92901);function i(){return Math.floor(Math.random()*Math.pow(2,31))}var o=function(){return(0,a.default)((function e(t){(0,r.default)(this,e),this.seed=t}),[{key:"next",value:function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()}}])}()},49095:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(24765),a=n(23029),i=n(92901),o=n(57456),l=function(){return(0,i.default)((function e(t,n){(0,a.default)(this,e),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new o.f(n)}),[{key:"draw",value:function(e){var t,n=e.sets||[],a=e.options||this.getDefaultOptions(),i=this.ctx,o=e.options.fixedDecimalPlaceDigits,l=(0,r.default)(n);try{for(l.s();!(t=l.n()).done;){var s=t.value;switch(s.type){case"path":i.save(),i.strokeStyle="none"===a.stroke?"transparent":a.stroke,i.lineWidth=a.strokeWidth,a.strokeLineDash&&i.setLineDash(a.strokeLineDash),a.strokeLineDashOffset&&(i.lineDashOffset=a.strokeLineDashOffset),this._drawToContext(i,s,o),i.restore();break;case"fillPath":i.save(),i.fillStyle=a.fill||"";var c="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(i,s,o,c),i.restore();break;case"fillSketch":this.fillSketch(i,s,a)}}}catch(u){l.e(u)}finally{l.f()}}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}},{key:"_drawToContext",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";e.beginPath();var i,o=(0,r.default)(t.ops);try{for(o.s();!(i=o.n()).done;){var l=i.value,s="number"===typeof n&&n>=0?l.data.map((function(e){return+e.toFixed(n)})):l.data;switch(l.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}}catch(c){o.e(c)}finally{o.f()}"fillPath"===t.type?e.fill(a):e.stroke()}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i),i}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i),i}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i),i}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a),a}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n),n}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n),n}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this.gen.arc(e,t,n,r,a,i,o,l);return this.draw(s),s}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n),n}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n),n}}])}(),s="http://www.w3.org/2000/svg",c=function(){return(0,i.default)((function e(t,n){(0,a.default)(this,e),this.svg=t,this.gen=new o.f(n)}),[{key:"draw",value:function(e){var t,n=e.sets||[],a=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,o=i.createElementNS(s,"g"),l=e.options.fixedDecimalPlaceDigits,c=(0,r.default)(n);try{for(c.s();!(t=c.n()).done;){var u=t.value,d=null;switch(u.type){case"path":(d=i.createElementNS(s,"path")).setAttribute("d",this.opsToPath(u,l)),d.setAttribute("stroke",a.stroke),d.setAttribute("stroke-width",a.strokeWidth+""),d.setAttribute("fill","none"),a.strokeLineDash&&d.setAttribute("stroke-dasharray",a.strokeLineDash.join(" ").trim()),a.strokeLineDashOffset&&d.setAttribute("stroke-dashoffset","".concat(a.strokeLineDashOffset));break;case"fillPath":(d=i.createElementNS(s,"path")).setAttribute("d",this.opsToPath(u,l)),d.setAttribute("stroke","none"),d.setAttribute("stroke-width","0"),d.setAttribute("fill",a.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||d.setAttribute("fill-rule","evenodd");break;case"fillSketch":d=this.fillSketch(i,u,a)}d&&o.appendChild(d)}}catch(f){c.e(f)}finally{c.f()}return o}},{key:"fillSketch",value:function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var a=e.createElementNS(s,"path");return a.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",r+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),a}},{key:"generator",get:function(){return this.gen}},{key:"getDefaultOptions",value:function(){return this.gen.defaultOptions}},{key:"opsToPath",value:function(e,t){return this.gen.opsToPath(e,t)}},{key:"line",value:function(e,t,n,r,a){var i=this.gen.line(e,t,n,r,a);return this.draw(i)}},{key:"rectangle",value:function(e,t,n,r,a){var i=this.gen.rectangle(e,t,n,r,a);return this.draw(i)}},{key:"ellipse",value:function(e,t,n,r,a){var i=this.gen.ellipse(e,t,n,r,a);return this.draw(i)}},{key:"circle",value:function(e,t,n,r){var a=this.gen.circle(e,t,n,r);return this.draw(a)}},{key:"linearPath",value:function(e,t){var n=this.gen.linearPath(e,t);return this.draw(n)}},{key:"polygon",value:function(e,t){var n=this.gen.polygon(e,t);return this.draw(n)}},{key:"arc",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0,s=this.gen.arc(e,t,n,r,a,i,o,l);return this.draw(s)}},{key:"curve",value:function(e,t){var n=this.gen.curve(e,t);return this.draw(n)}},{key:"path",value:function(e,t){var n=this.gen.path(e,t);return this.draw(n)}}])}(),u={canvas:function(e,t){return new l(e,t)},svg:function(e,t){return new c(e,t)},generator:function(e){return new o.f(e)},newSeed:function(){return o.f.newSeed()}}},56585:function(e){e.exports=function(e,t,n){var r=[],a=e.length;if(0===a)return r;var i=t<0?Math.max(0,t+a):t||0;for(void 0!==n&&(a=n<0?n+a:n);a-- >i;)r[a-i]=e[a];return r}},60759:function(e,t,n){"use strict";var r=n(9950);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,u=r[1];return l((function(){a.value=n,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,n,t]),o((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},39940:function(e,t,n){"use strict";var r=n(9950),a=n(6538);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,l=r.useRef,s=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==a&&f.hasValue){var t=f.value;if(a(t,e))return l=t}return l=e}if(t=l,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(o=e,t):(o=e,l=n)}var o,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,a]);var h=o(e,d[0],d[1]);return s((function(){f.hasValue=!0,f.value=h}),[h]),u(h),h}},6538:function(e,t,n){"use strict";e.exports=n(60759)},53044:function(e,t,n){"use strict";e.exports=n(39940)},78267:function(){},89023:function(e,t,n){"use strict";n.d(t,{A:function(){return j},B:function(){return T},C:function(){return A},D:function(){return D},E:function(){return _},F:function(){return L},G:function(){return R},H:function(){return P},I:function(){return N},J:function(){return F},a:function(){return r},b:function(){return a},c:function(){return i},d:function(){return o},e:function(){return l},f:function(){return s},g:function(){return c},h:function(){return u},i:function(){return d},j:function(){return f},k:function(){return h},l:function(){return p},m:function(){return v},n:function(){return U},o:function(){return m},p:function(){return g},q:function(){return b},r:function(){return y},s:function(){return x},t:function(){return w},u:function(){return E},v:function(){return k},w:function(){return S},x:function(){return M},y:function(){return C},z:function(){return I}});var r={paste:"Paste",pasteAsPlaintext:"Paste as plaintext",pasteCharts:"Paste charts",selectAll:"Select all",multiSelect:"Add element to selection",moveCanvas:"Move canvas",cut:"Cut",copy:"Copy",copyAsPng:"Copy to clipboard as PNG",copyAsSvg:"Copy to clipboard as SVG",copyText:"Copy to clipboard as text",copySource:"Copy source to clipboard",convertToCode:"Convert to code",bringForward:"Bring forward",sendToBack:"Send to back",bringToFront:"Bring to front",sendBackward:"Send backward",delete:"Delete",copyStyles:"Copy styles",pasteStyles:"Paste styles",stroke:"Stroke",changeStroke:"Change stroke color",background:"Background",changeBackground:"Change background color",fill:"Fill",strokeWidth:"Stroke width",strokeStyle:"Stroke style",strokeStyle_solid:"Solid",strokeStyle_dashed:"Dashed",strokeStyle_dotted:"Dotted",sloppiness:"Sloppiness",opacity:"Opacity",textAlign:"Text align",edges:"Edges",sharp:"Sharp",round:"Round",arrowheads:"Arrowheads",arrowhead_none:"None",arrowhead_arrow:"Arrow",arrowhead_bar:"Bar",arrowhead_circle:"Circle",arrowhead_circle_outline:"Circle (outline)",arrowhead_triangle:"Triangle",arrowhead_triangle_outline:"Triangle (outline)",arrowhead_diamond:"Diamond",arrowhead_diamond_outline:"Diamond (outline)",arrowhead_crowfoot_many:"Crow's foot (many)",arrowhead_crowfoot_one:"Crow's foot (one)",arrowhead_crowfoot_one_or_many:"Crow's foot (one or many)",more_options:"More options",arrowtypes:"Arrow type",arrowtype_sharp:"Sharp arrow",arrowtype_round:"Curved arrow",arrowtype_elbowed:"Elbow arrow",fontSize:"Font size",fontFamily:"Font family",addWatermark:'Add "Made with Excalidraw"',handDrawn:"Hand-drawn",normal:"Normal",code:"Code",small:"Small",medium:"Medium",large:"Large",veryLarge:"Very large",solid:"Solid",hachure:"Hachure",zigzag:"Zigzag",crossHatch:"Cross-hatch",thin:"Thin",bold:"Bold",left:"Left",center:"Center",right:"Right",extraBold:"Extra bold",architect:"Architect",artist:"Artist",cartoonist:"Cartoonist",fileTitle:"File name",colorPicker:"Color picker",canvasColors:"Used on canvas",canvasBackground:"Canvas background",drawingCanvas:"Drawing canvas",clearCanvas:"Clear canvas",layers:"Layers",actions:"Actions",language:"Language",liveCollaboration:"Live collaboration...",duplicateSelection:"Duplicate",untitled:"Untitled",name:"Name",yourName:"Your name",madeWithExcalidraw:"Made with Excalidraw",group:"Group selection",ungroup:"Ungroup selection",collaborators:"Collaborators",toggleGrid:"Toggle grid",addToLibrary:"Add to library",removeFromLibrary:"Remove from library",libraryLoadingMessage:"Loading library\u2026",libraries:"Browse libraries",loadingScene:"Loading scene\u2026",loadScene:"Load scene from file",align:"Align",alignTop:"Align top",alignBottom:"Align bottom",alignLeft:"Align left",alignRight:"Align right",centerVertically:"Center vertically",centerHorizontally:"Center horizontally",distributeHorizontally:"Distribute horizontally",distributeVertically:"Distribute vertically",flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",viewMode:"View mode",share:"Share",showStroke:"Show stroke color picker",showBackground:"Show background color picker",showFonts:"Show font picker",toggleTheme:"Toggle light/dark theme",theme:"Theme",personalLib:"Personal Library",excalidrawLib:"Excalidraw Library",decreaseFontSize:"Decrease font size",increaseFontSize:"Increase font size",unbindText:"Unbind text",bindText:"Bind text to the container",createContainerFromText:"Wrap text in a container",link:{edit:"Edit link",editEmbed:"Edit embeddable link",create:"Add link",label:"Link",labelEmbed:"Link & embed",empty:"No link is set",hint:"Type or paste your link here",goToElement:"Go to target element"},lineEditor:{edit:"Edit line",editArrow:"Edit arrow"},elementLock:{lock:"Lock",unlock:"Unlock",lockAll:"Lock all",unlockAll:"Unlock all"},statusPublished:"Published",sidebarLock:"Keep sidebar open",selectAllElementsInFrame:"Select all elements in frame",removeAllElementsFromFrame:"Remove all elements from frame",eyeDropper:"Pick color from canvas",textToDiagram:"Text to diagram",prompt:"Prompt",followUs:"Follow us",discordChat:"Discord chat",zoomToFitViewport:"Zoom to fit in viewport",zoomToFitSelection:"Zoom to fit selection",zoomToFit:"Zoom to fit all elements",installPWA:"Install Excalidraw locally (PWA)",autoResize:"Enable text auto-resizing",imageCropping:"Image cropping",unCroppedDimension:"Uncropped dimension",copyElementLink:"Copy link to object",linkToElement:"Link to object",wrapSelectionInFrame:"Wrap selection in frame"},a={title:"Link to object",desc:"Click on a shape on canvas or paste a link.",notFound:"Linked object wasn't found on canvas."},i={noItems:"No items added yet...",hint_emptyLibrary:"Select an item on canvas to add it here, or install a library from the public repository, below.",hint_emptyPrivateLibrary:"Select an item on canvas to add it here."},o={title:"Find on canvas",noMatch:"No matches found...",singleResult:"result",multipleResults:"results",placeholder:"Find text on canvas..."},l={clearReset:"Reset the canvas",exportJSON:"Export to file",exportImage:"Export image...",export:"Save to...",copyToClipboard:"Copy to clipboard",copyLink:"Copy link",save:"Save to current file",saveAs:"Save as",load:"Open",getShareableLink:"Get shareable link",close:"Close",selectLanguage:"Select language",scrollBackToContent:"Scroll back to content",zoomIn:"Zoom in",zoomOut:"Zoom out",resetZoom:"Reset zoom",menu:"Menu",done:"Done",edit:"Edit",undo:"Undo",redo:"Redo",resetLibrary:"Reset library",createNewRoom:"Create new room",fullScreen:"Full screen",darkMode:"Dark mode",lightMode:"Light mode",systemMode:"System mode",zenMode:"Zen mode",objectsSnapMode:"Snap to objects",exitZenMode:"Exit zen mode",cancel:"Cancel",clear:"Clear",remove:"Remove",embed:"Toggle embedding",publishLibrary:"Publish",submit:"Submit",confirm:"Confirm",embeddableInteractionButton:"Click to interact"},s={clearReset:"This will clear the whole canvas. Are you sure?",couldNotCreateShareableLink:"Couldn't create shareable link.",couldNotCreateShareableLinkTooBig:"Couldn't create shareable link: the scene is too big",couldNotLoadInvalidFile:"Couldn't load invalid file",importBackendFailed:"Importing from backend failed.",cannotExportEmptyCanvas:"Cannot export empty canvas.",couldNotCopyToClipboard:"Couldn't copy to clipboard.",decryptFailed:"Couldn't decrypt data.",uploadedSecurly:"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.",loadSceneOverridePrompt:"Loading external drawing will replace your existing content. Do you wish to continue?",collabStopOverridePrompt:"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\n\n(If you want to keep your local drawing, simply close the browser tab instead.)",errorAddingToLibrary:"Couldn't add item to the library",errorRemovingFromLibrary:"Couldn't remove item from the library",confirmAddLibrary:"This will add {{numShapes}} shape(s) to your library. Are you sure?",imageDoesNotContainScene:"This image does not seem to contain any scene data. Have you enabled scene embedding during export?",cannotRestoreFromImage:"Scene couldn't be restored from this image file",invalidSceneUrl:"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.",resetLibrary:"This will clear your library. Are you sure?",removeItemsFromsLibrary:"Delete {{count}} item(s) from library?",invalidEncryptionKey:"Encryption key must be of 22 characters. Live collaboration is disabled.",collabOfflineWarning:"No internet connection available.\nYour changes will not be saved!"},c={unsupportedFileType:"Unsupported file type.",imageInsertError:"Couldn't insert image. Try again later...",fileTooBig:"File is too big. Maximum allowed size is {{maxSize}}.",svgImageInsertError:"Couldn't insert SVG image. The SVG markup looks invalid.",failedToFetchImage:"Failed to fetch image.",cannotResolveCollabServer:"Couldn't connect to the collab server. Please reload the page and try again.",importLibraryError:"Couldn't load library",saveLibraryError:"Couldn't save library to storage. Please save your library to a file locally to make sure you don't lose changes.",collabSaveFailed:"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.",collabSaveFailed_sizeExceeded:"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.",imageToolNotSupported:"Images are disabled.",brave_measure_text_error:{line1:"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.",line2:"This could result in breaking the <bold>Text Elements</bold> in your drawings.",line3:"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.",line4:"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},libraryElementTypeError:{embeddable:"Embeddable elements cannot be added to the library.",iframe:"IFrame elements cannot be added to the library.",image:"Support for adding images to the library coming soon!"},asyncPasteFailedOnRead:"Couldn't paste (couldn't read from system clipboard).",asyncPasteFailedOnParse:"Couldn't paste.",copyToSystemClipboardFailed:"Couldn't copy to clipboard."},u={selection:"Selection",image:"Insert image",rectangle:"Rectangle",diamond:"Diamond",ellipse:"Ellipse",arrow:"Arrow",line:"Line",freedraw:"Draw",text:"Text",library:"Library",lock:"Keep selected tool active after drawing",penMode:"Pen mode - prevent touch",link:"Add / Update link for a selected shape",eraser:"Eraser",frame:"Frame tool",magicframe:"Wireframe to code",embeddable:"Web Embed",laser:"Laser pointer",hand:"Hand (panning tool)",extraTools:"More tools",mermaidToExcalidraw:"Mermaid to Excalidraw"},d={rectangle:"Rectangle",diamond:"Diamond",ellipse:"Ellipse",arrow:"Arrow",line:"Line",freedraw:"Freedraw",text:"Text",image:"Image",group:"Group",frame:"Frame",magicframe:"Wireframe to code",embeddable:"Web Embed",selection:"Selection",iframe:"IFrame"},f={canvasActions:"Canvas actions",selectedShapeActions:"Selected shape actions",shapes:"Shapes"},h={dismissSearch:"Escape to dismiss search",canvasPanning:"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool",linearElement:"Click to start multiple points, drag for single line",arrowTool:"Click to start multiple points, drag for single line. Press {{arrowShortcut}} again to change arrow type.",freeDraw:"Click and drag, release when you're finished",text:"Tip: you can also add text by double-clicking anywhere with the selection tool",embeddable:"Click-drag to create a website embed",text_selected:"Double-click or press ENTER to edit text",text_editing:"Press Escape or CtrlOrCmd+ENTER to finish editing",linearElementMulti:"Click on last point or press Escape or Enter to finish",lockAngle:"You can constrain angle by holding SHIFT",resize:"You can constrain proportions by holding SHIFT while resizing,\nhold ALT to resize from the center",resizeImage:"You can resize freely by holding SHIFT,\nhold ALT to resize from the center",rotate:"You can constrain angles by holding SHIFT while rotating",lineEditor_info:"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points",lineEditor_pointSelected:"Press Delete to remove point(s),\nCtrlOrCmd+D to duplicate, or drag to move",lineEditor_nothingSelected:"Select a point to edit (hold SHIFT to select multiple),\nor hold Alt and click to add new points",placeImage:"Click to place the image, or click and drag to set its size manually",publishLibrary:"Publish your own library",bindTextToElement:"Press enter to add text",createFlowchart:"Hold CtrlOrCmd and Arrow key to create a flowchart",deepBoxSelect:"Hold CtrlOrCmd to deep select, and to prevent dragging",eraserRevert:"Hold Alt to revert the elements marked for deletion",firefox_clipboard_write:'This feature can likely be enabled by setting the "dom.events.asyncClipboard.clipboardItem" flag to "true". To change the browser flags in Firefox, visit the "about:config" page.',disableSnapping:"Hold CtrlOrCmd to disable snapping",enterCropEditor:"Double click the image or press ENTER to crop the image",leaveCropEditor:"Click outside the image or press ENTER or ESCAPE to finish cropping"},p={cannotShowPreview:"Cannot show preview",canvasTooBig:"The canvas may be too big.",canvasTooBigTip:"Tip: try moving the farthest elements a bit closer together."},v={headingMain:"Encountered an error. Try <button>reloading the page</button>.",clearCanvasMessage:"If reloading doesn't work, try <button>clearing the canvas</button>.",clearCanvasCaveat:" This will result in loss of work ",trackedToSentry:"The error with identifier {{eventId}} was tracked on our system.",openIssueMessage:"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.",sceneContent:"Scene content:"},U={or:"Or"},m={desc_intro:"Invite people to collaborate on your drawing.",desc_privacy:"Don't worry, the session is end-to-end encrypted, and fully private. Not even our server can see what you draw.",button_startSession:"Start session",button_stopSession:"Stop session",desc_inProgressIntro:"Live-collaboration session is now in progress.",desc_shareLink:"Share this link with anyone you want to collaborate with:",desc_exitSession:"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.",shareTitle:"Join a live collaboration session on Excalidraw"},g={title:"Error"},b={disk_title:"Save to disk",disk_details:"Export the scene data to a file from which you can import later.",disk_button:"Save to file",link_title:"Shareable link",link_details:"Export as a read-only link.",link_button:"Export to Link",excalidrawplus_description:"Save the scene to your Excalidraw+ workspace.",excalidrawplus_button:"Export",excalidrawplus_exportError:"Couldn't export to Excalidraw+ at this moment..."},y={blog:"Read our blog",click:"click",deepSelect:"Deep select",deepBoxSelect:"Deep select within box, and prevent dragging",createFlowchart:"Create a flowchart from a generic element",navigateFlowchart:"Navigate a flowchart",curvedArrow:"Curved arrow",curvedLine:"Curved line",documentation:"Documentation",doubleClick:"double-click",drag:"drag",editor:"Editor",editLineArrowPoints:"Edit line/arrow points",editText:"Edit text / add label",github:"Found an issue? Submit",howto:"Follow our guides",or:"or",preventBinding:"Prevent arrow binding",tools:"Tools",shortcuts:"Keyboard shortcuts",textFinish:"Finish editing (text editor)",textNewLine:"Add new line (text editor)",title:"Help",view:"View",zoomToFit:"Zoom to fit all elements",zoomToSelection:"Zoom to selection",toggleElementLock:"Lock/unlock selection",movePageUpDown:"Move page up/down",movePageLeftRight:"Move page left/right",cropStart:"Crop image",cropFinish:"Finish image cropping"},x={title:"Clear canvas"},w={title:"Publish library",itemName:"Item name",authorName:"Author name",githubUsername:"GitHub username",twitterUsername:"Twitter username",libraryName:"Library name",libraryDesc:"Library description",website:"Website",placeholder:{authorName:"Your name or username",libraryName:"Name of your library",libraryDesc:"Description of your library to help people understand its usage",githubHandle:"GitHub handle (optional), so you can edit the library once submitted for review",twitterHandle:"Twitter username (optional), so we know who to credit when promoting over Twitter",website:"Link to your personal website or elsewhere (optional)"},errors:{required:"Required",website:"Enter a valid URL"},noteDescription:"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.",noteGuidelines:"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.",noteLicense:"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.",noteItems:"Each library item must have its own name so it's filterable. The following library items will be included:",atleastOneLibItem:"Please select at least one library item to get started",republishWarning:"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},E={title:"Library submitted",content:"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},k={resetLibrary:"Reset library",removeItemsFromLib:"Remove selected items from library"},S={header:"Export image",label:{withBackground:"Background",onlySelected:"Only selected",darkMode:"Dark mode",embedScene:"Embed scene",scale:"Scale",padding:"Padding"},tooltip:{embedScene:"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\nWill increase exported file size."},title:{exportToPng:"Export to PNG",exportToSvg:"Export to SVG",copyPngToClipboard:"Copy PNG to clipboard"},button:{exportToPng:"PNG",exportToSvg:"SVG",copyPngToClipboard:"Copy to clipboard"}},M={tooltip:"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.",link:"Blog post on end-to-end encryption in Excalidraw"},C={angle:"Angle",shapes:"Shapes",height:"Height",scene:"Scene",selected:"Selected",storage:"Storage",fullTitle:"Canvas & Shape properties",title:"Properties",generalStats:"General",elementProperties:"Shape properties",total:"Total",version:"Version",versionCopy:"Click to copy",versionNotAvailable:"Version not available",width:"Width"},I={addedToLibrary:"Added to library",copyStyles:"Copied styles.",copyToClipboard:"Copied to clipboard.",copyToClipboardAsPng:"Copied {{exportSelection}} to clipboard as PNG\n({{exportColorScheme}})",copyToClipboardAsSvg:"Copied {{exportSelection}} to clipboard as SVG\n({{exportColorScheme}})",fileSaved:"File saved.",fileSavedToFilename:"Saved to {filename}",canvas:"canvas",selection:"selection",pasteAsSingleElement:"Use {{shortcut}} to paste as a single element,\nor paste into an existing text editor",unableToEmbed:"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted",unrecognizedLinkFormat:"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site",elementLinkCopied:"Link copied to clipboard"},j={transparent:"Transparent",black:"Black",white:"White",red:"Red",pink:"Pink",grape:"Grape",violet:"Violet",gray:"Gray",blue:"Blue",cyan:"Cyan",teal:"Teal",green:"Green",yellow:"Yellow",orange:"Orange",bronze:"Bronze"},T={app:{center_heading:"All your data is saved locally in your browser.",center_heading_plus:"Did you want to go to the Excalidraw+ instead?",menuHint:"Export, preferences, languages, ..."},defaults:{menuHint:"Export, preferences, and more...",center_heading:"Diagrams. Made. Simple.",toolbarHint:"Pick a tool & Start drawing!",helpHint:"Shortcuts & help"}},A={mostUsedCustomColors:"Most used custom colors",colors:"Colors",shades:"Shades",hexCode:"Hex code",noShades:"No shades available for this color"},D={action:{exportToImage:{title:"Export as image",button:"Export as image",description:"Export the scene data as an image from which you can import later."},saveToDisk:{title:"Save to disk",button:"Save to disk",description:"Export the scene data to a file from which you can import later."},excalidrawPlus:{title:"Excalidraw+",button:"Export to Excalidraw+",description:"Save the scene to your Excalidraw+ workspace."}},modal:{loadFromFile:{title:"Load from file",button:"Load from file",description:"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},shareableLink:{title:"Load from link",button:"Replace my content",description:"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},_={title:"Mermaid to Excalidraw",button:"Insert",description:"Currently only <flowchartLink>Flowchart</flowchartLink>,<sequenceLink> Sequence, </sequenceLink> and <classLink>Class </classLink>Diagrams are supported. The other types will be rendered as image in Excalidraw.",syntax:"Mermaid Syntax",preview:"Preview"},L={placeholder:"Quick search"},R={badge:{old:"old"},sceneFonts:"In this scene",availableFonts:"Available fonts",empty:"No fonts found"},P={empty:"No users found",hint:{text:"Click on user to follow",followStatus:"You're currently following this user",inCall:"User is in a voice call",micMuted:"User's microphone is muted",isSpeaking:"User is speaking"}},N={title:"Command palette",shortcuts:{select:"Select",confirm:"Confirm",close:"Close"},recents:"Recently used",search:{placeholder:"Search menus, commands, and discover hidden gems",noMatch:"No matching commands..."},itemNotAvailable:"Command is not available...",shortcutHint:"For Command palette, use {{shortcut}}"},F={labels:r,elementLink:a,library:i,search:o,buttons:l,alerts:s,errors:c,toolBar:u,element:d,headings:f,hints:h,canvasError:p,errorSplash:v,shareDialog:U,roomDialog:m,errorDialog:g,exportDialog:b,helpDialog:y,clearCanvasDialog:x,publishDialog:w,publishSuccessDialog:E,confirmDialog:k,imageExportDialog:S,encrypted:M,stats:C,toast:I,colors:j,welcomeScreen:T,colorPicker:A,overwriteConfirm:D,mermaid:_,quickSearch:L,fontList:R,userList:P,commandPalette:N}},57885:function(e,t,n){"use strict";n.d(t,{$:function(){return Wa},$a:function(){return Fo},$b:function(){return Jl},$c:function(){return hm},$d:function(){return du},$e:function(){return fd},$f:function(){return Fm},$g:function(){return Dg},$h:function(){return cb},$i:function(){return sp},$j:function(){return cw},A:function(){return ua},Aa:function(){return yi},Ab:function(){return gl},Ac:function(){return Is},Ad:function(){return Pc},Ae:function(){return Fu},Af:function(){return Od},Ag:function(){return dp},Ah:function(){return Jw},Ai:function(){return cx},Aj:function(){return $U},Ak:function(){return qv},B:function(){return da},Ba:function(){return xi},Bb:function(){return bl},Bc:function(){return js},Bd:function(){return Nc},Be:function(){return Ou},Bf:function(){return zd},Bg:function(){return fp},Bh:function(){return eE},Bi:function(){return ux},Bj:function(){return QU},Bk:function(){return Qv},C:function(){return fa},Ca:function(){return wi},Cb:function(){return yl},Cd:function(){return Fc},Ce:function(){return zu},Cf:function(){return Bd},Cg:function(){return mp},Ch:function(){return tE},Ci:function(){return dx},Cj:function(){return em},D:function(){return ha},Da:function(){return Ei},Db:function(){return xl},Dc:function(){return Ds},Dd:function(){return Oc},De:function(){return Bu},Df:function(){return Hd},Dg:function(){return bp},Dh:function(){return nE},Di:function(){return fx},Dj:function(){return tm},E:function(){return pa},Ea:function(){return ki},Eb:function(){return wl},Ec:function(){return Ks},Ed:function(){return zc},Ee:function(){return Hu},Ef:function(){return Wd},Eg:function(){return tv},Eh:function(){return rE},Ei:function(){return hx},Ej:function(){return nm},F:function(){return ma},Fa:function(){return Si},Fb:function(){return El},Fc:function(){return Ai},Fd:function(){return Bc},Fe:function(){return Wu},Ff:function(){return Xd},Fg:function(){return nv},Fh:function(){return aE},Fi:function(){return px},Fj:function(){return am},G:function(){return ya},Ga:function(){return Mi},Gb:function(){return kl},Gc:function(){return Pi},Gd:function(){return Hc},Ge:function(){return Xu},Gf:function(){return Vd},Gg:function(){return rv},Gh:function(){return iE},Gi:function(){return Ux},Gj:function(){return im},H:function(){return xa},Hb:function(){return Ml},Hc:function(){return Ni},Hd:function(){return Wc},He:function(){return Vu},Hf:function(){return Gd},Hg:function(){return av},Hh:function(){return oE},Hi:function(){return mx},Hj:function(){return om},I:function(){return wa},Ia:function(){return Fi},Ib:function(){return Cl},Ic:function(){return Jv},Id:function(){return Xc},Ie:function(){return Gu},If:function(){return Yd},Ig:function(){return iv},Ih:function(){return uE},Ii:function(){return gx},Ij:function(){return lm},J:function(){return Ea},Ja:function(){return Oi},Jb:function(){return Il},Jc:function(){return eU},Jd:function(){return Vc},Je:function(){return Yu},Jf:function(){return Zd},Jg:function(){return sv},Jh:function(){return zg},Ji:function(){return bx},Jj:function(){return sm},K:function(){return ka},Ka:function(){return zi},Kb:function(){return jl},Kc:function(){return tU},Kd:function(){return Gc},Ke:function(){return Zu},Kf:function(){return Kd},Kg:function(){return cv},Kh:function(){return Bg},Ki:function(){return yx},Kj:function(){return Gm},L:function(){return Sa},La:function(){return Hi},Lb:function(){return Tl},Lc:function(){return nU},Ld:function(){return Yc},Le:function(){return Ku},Lf:function(){return qd},Lg:function(){return uv},Lh:function(){return Hg},Li:function(){return xx},Lj:function(){return Ym},M:function(){return Ma},Ma:function(){return Vi},Mb:function(){return Al},Mc:function(){return rU},Md:function(){return Zc},Me:function(){return qu},Mf:function(){return $d},Mg:function(){return dv},Mh:function(){return Vg},Mi:function(){return wx},Mj:function(){return Zm},N:function(){return Ia},Na:function(){return Gi},Nb:function(){return Dl},Nc:function(){return aU},Nd:function(){return Kc},Ne:function(){return $u},Nf:function(){return Qd},Ng:function(){return hv},Nh:function(){return Gg},Ni:function(){return Sx},Nj:function(){return Km},O:function(){return ja},Oa:function(){return Yi},Ob:function(){return _l},Oc:function(){return iU},Od:function(){return qc},Oe:function(){return Ju},Of:function(){return Jd},Og:function(){return Uv},Oh:function(){return Yg},Oi:function(){return Cx},Oj:function(){return Hx},P:function(){return Ta},Pa:function(){return Zi},Pb:function(){return Ll},Pc:function(){return oU},Pd:function(){return $c},Pe:function(){return ed},Pf:function(){return ef},Pg:function(){return yv},Ph:function(){return Zg},Pi:function(){return Ix},Pj:function(){return Wx},Q:function(){return Aa},Qa:function(){return qi},Qb:function(){return Rl},Qc:function(){return lU},Qd:function(){return Qc},Qe:function(){return td},Qf:function(){return Of},Qg:function(){return kv},Qh:function(){return Kg},Qi:function(){return jx},Qj:function(){return Xx},R:function(){return Da},Ra:function(){return Qi},Rb:function(){return zl},Rc:function(){return sU},Rd:function(){return Jc},Re:function(){return nd},Rf:function(){return Bf},Rg:function(){return Iv},Rh:function(){return qg},Ri:function(){return Hh},Rj:function(){return Vx},S:function(){return _a},Sa:function(){return Ji},Sb:function(){return Bl},Sc:function(){return cU},Sd:function(){return eu},Se:function(){return rd},Sf:function(){return Cm},Sg:function(){return Dv},Sh:function(){return eb},Si:function(){return qh},Sj:function(){return Gx},T:function(){return La},Ta:function(){return eo},Tb:function(){return Hl},Tc:function(){return uU},Td:function(){return tu},Te:function(){return ad},Tf:function(){return Im},Tg:function(){return Lv},Th:function(){return tb},Ti:function(){return $h},Tj:function(){return Yx},U:function(){return Pa},Ua:function(){return to},Ub:function(){return Gl},Uc:function(){return dU},Ud:function(){return nu},Ue:function(){return id},Uf:function(){return jm},Ug:function(){return Nv},Uh:function(){return nb},Uj:function(){return Zx},V:function(){return Na},Va:function(){return oo},Vb:function(){return Yl},Vc:function(){return fU},Vd:function(){return iu},Ve:function(){return od},Vf:function(){return Tm},Vg:function(){return ig},Vh:function(){return rb},Vi:function(){return np},Vj:function(){return qx},W:function(){return Fa},Wa:function(){return co},Wb:function(){return Zl},Wc:function(){return hU},Wd:function(){return ou},We:function(){return ld},Wf:function(){return Am},Wg:function(){return sg},Wh:function(){return ab},Wi:function(){return rp},Wj:function(){return $x},X:function(){return Oa},Xa:function(){return Lo},Xb:function(){return Kl},Xc:function(){return cm},Xd:function(){return lu},Xe:function(){return sd},Xf:function(){return _m},Xg:function(){return ug},Xh:function(){return ib},Xi:function(){return ap},Xj:function(){return aw},Y:function(){return za},Ya:function(){return Ro},Yb:function(){return ql},Yc:function(){return um},Yd:function(){return su},Ye:function(){return cd},Yf:function(){return Rm},Yg:function(){return Cg},Yh:function(){return ob},Yi:function(){return ip},Yj:function(){return iw},Z:function(){return Ba},Za:function(){return Po},Zb:function(){return $l},Zc:function(){return dm},Zd:function(){return cu},Ze:function(){return ud},Zf:function(){return Pm},Zg:function(){return Ig},Zh:function(){return lb},Zi:function(){return op},Zj:function(){return ow},_:function(){return Ha},_a:function(){return No},_b:function(){return Ql},_c:function(){return fm},_d:function(){return uu},_e:function(){return dd},_f:function(){return Nm},_g:function(){return Ag},_h:function(){return sb},_i:function(){return lp},_j:function(){return lw},a:function(){return _r},aa:function(){return Xa},ab:function(){return Oo},ac:function(){return es},ad:function(){return gm},ae:function(){return fu},af:function(){return hd},ag:function(){return Om},ah:function(){return Ah},ai:function(){return ub},aj:function(){return _p},ak:function(){return uw},b:function(){return Lr},ba:function(){return Va},bb:function(){return zo},bc:function(){return ts},bd:function(){return bm},be:function(){return hu},bf:function(){return pd},bg:function(){return Bm},bh:function(){return Dh},bi:function(){return mb},bj:function(){return Xp},bk:function(){return fw},c:function(){return Rr},ca:function(){return Ga},cb:function(){return Bo},cc:function(){return as},cd:function(){return ym},ce:function(){return pu},cf:function(){return vd},cg:function(){return Xm},ch:function(){return Lh},ci:function(){return gb},cj:function(){return Zp},ck:function(){return pw},d:function(){return Pr},da:function(){return Ya},db:function(){return Ho},dc:function(){return is},dd:function(){return xm},de:function(){return vu},df:function(){return Ud},dg:function(){return Vm},dh:function(){return Ph},di:function(){return wb},dj:function(){return Kp},dk:function(){return Uw},e:function(){return Or},ea:function(){return Za},eb:function(){return Wo},ec:function(){return os},ed:function(){return nc},ee:function(){return Uu},ef:function(){return md},eg:function(){return Wf},eh:function(){return vr},ei:function(){return kb},ej:function(){return UU},ek:function(){return yw},f:function(){return Br},fa:function(){return Ka},fb:function(){return Xo},fc:function(){return ls},fd:function(){return lc},fe:function(){return mu},ff:function(){return gd},fg:function(){return Kf},fh:function(){return Ng},fi:function(){return Ib},fj:function(){return mU},fk:function(){return xw},g:function(){return Hr},ga:function(){return qa},gb:function(){return Go},gc:function(){return ss},gd:function(){return sc},ge:function(){return gu},gf:function(){return bd},gg:function(){return fh},gh:function(){return Fg},gi:function(){return jy},gj:function(){return gU},gk:function(){return ww},h:function(){return Wr},ha:function(){return $a},hb:function(){return Yo},hc:function(){return cs},hd:function(){return cc},he:function(){return bu},hf:function(){return yd},hg:function(){return hh},hh:function(){return jp},hi:function(){return Ty},hj:function(){return xU},hk:function(){return Sw},i:function(){return Xr},ia:function(){return Qa},ib:function(){return Zo},ic:function(){return us},id:function(){return uc},ie:function(){return yu},if:function(){return xd},ig:function(){return vh},ih:function(){return Db},ii:function(){return Ay},ij:function(){return EU},ik:function(){return Mw},j:function(){return Vr},ja:function(){return Ja},jb:function(){return Ko},jc:function(){return ds},jd:function(){return dc},je:function(){return xu},jf:function(){return wd},jg:function(){return Uh},jh:function(){return uy},ji:function(){return _y},jj:function(){return SU},jk:function(){return jw},k:function(){return Gr},ka:function(){return ei},kb:function(){return qo},kc:function(){return fs},kd:function(){return fc},ke:function(){return wu},kf:function(){return Ed},kg:function(){return mh},ki:function(){return Ry},kj:function(){return TU},kk:function(){return Tw},l:function(){return Yr},la:function(){return ti},lb:function(){return $o},lc:function(){return hs},ld:function(){return hc},le:function(){return Eu},lf:function(){return kd},lg:function(){return gh},lh:function(){return py},li:function(){return Oy},lj:function(){return AU},lk:function(){return Aw},m:function(){return Zr},ma:function(){return ni},mb:function(){return Qo},mc:function(){return ps},md:function(){return pc},me:function(){return ku},mf:function(){return Sd},mg:function(){return bh},mh:function(){return Uy},mi:function(){return By},mj:function(){return DU},mk:function(){return Dw},n:function(){return qr},na:function(){return ri},nb:function(){return Jo},nc:function(){return vs},nd:function(){return vc},ne:function(){return Su},nf:function(){return Md},ng:function(){return ah},nh:function(){return bE},ni:function(){return Hy},nj:function(){return _U},nk:function(){return _w},o:function(){return $r},oa:function(){return ai},ob:function(){return nl},oc:function(){return Us},od:function(){return wc},oe:function(){return Mu},of:function(){return Cd},og:function(){return ih},oh:function(){return yE},oi:function(){return Wy},oj:function(){return LU},ok:function(){return Lw},p:function(){return Qr},pa:function(){return ii},pb:function(){return rl},pc:function(){return gs},pd:function(){return Ec},pe:function(){return Cu},pf:function(){return Id},pg:function(){return oh},ph:function(){return xE},pi:function(){return Vy},pj:function(){return OU},pk:function(){return Pw},q:function(){return Jr},qa:function(){return oi},qb:function(){return al},qc:function(){return bs},qd:function(){return kc},qe:function(){return Iu},qf:function(){return jd},qg:function(){return lh},qh:function(){return Hw},qj:function(){return BU},qk:function(){return Nw},r:function(){return ea},ra:function(){return li},rb:function(){return il},rc:function(){return km},rd:function(){return Cc},re:function(){return ju},rf:function(){return Td},rg:function(){return yh},rh:function(){return Ww},ri:function(){return Gy},rj:function(){return HU},rk:function(){return Tx},s:function(){return ta},sa:function(){return si},sb:function(){return ol},sc:function(){return Sm},sd:function(){return Ic},se:function(){return Tu},sf:function(){return Ad},sg:function(){return xh},sh:function(){return Xw},sj:function(){return WU},sk:function(){return Ax},t:function(){return na},ta:function(){return ci},tb:function(){return sl},tc:function(){return uf},td:function(){return jc},te:function(){return Au},tf:function(){return Dd},tg:function(){return wh},th:function(){return Gw},tj:function(){return XU},tk:function(){return _x},u:function(){return ra},ua:function(){return di},ub:function(){return cl},uc:function(){return df},ud:function(){return Tc},ue:function(){return Du},uf:function(){return _d},ug:function(){return Eh},uh:function(){return Yw},uj:function(){return VU},uk:function(){return Lx},v:function(){return aa},va:function(){return pi},vb:function(){return ul},vc:function(){return xs},vd:function(){return Ac},ve:function(){return _u},vf:function(){return Ld},vg:function(){return Ch},vh:function(){return Zw},vj:function(){return GU},vk:function(){return Rx},w:function(){return ia},wa:function(){return Ui},wb:function(){return dl},wc:function(){return Es},wd:function(){return Dc},we:function(){return Lu},wf:function(){return Rd},wg:function(){return jh},wh:function(){return Kw},wi:function(){return nx},wj:function(){return YU},wk:function(){return Px},x:function(){return oa},xa:function(){return mi},xb:function(){return pl},xc:function(){return ks},xd:function(){return _c},xe:function(){return Ru},xf:function(){return Pd},xg:function(){return Th},xh:function(){return qw},xi:function(){return ox},xj:function(){return ZU},xk:function(){return Nx},y:function(){return sa},ya:function(){return gi},yb:function(){return vl},yc:function(){return Ss},yd:function(){return Lc},ye:function(){return Pu},yf:function(){return Nd},yg:function(){return cp},yh:function(){return $w},yi:function(){return lx},yj:function(){return KU},yk:function(){return Zv},z:function(){return ca},za:function(){return bi},zb:function(){return ml},zc:function(){return Ms},zd:function(){return Rc},ze:function(){return Nu},zf:function(){return Fd},zg:function(){return up},zh:function(){return Qw},zi:function(){return sx},zj:function(){return qU},zk:function(){return Kv}});var r=n(39874),a=n(85501),i=n(50531),o=n(80045),l=n(23029),s=n(92901),c=n(36755),u=n(10467),d=n(24765),f=n(5544),h=n(60436),p=n(64467),v=n(89379),U=n(63137),m=n(91618),g=n(41619),b=n(12362),y=n(5424);function x(e){for(var t=e.length;--t>=0;)e[t]=0}var w=256,E=286,k=30,S=15,M=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),C=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),I=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=new Array(576);x(T);var A=new Array(60);x(A);var D=new Array(512);x(D);var _=new Array(256);x(_);var L=new Array(29);x(L);var R,P,N,F=new Array(k);function O(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}x(F);var B=function(e){return e<256?D[e]:D[256+(e>>>7)]},H=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},W=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},X=function(e,t,n){W(e,n[2*t],n[2*t+1])},V=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},G=function(e,t,n){var r,a,i=new Array(16),o=0;for(r=1;r<=S;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var l=e[2*a+1];0!==l&&(e[2*a]=V(i[l]++,l))}},Y=function(e){var t;for(t=0;t<E;t++)e.dyn_ltree[2*t]=0;for(t=0;t<k;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Z=function(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},K=function(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},q=function(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&K(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!K(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},$=function(e,t,n){var r,a,i,o,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],a=e.pending_buf[e.l_buf+l],l++,0===r?X(e,a,t):(i=_[a],X(e,i+w+1,t),0!==(o=M[i])&&(a-=L[i],W(e,a,o)),r--,i=B(r),X(e,i,n),0!==(o=C[i])&&(r-=F[i],W(e,r,o)))}while(l<e.last_lit);X(e,256,t)},Q=function(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,l=t.stat_desc.has_stree,s=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<s;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,l&&(e.static_len-=o[2*a+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)q(e,i,n);a=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],q(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,q(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,a,i,o,l,s=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(i=0;i<=S;i++)e.bl_count[i]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=s[2*s[2*(r=e.heap[n])+1]+1]+1)>p&&(i=p,v++),s[2*r+1]=i,r>c||(e.bl_count[i]++,o=0,r>=h&&(o=f[r-h]),l=s[2*r],e.opt_len+=l*(i+o),d&&(e.static_len+=l*(u[2*r+1]+o)));if(0!==v){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(i=p;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>c||(s[2*a+1]!==i&&(e.opt_len+=(i-s[2*a+1])*s[2*a],s[2*a+1]=i),r--)}}(e,t),G(i,c,e.bl_count)},J=function(e,t,n){var r,a,i=-1,o=t[1],l=0,s=7,c=4;for(0===o&&(s=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++l<s&&a===o||(l<c?e.bl_tree[2*a]+=l:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):l<=10?e.bl_tree[34]++:e.bl_tree[36]++,l=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4))},ee=function(e,t,n){var r,a,i=-1,o=t[1],l=0,s=7,c=4;for(0===o&&(s=138,c=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++l<s&&a===o)){if(l<c)do{X(e,a,e.bl_tree)}while(0!==--l);else 0!==a?(a!==i&&(X(e,a,e.bl_tree),l--),X(e,16,e.bl_tree),W(e,l-3,2)):l<=10?(X(e,17,e.bl_tree),W(e,l-3,3)):(X(e,18,e.bl_tree),W(e,l-11,7));l=0,i=a,0===o?(s=138,c=3):a===o?(s=6,c=3):(s=7,c=4)}},te=!1,ne=function(e,t,n,r){W(e,0+(r?1:0),3),function(e,t,n,r){Z(e),r&&(H(e,n),H(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},re=function(e){te||(!function(){var e,t,n,r,a,i=new Array(16);for(n=0,r=0;r<28;r++)for(L[r]=n,e=0;e<1<<M[r];e++)_[n++]=r;for(_[n-1]=r,a=0,r=0;r<16;r++)for(F[r]=a,e=0;e<1<<C[r];e++)D[a++]=r;for(a>>=7;r<k;r++)for(F[r]=a<<7,e=0;e<1<<C[r]-7;e++)D[256+a++]=r;for(t=0;t<=S;t++)i[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,i[8]++;for(;e<=255;)T[2*e+1]=9,e++,i[9]++;for(;e<=279;)T[2*e+1]=7,e++,i[7]++;for(;e<=287;)T[2*e+1]=8,e++,i[8]++;for(G(T,287,i),e=0;e<k;e++)A[2*e+1]=5,A[2*e]=V(e,5);R=new O(T,M,257,E,S),P=new O(A,C,0,k,S),N=new O(new Array(0),I,0,19,7)}(),te=!0),e.l_desc=new z(e.dyn_ltree,R),e.d_desc=new z(e.dyn_dtree,P),e.bl_desc=new z(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,Y(e)},ae=function(e,t,n,r){var a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<w;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Q(e,e.l_desc),Q(e,e.d_desc),o=function(e){var t;for(J(e,e.dyn_ltree,e.l_desc.max_code),J(e,e.dyn_dtree,e.d_desc.max_code),Q(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*j[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?ne(e,t,n,r):4===e.strategy||i===a?(W(e,2+(r?1:0),3),$(e,T,A)):(W(e,4+(r?1:0),3),function(e,t,n,r){var a;for(W(e,t-257,5),W(e,n-1,5),W(e,r-4,4),a=0;a<r;a++)W(e,e.bl_tree[2*j[a]+1],3);ee(e,e.dyn_ltree,t-1),ee(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),$(e,e.dyn_ltree,e.dyn_dtree)),Y(e),r&&Z(e)},ie=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(_[n]+w+1)]++,e.dyn_dtree[2*B(t)]++),e.last_lit===e.lit_bufsize-1},oe=function(e){W(e,2,3),X(e,256,T),function(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)},le={_tr_init:re,_tr_stored_block:ne,_tr_flush_block:ae,_tr_tally:ie,_tr_align:oe},se=function(e,t,n,r){for(var a=65535&e,i=e>>>16&65535,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{i=i+(a=a+t[r++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16},ce=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),ue=function(e,t,n,r){var a=ce,i=r+n;e^=-1;for(var o=r;o<i;o++)e=e>>>8^a[255&(e^t[o])];return~e},de={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},he=le._tr_init,pe=le._tr_stored_block,ve=le._tr_flush_block,Ue=le._tr_tally,me=le._tr_align,ge=fe.Z_NO_FLUSH,be=fe.Z_PARTIAL_FLUSH,ye=fe.Z_FULL_FLUSH,xe=fe.Z_FINISH,we=fe.Z_BLOCK,Ee=fe.Z_OK,ke=fe.Z_STREAM_END,Se=fe.Z_STREAM_ERROR,Me=fe.Z_DATA_ERROR,Ce=fe.Z_BUF_ERROR,Ie=fe.Z_DEFAULT_COMPRESSION,je=fe.Z_FILTERED,Te=fe.Z_HUFFMAN_ONLY,Ae=fe.Z_RLE,De=fe.Z_FIXED,_e=fe.Z_DEFAULT_STRATEGY,Le=fe.Z_UNKNOWN,Re=fe.Z_DEFLATED,Pe=258,Ne=262,Fe=103,Oe=113,ze=666,Be=function(e,t){return e.msg=de[t],t},He=function(e){return(e<<1)-(e>4?9:0)},We=function(e){for(var t=e.length;--t>=0;)e[t]=0},Xe=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Ve=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ge=function(e,t){ve(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ve(e.strm)},Ye=function(e,t){e.pending_buf[e.pending++]=t},Ze=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ke=function(e,t,n,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=se(e.adler,t,a,n):2===e.state.wrap&&(e.adler=ue(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},qe=function(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,l=e.nice_match,s=e.strstart>e.w_size-Ne?e.strstart-(e.w_size-Ne):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+Pe,h=c[i+o-1],p=c[i+o];e.prev_length>=e.good_match&&(a>>=2),l>e.lookahead&&(l=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<f);if(r=Pe-(f-i),i=f-Pe,r>o){if(e.match_start=t,o=r,r>=l)break;h=c[i+o-1],p=c[i+o]}}}while((t=d[t&u])>s&&0!==--a);return o<=e.lookahead?o:e.lookahead},$e=function(e){var t,n,r,a,i,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-Ne)){e.window.set(e.window.subarray(o,o+o),0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);t=n=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);a+=o}if(0===e.strm.avail_in)break;if(n=Ke(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Xe(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Xe(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ne&&0!==e.strm.avail_in)},Qe=function(e,t){for(var n,r;;){if(e.lookahead<Ne){if($e(e),e.lookahead<Ne&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ne&&(e.match_length=qe(e,n)),e.match_length>=3)if(r=Ue(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+1]);else r=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===xe?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2},Je=function(e,t){for(var n,r,a;;){if(e.lookahead<Ne){if($e(e),e.lookahead<Ne&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ne&&(e.match_length=qe(e,n),e.match_length<=5&&(e.strategy===je||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=Ue(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Xe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ge(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=Ue(e,0,e.window[e.strstart-1]))&&Ge(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Ue(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===xe?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2};function et(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}var tt=[new et(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if($e(e),0===e.lookahead&&t===ge)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Ge(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Ne&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(Ge(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ge(e,!1),e.strm.avail_out),1)})),new et(4,4,8,4,Qe),new et(4,5,16,8,Qe),new et(4,6,32,32,Qe),new et(4,4,16,16,Je),new et(8,16,32,32,Je),new et(8,16,128,128,Je),new et(8,32,128,256,Je),new et(32,128,258,1024,Je),new et(32,258,258,4096,Je)];function nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Re,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),We(this.dyn_ltree),We(this.dyn_dtree),We(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),We(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),We(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var rt=function(e){if(!e||!e.state)return Be(e,Se);e.total_in=e.total_out=0,e.data_type=Le;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Oe,e.adler=2===t.wrap?0:1,t.last_flush=ge,he(t),Ee},at=function(e){var t=rt(e);return t===Ee&&function(e){e.window_size=2*e.w_size,We(e.head),e.max_lazy_match=tt[e.level].max_lazy,e.good_match=tt[e.level].good_length,e.nice_match=tt[e.level].nice_length,e.max_chain_length=tt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t},it=function(e,t,n,r,a,i){if(!e)return Se;var o=1;if(t===Ie&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>9||n!==Re||r<8||r>15||t<0||t>9||i<0||i>De)return Be(e,Se);8===r&&(r=9);var l=new nt;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=i,l.method=n,at(e)},ot=function(e,t){var n,r;if(!e||!e.state||t>we||t<0)return e?Be(e,Se):Se;var a=e.state;if(!e.output||!e.input&&0!==e.avail_in||a.status===ze&&t!==xe)return Be(e,0===e.avail_out?Ce:Se);a.strm=e;var i=a.last_flush;if(a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,Ye(a,31),Ye(a,139),Ye(a,8),a.gzhead?(Ye(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Ye(a,255&a.gzhead.time),Ye(a,a.gzhead.time>>8&255),Ye(a,a.gzhead.time>>16&255),Ye(a,a.gzhead.time>>24&255),Ye(a,9===a.level?2:a.strategy>=Te||a.level<2?4:0),Ye(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(Ye(a,255&a.gzhead.extra.length),Ye(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=ue(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,0),Ye(a,9===a.level?2:a.strategy>=Te||a.level<2?4:0),Ye(a,3),a.status=Oe);else{var o=Re+(a.w_bits-8<<4)<<8;o|=(a.strategy>=Te||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(o|=32),o+=31-o%31,a.status=Oe,Ze(a,o),0!==a.strstart&&(Ze(a,e.adler>>>16),Ze(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>n&&(e.adler=ue(e.adler,a.pending_buf,a.pending-n,n)),Ve(e),n=a.pending,a.pending!==a.pending_buf_size));)Ye(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(e.adler=ue(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=ue(e.adler,a.pending_buf,a.pending-n,n)),Ve(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,Ye(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=ue(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=ue(e.adler,a.pending_buf,a.pending-n,n)),Ve(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,Ye(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=ue(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.status=Fe)}else a.status=Fe;if(a.status===Fe&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Ve(e),a.pending+2<=a.pending_buf_size&&(Ye(a,255&e.adler),Ye(a,e.adler>>8&255),e.adler=0,a.status=Oe)):a.status=Oe),0!==a.pending){if(Ve(e),0===e.avail_out)return a.last_flush=-1,Ee}else if(0===e.avail_in&&He(t)<=He(i)&&t!==xe)return Be(e,Ce);if(a.status===ze&&0!==e.avail_in)return Be(e,Ce);if(0!==e.avail_in||0!==a.lookahead||t!==ge&&a.status!==ze){var l=a.strategy===Te?function(e,t){for(var n;;){if(0===e.lookahead&&($e(e),0===e.lookahead)){if(t===ge)return 1;break}if(e.match_length=0,n=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2}(a,t):a.strategy===Ae?function(e,t){for(var n,r,a,i,o=e.window;;){if(e.lookahead<=Pe){if($e(e),e.lookahead<=Pe&&t===ge)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=o[a=e.strstart-1])===o[++a]&&r===o[++a]&&r===o[++a]){i=e.strstart+Pe;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=Pe-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Ue(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ge(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xe?(Ge(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ge(e,!1),0===e.strm.avail_out)?1:2}(a,t):tt[a.level].func(a,t);if(3!==l&&4!==l||(a.status=ze),1===l||3===l)return 0===e.avail_out&&(a.last_flush=-1),Ee;if(2===l&&(t===be?me(a):t!==we&&(pe(a,0,0,!1),t===ye&&(We(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),Ve(e),0===e.avail_out))return a.last_flush=-1,Ee}return t!==xe?Ee:a.wrap<=0?ke:(2===a.wrap?(Ye(a,255&e.adler),Ye(a,e.adler>>8&255),Ye(a,e.adler>>16&255),Ye(a,e.adler>>24&255),Ye(a,255&e.total_in),Ye(a,e.total_in>>8&255),Ye(a,e.total_in>>16&255),Ye(a,e.total_in>>24&255)):(Ze(a,e.adler>>>16),Ze(a,65535&e.adler)),Ve(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?Ee:ke)},lt=function(e,t){var n=t.length;if(!e||!e.state)return Se;var r=e.state,a=r.wrap;if(2===a||1===a&&42!==r.status||r.lookahead)return Se;if(1===a&&(e.adler=se(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(We(r.head),r.strstart=0,r.block_start=0,r.insert=0);var i=new Uint8Array(r.w_size);i.set(t.subarray(n-r.w_size,n),0),t=i,n=r.w_size}var o=e.avail_in,l=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,$e(r);r.lookahead>=3;){var c=r.strstart,u=r.lookahead-2;do{r.ins_h=Xe(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++}while(--u);r.strstart=c,r.lookahead=2,$e(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=l,e.input=s,e.avail_in=o,r.wrap=a,Ee},st={deflateInit:function(e,t){return it(e,t,Re,15,8,_e)},deflateInit2:it,deflateReset:at,deflateResetKeep:rt,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?Se:(e.state.gzhead=t,Ee):Se},deflate:ot,deflateEnd:function(e){if(!e||!e.state)return Se;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Fe&&t!==Oe&&t!==ze?Be(e,Se):(e.state=null,t===Oe?Be(e,Me):Ee)},deflateSetDictionary:lt,deflateInfo:"pako deflate (from Nodeca project)"},ct=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ut=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)ct(n,r)&&(e[r]=n[r])}}return e},dt=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var a=new Uint8Array(t),i=0,o=0,l=e.length;i<l;i++){var s=e[i];a.set(s,o),o+=s.length}return a},ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(wE){ft=!1}for(var ht=new Uint8Array(256),pt=0;pt<256;pt++)ht[pt]=pt>=252?6:pt>=248?5:pt>=240?4:pt>=224?3:pt>=192?2:1;ht[254]=ht[254]=1;var vt=function(e){var t,n,r,a,i,o=e.length,l=0;for(a=0;a<o;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320===(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},Ut=function(e,t){var n,r,a=t||e.length,i=new Array(2*a);for(r=0,n=0;n<a;){var o=e[n++];if(o<128)i[r++]=o;else{var l=ht[o];if(l>4)i[r++]=65533,n+=l-1;else{for(o&=2===l?31:3===l?15:7;l>1&&n<a;)o=o<<6|63&e[n++],l--;l>1?i[r++]=65533:o<65536?i[r++]=o:(o-=65536,i[r++]=55296|o>>10&1023,i[r++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&ft)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}(i,r)},mt=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+ht[e[n]]>t?n:t};var gt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},bt=Object.prototype.toString,yt=fe.Z_NO_FLUSH,xt=fe.Z_SYNC_FLUSH,wt=fe.Z_FULL_FLUSH,Et=fe.Z_FINISH,kt=fe.Z_OK,St=fe.Z_STREAM_END,Mt=fe.Z_DEFAULT_COMPRESSION,Ct=fe.Z_DEFAULT_STRATEGY,It=fe.Z_DEFLATED;function jt(e){this.options=ut({level:Mt,method:It,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ct},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gt,this.strm.avail_out=0;var n=st.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==kt)throw new Error(de[n]);if(t.header&&st.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"===typeof t.dictionary?vt(t.dictionary):"[object ArrayBuffer]"===bt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=st.deflateSetDictionary(this.strm,r))!==kt)throw new Error(de[n]);this._dict_set=!0}}function Tt(e,t){var n=new jt(t);if(n.push(e,!0),n.err)throw n.msg||de[n.err];return n.result}jt.prototype.push=function(e,t){var n,r,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?Et:yt,"string"===typeof e?a.input=vt(e):"[object ArrayBuffer]"===bt.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(r===xt||r===wt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((n=st.deflate(a,r))===St)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=st.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===kt;if(0!==a.avail_out){if(r>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},jt.prototype.onData=function(e){this.chunks.push(e)},jt.prototype.onEnd=function(e){e===kt&&(this.result=dt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var At={Deflate:jt,deflate:Tt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Tt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Tt(e,t)},constants:fe},Dt=function(e,t){var n,r,a,i,o,l,s,c,u,d,f,h,p,v,U,m,g,b,y,x,w,E,k,S,M=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),a=e.next_out,S=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),l=M.dmax,s=M.wsize,c=M.whave,u=M.wnext,d=M.window,f=M.hold,h=M.bits,p=M.lencode,v=M.distcode,U=(1<<M.lenbits)-1,m=(1<<M.distbits)-1;e:do{h<15&&(f+=k[n++]<<h,h+=8,f+=k[n++]<<h,h+=8),g=p[f&U];t:for(;;){if(f>>>=b=g>>>24,h-=b,0===(b=g>>>16&255))S[a++]=65535&g;else{if(!(16&b)){if(0===(64&b)){g=p[(65535&g)+(f&(1<<b)-1)];continue t}if(32&b){M.mode=12;break e}e.msg="invalid literal/length code",M.mode=30;break e}y=65535&g,(b&=15)&&(h<b&&(f+=k[n++]<<h,h+=8),y+=f&(1<<b)-1,f>>>=b,h-=b),h<15&&(f+=k[n++]<<h,h+=8,f+=k[n++]<<h,h+=8),g=v[f&m];n:for(;;){if(f>>>=b=g>>>24,h-=b,!(16&(b=g>>>16&255))){if(0===(64&b)){g=v[(65535&g)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",M.mode=30;break e}if(x=65535&g,h<(b&=15)&&(f+=k[n++]<<h,(h+=8)<b&&(f+=k[n++]<<h,h+=8)),(x+=f&(1<<b)-1)>l){e.msg="invalid distance too far back",M.mode=30;break e}if(f>>>=b,h-=b,x>(b=a-i)){if((b=x-b)>c&&M.sane){e.msg="invalid distance too far back",M.mode=30;break e}if(w=0,E=d,0===u){if(w+=s-b,b<y){y-=b;do{S[a++]=d[w++]}while(--b);w=a-x,E=S}}else if(u<b){if(w+=s+u-b,(b-=u)<y){y-=b;do{S[a++]=d[w++]}while(--b);if(w=0,u<y){y-=b=u;do{S[a++]=d[w++]}while(--b);w=a-x,E=S}}}else if(w+=u-b,b<y){y-=b;do{S[a++]=d[w++]}while(--b);w=a-x,E=S}for(;y>2;)S[a++]=E[w++],S[a++]=E[w++],S[a++]=E[w++],y-=3;y&&(S[a++]=E[w++],y>1&&(S[a++]=E[w++]))}else{w=a-x;do{S[a++]=S[w++],S[a++]=S[w++],S[a++]=S[w++],y-=3}while(y>2);y&&(S[a++]=S[w++],y>1&&(S[a++]=S[w++]))}break}}break}}while(n<r&&a<o);n-=y=h>>3,f&=(1<<(h-=y<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<o?o-a+257:257-(a-o),M.hold=f,M.bits=h},_t=15,Lt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Pt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Nt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ft=function(e,t,n,r,a,i,o,l){var s,c,u,d,f,h,p,v,U,m=l.bits,g=0,b=0,y=0,x=0,w=0,E=0,k=0,S=0,M=0,C=0,I=null,j=0,T=new Uint16Array(16),A=new Uint16Array(16),D=null,_=0;for(g=0;g<=_t;g++)T[g]=0;for(b=0;b<r;b++)T[t[n+b]]++;for(w=m,x=_t;x>=1&&0===T[x];x--);if(w>x&&(w=x),0===x)return a[i++]=20971520,a[i++]=20971520,l.bits=1,0;for(y=1;y<x&&0===T[y];y++);for(w<y&&(w=y),S=1,g=1;g<=_t;g++)if(S<<=1,(S-=T[g])<0)return-1;if(S>0&&(0===e||1!==x))return-1;for(A[1]=0,g=1;g<_t;g++)A[g+1]=A[g]+T[g];for(b=0;b<r;b++)0!==t[n+b]&&(o[A[t[n+b]]++]=b);if(0===e?(I=D=o,h=19):1===e?(I=Lt,j-=257,D=Rt,_-=257,h=256):(I=Pt,D=Nt,h=-1),C=0,b=0,g=y,f=i,E=w,k=0,u=-1,d=(M=1<<w)-1,1===e&&M>852||2===e&&M>592)return 1;for(;;){p=g-k,o[b]<h?(v=0,U=o[b]):o[b]>h?(v=D[_+o[b]],U=I[j+o[b]]):(v=96,U=0),s=1<<g-k,y=c=1<<E;do{a[f+(C>>k)+(c-=s)]=p<<24|v<<16|U}while(0!==c);for(s=1<<g-1;C&s;)s>>=1;if(0!==s?(C&=s-1,C+=s):C=0,b++,0===--T[g]){if(g===x)break;g=t[n+o[b]]}if(g>w&&(C&d)!==u){for(0===k&&(k=w),f+=y,S=1<<(E=g-k);E+k<x&&!((S-=T[E+k])<=0);)E++,S<<=1;if(M+=1<<E,1===e&&M>852||2===e&&M>592)return 1;a[u=C&d]=w<<24|E<<16|f-i}}return 0!==C&&(a[f+C]=g-k<<24|64<<16),l.bits=w,0},Ot=fe.Z_FINISH,zt=fe.Z_BLOCK,Bt=fe.Z_TREES,Ht=fe.Z_OK,Wt=fe.Z_STREAM_END,Xt=fe.Z_NEED_DICT,Vt=fe.Z_STREAM_ERROR,Gt=fe.Z_DATA_ERROR,Yt=fe.Z_MEM_ERROR,Zt=fe.Z_BUF_ERROR,Kt=fe.Z_DEFLATED,qt=12,$t=30,Qt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Jt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var en,tn,nn=function(e){if(!e||!e.state)return Vt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ht},rn=function(e){if(!e||!e.state)return Vt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,nn(e)},an=function(e,t){var n;if(!e||!e.state)return Vt;var r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Vt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,rn(e))},on=function(e,t){if(!e)return Vt;var n=new Jt;e.state=n,n.window=null;var r=an(e,t);return r!==Ht&&(e.state=null),r},ln=!0,sn=function(e){if(ln){en=new Int32Array(512),tn=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ft(1,e.lens,0,288,en,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ft(2,e.lens,0,32,tn,0,e.work,{bits:5}),ln=!1}e.lencode=en,e.lenbits=9,e.distcode=tn,e.distbits=5},cn=function(e,t,n,r){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},un={inflateReset:rn,inflateReset2:an,inflateResetKeep:nn,inflateInit:function(e){return on(e,15)},inflateInit2:on,inflate:function(e,t){var n,r,a,i,o,l,s,c,u,d,f,h,p,v,U,m,g,b,y,x,w,E,k,S,M=0,C=new Uint8Array(4),I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Vt;(n=e.state).mode===qt&&(n.mode=13),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,c=n.hold,u=n.bits,d=l,f=s,E=Ht;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,C[0]=255&c,C[1]=c>>>8&255,n.check=ue(n.check,C,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=$t;break}if((15&c)!==Kt){e.msg="unknown compression method",n.mode=$t;break}if(u-=4,w=8+(15&(c>>>=4)),0===n.wbits)n.wbits=w;else if(w>n.wbits){e.msg="invalid window size",n.mode=$t;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:qt,c=0,u=0;break;case 2:for(;u<16;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==Kt){e.msg="unknown compression method",n.mode=$t;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=$t;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,n.check=ue(n.check,C,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=ue(n.check,C,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,n.check=ue(n.check,C,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(C[0]=255&c,C[1]=c>>>8&255,n.check=ue(n.check,C,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>l&&(h=l),h&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),w)),512&n.flags&&(n.check=ue(n.check,r,h,i)),l-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===l)break e;h=0;do{w=r[i+h++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&h<l);if(512&n.flags&&(n.check=ue(n.check,r,h,i)),l-=h,i+=h,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===l)break e;h=0;do{w=r[i+h++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&h<l);if(512&n.flags&&(n.check=ue(n.check,r,h,i)),l-=h,i+=h,w)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=$t;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=qt;break;case 10:for(;u<32;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}e.adler=n.check=Qt(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=l,n.hold=c,n.bits=u,Xt;e.adler=n.check=1,n.mode=qt;case qt:if(t===zt||t===Bt)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(sn(n),n.mode=20,t===Bt){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=$t}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=$t;break}if(n.length=65535&c,c=0,u=0,n.mode=15,t===Bt)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>l&&(h=l),h>s&&(h=s),0===h)break e;a.set(r.subarray(i,i+h),o),l-=h,i+=h,s-=h,o+=h,n.length-=h;break}n.mode=qt;break;case 17:for(;u<14;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=$t;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}n.lens[I[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},E=Ft(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,E){e.msg="invalid code lengths set",n.mode=$t;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;m=(M=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,g=65535&M,!((U=M>>>24)<=u);){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(g<16)c>>>=U,u-=U,n.lens[n.have++]=g;else{if(16===g){for(S=U+2;u<S;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(c>>>=U,u-=U,0===n.have){e.msg="invalid bit length repeat",n.mode=$t;break}w=n.lens[n.have-1],h=3+(3&c),c>>>=2,u-=2}else if(17===g){for(S=U+3;u<S;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}u-=U,w=0,h=3+(7&(c>>>=U)),c>>>=3,u-=3}else{for(S=U+7;u<S;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}u-=U,w=0,h=11+(127&(c>>>=U)),c>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=$t;break}for(;h--;)n.lens[n.have++]=w}}if(n.mode===$t)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=$t;break}if(n.lenbits=9,k={bits:n.lenbits},E=Ft(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,E){e.msg="invalid literal/lengths set",n.mode=$t;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},E=Ft(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,E){e.msg="invalid distances set",n.mode=$t;break}if(n.mode=20,t===Bt)break e;case 20:n.mode=21;case 21:if(l>=6&&s>=258){e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=l,n.hold=c,n.bits=u,Dt(e,f),o=e.next_out,a=e.output,s=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,c=n.hold,u=n.bits,n.mode===qt&&(n.back=-1);break}for(n.back=0;m=(M=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,g=65535&M,!((U=M>>>24)<=u);){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(m&&0===(240&m)){for(b=U,y=m,x=g;m=(M=n.lencode[x+((c&(1<<b+y)-1)>>b)])>>>16&255,g=65535&M,!(b+(U=M>>>24)<=u);){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=U,u-=U,n.back+=U,n.length=g,0===m){n.mode=26;break}if(32&m){n.back=-1,n.mode=qt;break}if(64&m){e.msg="invalid literal/length code",n.mode=$t;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(S=n.extra;u<S;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;m=(M=n.distcode[c&(1<<n.distbits)-1])>>>16&255,g=65535&M,!((U=M>>>24)<=u);){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(0===(240&m)){for(b=U,y=m,x=g;m=(M=n.distcode[x+((c&(1<<b+y)-1)>>b)])>>>16&255,g=65535&M,!(b+(U=M>>>24)<=u);){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=U,u-=U,n.back+=U,64&m){e.msg="invalid distance code",n.mode=$t;break}n.offset=g,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(S=n.extra;u<S;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=$t;break}n.mode=25;case 25:if(0===s)break e;if(h=f-s,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=$t;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=a,p=o-n.offset,h=n.length;h>s&&(h=s),s-=h,n.length-=h;do{a[o++]=v[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===s)break e;a[o++]=n.length,s--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===l)break e;l--,c|=r[i++]<<u,u+=8}if(f-=s,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?ue(n.check,a,f,o-f):se(n.check,a,f,o-f)),f=s,(n.flags?c:Qt(c))!==n.check){e.msg="incorrect data check",n.mode=$t;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===l)break e;l--,c+=r[i++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=$t;break}c=0,u=0}n.mode=29;case 29:E=Wt;break e;case $t:E=Gt;break e;case 31:return Yt;default:return Vt}return e.next_out=o,e.avail_out=s,e.next_in=i,e.avail_in=l,n.hold=c,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<$t&&(n.mode<27||t!==Ot))&&cn(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?ue(n.check,a,f,e.next_out-f):se(n.check,a,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===qt?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===f||t===Ot)&&E===Ht&&(E=Zt),E},inflateEnd:function(e){if(!e||!e.state)return Vt;var t=e.state;return t.window&&(t.window=null),e.state=null,Ht},inflateGetHeader:function(e,t){if(!e||!e.state)return Vt;var n=e.state;return 0===(2&n.wrap)?Vt:(n.head=t,t.done=!1,Ht)},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Vt:11===n.mode&&se(1,t,r,0)!==n.check?Gt:cn(e,t,r,r)?(n.mode=31,Yt):(n.havedict=1,Ht):Vt},inflateInfo:"pako inflate (from Nodeca project)"};var dn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},fn=Object.prototype.toString,hn=fe.Z_NO_FLUSH,pn=fe.Z_FINISH,vn=fe.Z_OK,Un=fe.Z_STREAM_END,mn=fe.Z_NEED_DICT,gn=fe.Z_STREAM_ERROR,bn=fe.Z_DATA_ERROR,yn=fe.Z_MEM_ERROR;function xn(e){this.options=ut({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gt,this.strm.avail_out=0;var n=un.inflateInit2(this.strm,t.windowBits);if(n!==vn)throw new Error(de[n]);if(this.header=new dn,un.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=vt(t.dictionary):"[object ArrayBuffer]"===fn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=un.inflateSetDictionary(this.strm,t.dictionary))!==vn))throw new Error(de[n])}function wn(e,t){var n=new xn(t);if(n.push(e),n.err)throw n.msg||de[n.err];return n.result}xn.prototype.push=function(e,t){var n,r,a,i=this.strm,o=this.options.chunkSize,l=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?pn:hn,"[object ArrayBuffer]"===fn.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(n=un.inflate(i,r))===mn&&l&&((n=un.inflateSetDictionary(i,l))===vn?n=un.inflate(i,r):n===bn&&(n=mn));i.avail_in>0&&n===Un&&i.state.wrap>0&&0!==e[i.next_in];)un.inflateReset(i),n=un.inflate(i,r);switch(n){case gn:case bn:case mn:case yn:return this.onEnd(n),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||n===Un))if("string"===this.options.to){var s=mt(i.output,i.next_out),c=i.next_out-s,u=Ut(i.output,s);i.next_out=c,i.avail_out=o-c,c&&i.output.set(i.output.subarray(s,s+c),0),this.onData(u)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(n!==vn||0!==a){if(n===Un)return n=un.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},xn.prototype.onData=function(e){this.chunks.push(e)},xn.prototype.onEnd=function(e){e===vn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=dt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var En={Inflate:xn,inflate:wn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,wn(e,t)},ungzip:wn,constants:fe},kn=At.deflate,Sn=En.inflate,Mn=n(90782),Cn=n(96772),In=n(43088),jn=n(76277),Tn=n(49095);function An(e,t,n){return e*(arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e})(.5-t*(.5-n))}function Dn(e,t){return[e[0]+t[0],e[1]+t[1]]}function _n(e,t){return[e[0]-t[0],e[1]-t[1]]}function Ln(e,t){return[e[0]*t,e[1]*t]}function Rn(e){return[e[1],-e[0]]}function Pn(e,t){return e[0]*t[0]+e[1]*t[1]}function Nn(e,t){return e[0]===t[0]&&e[1]===t[1]}function Fn(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(_n(e,t))}function On(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function zn(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Bn(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=e[0]-t[0],o=e[1]-t[1],l=i*r+o*a;return[i*a-o*r+t[0],l+t[1]]}function Hn(e,t,n){return Dn(e,Ln(_n(t,e),n))}function Wn(e,t,n){return Dn(e,Ln(t,n))}var Xn=Math.min,Vn=Math.PI,Gn=Vn+1e-4;function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=void 0===n?16:n,a=t.smoothing,i=void 0===a?.5:a,o=t.thinning,l=void 0===o?.5:o,s=t.simulatePressure,c=void 0===s||s,u=t.easing,d=void 0===u?function(e){return e}:u,f=t.start,h=void 0===f?{}:f,p=t.end,v=void 0===p?{}:p,U=t.last,m=void 0!==U&&U,g=h.cap,b=void 0===g||g,y=h.easing,x=void 0===y?function(e){return e*(2-e)}:y,w=v.cap,E=void 0===w||w,k=v.easing,S=void 0===k?function(e){return--e*e*e+1}:k;if(0===e.length||r<=0)return[];for(var M,C=e[e.length-1].runningLength,I=!1===h.taper?0:!0===h.taper?Math.max(r,C):h.taper,j=!1===v.taper?0:!0===v.taper?Math.max(r,C):v.taper,T=Math.pow(r*i,2),A=[],D=[],_=e.slice(0,10).reduce((function(e,t){var n=t.pressure;if(c){var a=Xn(1,t.distance/r),i=Xn(1,1-a);n=Xn(1,e+.275*a*(i-e))}return(e+n)/2}),e[0].pressure),L=An(r,l,e[e.length-1].pressure,d),R=e[0].vector,P=e[0].point,N=P,F=P,O=N,z=!1,B=0;B<e.length;B++){var H=e[B].pressure,W=e[B],X=W.point,V=W.vector,G=W.distance,Y=W.runningLength;if(!(B<e.length-1&&C-Y<3)){if(l){if(c){var Z=Xn(1,G/r),K=Xn(1,1-Z);H=Xn(1,_+.275*Z*(K-_))}L=An(r,l,H,d)}else L=r/2;void 0===M&&(M=L);var q=Y<I?x(Y/I):1,$=C-Y<j?S((C-Y)/j):1;L=Math.max(.01,L*Math.min(q,$));var Q=(B<e.length-1?e[B+1]:e[B]).vector,J=B<e.length-1?Pn(V,Q):1,ee=null!==J&&J<0;if(Pn(V,R)<0&&!z||ee){for(var te=Ln(Rn(R),L),ne=1/13,re=0;re<=1;re+=ne)F=Bn(_n(X,te),X,Gn*re),A.push(F),O=Bn(Dn(X,te),X,Gn*-re),D.push(O);P=F,N=O,ee&&(z=!0)}else if(z=!1,B!==e.length-1){var ae=Ln(Rn(Hn(Q,V,J)),L);F=_n(X,ae),(B<=1||Fn(P,F)>T)&&(A.push(F),P=F),O=Dn(X,ae),(B<=1||Fn(N,O)>T)&&(D.push(O),N=O),_=H,R=V}else{var ie=Ln(Rn(V),L);A.push(_n(X,ie)),D.push(Dn(X,ie))}}}var oe=e[0].point.slice(0,2),le=e.length>1?e[e.length-1].point.slice(0,2):Dn(e[0].point,[1,1]),se=[],ce=[];if(1===e.length){if(!I&&!j||m){for(var ue=Wn(oe,On(Rn(_n(oe,le))),-(M||L)),de=[],fe=1/13,he=fe;he<=1;he+=fe)de.push(Bn(ue,oe,2*Gn*he));return de}}else{if(!(I||j&&1===e.length))if(b)for(var pe=1/13,ve=pe;ve<=1;ve+=pe){var Ue=Bn(D[0],oe,Gn*ve);se.push(Ue)}else{var me=_n(A[0],D[0]),ge=Ln(me,.5),be=Ln(me,.51);se.push(_n(oe,ge),_n(oe,be),Dn(oe,be),Dn(oe,ge))}var ye=Rn(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(j||I&&1===e.length)ce.push(le);else if(E)for(var xe=Wn(le,ye,L),we=1/29,Ee=we;Ee<1;Ee+=we)ce.push(Bn(xe,le,3*Gn*Ee));else ce.push(Dn(le,Ln(ye,L)),Dn(le,Ln(ye,.99*L)),_n(le,Ln(ye,.99*L)),_n(le,Ln(ye,L)))}return A.concat(ce,D.reverse(),se)}(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.streamline,a=void 0===r?.5:r,i=n.size,o=void 0===i?16:i,l=n.last,s=void 0!==l&&l;if(0===e.length)return[];var c=.15+.85*(1-a),u=Array.isArray(e[0])?e:e.map((function(e){var t=e.x,n=e.y,r=e.pressure;return[t,n,void 0===r?.5:r]}));if(2===u.length){var d=u[1];u=u.slice(0,-1);for(var f=1;f<5;f++)u.push(Hn(u[0],d,f/4))}1===u.length&&(u=[].concat((0,h.default)(u),[[].concat((0,h.default)(Dn(u[0],[1,1])),(0,h.default)(u[0].slice(2)))]));for(var p=[{point:[u[0][0],u[0][1]],pressure:u[0][2]>=0?u[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],v=!1,U=0,m=p[0],g=u.length-1,b=1;b<u.length;b++){var y=s&&b===g?u[b].slice(0,2):Hn(m.point,u[b],c);if(!Nn(m.point,y)){var x=zn(y,m.point);if(U+=x,b<g&&!v){if(U<o)continue;v=!0}m={point:y,pressure:u[b][2]>=0?u[b][2]:.5,vector:On(_n(m.point,y)),distance:x,runningLength:U},p.push(m)}}return p[0].vector=(null==(t=p[1])?void 0:t.vector)||[0,0],p}(e,t),t)}var Zn=n(57456),Kn=n(9950),qn=n(2803),$n=n(44414);function Qn(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Jn(e,t,n){var r=Qn(t,n);if(0===r)return Qn(e,t);var a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return Qn(e,er(t,n,a=Math.max(0,Math.min(1,a))))}function er(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function tr(e,t,n,r){var a=r||[];if(function(e,t){var n=e[t+0],r=e[t+1],a=e[t+2],i=e[t+3],o=3*r[0]-2*n[0]-i[0];o*=o;var l=3*r[1]-2*n[1]-i[1];l*=l;var s=3*a[0]-2*i[0]-n[0];s*=s;var c=3*a[1]-2*i[1]-n[1];return o<s&&(o=s),l<(c*=c)&&(l=c),o+l}(e,t)<n){var i=e[t+0];if(a.length){var o=function(e,t){return Math.sqrt(Qn(e,t))}(a[a.length-1],i);o>1&&a.push(i)}else a.push(i);a.push(e[t+3])}else{var l=.5,s=e[t+0],c=e[t+1],u=e[t+2],d=e[t+3],f=er(s,c,l),h=er(c,u,l),p=er(u,d,l),v=er(f,h,l),U=er(h,p,l),m=er(v,U,l);tr([s,f,v,m],0,n,a),tr([m,U,p,d],0,n,a)}return a}function nr(e,t,n,r,a){for(var i=a||[],o=e[t],l=e[n-1],s=0,c=1,u=t+1;u<n-1;++u){var d=Jn(e[u],o,l);d>s&&(s=d,c=u)}return Math.sqrt(s)>r?(nr(e,t,c+1,r,i),nr(e,c,n,r,i)):(i.length||i.push(o),i.push(l)),i}var rr=n(83144),ar=n(33151),ir=n(87695),or="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function lr(e,t,n){var r=n[0];if(null!=t&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===r||t&&t.slice(-1)===r)throw new Error("trailing zero");if(t){for(var a=0;(e[a]||r)===t[a];)a++;if(a>0)return t.slice(0,a)+lr(e.slice(a),t.slice(a),n)}var i=e?n.indexOf(e[0]):0,o=null!=t?n.indexOf(t[0]):n.length;return o-i>1?n[Math.round(.5*(i+o))]:t&&t.length>1?t.slice(0,1):n[i]+lr(e.slice(1),null,n)}function sr(e){if(e.length!==cr(e[0]))throw new Error("invalid integer part of order key: "+e)}function cr(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function ur(e){var t=cr(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function dr(e,t){if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);var n=ur(e);if(e.slice(n.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function fr(e,t){sr(e);for(var n=e.split(""),r=(0,ir.default)(n),a=r[0],i=r.slice(1),o=!0,l=i.length-1;o&&l>=0;l--){var s=t.indexOf(i[l])+1;s===t.length?i[l]=t[0]:(i[l]=t[s],o=!1)}if(o){if("Z"===a)return"a"+t[0];if("z"===a)return null;var c=String.fromCharCode(a.charCodeAt(0)+1);return c>"a"?i.push(t[0]):i.pop(),c+i.join("")}return a+i.join("")}function hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or;if(null!=e&&dr(e,n),null!=t&&dr(t,n),null!=e&&null!=t&&e>=t)throw new Error(e+" >= "+t);if(null==e){if(null==t)return"a"+n[0];var r=ur(t),a=t.slice(r.length);if(r==="A"+n[0].repeat(26))return r+lr("",a,n);if(r<t)return r;var i=function(e,t){sr(e);for(var n=e.split(""),r=(0,ir.default)(n),a=r[0],i=r.slice(1),o=!0,l=i.length-1;o&&l>=0;l--){var s=t.indexOf(i[l])-1;-1===s?i[l]=t.slice(-1):(i[l]=t[s],o=!1)}if(o){if("a"===a)return"Z"+t.slice(-1);if("A"===a)return null;var c=String.fromCharCode(a.charCodeAt(0)-1);return c<"Z"?i.push(t.slice(-1)):i.pop(),c+i.join("")}return a+i.join("")}(r,n);if(null==i)throw new Error("cannot decrement any more");return i}if(null==t){var o=ur(e),l=e.slice(o.length),s=fr(o,n);return null==s?o+lr(l,null,n):s}var c=ur(e),u=e.slice(c.length),d=ur(t),f=t.slice(d.length);if(c===d)return c+lr(u,f,n);var h=fr(c,n);if(null==h)throw new Error("cannot increment any more");return h<t?h:c+lr(u,null,n)}function pr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:or;if(0===n)return[];if(1===n)return[hr(e,t,r)];if(null==t){for(var a=hr(e,t,r),i=[a],o=0;o<n-1;o++)a=hr(a,t,r),i.push(a);return i}if(null==e){for(var l=hr(e,t,r),s=[l],c=0;c<n-1;c++)l=hr(e,l,r),s.push(l);return s.reverse(),s}var u=Math.floor(n/2),d=hr(e,t,r);return[].concat((0,h.default)(pr(e,d,u,r)),[d],(0,h.default)(pr(d,t,n-u-1,r)))}var vr=function(){if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top}catch(Jg){return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),Ur=vr?n.e(8431).then(n.bind(n,48431)):n.e(196).then(n.bind(n,80196));function mr(){return mr=(0,u.default)((0,c.default)().mark((function e(){var t,n=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}vr?n.e(2682).then(n.bind(n,22682)):n.e(6930).then(n.bind(n,56930));var gr=vr?n.e(6655).then(n.bind(n,46655)):n.e(9743).then(n.bind(n,59743));function br(){return br=(0,u.default)((0,c.default)().mark((function e(){var t,n=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr;case 2:return e.abrupt("return",(t=e.sent).default.apply(t,n));case 3:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}var yr=n(85224),xr=["width","height","mirror","style"],wr=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","index","roundness","boundElements","link","locked"],Er=["selectedElementIds","selectedGroupIds","selectedLinearElementId","editingLinearElementId"],kr=["editingGroupId","selectedGroupIds","selectedElementIds","editingLinearElementId","selectedLinearElementId","croppingElementId"],Sr=["name","viewBackgroundColor"],Mr=["boundElements"],Cr=["index"],Ir=["id","updated","version","versionNonce","seed"],jr=["startHeading","endHeading","startGlobalPoint","endGlobalPoint","hoveredStartElement","hoveredEndElement"],Tr=["startHeading","endHeading","startGlobalPoint","endGlobalPoint","hoveredStartElement","hoveredEndElement"],Ar=["rotation"],Dr=["boundTextFontSize"],_r=5,Lr=5,Rr=4,Pr=1,Nr=[0,2,4,6,8],Fr=function(e,t){return t.map((function(t){return Mn[e][t]}))},Or={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:Fr("gray",Nr),red:Fr("red",Nr),pink:Fr("pink",Nr),grape:Fr("grape",Nr),violet:Fr("violet",Nr),blue:Fr("blue",Nr),cyan:Fr("cyan",Nr),teal:Fr("teal",Nr),green:Fr("green",Nr),yellow:Fr("yellow",Nr),orange:Fr("orange",Nr),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},zr=function(e,t){return t.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{})}(Or,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"]),Br=[Or.black,Or.red[Rr],Or.green[Rr],Or.blue[Rr],Or.yellow[Rr]],Hr=[Or.transparent,Or.red[Pr],Or.green[Pr],Or.blue[Pr],Or.yellow[Pr]],Wr=[Or.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],Xr=(0,v.default)({transparent:Or.transparent,white:Or.white,gray:Or.gray,black:Or.black,bronze:Or.bronze},zr),Vr=(0,v.default)({transparent:Or.transparent,white:Or.white,gray:Or.gray,black:Or.black,bronze:Or.bronze},zr),Gr=function(e,t,n){return"#".concat(((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1))},Yr=/Mac|iPod|iPhone|iPad/.test(navigator.platform),Zr=/^Win/.test(navigator.platform),Kr=/\b(android)\b/i.test(navigator.userAgent),qr="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,$r=!(-1!==navigator.userAgent.indexOf("Chrome"))&&-1!==navigator.userAgent.indexOf("Safari"),Qr=/iPad|iPhone/.test(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,Jr=function(){var e;return"isBrave"===(null===(e=navigator.brave)||void 0===e||null===(e=e.isBrave)||void 0===e?void 0:e.name)},ea=typeof window<"u"&&"ResizeObserver"in window,ta="Excalidraw",na=10,ra=8,aa=5,ia=1,oa=30,la=Math.PI/12,sa="red",ca={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},ua={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1,ERASER:5},da={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"},fa={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},ha={TEST:"test",DEVELOPMENT:"development"},pa={SHAPE_ACTIONS_MENU:"App-menu__left",ZOOM_ACTIONS:"zoom-actions",SEARCH_MENU_INPUT_WRAPPER:"layer-ui__search-inputWrapper"},va="Xiaolai",Ua="Segoe UI Emoji",ma={Virgil:1,Helvetica:2,Cascadia:3,Excalifont:5,Nunito:6,"Lilita One":7,"Comic Shanns":8,"Liberation Sans":9},ga=(0,p.default)((0,p.default)({},va,100),Ua,1e3),ba=function(e){return e===ma.Excalifont?[va,Ua]:[Ua]},ya={LIGHT:"light",DARK:"dark"},xa={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},wa=20,Ea=ma.Excalifont,ka="left",Sa="top",Ma=2,Ca=2*Ma,Ia=2*Ca-1e-5,ja="#ffffff",Ta="#1e1e1e",Aa="#a2f1a6",Da=20,_a={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},La=(0,v.default)({text:"text/plain",html:"text/html",json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},_a),Ra=[La.text,La.html].concat((0,h.default)(Object.values(_a))),Pa={png:"png",svg:"svg",clipboard:"clipboard"},Na={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},Fa=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,Oa=500,za=300,Ba=500,Ha=100,Wa=.1,Xa=.1,Va=30,Ga=300,Ya="invert(93%) hue-rotate(180deg)",Za={addLibrary:"addLibrary"},Ka={addLibrary:"addLibrary"},qa={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},$a=730,Qa=1e3,Ja=500,ei=1229,ti=[1,2,3],ni=10,ri=1440,ai=4194304,ii="http://www.w3.org/2000/svg",oi={excalidraw:2,excalidrawLibrary:2},li=5,si={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},ci={LEFT:"left",CENTER:"center",RIGHT:"right"},ui=.25,di={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},fi=1,hi=2,pi={thin:1,bold:2,extraBold:4},vi={strokeColor:Or.black,backgroundColor:Or.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:fi,opacity:100,locked:!1},Ui="library",mi="search",gi={name:"default",defaultTab:Ui},bi=new Set(["iframe","embeddable","image"]),yi={selection:"selection",rectangle:"rectangle",diamond:"diamond",ellipse:"ellipse",arrow:"arrow",line:"line",freedraw:"freedraw",text:"text",image:"image",eraser:"eraser",hand:"hand",frame:"frame",magicframe:"magicframe",embeddable:"embeddable",laser:"laser"},xi={OAI_API_KEY:"excalidraw-oai-api-key",MERMAID_TO_EXCALIDRAW:"mermaid-to-excalidraw",PUBLISH_LIBRARY:"publish-library-data"},wi="Untitled",Ei={generalStats:1,elementProperties:2},ki=1,Si={sharp:"sharp",round:"round",elbow:"elbow"},Mi=.3,Ci="element",Ii=Symbol.for("__test__originalId__"),ji=function(e){return e.ACTIVE="active",e.AWAY="away",e.IDLE="idle",e}(ji||{}),Ti=ti.includes(devicePixelRatio)?devicePixelRatio:1,Ai=function(){return{showWelcomeScreen:!1,theme:ya.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:vi.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:vi.fillStyle,currentItemFontFamily:Ea,currentItemFontSize:wa,currentItemOpacity:vi.opacity,currentItemRoughness:vi.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:vi.strokeColor,currentItemRoundness:"round",currentItemArrowType:Si.round,currentItemStrokeStyle:vi.strokeStyle,currentItemStrokeWidth:vi.strokeWidth,currentItemTextAlign:ka,currentHoveredFontFamily:null,cursorButton:"up",activeEmbeddable:null,newElement:null,editingTextElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:vi.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:Ti,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:Da,gridStep:5,gridModeEnabled:!1,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:null,contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},hoveredElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,stats:{open:!1,panels:Ei.generalStats|Ei.elementProperties},startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:Or.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1,userToFollow:null,followedBy:new Set,isCropping:!1,croppingElementId:null,searchMatches:[]}},Di={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemArrowType:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},currentHoveredFontFamily:{browser:!1,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},newElement:{browser:!1,export:!1,server:!1},editingTextElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},gridStep:{browser:!0,export:!0,server:!0},gridModeEnabled:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},hoveredElementIds:{browser:!1,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},stats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1},userToFollow:{browser:!1,export:!1,server:!1},followedBy:{browser:!1,export:!1,server:!1},isCropping:{browser:!1,export:!1,server:!1},croppingElementId:{browser:!1,export:!1,server:!1},searchMatches:{browser:!1,export:!1,server:!1}},_i=function(e,t){for(var n={},r=0,a=Object.keys(e);r<a.length;r++){var i,o=a[r];if(null!==(i=Di[o])&&void 0!==i&&i[t]){var l=e[o];n[o]=l}}return n},Li=function(e){return _i(e,"export")},Ri=function(e){return _i(e,"server")},Pi=function(e){return"eraser"===e.activeTool.type},Ni=function(e){return"hand"===e.activeTool.type},Fi=function(e,t,n){return Math.min(Math.max(e,t),n)},Oi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round",r=Math.pow(10,t);return Math[n]((e+Number.EPSILON)*r)/r},zi=function(e,t){var n=1/t;return Math[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"round"](e*n)/n},Bi=function(e,t){return(e+t)/2},Hi=function(e){return"number"==typeof e&&Number.isFinite(e)},Wi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e-t)<n},Xi=function(e){return e<0?e+2*Math.PI:e>=2*Math.PI?e-2*Math.PI:e};function Vi(e){return e*Math.PI/180}function Gi(e){return 180*e/Math.PI}function Yi(e,t){return[e-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),t-(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)]}function Zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return Yi(e[0]-t[0],e[1]-t[1])}function Ki(e,t){return e[0]*t[1]-t[0]*e[1]}function qi(e,t){return e[0]*t[0]+e[1]*t[1]}function $i(e,t){return[e[0]+t[0],e[1]+t[1]]}function Qi(e,t){return[e[0]-t[0],e[1]-t[1]]}function Ji(e,t){return Yi(e[0]*t,e[1]*t)}var eo=function(e){var t=function(e){return Math.sqrt(function(e){return e[0]*e[0]+e[1]*e[1]}(e))}(e);return 0===t?Yi(0,0):Yi(e[0]/t,e[1]/t)};function to(e,t){return[e,t]}function no(e){return 2===e.length?to(e[0],e[1]):void 0}function ro(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:to(0,0);return to(t[0]+e[0],t[1]+e[1])}function ao(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&!isNaN(e[0])&&"number"==typeof e[1]&&!isNaN(e[1])}function io(e,t){var n=Math.abs;return n(e[0]-t[0])<1e-4&&n(e[1]-t[1])<1e-4}function oo(e,t,n){var r=(0,f.default)(e,2),a=r[0],i=r[1],o=(0,f.default)(t,2),l=o[0],s=o[1];return to((a-l)*Math.cos(n)-(i-s)*Math.sin(n)+l,(a-l)*Math.sin(n)+(i-s)*Math.cos(n)+s)}function lo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return to(e[0]+t[0],e[1]+t[1])}function so(e,t){return to((e[0]+t[0])/2,(e[1]+t[1])/2)}function co(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}function uo(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}var fo=function(e,t,n){return lo(t,Ji(Zi(e,t),n))},ho=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])};function po(e,t){return[e,t]}function vo(e,t){return[e,t]}var Uo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4,r=mo(e,t);return 0===r||r<n},mo=function(e,t){var n,r,a=(0,f.default)(e,2),i=a[0],o=a[1],l=(0,f.default)(t,2),s=(0,f.default)(l[0],2),c=s[0],u=s[1],d=(0,f.default)(l[1],2),h=d[0],p=d[1],v=h-c,U=p-u,m=v*v+U*U,g=-1;0!==m&&(g=((i-c)*v+(o-u)*U)/m),g<0?(n=c,r=u):g>1?(n=h,r=p):(n=c+g*v,r=u+g*U);var b=i-n,y=o-r;return Math.sqrt(b*b+y*y)};function go(e,t){var n=function(e,t){var n=e[1][1]-e[0][1],r=e[0][0]-e[1][0],a=t[1][1]-t[0][1],i=t[0][0]-t[1][0],o=n*i-a*r;if(0!==o){var l=n*e[0][0]+r*e[0][1],s=a*t[0][0]+i*t[0][1];return to((l*i-s*r)/o,(n*s-a*l)/o)}return null}(po(e[0],e[1]),po(t[0],t[1]));return n&&Uo(n,t)&&Uo(n,e)?n:null}function bo(e,t){return[e,t]}function yo(e,t,n,r){return[e,t,n,r]}function xo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return[(e(t+r,n)-e(t-r,n))/(2*r),(e(t,n+r)-e(t,n-r))/(2*r)]}var wo=function(e,t){return to(Math.pow(1-t,3)*e[0][0]+3*Math.pow(1-t,2)*t*e[1][0]+3*(1-t)*Math.pow(t,2)*e[2][0]+Math.pow(t,3)*e[3][0],Math.pow(1-t,3)*e[0][1]+3*Math.pow(1-t,2)*t*e[1][1]+3*(1-t)*Math.pow(t,2)*e[2][1]+Math.pow(t,3)*e[3][1])};function Eo(e,t){var n=function(e){var t=(0,f.default)(e,4),n=t[0],r=t[1],a=t[2],i=t[3],o=[n[0],r[0],a[0],i[0]],l=[n[1],r[1],a[1],i[1]];return[Math.min.apply(Math,o),Math.min.apply(Math,l),Math.max.apply(Math,o),Math.max.apply(Math,l)]}(e);if(0===function(e,t){return[vo(e[0],to(e[1][0],e[0][1])),vo(to(e[1][0],e[0][1]),e[1]),vo(e[1],to(e[0][0],e[1][1])),vo(to(e[0][0],e[1][1]),e[0])].map((function(e){return go(t,e)})).filter((function(e){return!!e}))}(bo(to(n[0],n[1]),to(n[2],n[3])),t).length)return[];var r=[[.5,0],[.2,0],[.8,0]],a=function(n){var r=(0,f.default)(n,2),a=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,i=1/0,o=0;i>=r;){if(o>=a)return null;var l=e(t,n),s=[xo((function(t,n){return e(t,n)[0]}),t,n),xo((function(t,n){return e(t,n)[1]}),t,n)],c=[[-l[0]],[-l[1]]],u=s[0][0]*s[1][1]-s[0][1]*s[1][0];if(0===u)return null;var d=[[s[1][1]/u,-s[0][1]/u],[-s[1][0]/u,s[0][0]/u]],h=[[d[0][0]*c[0][0]+d[0][1]*c[1][0]],[d[1][0]*c[0][0]+d[1][1]*c[1][0]]];t+=h[0][0],n+=h[1][0];var p=e(t,n),v=(0,f.default)(p,2),U=v[0],m=v[1];i=Math.max(Math.abs(U),Math.abs(m)),o+=1}return[t,n]}((function(n,r){var a=wo(e,n),i=function(e){return to(t[0][0]+e*(t[1][0]-t[0][0]),t[0][1]+e*(t[1][1]-t[0][1]))}(r);return[a[0]-i[0],a[1]-i[1]]}),r[0],r[1]);if(!a)return null;var i=(0,f.default)(a,2),o=i[0],l=i[1];return o<0||o>1||l<0||l>1?null:wo(e,o)},i=a(r[0]);return i?[i]:(i=a(r[1]))?[i]:(i=a(r[2]))?[i]:[]}function ko(e,t){var n=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001,r=0,a=1/0,i=0;i<30;i++){var o=co(t,wo(e,i/30));o<a&&(a=o,r=i)}var l=function(e,t,r){for(var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=e,l=t;l-o>i;)r((a=(l+o)/2)-i)<r(a+i)?l=a:o=a;return a}(Math.max((r-1)/30,0),Math.min((r+1)/30,1),(function(n){return co(t,wo(e,n))}));return l?wo(e,l):null}(e,t);return n?co(t,n):0}function So(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Io(t)}function Mo(e){return Io(e)}var Co=function(e,t){for(var n=e[0],r=e[1],a=!1,i=0,o=t.length-1;i<t.length;o=i++){var l=t[i][0],s=t[i][1],c=t[o][0],u=t[o][1];(s>r&&u<=r||s<=r&&u>r)&&n<(c-l)*(r-s)/(u-s)+l&&(a=!a)}return a};function Io(e){return function(e){return io(e[0],e[e.length-1])}(e)?e:[].concat((0,h.default)(e),[e[0]])}function jo(e,t){return Bl([e,t])}var To=function(e,t){var n=(0,f.default)(e,2),r=n[0],a=n[1],i=(0,f.default)(t,2),o=i[0],l=i[1];return r<=o?a>=o:r>=o&&l>=r},Ao=function(e,t){var n=(0,f.default)(e,2),r=n[0],a=n[1],i=(0,f.default)(t,2),o=i[0],l=i[1],s=Math.max(r,o),c=Math.min(a,l);return s<=c?Bl([s,c]):null},Do=function(e,t){var n=(0,f.default)(t,2),r=n[0],a=n[1];return e>=r&&e<=a};function _o(e,t){var n=(0,f.default)(e,3),r=n[0],a=n[1],i=n[2],o=function(e,t,n){return(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1])},l=o(t,r,a),s=o(t,a,i),c=o(t,i,r);return!((l<0||s<0||c<0)&&(l>0||s>0||c>0))}var Lo=function(){var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),a="".concat(e.getHours()).padStart(2,"0"),i="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(a).concat(i)},Ro=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Po=function(e){return e instanceof HTMLElement&&e.className.includes("ToolIcon")},No=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement},Fo=function(e){return No(e)||e instanceof Element&&!!e.closest("label, button")},Oo=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type||"password"===e.type)},zo=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(ma);n<r.length;n++){var a=(0,f.default)(r[n],2),i=a[0],o=a[1];if(o===t)return"".concat(i).concat(ba(o).map((function(e){return", ".concat(e)})).join(""))}return Ua},Bo=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(zo({fontFamily:n}))},Ho=function(e,t){var n=0,r=null,a=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];r=i,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,i)}),t)};return a.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,(0,h.default)(t))}},a.cancel=function(){r=null,clearTimeout(n)},a},Wo=function(e,t){var n=null,r=null,a=null,i=function(t){n=window.requestAnimationFrame((function(){n=null,e.apply(void 0,(0,h.default)(t)),r=null,a&&(r=a,a=null,i(r))}))},o=function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];"test"!==U.a.MODE?(r=l,null===n?i(r):(null===t||void 0===t?void 0:t.trailing)&&(a=l)):e.apply(void 0,l)};return o.flush=function(){null!==n&&(cancelAnimationFrame(n),n=null),r&&(e.apply(void 0,(0,h.default)(a||r)),r=a=null)},o.cancel=function(){r=a=null,null!==n&&(cancelAnimationFrame(n),n=null)},o},Xo=function(e){return 1-Math.pow(1-e,4)},Vo=function(e,t,n){return(t-e)*Xo(n)+e},Go=function(e){var t,n=e.fromValues,r=e.toValues,a=e.onStep,i=e.duration,o=void 0===i?250:i,l=e.interpolateValue,s=e.onStart,c=e.onEnd,u=e.onCancel,d=!1,f=0;return f=window.requestAnimationFrame((function e(i){if(!d){void 0===t&&(t=i,null===s||void 0===s||s());var u=Math.min(i-t,o),h=Xo(u/o),p={};if(Object.keys(n).forEach((function(e){var t=e,a=(r[t]-n[t])*h+n[t];p[t]=a})),a(p),u<o){var v=u/o,U={};Object.keys(n).forEach((function(e){var t,a=e,i=n[a],o=r[a];null==(t=l?l(i,o,v,a):Vo(i,o,v))&&(t=Vo(i,o,v)),U[a]=t})),a(U),f=window.requestAnimationFrame(e)}else a(r),null===c||void 0===c||c()}})),function(){null!==u&&void 0!==u&&u(),d=!0,window.cancelAnimationFrame(f)}},Yo=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,a=Array(Math.ceil(e.length/t));n<e.length;)a[r++]=e.slice(n,n+=t);return a},Zo=function(e,t){return Math.abs(e-t)},Ko=function(e,t){var n,r;return"custom"===t.type?(0,v.default)((0,v.default)({},e.activeTool),{},{type:"custom",customType:t.customType,locked:null!==(n=t.locked)&&void 0!==n?n:e.activeTool.locked}):(0,v.default)((0,v.default)({},e.activeTool),{},{lastActiveTool:void 0===t.lastActiveToolBeforeEraser?e.activeTool.lastActiveTool:t.lastActiveToolBeforeEraser,type:t.type,customType:null,locked:null!==(r=t.locked)&&void 0!==r?r:e.activeTool.locked})},qo=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),Yr?e.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},$o=function(e,t){var n=e.clientX,r=e.clientY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,l=t.scrollX,s=t.scrollY;return{x:(n-i)/a.value-l,y:(r-o)/a.value-s}},Qo=function(e,t){var n=e.sceneX,r=e.sceneY,a=t.zoom,i=t.offsetLeft,o=t.offsetTop,l=t.scrollX,s=t.scrollY;return{x:(n+l)*a.value+i,y:(r+s)*a.value+o}},Jo=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},el=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),tl=function(e){return el.test(e)},nl=function(e){var t=(0,f.default)(e,2);return{x:t[0],y:t[1]}},rl=function(e){if("AbortError"!==(null===e||void 0===e?void 0:e.name))throw e;console.warn(e)},al=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1},il=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1},ol=function(e){var t=5===e.length&&"0"===e.substr(4,1),n=9===e.length&&"00"===e.substr(7,2);return t||n||e===Or.transparent},ll=function(e){return"solid"!==e.fillStyle||ol(e.backgroundColor)},sl=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},cl=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n||"overlay"===n))return t;t=t.parentElement}return document},ul=function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}},dl=function(e){e.preventDefault(),e.returnValue=""},fl=function(e){return Array.from(e).map((function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")},hl=function(){return gl()?1:Date.now()},pl=function(e){return e instanceof Map?e:e.reduce((function(e,t){return e.set("string"==typeof t?t:t.id,t),e}),new Map)},vl=function(e){return e.reduce((function(e,t,n){return e.set(t.id,[t,n]),e}),new Map)},Ul=function(e,t){return e.reduce((function(e,n){return e[t?t(n):String(n)]=n,e}),{})},ml=function(e){return e.reduce((function(t,n,r){var a=(0,v.default)((0,v.default)({},n),{},{prev:null,next:null});if(0!==r){var i=t[r-1];if(a.prev=i,i.next=a,r===e.length-1){var o=t[0];a.next=o,o.prev=a}}return t.push(a),t}),[])},gl=function(){return"test"===U.a.MODE},bl=function(){return"development"===U.a.MODE},yl=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})},xl=function(e,t){var n=!1;for(var r in t){var a=t[r];if(typeof a<"u"){if(e[r]===a&&("object"!=typeof a||null===a))continue;n=!0}}return n?(0,v.default)((0,v.default)({},e),t):e},wl=function(){try{return window.self===window.top?"top":"iframe"}catch(e){return"iframe"}},El=function(e){return!!e&&"object"==typeof e&&"then"in e&&"catch"in e&&"finally"in e},kl=function(e){var t=null===e||void 0===e?void 0:e.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return t?Array.from(t).filter((function(e){return e.tabIndex>-1&&!e.disabled})):[]},Sl=function(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t},Ml=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return r&&console.warn("%cisShallowEqual: objects don't have same properties ->","color: #8B4000",e,t),!1;if(n&&Array.isArray(n)){var o,l=(0,d.default)(n);try{for(l.s();!(o=l.n()).done;){var s=o.value;if(e[s]!==t[s]&&!Sl(e[s],t[s]))return r&&console.warn("%cisShallowEqual: ".concat(s," not equal ->"),"color: #8B4000",e[s],t[s]),!1}}catch(Be){l.e(Be)}finally{l.f()}return!0}return a.every((function(a){var i=null===n||void 0===n?void 0:n[a],o=i?i(e[a],t[a]):e[a]===t[a]||Sl(e[a],t[a]);return!o&&r&&console.warn("%cisShallowEqual: ".concat(a," not equal ->"),"color: #8B4000",e[a],t[a]),o}))},Cl=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null!==e&&void 0!==e&&e(n),!r||null===n||void 0===n||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}},Il=function(e,t,n){if(!t)return e;if(n)return console.error(t),e;throw new Error(t)};function jl(e,t){if(!e)throw new Error(t)}var Tl=function(e){var t,n,r=function(r){var a=Object.entries(r);if(t){var i,o=!0,l=(0,d.default)(a);try{for(l.s();!(i=l.n()).done;){var s=(0,f.default)(i.value,2),c=s[0],u=s[1];if(t.get(c)!==u){o=!1;break}}}catch(Be){l.e(Be)}finally{l.f()}if(o)return n}var h=e(r);return t=new Map(a),n=h,h};return r.clear=function(){t=void 0,n=void 0},r},Al=function(e,t){return e instanceof Set||e instanceof Map?e.has(t):"includes"in e?e.includes(t):e.hasOwnProperty(t)},Dl=function(e){return JSON.parse(JSON.stringify(e))},_l=function(e,t){return Ml(e,t)?e:t};function Ll(e,t,n,r){var a;return e?(null!==e&&void 0!==e&&null!==(a=e.addEventListener)&&void 0!==a&&a.call(e,t,n,r),function(){var a;null===e||void 0===e||null===(a=e.removeEventListener)||void 0===a||a.call(e,t,n,r)}):function(){}}function Rl(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.length;if(n<4)return"";for(var r=e[0],a=e[1],i=e[2],o="M".concat(r[0].toFixed(2),",").concat(r[1].toFixed(2)," Q").concat(a[0].toFixed(2),",").concat(a[1].toFixed(2)," ").concat(Bi(a[0],i[0]).toFixed(2),",").concat(Bi(a[1],i[1]).toFixed(2)," T"),l=2,s=n-1;l<s;l++)r=e[l],a=e[l+1],o+="".concat(Bi(r[0],a[0]).toFixed(2),",").concat(Bi(r[1],a[1]).toFixed(2)," ");return t&&(o+="Z"),o}var Pl,Nl,Fl,Ol,zl=function(e){return e.replace(/\r?\n|\r/g,"\n")},Bl=function(e){return e},Hl=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.abrupt("return",new Promise((function(e){e(t.apply(void 0,r))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Math.max.apply(Math,(0,h.default)(t.map((function(e){return e?1:0}))))>0},Xl=function(){return(0,s.default)((function e(t,n){(0,l.default)(this,e),(0,m.d)(this,"pool"),(0,m.d)(this,"entries",{}),this.pool=new jn(t,n)}),[{key:"all",value:function(){var e=this,t=function(t){if(t.data.result){var n=(0,f.default)(t.data.result,2),r=n[0],a=n[1];e.entries[r]=a}};return this.pool.addEventListener("fulfilled",t),this.pool.start().then((function(){return setTimeout((function(){e.pool.removeEventListener("fulfilled",t)})),Object.values(e.entries)}))}}])}(),Vl=function(e){return e.replace(/"/g,"&quot;")},Gl=function(e){return Array.isArray(e)?e:[e]},Yl=function(e){return!!e&&"image"===e.type&&!!e.fileId},Zl=function(e){return!!e&&"image"===e.type},Kl=function(e){return!!e&&"embeddable"===e.type},ql=function(e){return!!e&&"iframe"===e.type},$l=function(e){return!!e&&("iframe"===e.type||"embeddable"===e.type)},Ql=function(e){return null!=e&&"text"===e.type},Jl=function(e){return null!=e&&"frame"===e.type},es=function(e){return null!=e&&"magicframe"===e.type},ts=function(e){return null!=e&&("frame"===e.type||"magicframe"===e.type)},ns=function(e){return null!=e&&rs(e.type)},rs=function(e){return"freedraw"===e},as=function(e){return null!=e&&ls(e.type)},is=function(e){return null!=e&&"arrow"===e.type},os=function(e){return is(e)&&e.elbowed},ls=function(e){return"arrow"===e||"line"===e},ss=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&cs(e.type)},cs=function(e){return"arrow"===e},us=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"image"===e.type||"iframe"===e.type||"embeddable"===e.type||"frame"===e.type||"magicframe"===e.type||"text"===e.type&&!e.containerId)},ds=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=e&&(!e.locked||!0===t)&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||is(e))},fs=function(e){var t=null===e||void 0===e?void 0:e.type;if(!t)return!1;switch(t){case"text":case"diamond":case"rectangle":case"iframe":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"magicframe":case"image":case"selection":return!0;default:return Il(t,null),!1}},hs=function(e){return"rectangle"===e.type||"ellipse"===e.type||"diamond"===e.type},ps=function(e){var t;return ds(e)&&!(null===(t=e.boundElements)||void 0===t||!t.some((function(e){return"text"===e.type})))},vs=function(e){return null!==e&&"containerId"in e&&null!==e.containerId&&Ql(e)},Us=function(e){return"rectangle"===e||"embeddable"===e||"iframe"===e||"image"===e},ms=function(e){return"line"===e||"arrow"===e||"diamond"===e},gs=function(e,t){return!!((e===di.ADAPTIVE_RADIUS||e===di.LEGACY)&&Us(t.type)||e===di.PROPORTIONAL_RADIUS&&ms(t.type))},bs=function(e){return ms(e.type)?{type:di.PROPORTIONAL_RADIUS}:Us(e.type)?{type:di.ADAPTIVE_RADIUS}:null},ys=function(e){return Object.hasOwn(e,"fixedPoint")&&null!=e.fixedPoint},xs=function(e,t,n){var r=e.split("\n").map((function(e){return e||" "})).join("\n"),a=parseFloat(t),i=_s(r,a,n);return{width:Ds(r,t),height:i}},ws="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),Es=function(e,t){var n=Rs(e);return 0===n?xs(ws.split("").join("\n"),e,t).width+2*li:n+2*li},ks=function(e,t){return xs("",e,t).width+2*li},Ss=function(){return Ds(ws,Bo({fontSize:wa,fontFamily:Ea}))>0},Ms=function(e){return zl(e).replace(/\t/g,"        ")},Cs=function(e){return Ms(e).split("\n")},Is=function(e,t){return e*t},js=function(e,t){return Is(e,t)+2*li},Ts=function(){return(0,s.default)((function e(){(0,l.default)(this,e),(0,m.d)(this,"canvas"),this.canvas=document.createElement("canvas")}),[{key:"getLineWidth",value:function(e,t){var n=this.canvas.getContext("2d");n.font=t;var r=n.measureText(e).width;return gl()?10*r:r}}])}(),As=function(e,t){return Pl||(Pl=new Ts),Pl.getLineWidth(e,t)},Ds=function(e,t){var n=Cs(e),r=0;return n.forEach((function(e){r=Math.max(r,As(e,t))})),r},_s=function(e,t,n){var r=Cs(e).length;return Is(t,n)*r},Ls=function(){var e={};return{calculate:function(t,n){var r=t.charCodeAt(0);if(e[n]||(e[n]=[]),!e[n][r]){var a=As(t,n);e[n][r]=a}return e[n][r]},getCache:function(t){return e[t]},clearCache:function(t){e[t]=[]}}}(),Rs=function(e){var t=Ls.getCache(e);if(!t)return 0;var n=t.filter((function(e){return void 0!==e}));return Math.max.apply(Math,(0,h.default)(n))},Ps=function(){return Ol||(Ol=Vs()),Ol},Ns=/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/,Fs=/-/,Os=/<\(\[\{/,zs=/>\)\]\}(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]),:;!\?\u2026\//,Bs={CHAR:/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\u3041-\u3096\u309D-\u309F]|\uD82C[\uDC01-\uDD1F\uDD32\uDD50-\uDD52]|\uD83C\uDE00)(?:[\u30A1-\u30FA\u30FD-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF6F\uFF71-\uFF9D]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00\uDD20-\uDD22\uDD55\uDD64-\uDD67])[\u1100-\u11FF\u302E\u302F\u3131-\u318E\u3200-\u321E\u3260-\u327E\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]\uFF40\uFF07\uFF3E\u3003\u3030\u3006\uFF03\uFF06\uFF0A\uFF0B\uFF0D\u30FC\uFF0F\uFF3C\uFF1D\uFF5C\uFFE4\u3012\uFFE2\uFFE3/,OPENING:/\uFF08\uFF3B\uFF5B\u3008\u300A\uFF5F\uFF62\u300C\u300E\u3010\u3016\u3014\u3018\u301A\uFF1C\u301D/,CLOSING:/\uFF09\uFF3D\uFF5D\u3009\u300B\uFF60\uFF63\u300D\u300F\u3011\u3017\u3015\u3019\u301B\uFF1E\u3002\uFF0E\uFF0C\u3001\u301F\u2025\uFF1F\uFF01\uFF1A\uFF1B\u30FB\u301C\u301E/,CURRENCY:/\uFFE5\uFFE6\uFFE1\uFFE0\uFF04/},Hs={FLAG:/(?:\uD83C[\uDDE6-\uDDFF])(?:\uD83C[\uDDE6-\uDDFF])/,JOINER:/(?:(?:\uD83C[\uDFFB-\uDFFF])|\uFE0F\u20E3?|(?:\uDB40[\uDC20-\uDC7E])+(?:\uDB40\uDC7F))?/,ZWJ:/\u200D/,ANY:/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8])/,MOST:/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDFF\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFF]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])/},Ws=function(){return Gs.or(Ps(),Ys.On(Fs,Ns,Bs.CHAR))},Xs=function(){return Gs.or(Ps(),Ys.Before(Ns).Build(),Ys.After(Ns,Fs).Build(),Ys.Before(Bs.CHAR,Bs.CURRENCY).NotPrecededBy(Os,Bs.OPENING).Build(),Ys.After(Bs.CHAR).NotFollowedBy(Fs,zs,Bs.CLOSING).Build(),Ys.BeforeMany(Bs.OPENING).NotPrecededBy(Os).Build(),Ys.AfterMany(Bs.CLOSING).NotFollowedBy(zs).Build(),Ys.AfterMany(zs).FollowedBy(Os).Build())},Vs=function(){return Gs.group(Gs.or(Hs.FLAG,Gs.and(Hs.MOST,Hs.JOINER,Gs.build("(?:".concat(Hs.ZWJ.source,"(?:").concat(Hs.FLAG.source,"|").concat(Hs.ANY.source).concat(Hs.JOINER.source,"))*")))))},Gs={build:function(e){return new RegExp(e,"u")},join:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return e.source})).join("")},and:function(){return Gs.build(Gs.join.apply(Gs,arguments))},or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Gs.build(t.map((function(e){return e.source})).join("|"))},group:function(){return Gs.build("(".concat(Gs.join.apply(Gs,arguments),")"))},class:function(){return Gs.build("[".concat(Gs.join.apply(Gs,arguments),"]"))}},Ys={On:function(){var e=Gs.join.apply(Gs,arguments);return Gs.build("([".concat(e,"])"))},Before:function(){var e=Gs.join.apply(Gs,arguments);return Ys.Chain((function(){return Gs.build("(?=[".concat(e,"])"))}))},After:function(){var e=Gs.join.apply(Gs,arguments);return Ys.Chain((function(){return Gs.build("(?<=[".concat(e,"])"))}))},BeforeMany:function(){var e=Gs.join.apply(Gs,arguments);return Ys.Chain((function(){return Gs.build("(?<![".concat(e,"])(?=[").concat(e,"])"))}))},AfterMany:function(){var e=Gs.join.apply(Gs,arguments);return Ys.Chain((function(){return Gs.build("(?<=[".concat(e,"])(?![").concat(e,"])"))}))},NotBefore:function(){var e=Gs.join.apply(Gs,arguments);return Ys.Chain((function(){return Gs.build("(?![".concat(e,"])"))}))},NotAfter:function(){var e=Gs.join.apply(Gs,arguments);return Ys.Chain((function(){return Gs.build("(?<![".concat(e,"])"))}))},Chain:function(e){return{Build:e,PreceededBy:function(){var t=e(),n=Ys.After.apply(Ys,arguments).Build();return Ys.Chain((function(){return Gs.and(n,t)}))},FollowedBy:function(){var t=e(),n=Ys.Before.apply(Ys,arguments).Build();return Ys.Chain((function(){return Gs.and(t,n)}))},NotPrecededBy:function(){var t=e(),n=Ys.NotAfter.apply(Ys,arguments).Build();return Ys.Chain((function(){return Gs.and(n,t)}))},NotFollowedBy:function(){var t=e(),n=Ys.NotBefore.apply(Ys,arguments).Build();return Ys.Chain((function(){return Gs.and(t,n)}))}}}},Zs=function(e){var t=function(){if(!Fl)try{Fl=Xs()}catch(e){Fl=Ws()}return Fl}();return e.normalize("NFC").split(t).filter(Boolean)},Ks=function(e,t,n){if(!Number.isFinite(n)||n<0)return e;var r,a=[],i=e.split("\n"),o=(0,d.default)(i);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(As(l,t)<=n)a.push(l);else{var s=qs(l,t,n);a.push.apply(a,(0,h.default)(s))}}}catch(Be){o.e(Be)}finally{o.f()}return a.join("\n")},qs=function(e,t,n){for(var r=[],a=Zs(e)[Symbol.iterator](),i="",o=0,l=a.next();!l.done;){var s=l.value,c=i+s,u=Js(s)?o+Ls.calculate(s,t):As(c,t);if(/\s/.test(s)||u<=n)i=c,o=u,l=a.next();else if(i)r.push(i.trimEnd()),i="",o=0;else{var d,f=$s(s,t,n),p=null!==(d=f[f.length-1])&&void 0!==d?d:"",v=f.slice(0,-1);r.push.apply(r,(0,h.default)(v)),i=p,o=As(p,t),l=a.next()}}if(i){var U=Qs(i,t,n);r.push(U)}return r},$s=function(e,t,n){if(Ps().test(e))return[e];ec(e);for(var r=[],a="",i=0,o=0,l=Array.from(e);o<l.length;o++){var s=l[o],c=Ls.calculate(s,t),u=i+c;u<=n?(a+=s,i=u):(a&&r.push(a),a=s,i=c)}return a&&r.push(a),r},Qs=function(e,t,n){var r;if(!(As(e,t)>n))return e;for(var a=null!==(r=e.match(/^(.+?)(\s+)$/))&&void 0!==r?r:[e,e.trimEnd(),""],i=(0,f.default)(a,3),o=i[1],l=i[2],s=As(o,t),c=0,u=Array.from(l);c<u.length;c++){var d=u[c],h=s+Ls.calculate(d,t);if(h>n)break;o+=d,s=h}return o},Js=function(e){return void 0!==e.codePointAt(0)&&void 0===e.codePointAt(1)},ec=function(e){if((U.a.MODE===ha.TEST||U.a.DEV)&&/\s/.test(e))throw new Error("Word should not contain any whitespaces!")},tc=(0,s.default)((function e(){(0,l.default)(this,e)}));(0,m.d)(tc,"rg",new Zn.f),(0,m.d)(tc,"cache",new WeakMap),(0,m.d)(tc,"get",(function(e){return tc.cache.get(e)})),(0,m.d)(tc,"set",(function(e,t){return tc.cache.set(e,t)})),(0,m.d)(tc,"delete",(function(e){return tc.cache.delete(e)})),(0,m.d)(tc,"destroy",(function(){tc.cache=new WeakMap})),(0,m.d)(tc,"generateElementShape",(function(e,t){var n=null!==t&&void 0!==t&&t.isExporting?void 0:tc.get(e);if(void 0!==n)return n;Yh.delete(e);var r=Cp(e,tc.rg,t||{isExporting:!1,canvasBackgroundColor:Or.white,embedsValidationStatus:null});return tc.cache.set(e,r),r}));var nc=tc,rc=function(e){return e===ya.LIGHT?Mn.white:"#1e1e1e"},ac=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"==typeof t?{width:t}:t,r=n.width,a=void 0===r?512:r,i=n.height,l=void 0===i?a:i,s=n.mirror,c=n.style,u=(0,o.default)(n,xr);return(0,$n.jsx)("svg",(0,v.default)((0,v.default)({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(a," ").concat(l),className:(0,qn.A)({"rtl-mirror":s}),style:c},u),{},{children:"string"==typeof e?(0,$n.jsx)("path",{fill:"currentColor",d:e}):e}))},ic={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},oc={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},lc=(ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,$n.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,$n.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,$n.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),ic),ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,$n.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,$n.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,$n.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,$n.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),ic)),sc=ac((0,$n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,$n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ic),cc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,$n.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,$n.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),ic),uc=ac((0,$n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,$n.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,$n.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),ic),dc=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,$n.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,$n.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,$n.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),oc),fc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,$n.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,$n.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),oc),hc=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,$n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,$n.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),pc=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,$n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,$n.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),vc=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,$n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,$n.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),Uc=(ac((0,$n.jsx)("g",{fill:"currentColor",children:(0,$n.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),ac((0,$n.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,$n.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),mc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),ic),gc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),ic),bc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),ic),yc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,$n.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,$n.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),ic),xc=ac((0,$n.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),oc),wc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,$n.jsx)("path",{d:"M16 7h4"}),(0,$n.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),ic),Ec=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,$n.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),oc),kc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,$n.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,$n.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,$n.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,$n.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),ic),Sc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M12.5 6.667h.01"}),(0,$n.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,$n.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,$n.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),oc),Mc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,$n.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),ic),Cc=ac((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),oc),Ic=ac((0,$n.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),oc),jc=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M21 21l-6 -6"}),(0,$n.jsx)("path",{d:"M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403"}),(0,$n.jsx)("path",{d:"M3 4v4h4"})]}),ic),Tc=ac((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),oc),Ac=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,$n.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),oc),Dc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,$n.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),oc),_c=ac((0,$n.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),oc),Lc=ac((0,$n.jsx)("g",{stroke:"currentColor",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),(0,v.default)((0,v.default)({},oc),{},{strokeWidth:1.5})),Rc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,$n.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,$n.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),ic),Pc=ac((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),oc),Nc=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,$n.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,$n.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ic),Fc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,$n.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,$n.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ic),Oc=ac((0,$n.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),oc),zc=ac((0,$n.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),oc),Bc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,$n.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),oc),Hc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),(0,$n.jsx)("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]}),ic),Wc=ac((0,$n.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Xc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,$n.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),oc),Vc=ac("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Gc=ac("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Yc=ac((0,$n.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),oc),Zc=(ac("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ac("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),Kc=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 16l1.465 1.638a2 2 0 1 1 -3.015 .099l1.55 -1.737z"}),(0,$n.jsx)("path",{d:"M13.737 9.737c2.299 -2.3 3.23 -5.095 2.081 -6.245c-1.15 -1.15 -3.945 -.217 -6.244 2.082c-2.3 2.299 -3.231 5.095 -2.082 6.244c1.15 1.15 3.946 .218 6.245 -2.081z"}),(0,$n.jsx)("path",{d:"M7.492 11.818c.362 .362 .768 .676 1.208 .934l6.895 4.047c1.078 .557 2.255 -.075 3.692 -1.512c1.437 -1.437 2.07 -2.614 1.512 -3.692c-.372 -.718 -1.72 -3.017 -4.047 -6.895a6.015 6.015 0 0 0 -.934 -1.208"})]}),ic),qc=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15 8h.01"}),(0,$n.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,$n.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,$n.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,$n.jsx)("path",{d:"M19 16v6"}),(0,$n.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),ic),$c=ac("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Qc=(ac("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),ac("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),ac("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),Jc=(ac("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),ac((0,$n.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),oc)),eu=ac((0,$n.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),oc),tu=ac("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),nu=ac((0,$n.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),oc),ru=(ac("M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"),ac("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 9h-1a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-8a2 2 0 0 0 -2 -2h-1"}),(0,$n.jsx)("path",{d:"M12 14v-11"}),(0,$n.jsx)("path",{d:"M9 6l3 -3l3 3"})]}),ic),ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,$n.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),ac((0,$n.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),(0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 10l0 10"}),(0,$n.jsx)("path",{d:"M12 10l4 4"}),(0,$n.jsx)("path",{d:"M12 10l-4 4"}),(0,$n.jsx)("path",{d:"M4 4l16 0"})]})),au=(0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 5l0 14"}),(0,$n.jsx)("path",{d:"M16 9l-4 -4"}),(0,$n.jsx)("path",{d:"M8 9l4 -4"})]}),iu=ac(au,ic),ou=ac(au,(0,v.default)((0,v.default)({},ic),{},{style:{transform:"rotate(180deg)"}})),lu=ac(ru,ic),su=ac(ru,(0,v.default)((0,v.default)({},ic),{},{style:{transform:"rotate(180deg)"}})),cu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),uu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),du=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),fu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),hu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),pu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),vu=ac((0,$n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),oc),Uu=ac((0,$n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,$n.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),oc),mu=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,$n.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,$n.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,$n.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),ic),gu=(ac("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ac("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc)),bu=(ac("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),ac("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),ac("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),Kn.memo((function(e){var t=e.theme;return ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsxs)("g",{fill:rc(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,$n.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}))),yu=Kn.memo((function(e){var t=e.theme;return ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,$n.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,$n.jsxs)("g",{fill:rc(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,$n.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,$n.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),xu=ac((0,$n.jsx)("g",{strokeWidth:1.25,children:(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),oc),wu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,$n.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,$n.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),oc),Eu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsxs)("g",{clipPath:"url(#a)",children:[(0,$n.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,$n.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,$n.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,$n.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),ku=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),(0,v.default)((0,v.default)({},oc),{},{fill:"currentColor"})),Su=ac((0,$n.jsx)($n.Fragment,{children:(0,$n.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),oc),Mu=ac((0,$n.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),oc),Cu=ac((0,$n.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),oc),Iu=(Kn.memo((function(e){e.theme;return ac((0,$n.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),ac((0,$n.jsxs)("g",{strokeWidth:"2",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 12h2"}),(0,$n.jsx)("path",{d:"M17 12h2"}),(0,$n.jsx)("path",{d:"M11 12h2"})]}),ic)),ju=ac((0,$n.jsxs)("g",{strokeWidth:"2",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 12v.01"}),(0,$n.jsx)("path",{d:"M8 12v.01"}),(0,$n.jsx)("path",{d:"M12 12v.01"}),(0,$n.jsx)("path",{d:"M16 12v.01"}),(0,$n.jsx)("path",{d:"M20 12v.01"})]}),ic),Tu=ac((0,$n.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),oc),Au=ac((0,$n.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),oc),Du=ac((0,$n.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),oc),_u=ac((0,$n.jsxs)("svg",{strokeWidth:"1.5",children:[(0,$n.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,$n.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,$n.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,$n.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,$n.jsx)("path",{d:"M16.6667 10V10.01"}),(0,$n.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,$n.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,$n.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,$n.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),oc),Lu=ac((0,$n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,$n.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,$n.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,$n.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,$n.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,$n.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,$n.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,$n.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,$n.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,$n.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,$n.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,$n.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),ic),Ru=ac((0,$n.jsxs)("g",{stroke:"currentColor",opacity:.3,strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M12 12l9 0"}),(0,$n.jsx)("path",{d:"M3 9l6 6"}),(0,$n.jsx)("path",{d:"M3 15l6 -6"})]}),ic),Pu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,$n.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,$n.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})})),Nu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,$n.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,$n.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),Fu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M26 10L6 10"}),(0,$n.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),Ou=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,$n.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})})),zu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,$n.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,$n.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})})),Bu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeWidth:2,strokeLinejoin:"round",children:[(0,$n.jsx)("path",{d:"M6,9.5H27"}),(0,$n.jsx)("path",{d:"M27,5L34,10L27,14Z",fill:"none"})]}),{width:40,height:20})})),Hu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeLinejoin:"round",strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M6,9.5H20"}),(0,$n.jsx)("path",{d:"M27,5L34,10L27,14L20,9.5Z"})]}),{width:40,height:20})})),Wu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",transform:n?"translate(40, 0) scale(-1, 1)":"",strokeLinejoin:"round",strokeWidth:2,children:[(0,$n.jsx)("path",{d:"M6,9.5H20"}),(0,$n.jsx)("path",{d:"M27,5L34,10L27,14L20,9.5Z"})]}),{width:40,height:20})})),Xu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsx)("g",{stroke:"currentColor",fill:"none",transform:n?"":"translate(40, 0) scale(-1, 1)",strokeLinejoin:"round",strokeWidth:2,children:(0,$n.jsx)("path",{d:"M34,10 H6 M15,10 L7,5 M15,10 L7,15"})}),{width:40,height:20})})),Vu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsx)("g",{stroke:"currentColor",fill:"none",transform:n?"":"translate(40, 0) scale(-1, 1)",strokeLinejoin:"round",strokeWidth:2,children:(0,$n.jsx)("path",{d:"M34,10 H6 M15,10 L15,15 L15,5"})}),{width:40,height:20})})),Gu=Kn.memo((function(e){var t=e.flip,n=void 0!==t&&t;return ac((0,$n.jsx)("g",{stroke:"currentColor",fill:"none",transform:n?"":"translate(40, 0) scale(-1, 1)",strokeLinejoin:"round",strokeWidth:2,children:(0,$n.jsx)("path",{d:"M34,10 H6 M15,10 L15,16 L15,4 M15,10 L7,5 M15,10 L7,15"})}),{width:40,height:20})})),Yu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),Zu=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),Ku=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",children:(0,$n.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),qu=ac((0,$n.jsx)($n.Fragment,{children:(0,$n.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),oc),$u=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 7v-2h13v2"}),(0,$n.jsx)("path",{d:"M10 5v14"}),(0,$n.jsx)("path",{d:"M12 19h-4"}),(0,$n.jsx)("path",{d:"M15 13v-1h6v1"}),(0,$n.jsx)("path",{d:"M18 12v7"}),(0,$n.jsx)("path",{d:"M17 19h2"})]}),ic),Qu=ac((0,$n.jsx)($n.Fragment,{children:(0,$n.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M7 12h10"}),(0,$n.jsx)("path",{d:"M7 5v14"}),(0,$n.jsx)("path",{d:"M17 5v14"}),(0,$n.jsx)("path",{d:"M15 19h4"}),(0,$n.jsx)("path",{d:"M15 5h4"}),(0,$n.jsx)("path",{d:"M5 19h4"}),(0,$n.jsx)("path",{d:"M5 5h4"})]})}),ic),Ju=ac((0,$n.jsx)($n.Fragment,{children:(0,$n.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),oc),ed=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,$n.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,$n.jsx)("defs",{children:(0,$n.jsx)("clipPath",{id:"a",children:(0,$n.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),oc),td=ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,$n.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,$n.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),ic),nd=ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,$n.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,$n.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),ic),rd=ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,$n.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,$n.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),ic),ad=Kn.memo((function(e){e.theme;return ac((0,$n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,$n.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),ic)})),id=Kn.memo((function(e){e.theme;return ac((0,$n.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,$n.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),ic)})),od=Kn.memo((function(e){e.theme;return ac((0,$n.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,$n.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,$n.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),ic)})),ld=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M21 19h-18l9 -15"}),(0,$n.jsx)("path",{d:"M20.615 15.171h.015"}),(0,$n.jsx)("path",{d:"M19.515 11.771h.015"}),(0,$n.jsx)("path",{d:"M17.715 8.671h.015"}),(0,$n.jsx)("path",{d:"M15.415 5.971h.015"})]}),ic),sd=ac((0,$n.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),cd=(ac((0,$n.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,$n.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,$n.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,$n.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),ic)),ud=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,$n.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,$n.jsx)("path",{d:"M12 4l0 12"})]}),ic),dd=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,$n.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),ic),fd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M7 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,$n.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,$n.jsx)("path",{d:"M9.15 14.85l8.85 -10.85"}),(0,$n.jsx)("path",{d:"M6 4l8.85 10.85"})]}),ic),hd=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,$n.jsx)("path",{d:"M12 17l0 .01"}),(0,$n.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ic),pd=(ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M7 4v16l13 -8z"})]}),ic),ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),ic),ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),ic)),vd=ac((0,$n.jsxs)($n.Fragment,{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,$n.jsx)("path",{d:"M12 9v4"}),(0,$n.jsx)("path",{d:"M12 17h.01"})]}),ic),Ud=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M11 7l6 6"}),(0,$n.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),ic),md=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,$n.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,$n.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),ic),gd=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 7l16 0"}),(0,$n.jsx)("path",{d:"M4 17l16 0"}),(0,$n.jsx)("path",{d:"M7 4l0 16"}),(0,$n.jsx)("path",{d:"M17 4l0 16"})]}),ic),bd=ac((0,$n.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),yd=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,$n.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,$n.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),oc),xd=ac((0,$n.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,$n.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,$n.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20),wd=ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,$n.jsx)("path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3"}),(0,$n.jsx)("path",{d:"M15 6l3 3"}),(0,$n.jsx)("path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),(0,$n.jsx)("path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"})]}),ic),Ed=(ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),(0,$n.jsx)("path",{d:"M6 21l15 -15l-3 -3l-15 15l3 3"}),(0,$n.jsx)("path",{d:"M15 6l3 3"}),(0,$n.jsx)("path",{d:"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"}),(0,$n.jsx)("path",{d:"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"})]}),ic),ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M11.217 19.384a3.501 3.501 0 0 0 6.783 -1.217v-5.167l-6 -3.35"}),(0,$n.jsx)("path",{d:"M5.214 15.014a3.501 3.501 0 0 0 4.446 5.266l4.34 -2.534v-6.946"}),(0,$n.jsx)("path",{d:"M6 7.63c-1.391 -.236 -2.787 .395 -3.534 1.689a3.474 3.474 0 0 0 1.271 4.745l4.263 2.514l6 -3.348"}),(0,$n.jsx)("path",{d:"M12.783 4.616a3.501 3.501 0 0 0 -6.783 1.217v5.067l6 3.45"}),(0,$n.jsx)("path",{d:"M18.786 8.986a3.501 3.501 0 0 0 -4.446 -5.266l-4.34 2.534v6.946"}),(0,$n.jsx)("path",{d:"M18 16.302c1.391 .236 2.787 -.395 3.534 -1.689a3.474 3.474 0 0 0 -1.271 -4.745l-4.308 -2.514l-5.955 3.42"})]}),ic),ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),(0,$n.jsx)("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),(0,$n.jsx)("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),(0,$n.jsx)("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"})]}),ic)),kd=ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),(0,$n.jsx)("path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"})]}),ic),Sd=ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828"}),(0,$n.jsx)("path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87"}),(0,$n.jsx)("path",{d:"M3 3l18 18"})]}),ic),Md=ac((0,$n.jsxs)("g",{stroke:"currentColor",fill:"none",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8"}),(0,$n.jsx)("path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8"}),(0,$n.jsx)("path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5"}),(0,$n.jsx)("path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0"}),(0,$n.jsx)("path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5"}),(0,$n.jsx)("path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10"})]}),ic),Cd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8"}),(0,$n.jsx)("path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8"}),(0,$n.jsx)("path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5"}),(0,$n.jsx)("path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0"}),(0,$n.jsx)("path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5"}),(0,$n.jsx)("path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10"})]}),ic),Id=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),(0,$n.jsx)("path",{d:"M21 21l-6 -6"})]}),ic),jd=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M20.984 12.53a9 9 0 1 0 -7.552 8.355"}),(0,$n.jsx)("path",{d:"M12 7v5l3 3"}),(0,$n.jsx)("path",{d:"M19 16l-2 3h4l-2 3"})]}),ic),Td=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z"}),(0,$n.jsx)("path",{d:"M5 10a7 7 0 0 0 14 0"}),(0,$n.jsx)("path",{d:"M8 21l8 0"}),(0,$n.jsx)("path",{d:"M12 17l0 4"})]}),ic),Ad=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 3l18 18"}),(0,$n.jsx)("path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1"}),(0,$n.jsx)("path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2 -2a6.967 6.967 0 0 0 1.152 -3.85"}),(0,$n.jsx)("path",{d:"M8 21l8 0"}),(0,$n.jsx)("path",{d:"M12 17l0 4"})]}),ic),Dd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11"})]}),ic),_d=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 8m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"}),(0,$n.jsx)("path",{d:"M12 20v.01"}),(0,$n.jsx)("path",{d:"M16 20v.01"}),(0,$n.jsx)("path",{d:"M8 20v.01"}),(0,$n.jsx)("path",{d:"M4 20v.01"}),(0,$n.jsx)("path",{d:"M4 16v.01"}),(0,$n.jsx)("path",{d:"M4 12v.01"}),(0,$n.jsx)("path",{d:"M4 8v.01"}),(0,$n.jsx)("path",{d:"M4 4v.01"}),(0,$n.jsx)("path",{d:"M8 4v.01"}),(0,$n.jsx)("path",{d:"M12 4v.01"}),(0,$n.jsx)("path",{d:"M16 4v.01"}),(0,$n.jsx)("path",{d:"M20 4v.01"}),(0,$n.jsx)("path",{d:"M20 8v.01"}),(0,$n.jsx)("path",{d:"M20 12v.01"}),(0,$n.jsx)("path",{d:"M20 16v.01"}),(0,$n.jsx)("path",{d:"M20 20v.01"})]}),ic),Ld=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 3v18"}),(0,$n.jsx)("path",{d:"M19 21v-18"}),(0,$n.jsx)("path",{d:"M5 7h14"}),(0,$n.jsx)("path",{d:"M5 15h14"}),(0,$n.jsx)("path",{d:"M8 13v4"}),(0,$n.jsx)("path",{d:"M11 13v4"}),(0,$n.jsx)("path",{d:"M16 13v4"}),(0,$n.jsx)("path",{d:"M14 5v4"}),(0,$n.jsx)("path",{d:"M11 5v4"}),(0,$n.jsx)("path",{d:"M8 5v4"}),(0,$n.jsx)("path",{d:"M3 21h18"})]}),ic),Rd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 12l18 0"}),(0,$n.jsx)("path",{d:"M7 16l10 0l-10 5l0 -5"}),(0,$n.jsx)("path",{d:"M7 8l10 0l-10 -5l0 5"})]}),ic),Pd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M12 3l0 18"}),(0,$n.jsx)("path",{d:"M16 7l0 10l5 0l-5 -10"}),(0,$n.jsx)("path",{d:"M8 7l0 10l-5 0l5 -10"})]}),ic),Nd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"}),(0,$n.jsx)("path",{d:"M19 6h1a2 2 0 0 1 2 2a5 5 0 0 1 -5 5l-5 0v2"}),(0,$n.jsx)("path",{d:"M10 15m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"})]}),ic),Fd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),(0,$n.jsx)("path",{d:"M22 22l-3 -3"}),(0,$n.jsx)("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),(0,$n.jsx)("path",{d:"M3 11v-1"}),(0,$n.jsx)("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),(0,$n.jsx)("path",{d:"M10 3h1"}),(0,$n.jsx)("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"})]}),ic),Od=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),(0,$n.jsx)("path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"}),(0,$n.jsx)("path",{d:"M4 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75"}),(0,$n.jsx)("path",{d:"M10 15l2 6l2 -6"}),(0,$n.jsx)("path",{d:"M20 15h-1a2 2 0 0 0 -2 2v2a2 2 0 0 0 2 2h1v-3"})]}),ic),zd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),(0,$n.jsx)("path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4"}),(0,$n.jsx)("path",{d:"M20 15h-1a2 2 0 0 0 -2 2v2a2 2 0 0 0 2 2h1v-3"}),(0,$n.jsx)("path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6"}),(0,$n.jsx)("path",{d:"M11 21v-6l3 6v-6"})]}),ic),Bd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4 13v-8a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v8a2 2 0 0 0 6 0v-8a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v8a8 8 0 0 1 -16 0"}),(0,$n.jsx)("path",{d:"M4 8l5 0"}),(0,$n.jsx)("path",{d:"M15 8l4 0"})]}),ic),Hd=ac((0,$n.jsxs)("g",{strokeWidth:1.25,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 14c.83 .642 2.077 1.017 3.5 1c1.423 .017 2.67 -.358 3.5 -1c.83 -.642 2.077 -1.017 3.5 -1c1.423 -.017 2.67 .358 3.5 1"}),(0,$n.jsx)("path",{d:"M8 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"}),(0,$n.jsx)("path",{d:"M12 3a2.4 2.4 0 0 0 -1 2a2.4 2.4 0 0 0 1 2"}),(0,$n.jsx)("path",{d:"M3 10h14v5a6 6 0 0 1 -6 6h-2a6 6 0 0 1 -6 -6v-5z"}),(0,$n.jsx)("path",{d:"M16.746 16.726a3 3 0 1 0 .252 -5.555"})]}),ic),Wd=ac((0,$n.jsxs)("g",{stroke:"currentColor",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 5a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-16a1 1 0 0 1-1-1v-10zM7 20h10M9 16v4M15 16v4"})]}),(0,v.default)((0,v.default)({},ic),{},{strokeWidth:1.5})),Xd=(ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M15 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),(0,$n.jsx)("path",{d:"M21 12h-13l3 -3"}),(0,$n.jsx)("path",{d:"M11 15l-3 -3"})]}),ic),ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z"}),(0,$n.jsx)("path",{d:"M10 9l5 3l-5 3z"})]}),ic)),Vd=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M3 6h18"}),(0,$n.jsx)("path",{d:"M3 12h18"}),(0,$n.jsx)("path",{d:"M3 18h18"}),(0,$n.jsx)("path",{d:"M6 3v18"}),(0,$n.jsx)("path",{d:"M12 3v18"}),(0,$n.jsx)("path",{d:"M18 3v18"})]}),ic),Gd=ac((0,$n.jsxs)("g",{strokeWidth:1.5,children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M17 3m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"}),(0,$n.jsx)("path",{d:"M3 17m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z"}),(0,$n.jsx)("path",{d:"M17 5c-6.627 0 -12 5.373 -12 12"})]}),ic),Yd=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 18l12 -12"}),(0,$n.jsx)("path",{d:"M18 10v-4h-4"})]}),ic),Zd=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M4,19L10,19C11.097,19 12,18.097 12,17L12,9C12,7.903 12.903,7 14,7L21,7"}),(0,$n.jsx)("path",{d:"M18 4l3 3l-3 3"})]}),ic),Kd=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{d:"M16,12L20,9L16,6"}),(0,$n.jsx)("path",{d:"M6 20c0 -6.075 4.925 -11 11 -11h3"})]}),ic),qd=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 9l6 6l6 -6"})]}),ic),$d=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 15l6 -6l6 6"})]}),ic),Qd=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M6 15l6 -6l6 6"})]}),ic),Jd=ac((0,$n.jsxs)("g",{strokeWidth:"1.25",children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M8 5v10a1 1 0 0 0 1 1h10"}),(0,$n.jsx)("path",{d:"M5 8h10a1 1 0 0 1 1 1v10"})]}),ic),ef=ac((0,$n.jsxs)("g",{children:[(0,$n.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,$n.jsx)("path",{d:"M5 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M19 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M5 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,$n.jsx)("path",{d:"M5 7l0 10"}),(0,$n.jsx)("path",{d:"M7 5l10 0"}),(0,$n.jsx)("path",{d:"M7 19l10 0"}),(0,$n.jsx)("path",{d:"M19 7l0 10"})]}),ic),tf=(0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)((0,p.default)({},ma.Excalifont,{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},icon:Ec}),ma.Nunito,{metrics:{unitsPerEm:1e3,ascender:1011,descender:-353,lineHeight:1.35},icon:Ju}),ma["Lilita One"],{metrics:{unitsPerEm:1e3,ascender:923,descender:-220,lineHeight:1.15},icon:Qu}),ma["Comic Shanns"],{metrics:{unitsPerEm:1e3,ascender:750,descender:-250,lineHeight:1.25},icon:ed}),ma.Virgil,{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},icon:Ec,deprecated:!0}),ma.Helvetica,{metrics:{unitsPerEm:2048,ascender:1577,descender:-471,lineHeight:1.15},icon:Ju,deprecated:!0,local:!0}),ma.Cascadia,{metrics:{unitsPerEm:2048,ascender:1900,descender:-480,lineHeight:1.2},icon:ed,deprecated:!0}),ma["Liberation Sans"],{metrics:{unitsPerEm:2048,ascender:1854,descender:-434,lineHeight:1.15},serverSide:!0}),ga.Xiaolai,{metrics:{unitsPerEm:1e3,ascender:880,descender:-144,lineHeight:1.15},fallback:!0}),ga["Segoe UI Emoji"],{metrics:{unitsPerEm:1e3,ascender:886,descender:-374,lineHeight:1.25},local:!0,fallback:!0}),nf="U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD",rf="U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF",af="U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F",of="U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116",lf="U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB",sf="local:",cf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return(0,l.default)(this,t),(e=(0,r.default)(this,t)).name=a,e.message=n,e}return(0,a.default)(t,e),(0,s.default)(t)}((0,i.A)(Error)),uf=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return(0,l.default)(this,t),(0,r.default)(this,t,[e,"AbortError"])}return(0,a.default)(t,e),(0,s.default)(t)}((0,i.A)(DOMException)),df=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Image Scene Data Error",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,l.default)(this,t),e=(0,r.default)(this,t,[n]),(0,m.d)(e,"code"),e.name="EncodingError",e.code=a,e}return(0,a.default)(t,e),(0,s.default)(t)}((0,i.A)(Error)),ff=function(e){function t(){var e;return(0,l.default)(this,t),e=(0,r.default)(this,t,arguments),(0,m.d)(e,"code","ELEMENT_HAS_INVALID_INDEX"),e}return(0,a.default)(t,e),(0,s.default)(t)}((0,i.A)(Error)),hf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Worker URL is not defined!",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"WORKER_URL_NOT_DEFINED";return(0,l.default)(this,t),e=(0,r.default)(this,t,[n]),(0,m.d)(e,"code"),e.name="WorkerUrlNotDefinedError",e.code=a,e}return(0,a.default)(t,e),(0,s.default)(t)}((0,i.A)(Error)),pf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Worker has to be in a separate chunk!",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"WORKER_IN_THE_MAIN_CHUNK";return(0,l.default)(this,t),e=(0,r.default)(this,t,[n]),(0,m.d)(e,"code"),e.name="WorkerInTheMainChunkError",e.code=a,e}return(0,a.default)(t,e),(0,s.default)(t)}((0,i.A)(Error)),vf=function(e){function t(e){var n;return(0,l.default)(this,t),(n=(0,r.default)(this,t,[e])).name="ExcalidrawError",n}return(0,a.default)(t,e),(0,s.default)(t)}((0,i.A)(Error)),Uf=(0,s.default)((function e(t){(0,l.default)(this,e),(0,m.d)(this,"instance"),(0,m.d)(this,"debounceTerminate"),this.instance=new Worker(t,{type:"module"})})),mf=function(){function e(t,n){(0,l.default)(this,e),(0,m.d)(this,"idleWorkers",new Set),(0,m.d)(this,"workerUrl"),(0,m.d)(this,"workerTTL"),this.workerUrl=t,this.workerTTL=n.ttl||1e3}return(0,s.default)(e,[{key:"postMessage",value:function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n){var r,a,i=this;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Array.from(this.idleWorkers).shift())){e.next=5;break}this.idleWorkers.delete(a),r=a,e.next=8;break;case 5:return e.next=7,this.createWorker();case 7:r=e.sent;case 8:return e.abrupt("return",new Promise((function(e,a){r.instance.onmessage=i.onMessageHandler(r,e),r.instance.onerror=i.onErrorHandler(r,a),r.instance.postMessage(t,n),r.debounceTerminate((function(){return a(new Error("Active worker did not respond for ".concat(i.workerTTL,"ms!")))}))})));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=(0,u.default)((0,c.default)().mark((function e(){var t,n,r;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,d.default)(this.idleWorkers);try{for(t.s();!(n=t.n()).done;)(r=n.value).debounceTerminate.cancel(),r.instance.terminate()}catch(Be){t.e(Be)}finally{t.f()}this.idleWorkers.clear();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createWorker",value:function(){var e=(0,u.default)((0,c.default)().mark((function e(){var t,n=this;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Uf(this.workerUrl),e.abrupt("return",(t.debounceTerminate=Ho((function(e){t.instance.terminate(),n.idleWorkers.has(t)?(n.idleWorkers.delete(t),console.debug("Job finished! Idle worker has been released from the pool.")):e?e():console.error("Worker has been terminated!")}),this.workerTTL),t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessageHandler",value:function(e,t){var n=this;return function(r){e.debounceTerminate(),n.idleWorkers.add(e),t(r.data)}}},{key:"onErrorHandler",value:function(e,t){var n=this;return function(r){e.debounceTerminate((function(){return t(r)})),e.debounceTerminate.flush(),n.clear()}}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new hf;if("file:///home/runner/work/seahub/seahub/frontend/node_modules/@excalidraw/excalidraw/dist/prod/chunk-FX7ZIABN.js"===t.toString())throw new pf;return new e(t,n)}}])}(),gf=typeof Worker<"u",bf=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n){var r,a,i,o;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ef();case 2:return r=e.sent,a=r.Commands,i=r.subsetToBase64,o=r.toBase64,e.abrupt("return",gf?Hl((0,u.default)((0,c.default)().mark((function e(){var r,l,s;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sf();case 3:return r=e.sent,l=t.slice(0),e.next=7,r.postMessage({command:a.Subset,arrayBuffer:l,codePoints:n},{transfer:[l]});case 7:return s=e.sent,e.abrupt("return",o(s));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",(gf=!1,typeof yr<"u"&&(e.t0 instanceof hf||e.t0 instanceof pf)||console.error("Failed to use workers for subsetting, falling back to the main thread.",e.t0),i(t,n)));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))):i(t,n));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),yf=null,xf=null,wf=function(){var e=(0,u.default)((0,c.default)().mark((function e(){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(yf||(yf=n.e(5706).then(n.bind(n,35706))),yf));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ef=function(){var e=(0,u.default)((0,c.default)().mark((function e(){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(xf||(xf=n.e(9605).then(n.bind(n,99605))),xf));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kf=null,Sf=function(){return kf||(kf=Hl((0,u.default)((0,c.default)().mark((function e(){var t,n;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wf();case 2:return t=e.sent,n=t.WorkerUrl,e.abrupt("return",mf.create(n));case 5:case"end":return e.stop()}}),e)}))))),kf},Mf=function(){function e(t,n,r){(0,l.default)(this,e),(0,m.d)(this,"urls"),(0,m.d)(this,"fontFace"),this.urls=e.createUrls(n);var a=this.urls.map((function(t){return"url(".concat(t,") ").concat(e.getFormat(t))})).join(", ");this.fontFace=new FontFace(t,a,(0,v.default)({display:"swap",style:"normal",weight:"400"},r))}return(0,s.default)(e,[{key:"toCSS",value:function(e){var t=this;if(this.getUnicodeRangeRegex().test(e)){var n=Array.from(e).map((function(e){return e.codePointAt(0)}));return this.getContent(n).then((function(e){return"@font-face { font-family: ".concat(t.fontFace.family,"; src: url(").concat(e,"); }")}))}}},{key:"getContent",value:function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=[];case 1:if(!(n<this.urls.length)){e.next=18;break}return a=this.urls[n],e.prev=3,e.next=6,this.fetchFont(a);case 6:return i=e.sent,e.next=9,bf(i,t);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(3),r.push('"'.concat(a.toString(),'" returned error "').concat(e.t0,'"'));case 15:n++;case 16:e.next=1;break;case 18:return e.abrupt("return",(console.error('Failed to fetch font family "'.concat(this.fontFace.family,'"'),JSON.stringify(r,void 0,2)),this.urls.length?this.urls[this.urls.length-1].toString():""));case 19:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchFont",value:function(e){return Hl((0,u.default)((0,c.default)().mark((function t(){var n,r;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{cache:"force-cache",headers:{Accept:"font/woff2"}});case 2:if((n=t.sent).ok){t.next=6;break}throw r=e instanceof URL?e.toString():"dataurl",new Error('Failed to fetch "'.concat(r,'": ').concat(n.statusText));case 6:return t.next=8,n.arrayBuffer();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)}))))}},{key:"getUnicodeRangeRegex",value:function(){var e=this.fontFace.unicodeRange.split(/,\s*/).map((function(e){var t=e.replace("U+","").split("-"),n=(0,f.default)(t,2),r=n[0],a=n[1];return a?"\\u{".concat(r,"}-\\u{").concat(a,"}"):"\\u{".concat(r,"}")})).join("");return new RegExp("[".concat(e,"]"),"u")}}],[{key:"createUrls",value:function(t){var n=this;if(t.startsWith("data"))return[t];if(t.startsWith(sf))return[];if(t.startsWith("http"))return[new URL(t)];var r=t.replace(/^\/+/,""),a=[];if("string"==typeof window.EXCALIDRAW_ASSET_PATH){var i=this.normalizeBaseUrl(window.EXCALIDRAW_ASSET_PATH);a.push(new URL(r,i))}else Array.isArray(window.EXCALIDRAW_ASSET_PATH)&&window.EXCALIDRAW_ASSET_PATH.forEach((function(e){var t=n.normalizeBaseUrl(e);a.push(new URL(r,t))}));return a.push(new URL(r,e.ASSETS_FALLBACK_URL)),a}},{key:"getFormat",value:function(e){if(!(e instanceof URL))return"";try{var t=new URL(e).pathname.split(".");return 1===t.length?"":"format('".concat(t.pop(),"')")}catch(n){return""}}},{key:"normalizeBaseUrl",value:function(e){var t,n=e;return/^\.?\//.test(n)&&(n=new URL(n.replace(/^\.?\/+/,""),null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.origin).toString()),n="".concat(n.replace(/\/+$/,""),"/")}}])}();(0,m.d)(Mf,"ASSETS_FALLBACK_URL","https://esm.sh/".concat(U.a.PKG_NAME?"".concat(U.a.PKG_NAME,"@").concat(U.a.PKG_VERSION):"@excalidraw/excalidraw","/dist/prod/"));var Cf=Mf,If=[{uri:"./fonts/Cascadia/CascadiaCode-Regular.woff2"}],jf=[{uri:"./fonts/ComicShanns/ComicShanns-Regular-279a7b317d12eb88de06167bd672b4b4.woff2",descriptors:{unicodeRange:"U+20-7e,U+a1-a6,U+a8,U+ab-ac,U+af-b1,U+b4,U+b8,U+bb-bc,U+bf-cf,U+d1-d7,U+d9-de,U+e0-ef,U+f1-f7,U+f9-ff,U+131,U+152-153,U+2c6,U+2da,U+2dc,U+2013-2014,U+2018-201a,U+201c-201d,U+2020-2022,U+2026,U+2039-203a,U+2044,U+20ac,U+2191,U+2193,U+2212"}},{uri:"./fonts/ComicShanns/ComicShanns-Regular-fcb0fc02dcbee4c9846b3e2508668039.woff2",descriptors:{unicodeRange:"U+100-10f,U+112-125,U+128-130,U+134-137,U+139-13c,U+141-148,U+14c-151,U+154-161,U+164-165,U+168-17f,U+1bf,U+1f7,U+218-21b,U+237,U+1e80-1e85,U+1ef2-1ef3,U+a75b"}},{uri:"./fonts/ComicShanns/ComicShanns-Regular-dc6a8806fa96795d7b3be5026f989a17.woff2",descriptors:{unicodeRange:"U+2c7,U+2d8-2d9,U+2db,U+2dd,U+315,U+2190,U+2192,U+2200,U+2203-2204,U+2264-2265,U+f6c3"}},{uri:"./fonts/ComicShanns/ComicShanns-Regular-6e066e8de2ac57ea9283adb9c24d7f0c.woff2",descriptors:{unicodeRange:"U+3bb"}}],Tf=[{uri:sf}],Af=[{uri:"./fonts/Excalifont/Excalifont-Regular-a88b72a24fb54c9f94e3b5fdaa7481c9.woff2",descriptors:{unicodeRange:"U+20-7e,U+a0-a3,U+a5-a6,U+a8-ab,U+ad-b1,U+b4,U+b6-b8,U+ba-ff,U+131,U+152-153,U+2bc,U+2c6,U+2da,U+2dc,U+304,U+308,U+2013-2014,U+2018-201a,U+201c-201e,U+2020,U+2022,U+2024-2026,U+2030,U+2039-203a,U+20ac,U+2122,U+2212"}},{uri:"./fonts/Excalifont/Excalifont-Regular-be310b9bcd4f1a43f571c46df7809174.woff2",descriptors:{unicodeRange:"U+100-130,U+132-137,U+139-149,U+14c-151,U+154-17e,U+192,U+1fc-1ff,U+218-21b,U+237,U+1e80-1e85,U+1ef2-1ef3,U+2113"}},{uri:"./fonts/Excalifont/Excalifont-Regular-b9dcf9d2e50a1eaf42fc664b50a3fd0d.woff2",descriptors:{unicodeRange:"U+400-45f,U+490-491,U+2116"}},{uri:"./fonts/Excalifont/Excalifont-Regular-41b173a47b57366892116a575a43e2b6.woff2",descriptors:{unicodeRange:"U+37e,U+384-38a,U+38c,U+38e-393,U+395-3a1,U+3a3-3a8,U+3aa-3cf,U+3d7"}},{uri:"./fonts/Excalifont/Excalifont-Regular-3f2c5db56cc93c5a6873b1361d730c16.woff2",descriptors:{unicodeRange:"U+2c7,U+2d8-2d9,U+2db,U+2dd,U+302,U+306-307,U+30a-30c,U+326-328,U+212e,U+2211,U+fb01-fb02"}},{uri:"./fonts/Excalifont/Excalifont-Regular-349fac6ca4700ffec595a7150a0d1e1d.woff2",descriptors:{unicodeRange:"U+462-463,U+472-475,U+4d8-4d9,U+4e2-4e3,U+4e6-4e9,U+4ee-4ef"}},{uri:"./fonts/Excalifont/Excalifont-Regular-623ccf21b21ef6b3a0d87738f77eb071.woff2",descriptors:{unicodeRange:"U+300-301,U+303"}}],Df=[{uri:sf}],_f=[{uri:"./fonts/Liberation/LiberationSans-Regular.woff2"}],Lf=[{uri:"./fonts/Lilita/Lilita-Regular-i7dPIFZ9Zz-WBtRtedDbYE98RXi4EwSsbg.woff2",descriptors:{unicodeRange:rf}},{uri:"./fonts/Lilita/Lilita-Regular-i7dPIFZ9Zz-WBtRtedDbYEF8RXi4EwQ.woff2",descriptors:{unicodeRange:nf}}],Rf=[{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTk3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:af,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTA3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:of,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTs3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:lf,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTo3j6zbXWjgevT5.woff2",descriptors:{unicodeRange:rf,weight:"500"}},{uri:"./fonts/Nunito/Nunito-Regular-XRXI3I6Li01BKofiOc5wtlZ2di8HDIkhdTQ3j6zbXWjgeg.woff2",descriptors:{unicodeRange:nf,weight:"500"}}],Pf=[{uri:"./fonts/Virgil/Virgil-Regular.woff2"}],Nf=[{uri:"./fonts/Xiaolai/Xiaolai-Regular-09850c4077f3fffe707905872e0e2460.woff2",descriptors:{unicodeRange:"U+f9b8-fa6d,U+fe32,U+fe45-fe4f,U+ff02-ff0b,U+ff0d-ff1e,U+ff20-ff2a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7eb9fffd1aa890d07d0f88cc82e6cfe4.woff2",descriptors:{unicodeRange:"U+20dd-20de,U+25ef,U+ff2b-ffbe,U+ffc2-ffc7,U+ffca-ffcf,U+ffd2-ffd7,U+ffda-ffdc,U+ffe0-ffe6,U+ffe8-ffee"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-60a3089806700d379f11827ee9843b6b.woff2",descriptors:{unicodeRange:"U+d7eb-d7fb,U+f900-f9b7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6fe5c5973cc06f74b2387a631ea36b88.woff2",descriptors:{unicodeRange:"U+d6f2-d7a3,U+d7b0-d7c6,U+d7cb-d7ea"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b96d9226ce77ec94ceca043d712182e6.woff2",descriptors:{unicodeRange:"U+d609-d6f1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6ae5b42180ad70b971c91e7eefb8eba2.woff2",descriptors:{unicodeRange:"U+d520-d608"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a4c34be6d42152e64b0df90bc4607f64.woff2",descriptors:{unicodeRange:"U+d437-d51f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c69f61a4ab18d0488c8d1fc12e7028e8.woff2",descriptors:{unicodeRange:"U+d34e-d436"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e3fcf5180fd466c8915c4e8069491054.woff2",descriptors:{unicodeRange:"U+d265-d34d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c1f94158256bb1f3bf665b053d895af9.woff2",descriptors:{unicodeRange:"U+d17c-d264"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-544fc28abe2c5c30e62383fd4dac255f.woff2",descriptors:{unicodeRange:"U+d093-d17b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7197d6fda6cba7c3874c53d6381ca239.woff2",descriptors:{unicodeRange:"U+cfaa-d092"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-70c2eb8d64e71a42a834eb857ea9df51.woff2",descriptors:{unicodeRange:"U+cec1-cfa9"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-069e77aac84590e2e991d0a0176d34f2.woff2",descriptors:{unicodeRange:"U+cdd8-cec0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-41521fade99856108931b4768b1b2648.woff2",descriptors:{unicodeRange:"U+ccf1-cdd7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a004ddfcb26e67bd6e678c8ed19e25ce.woff2",descriptors:{unicodeRange:"U+cc08-ccf0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-04b718e5623574919c8b0dea5f301444.woff2",descriptors:{unicodeRange:"U+cb43-cc07"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7e4bde7e9c7f84cd34d8a845e384c746.woff2",descriptors:{unicodeRange:"U+ca83-cb42"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-23686f7f29da6e8008c36dd3a80c83d6.woff2",descriptors:{unicodeRange:"U+c9a1-ca82"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-69c09cc5fa3e55c74fc4821f76909cc3.woff2",descriptors:{unicodeRange:"U+c8b8-c9a0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-25b7f38e18f035f96cb5e547bd2bd08c.woff2",descriptors:{unicodeRange:"U+c7cf-c8b7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ba3de316d63c7e339987b16f41a0b879.woff2",descriptors:{unicodeRange:"U+c6e6-c7ce"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-12b52b58eb3df36804b9a654ec9ee194.woff2",descriptors:{unicodeRange:"U+c5fd-c6e5"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b1220a3c61f85cc0408deedb4c5f57a2.woff2",descriptors:{unicodeRange:"U+c514-c5fc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4535823663ad81405188a528d8f2b1a2.woff2",descriptors:{unicodeRange:"U+c42b-c513"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3eaa538115d76932653c21d8dc28f207.woff2",descriptors:{unicodeRange:"U+c341-c34e,U+c350-c42a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7e929f262f30c8ee78bf398150b1a7cd.woff2",descriptors:{unicodeRange:"U+c258-c340"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-73e309718fd16cea44b4d54a33581811.woff2",descriptors:{unicodeRange:"U+c16f-c257"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9eb5a99df4e76ac3363453ac9ca288b1.woff2",descriptors:{unicodeRange:"U+c086-c16e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3e63ed8162808a9e425ed80a8bc79114.woff2",descriptors:{unicodeRange:"U+bf9d-c085"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cb17fc3db95f6d139afc9d31a8e93293.woff2",descriptors:{unicodeRange:"U+beb4-bf9c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c8b71798409ccc126ee264a00aadcf21.woff2",descriptors:{unicodeRange:"U+bdcb-beb3"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-11c345711937f0ba4b8f7b6b919c8440.woff2",descriptors:{unicodeRange:"U+bce2-bdca"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e480d9c614742d05f0e78f274f1e69e6.woff2",descriptors:{unicodeRange:"U+bbf9-bce1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-95429962233afd82db1c27df1500a28c.woff2",descriptors:{unicodeRange:"U+bb10-bbf8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2cf96d082d35ea3d8106851223ad0d16.woff2",descriptors:{unicodeRange:"U+ba27-bb0f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2d43040e86ff03ba677f6f9c04cd0805.woff2",descriptors:{unicodeRange:"U+b93e-ba26"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2a26d20a23b00898ce82f09d2ee47c3f.woff2",descriptors:{unicodeRange:"U+b855-b93d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a365e82ed54697a52f27adcea1315fe8.woff2",descriptors:{unicodeRange:"U+b76c-b854"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f5d079153c99a25b9be5b8583c4cc8a7.woff2",descriptors:{unicodeRange:"U+b683-b76b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-10a7ae9a371830a80c3d844acf1c02d7.woff2",descriptors:{unicodeRange:"U+b59a-b682"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e4bca6cfa53e499cae0a6be4894a90e9.woff2",descriptors:{unicodeRange:"U+b4b1-b599"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-60a41c7e1c68f22424e6d22df544bc82.woff2",descriptors:{unicodeRange:"U+11fb-11ff,U+b3cd-b4b0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7ab2bed91166a9dca83a5ebfbe2a7f38.woff2",descriptors:{unicodeRange:"U+11e6-11fa,U+b2f9-b3cc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-670ba603758d94268e8606f240a42e12.woff2",descriptors:{unicodeRange:"U+11d1-11e5,U+b225-b2f8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e656f091b9dc4709722c9f4b84d3c797.woff2",descriptors:{unicodeRange:"U+11bc-11d0,U+b151-b224"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-15dc6d811c9cd078f9086a740d5a1038.woff2",descriptors:{unicodeRange:"U+11a7-11bb,U+b07d-b150"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f0f13b5c60e0af5553bd359f5513be1b.woff2",descriptors:{unicodeRange:"U+1191-11a6,U+afaa-b07c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8c2f33cee3993174f7e87c28e4bf42ee.woff2",descriptors:{unicodeRange:"U+117c-1190,U+aed6-afa9"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-761d05e3cd968cf574166867998ef06a.woff2",descriptors:{unicodeRange:"U+1167-117b,U+ae02-aed5"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-642b26e2e5f5fb780b51b593dbc8c851.woff2",descriptors:{unicodeRange:"U+1152-115e,U+1160-1166,U+ad2d-ae01"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5572b3513ba8df57a3d5d7303ee6b11b.woff2",descriptors:{unicodeRange:"U+113d-1151,U+ac59-ad2c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3c9de2ae0ea4bc91a510942dfa4be8d2.woff2",descriptors:{unicodeRange:"U+1100-113c,U+9f95-9f98,U+9f9c-9f9e,U+9fa1-9fce,U+9fd0,U+a960-a97c,U+ac00-ac58"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-671a2c20b1eb9e4ef8a192833940e319.woff2",descriptors:{unicodeRange:"U+9771-9772,U+9775,U+9777-977b,U+977d-9784,U+9786-978a,U+978c,U+978e-9790,U+9793,U+9795-9797,U+9799-979f,U+97a1-97a2,U+97a4-97aa,U+97ac,U+97ae,U+97b0-97b1,U+97b3,U+97b5-97e5,U+97e8,U+97ee-97f2,U+97f4,U+97f7-982d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4dc6d5f188d5c96d44815cd1e81aa885.woff2",descriptors:{unicodeRange:"U+9491,U+9496,U+9498,U+94c7,U+94cf,U+94d3-94d4,U+94da,U+94e6,U+94fb,U+951c,U+9520,U+9527,U+9533,U+953d,U+9543,U+9548,U+954b,U+9555,U+955a,U+9560,U+956e,U+9574-9575,U+9577-957e,U+9580-95e7,U+95ec,U+95ff,U+9607,U+9613,U+9618,U+961b,U+961e,U+9620,U+9623-9629,U+962b-962d,U+962f-9630,U+9637-963a,U+963e,U+9641,U+9643,U+964a,U+964e-964f,U+9651-9653,U+9656-965a,U+965c-965e,U+9660,U+9663,U+9665-9666,U+966b,U+966d-9671,U+9673,U+9678-9684,U+9687,U+9689-968a,U+968c,U+968e,U+9691-9693"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ce4884f96f11589608b76b726a755803.woff2",descriptors:{unicodeRange:"U+923c-9273,U+9275-928d,U+928f-92ad,U+92af-92c7,U+92c9-92ee"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8f476c4c99813d57cbe6eca4727388ad.woff2",descriptors:{unicodeRange:"U+9159,U+915b-915c,U+915f-9160,U+9166-9168,U+916b,U+916d,U+9173,U+917a-917c,U+9180-9184,U+9186,U+9188,U+918a,U+918e-918f,U+9193-9199,U+919c-91a1,U+91a4-91a9,U+91ab-91ac,U+91b0-91b3,U+91b6-91b9,U+91bb-91c6,U+91c8,U+91cb,U+91d0,U+91d2-91db,U+91dd-923b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5935a5775af3d5c6307ac667bd9ae74e.woff2",descriptors:{unicodeRange:"U+902b-902c,U+9030-9034,U+9037,U+9039-903a,U+903d,U+903f-9040,U+9043,U+9045-9046,U+9048-904c,U+904e,U+9054-9056,U+9059-905a,U+905c-9061,U+9064,U+9066-9067,U+9069-906c,U+906f-9073,U+9076-907c,U+907e,U+9081,U+9084-9087,U+9089-908a,U+908c-9090,U+9092,U+9094,U+9096,U+9098,U+909a,U+909c,U+909e-90a0,U+90a4-90a5,U+90a7-90a9,U+90ab,U+90ad,U+90b2,U+90b7,U+90bc-90bd,U+90bf-90c0,U+90c2-90c3,U+90c6,U+90c8-90c9,U+90cb-90cd,U+90d2,U+90d4-90d6,U+90d8-90da,U+90de-90e0,U+90e3-90e5,U+90e9-90ea,U+90ec,U+90ee,U+90f0-90f3,U+90f5-90f7,U+90f9-90fc,U+90ff-9101,U+9103,U+9105-9118,U+911a-911d,U+911f-9121,U+9124-912e,U+9130,U+9132-9138,U+913a-9142,U+9144-9145,U+9147-9148,U+9151,U+9153-9156,U+9158"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-79f007c1c6d07557120982951ea67998.woff2",descriptors:{unicodeRange:"U+8f03-8f65,U+8f6a,U+8f80,U+8f8c,U+8f92,U+8f9d,U+8fa0-8fa2,U+8fa4-8fa7,U+8faa,U+8fac-8faf,U+8fb2-8fb5,U+8fb7-8fb8,U+8fba-8fbc,U+8fbf-8fc0,U+8fc3,U+8fc6,U+8fc9-8fcd,U+8fcf,U+8fd2,U+8fd6-8fd7,U+8fda,U+8fe0-8fe1,U+8fe3,U+8fe7,U+8fec,U+8fef,U+8ff1-8ff2,U+8ff4-8ff6,U+8ffa-8ffc,U+8ffe-8fff,U+9007-9008,U+900c,U+900e,U+9013,U+9015,U+9018-9019,U+901c,U+9023-9025,U+9027-902a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-bafff7a14c27403dcc6cf1432e8ea836.woff2",descriptors:{unicodeRange:"U+8d03-8d1c,U+8d20,U+8d51-8d52,U+8d57,U+8d5f,U+8d65,U+8d68-8d6a,U+8d6c,U+8d6e-8d6f,U+8d71-8d72,U+8d78-8d80,U+8d82-8d83,U+8d86-8d89,U+8d8c-8d90,U+8d92-8d93,U+8d95-8d9e,U+8da0-8da2,U+8da4-8db0,U+8db2,U+8db6-8db7,U+8db9,U+8dbb,U+8dbd,U+8dc0-8dc2,U+8dc5,U+8dc7-8dca,U+8dcd,U+8dd0,U+8dd2-8dd5,U+8dd8-8dd9,U+8ddc,U+8de0-8de2,U+8de5-8de7,U+8de9,U+8ded-8dee,U+8df0-8df2,U+8df4,U+8df6,U+8dfc,U+8dfe-8e04,U+8e06-8e08,U+8e0b,U+8e0d-8e0e,U+8e10-8e13,U+8e15-8e1c,U+8e20-8e21,U+8e24-8e28,U+8e2b,U+8e2d,U+8e30,U+8e32-8e34,U+8e36-8e38,U+8e3b-8e3c,U+8e3e-8e3f,U+8e43,U+8e45-8e46"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-543fa46ace099a7099dad69123399400.woff2",descriptors:{unicodeRange:"U+8bea,U+8c09,U+8c1e,U+8c38-8c40,U+8c42-8c45,U+8c48,U+8c4a-8c4b,U+8c4d-8c54,U+8c56-8c59,U+8c5b-8c60,U+8c63-8c69,U+8c6c-8c72,U+8c74-8c77,U+8c7b-8c81,U+8c83-8c84,U+8c86-8c88,U+8c8b,U+8c8d-8c93,U+8c95-8c97,U+8c99-8d02"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4ddc14ed3eb0c3e46364317dfc0144a3.woff2",descriptors:{unicodeRange:"U+8a64-8a78,U+8a7a-8a88,U+8a8b-8a92,U+8a94-8b06,U+8b08-8b1b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0fa55a080fcd0f9dc2e0b0058b793df8.woff2",descriptors:{unicodeRange:"U+8987-89c0,U+89c3,U+89cd,U+89d3-89d5,U+89d7-89d9,U+89db,U+89dd,U+89df-89e2,U+89e4,U+89e7-89ea,U+89ec-89ee,U+89f0-89f2,U+89f4-89ff,U+8a01-8a06,U+8a08-8a3d,U+8a3f-8a47,U+8a49-8a63"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-66493ba5a8367f2928812f446f47b56a.woff2",descriptors:{unicodeRange:"U+87e3-87e4,U+87e6-87e9,U+87eb-87ed,U+87ef-87f8,U+87fa-87fd,U+87ff-8802,U+8804-8809,U+880b-8812,U+8814,U+8817-881a,U+881c-8820,U+8823-8831,U+8833-8838,U+883a-883b,U+883d-883f,U+8841-8843,U+8846-884b,U+884e-8853,U+8855-8856,U+8858,U+885a-8860,U+8866-8867,U+886a,U+886d,U+886f,U+8871,U+8873-8876,U+8878-887c,U+8880,U+8883,U+8886-8887,U+8889-888a,U+888c,U+888e-8891,U+8893-8895,U+8897-889b,U+889d-88a1,U+88a3,U+88a5-88aa,U+88ac,U+88ae-88b0,U+88b2-88b6,U+88b8-88bb"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-57862b464a55b18c7bf234ce22907d73.woff2",descriptors:{unicodeRange:"U+86e7-86e8,U+86ea-86ec,U+86ef,U+86f5-86f7,U+86fa-86fd,U+86ff,U+8701,U+8704-8706,U+870b-870c,U+870e-8711,U+8714,U+8716,U+8719,U+871b,U+871d,U+871f-8720,U+8724,U+8726-8728,U+872a-872d,U+872f-8730,U+8732-8733,U+8735-8736,U+8738-873a,U+873c-873d,U+8740-8746,U+874a-874b,U+874d,U+874f-8752,U+8754-8756,U+8758,U+875a-875f,U+8761-8762,U+8766-876d,U+876f,U+8771-8773,U+8775,U+8777-877a,U+877f-8781,U+8784,U+8786-8787,U+8789-878a,U+878c,U+878e-8792,U+8794-8796,U+8798-879e,U+87a0-87a7,U+87a9-87aa,U+87ae,U+87b0-87b2,U+87b4,U+87b6-87b9,U+87bb-87bc,U+87be-87bf,U+87c1-87c5,U+87c7-87c9,U+87cc-87d0,U+87d4-87da,U+87dc-87df,U+87e1-87e2"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8d3bcabb847b56243b16afe62adaaf21.woff2",descriptors:{unicodeRange:"U+8604,U+8606-8610,U+8612-8615,U+8617-8626,U+8628,U+862a-8637,U+8639-863b,U+863d-864c,U+8652-8653,U+8655-8659,U+865b-865d,U+865f-8661,U+8663-866a,U+866d,U+866f-8670,U+8672-8678,U+8683-8689,U+868e-8692,U+8694,U+8696-869b,U+869e-86a2,U+86a5-86a6,U+86ab,U+86ad-86ae,U+86b2-86b3,U+86b7-86b9,U+86bb-86bf,U+86c1-86c3,U+86c5,U+86c8,U+86cc-86cd,U+86d2-86d3,U+86d5-86d7,U+86da,U+86dc-86dd,U+86e0-86e3,U+86e5-86e6"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2b77e8ebfb2367ab2662396a60e7d320.woff2",descriptors:{unicodeRange:"U+8456,U+8458,U+845d-8460,U+8462,U+8464-8468,U+846a,U+846e-8470,U+8472,U+8474,U+8477,U+8479,U+847b-8481,U+8483-8486,U+848a,U+848d,U+848f-8496,U+8498,U+849a-849b,U+849d-84a0,U+84a2-84ae,U+84b0-84b1,U+84b3,U+84b5-84b7,U+84bb-84bc,U+84be,U+84c0,U+84c2-84c3,U+84c5-84c8,U+84cb-84cc,U+84ce-84cf,U+84d2,U+84d4-84d5,U+84d7-84dc,U+84de,U+84e1-84e2,U+84e4,U+84e7-84eb,U+84ed-84ef,U+84f1-84fb,U+84fd-84fe,U+8500-850b,U+850d-8510,U+8512,U+8514-8516,U+8518-8519,U+851b-851e,U+8520,U+8522-852a,U+852d-8536,U+853e-8542,U+8544-8547,U+854b-854f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0b5d723fdc4e249c140f0909e87d03b4.woff2",descriptors:{unicodeRange:"U+82c2-82c3,U+82c5-82c6,U+82c9,U+82d0,U+82d6,U+82d9-82da,U+82dd,U+82e2,U+82e7-82ea,U+82ec-82ee,U+82f0,U+82f2-82f3,U+82f5-82f6,U+82f8,U+82fa,U+82fc-8300,U+830a-830b,U+830d,U+8310,U+8312-8313,U+8316,U+8318-8319,U+831d-8326,U+8329-832a,U+832e,U+8330,U+8332,U+8337,U+833b,U+833d-833f,U+8341-8342,U+8344-8345,U+8348,U+834a-834e,U+8353,U+8355-8359,U+835d,U+8362,U+8370-8376,U+8379-837a,U+837e-8384,U+8387-8388,U+838a-838d,U+838f-8391,U+8394-8397,U+8399-839a,U+839d,U+839f,U+83a1-83a7,U+83ac-83af,U+83b5,U+83bb,U+83be-83bf,U+83c2-83c4,U+83c6,U+83c8-83c9,U+83cb,U+83cd-83ce,U+83d0-83d3,U+83d5,U+83d7,U+83d9-83db,U+83de,U+83e2-83e4,U+83e6-83e8,U+83eb-83ef,U+83f3-83f7,U+83fa-83fc,U+83fe-8400,U+8402,U+8405,U+8407-840a,U+8410,U+8412-8417,U+8419-841b,U+841e-8423,U+8429-8430,U+8432-8437,U+8439-843b,U+843e-8445,U+8447-8450,U+8452-8455"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cdbce89e82cc1ab53a2decbf5819278f.woff2",descriptors:{unicodeRange:"U+81a4-81a5,U+81a7,U+81a9,U+81ab-81b2,U+81b4-81b9,U+81bc-81bf,U+81c4-81c5,U+81c7-81c9,U+81cb,U+81cd-81e2,U+81e4-81e6,U+81e8-81e9,U+81eb,U+81ee-81f2,U+81f5-81fa,U+81fd,U+81ff,U+8203,U+8207-820b,U+820e-820f,U+8211,U+8213,U+8215-821a,U+821d,U+8220,U+8224-8227,U+8229,U+822e,U+8232,U+823a,U+823c-823d,U+823f-8243,U+8245-8246,U+8248,U+824a,U+824c-824e,U+8250-8257,U+8259,U+825b-825e,U+8260-8267,U+8269-826d,U+8271,U+8275-8278,U+827b-827c,U+8280-8281,U+8283,U+8285-8287,U+8289,U+828c,U+8290,U+8293-8296,U+829a-829b,U+829e,U+82a0,U+82a2-82a3,U+82a7,U+82b2,U+82b5-82b6,U+82ba-82bc,U+82bf-82c0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-739bc1a567439c7cffcd1614644593d2.woff2",descriptors:{unicodeRange:"U+8059,U+805b-8068,U+806b-8070,U+8072-807e,U+8081-8082,U+8085,U+8088,U+808a,U+808d-8092,U+8094-8095,U+8097,U+8099,U+809e,U+80a3,U+80a6-80a8,U+80ac,U+80b0,U+80b3,U+80b5-80b6,U+80b8-80b9,U+80bb,U+80c5,U+80c7-80cb,U+80cf-80d5,U+80d8,U+80df-80e0,U+80e2-80e3,U+80e6,U+80ee,U+80f5,U+80f7,U+80f9,U+80fb,U+80fe-8101,U+8103-8105,U+8107-8108,U+810b-810c,U+8115,U+8117,U+8119,U+811b-811d,U+811f-812b,U+812d-812e,U+8130,U+8133-8135,U+8137,U+8139-813d,U+813f-8145,U+8147,U+8149,U+814d-814f,U+8152,U+8156-8158,U+815b-815f,U+8161-8164,U+8166,U+8168,U+816a-816c,U+816f,U+8172-8173,U+8175-8178,U+8181,U+8183-8187,U+8189,U+818b-818e,U+8190,U+8192-8197,U+8199-819a,U+819e-81a2"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-72252d73220fa3cd856677888cee1635.woff2",descriptors:{unicodeRange:"U+7f3c-7f41,U+7f43,U+7f46-7f4f,U+7f52-7f53,U+7f56,U+7f59,U+7f5b-7f5e,U+7f60,U+7f63-7f67,U+7f6b-7f6d,U+7f6f-7f70,U+7f73,U+7f75-7f78,U+7f7a-7f7d,U+7f7f-7f80,U+7f82-7f89,U+7f8b,U+7f8d,U+7f8f-7f93,U+7f95-7f99,U+7f9b-7f9c,U+7fa0,U+7fa2-7fa3,U+7fa5-7fa6,U+7fa8-7fae,U+7fb1,U+7fb3-7fb7,U+7fba-7fbb,U+7fbe,U+7fc0,U+7fc2-7fc4,U+7fc6-7fc9,U+7fcb,U+7fcd,U+7fcf-7fd3,U+7fd6-7fd7,U+7fd9-7fde,U+7fe2-7fe4,U+7fe7-7fe8,U+7fea-7fed,U+7fef,U+7ff2,U+7ff4-7ffa,U+7ffd-7fff,U+8002,U+8007-800a,U+800e-800f,U+8011,U+8013,U+801a-801b,U+801d-801f,U+8021,U+8023-8024,U+802b-8030,U+8032,U+8034,U+8039-803a,U+803c,U+803e,U+8040-8041,U+8044-8045,U+8047-8049,U+804e-8051,U+8053,U+8055-8057"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-08e0dc436ad0ad61ba5558db0674d762.woff2",descriptors:{unicodeRange:"U+7cd8,U+7cda-7cdb,U+7cdd-7cde,U+7ce1-7ce7,U+7ce9-7cee,U+7cf0-7cf7,U+7cf9-7cfa,U+7cfc-7d09,U+7d0b-7d1f,U+7d21,U+7d23-7d26,U+7d28-7d2a,U+7d2c-7d2e,U+7d30-7d6d,U+7d6f-7d76,U+7d78-7d94"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cf6ff4e0f491ca0cf3038187a997b9b4.woff2",descriptors:{unicodeRange:"U+7afe,U+7b00-7b02,U+7b05,U+7b07,U+7b09,U+7b0c-7b0e,U+7b10,U+7b12-7b13,U+7b16-7b18,U+7b1a,U+7b1c-7b1d,U+7b1f,U+7b21-7b23,U+7b27,U+7b29,U+7b2d,U+7b2f-7b30,U+7b32,U+7b34-7b37,U+7b39,U+7b3b,U+7b3d,U+7b3f-7b44,U+7b46,U+7b48,U+7b4a,U+7b4d-7b4e,U+7b53,U+7b55,U+7b57,U+7b59,U+7b5c,U+7b5e-7b5f,U+7b61,U+7b63-7b6d,U+7b6f-7b70,U+7b73-7b74,U+7b76,U+7b78,U+7b7a,U+7b7c-7b7d,U+7b7f,U+7b81-7b84,U+7b86-7b8c,U+7b8e-7b8f,U+7b91-7b93,U+7b96,U+7b98-7b9b,U+7b9e-7ba0,U+7ba3-7ba5,U+7bae-7bb0,U+7bb2-7bb3,U+7bb5-7bb7,U+7bb9-7bc0,U+7bc2-7bc5,U+7bc8-7bcb,U+7bcd-7bd0,U+7bd2,U+7bd4-7bd8,U+7bdb-7bdc,U+7bde-7be0,U+7be2-7be4,U+7be7-7be9,U+7beb-7bed,U+7bef-7bf0,U+7bf2-7bf6,U+7bf8-7bfb,U+7bfd,U+7bff-7c06,U+7c08-7c0a,U+7c0d-7c0e,U+7c10-7c13"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9cfb2a77a4e45025105ad29a1748b90d.woff2",descriptors:{unicodeRange:"U+7a10-7a13,U+7a15-7a16,U+7a18-7a19,U+7a1b-7a1d,U+7a1f,U+7a21-7a22,U+7a24-7a32,U+7a34-7a36,U+7a38,U+7a3a,U+7a3e,U+7a40-7a45,U+7a47-7a50,U+7a52-7a56,U+7a58-7a6f,U+7a71-7a73,U+7a75,U+7a7b-7a7e,U+7a82,U+7a85,U+7a87,U+7a89-7a8c,U+7a8e-7a90,U+7a93-7a94,U+7a99-7a9b,U+7a9e,U+7aa1-7aa4,U+7aa7,U+7aa9-7aab,U+7aae-7ab2,U+7ab4-7abe,U+7ac0-7aca,U+7acc-7ad5,U+7ad7-7ad8,U+7ada-7add,U+7ae1-7ae2,U+7ae4,U+7ae7-7aec,U+7aee,U+7af0-7af8,U+7afb-7afc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-450da755d5bcb70906e1295e559b9602.woff2",descriptors:{unicodeRange:"U+790d-7912,U+7914-791d,U+791f-7923,U+7925-7933,U+7935-7939,U+793d,U+793f,U+7942-7945,U+7947,U+794a-7952,U+7954-7955,U+7958-7959,U+7961,U+7963-7964,U+7966,U+7969-796c,U+796e,U+7970-7976,U+7979,U+797b-797f,U+7982-7983,U+7986-7989,U+798b-798e,U+7990-7999,U+799b-79a6,U+79a8-79b2,U+79b4-79b8,U+79bc,U+79bf,U+79c2,U+79c4-79c5,U+79c7-79c8,U+79ca,U+79cc,U+79ce-79d0,U+79d3-79d4,U+79d6-79d7,U+79d9-79de,U+79e0-79e2,U+79e5,U+79e8,U+79ea,U+79ec,U+79ee,U+79f1-79f7,U+79f9-79fa,U+79fc,U+79fe-79ff,U+7a01,U+7a04-7a05,U+7a07-7a0a,U+7a0c,U+7a0f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0986d134c05864f5025962eef9f994a0.woff2",descriptors:{unicodeRange:"U+77d8-77da,U+77dd-77e1,U+77e4,U+77e6,U+77e8,U+77ea,U+77ef-77f2,U+77f4-77f5,U+77f7,U+77f9-77fc,U+7803-7808,U+780a-780b,U+780e-7810,U+7813,U+7815,U+7819,U+781b,U+781e,U+7820-7822,U+7824,U+7828,U+782a-782b,U+782e-782f,U+7831-7833,U+7835-7836,U+783d,U+783f,U+7841-7844,U+7846,U+7848-784b,U+784d,U+784f,U+7851,U+7853-7854,U+7858-785c,U+785e-7869,U+786f-7876,U+7878-787b,U+787d-7886,U+7888,U+788a-788b,U+788f-7890,U+7892,U+7894-7896,U+7899,U+789d-789e,U+78a0,U+78a2,U+78a4,U+78a6,U+78a8-78af,U+78b5-78b8,U+78ba-78bd,U+78bf-78c0,U+78c2-78c4,U+78c6-78c8,U+78cc-78cf,U+78d1-78d3,U+78d6-78d8,U+78da-78e7,U+78e9-78eb,U+78ed-78f1,U+78f3,U+78f5-78f6,U+78f8-78f9,U+78fb-7900,U+7902-7904,U+7906-790c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1ee544f0f1dac422545c505baa788992.woff2",descriptors:{unicodeRange:"U+76af-76b0,U+76b3,U+76b5-76be,U+76c0-76c1,U+76c3-76c4,U+76c7,U+76c9,U+76cb-76cc,U+76d3,U+76d5,U+76d9-76da,U+76dc-76de,U+76e0-76e4,U+76e6-76ed,U+76f0,U+76f3,U+76f5-76f7,U+76fa-76fb,U+76fd,U+76ff-7703,U+7705-7706,U+770a,U+770c,U+770e-7718,U+771b-771e,U+7721,U+7723-7725,U+7727,U+772a-772c,U+772e,U+7730-7734,U+7739,U+773b,U+773d-773f,U+7742,U+7744-7746,U+7748-774f,U+7752-7759,U+775c-7760,U+7764,U+7767,U+7769-776a,U+776d-7778,U+777a-777c,U+7781-7783,U+7786-778b,U+778f-7790,U+7793-779e,U+77a1,U+77a3-77a4,U+77a6,U+77a8,U+77ab,U+77ad-77af,U+77b1-77b2,U+77b4,U+77b6-77ba,U+77bc,U+77be,U+77c0-77cc,U+77ce-77d6"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4806e761d750087c2d734fc64596eaff.woff2",descriptors:{unicodeRange:"U+7589-758a,U+758c-758e,U+7590,U+7593,U+7595,U+7598,U+759b-759c,U+759e,U+75a2,U+75a6-75aa,U+75ad,U+75b6-75b7,U+75ba-75bb,U+75bf-75c1,U+75c6,U+75cb-75cc,U+75ce-75d1,U+75d3,U+75d7,U+75d9-75da,U+75dc-75dd,U+75df-75e1,U+75e5,U+75e9,U+75ec-75ef,U+75f2-75f3,U+75f5-75f8,U+75fa-75fb,U+75fd-75fe,U+7602,U+7604,U+7606-7609,U+760b,U+760d-760f,U+7611-7614,U+7616,U+761a,U+761c-761e,U+7621,U+7623,U+7627-7628,U+762c,U+762e-762f,U+7631-7632,U+7636-7637,U+7639-763b,U+763d,U+7641-7642,U+7644-764b,U+764e-7653,U+7655,U+7657-765b,U+765d,U+765f-7662,U+7664-766a,U+766c-766e,U+7670-7677,U+7679-767a,U+767c,U+767f-7681,U+7683,U+7685,U+7689-768a,U+768c-768d,U+768f-7690,U+7692,U+7694-7695,U+7697-7698,U+769a-76a3,U+76a5-76ad"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-33432927cd87d40cfe393c7482bf221f.woff2",descriptors:{unicodeRange:"U+7492-749b,U+749d,U+749f-74a6,U+74aa-74b9,U+74bb-74d1,U+74d3-74db,U+74dd,U+74df,U+74e1,U+74e5,U+74e7-74ed,U+74f0-74f3,U+74f5,U+74f8-74fe,U+7500-7503,U+7505-750c,U+750e,U+7510,U+7512,U+7514-7517,U+751b,U+751d-751e,U+7520-7524,U+7526-7527,U+752a,U+752e,U+7534,U+7536,U+7539,U+753c-753d,U+753f,U+7541-7544,U+7546-7547,U+7549-754a,U+754d,U+7550-7553,U+7555-7558,U+755d-7564,U+7567-7569,U+756b-7571,U+7573,U+7575-7577,U+757a-757e,U+7580-7582,U+7584-7585,U+7587-7588"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-be549ab72f0719d606a5c01e2c0219b6.woff2",descriptors:{unicodeRange:"U+7372-737d,U+737f-7383,U+7385-7386,U+7388,U+738a,U+738c-738d,U+738f-7390,U+7392-7395,U+7397-739a,U+739c-739e,U+73a0-73a1,U+73a3-73a8,U+73aa,U+73ac-73ad,U+73b1,U+73b4-73b6,U+73b8-73b9,U+73bc-73bf,U+73c1,U+73c3-73c7,U+73cb-73cc,U+73ce,U+73d2-73d8,U+73da-73dd,U+73df,U+73e1-73e4,U+73e6,U+73e8,U+73ea-73ec,U+73ee-73f1,U+73f3-7402,U+7404,U+7407-7408,U+740b-740e,U+7411-7419,U+741c-7421,U+7423-7424,U+7427,U+7429,U+742b,U+742d,U+742f,U+7431-7432,U+7437-743b,U+743d-7440,U+7442-7454,U+7456,U+7458,U+745d,U+7460-746c,U+746e-746f,U+7471-7475,U+7478-747d,U+747f,U+7482,U+7484-7486,U+7488-748a,U+748c-748d,U+748f,U+7491"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-019d66dcad46dc156b162d267f981c20.woff2",descriptors:{unicodeRange:"U+7054-705d,U+705f-706a,U+706e,U+7071-7074,U+7077,U+7079-707b,U+707d,U+7081-7084,U+7086-7088,U+708b-708d,U+708f-7091,U+7093,U+7097-7098,U+709a-709b,U+709e-70aa,U+70b0,U+70b2,U+70b4-70b6,U+70ba,U+70be-70bf,U+70c4-70c7,U+70c9,U+70cb-70d7,U+70da,U+70dc-70de,U+70e0-70e3,U+70e5,U+70ea,U+70ee,U+70f0-70f6,U+70f8,U+70fa-70fc,U+70fe-7108,U+710b-710f,U+7111-7112,U+7114,U+7117,U+711b-7125,U+7127-712e,U+7132-7135,U+7137-7144,U+7146-7149,U+714b,U+714d,U+714f-715b,U+715d,U+715f-7163,U+7165,U+7169-716d,U+716f-7171,U+7174-7177"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b5c1596551c256e0e9cf02028595b092.woff2",descriptors:{unicodeRange:"U+722e-722f,U+7232-7234,U+723a,U+723c,U+723e,U+7240-7246,U+7249-724b,U+724e-7251,U+7253-7255,U+7257-7258,U+725a,U+725c,U+725e,U+7260,U+7263-7265,U+7268,U+726a-726d,U+7270-7271,U+7273-7274,U+7276-7278,U+727b-727d,U+7282-7283,U+7285-7289,U+728c,U+728e,U+7290-7291,U+7293-729e,U+72a0-72ab,U+72ae,U+72b1-72b3,U+72b5,U+72ba-72c0,U+72c5-72c7,U+72c9-72cc,U+72cf,U+72d1,U+72d3-72d6,U+72d8,U+72da-72dd,U+72df,U+72e2-72e7,U+72ea-72eb,U+72f5-72f6,U+72f9,U+72fd-7300,U+7302,U+7304-7309,U+730b-730d,U+730f-7312,U+7314,U+7318-731a,U+731f-7320,U+7323-7324,U+7326-7328,U+732d,U+732f-7330,U+7332-7333,U+7335-7336,U+733a-733d,U+7340-734c,U+734e-734f,U+7351,U+7353-7356,U+7358-735f,U+7361-736b,U+736e,U+7370-7371"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e5f453bb04da18eed01675eeebd88bf8.woff2",descriptors:{unicodeRange:"U+6ec5-6ec6,U+6ec8-6eca,U+6ecc-6ece,U+6ed0,U+6ed2,U+6ed6,U+6ed8-6ed9,U+6edb-6edd,U+6ee3,U+6ee7,U+6eea-6ef3,U+6ef5-6ef8,U+6efa-6f01,U+6f03-6f05,U+6f07-6f08,U+6f0a-6f0e,U+6f10-6f12,U+6f16-6f1f,U+6f21-6f23,U+6f25-6f28,U+6f2c,U+6f2e,U+6f30,U+6f32,U+6f34-6f35,U+6f37-6f3d,U+6f3f-6f45,U+6f48-6f4a,U+6f4c,U+6f4e-6f57,U+6f59-6f5b,U+6f5d,U+6f5f-6f61,U+6f63-6f65,U+6f67-6f6c,U+6f6f-6f71,U+6f73,U+6f75-6f77,U+6f79,U+6f7b,U+6f7d-6f83,U+6f85-6f87,U+6f8a-6f8b,U+6f8f-6f9b,U+6f9d-6fa0,U+6fa2-6fa6,U+6fa8-6fb1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cf2cc71752631e579e35b0e423bf2638.woff2",descriptors:{unicodeRange:"U+6d73,U+6d75-6d76,U+6d79-6d7b,U+6d7d-6d81,U+6d83-6d84,U+6d86-6d87,U+6d8a-6d8b,U+6d8d,U+6d8f-6d90,U+6d92,U+6d96-6d9a,U+6d9c,U+6da2,U+6da5,U+6dac-6dad,U+6db0-6db1,U+6db3-6db4,U+6db6-6db7,U+6db9-6dbe,U+6dc1-6dc3,U+6dc8-6dca,U+6dcd-6dd0,U+6dd2-6dd5,U+6dd7,U+6dda-6ddc,U+6ddf,U+6de2-6de3,U+6de5,U+6de7-6dea,U+6ded,U+6def-6df0,U+6df2,U+6df4-6df6,U+6df8,U+6dfa,U+6dfd-6e04,U+6e06-6e09,U+6e0b,U+6e0f,U+6e12-6e13,U+6e15,U+6e18-6e19,U+6e1b-6e1c,U+6e1e-6e1f,U+6e22,U+6e26-6e28,U+6e2a,U+6e2c,U+6e2e,U+6e30-6e31,U+6e33,U+6e35-6e37,U+6e39,U+6e3b-6e42,U+6e45-6e4c,U+6e4f-6e52,U+6e55,U+6e57,U+6e59-6e5a,U+6e5c-6e5e,U+6e60-6e6a,U+6e6c-6e6d,U+6e6f-6e7d,U+6e80-6e82,U+6e84,U+6e87-6e88,U+6e8a-6e8e,U+6e91-6e97,U+6e99-6e9b,U+6e9d-6e9e,U+6ea0-6ea1,U+6ea3-6ea4,U+6ea6,U+6ea8-6ea9,U+6eab-6eae,U+6eb0,U+6eb3,U+6eb5,U+6eb8-6eb9,U+6ebc,U+6ebe-6ec0,U+6ec3-6ec4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6f3256af8454371776bc46670d33cc65.woff2",descriptors:{unicodeRange:"U+6bbb-6bbe,U+6bc0,U+6bc3-6bc4,U+6bc6-6bca,U+6bcc,U+6bce,U+6bd0-6bd1,U+6bd8,U+6bda,U+6bdc-6be0,U+6be2-6be9,U+6bec-6bee,U+6bf0-6bf2,U+6bf4,U+6bf6-6bf8,U+6bfa-6bfc,U+6bfe-6c04,U+6c08-6c0c,U+6c0e,U+6c12,U+6c17,U+6c1c-6c1e,U+6c20,U+6c23,U+6c25,U+6c2b-6c2d,U+6c31,U+6c33,U+6c36-6c37,U+6c39-6c3c,U+6c3e-6c3f,U+6c43-6c45,U+6c48,U+6c4b-6c4f,U+6c51-6c53,U+6c56,U+6c58-6c5a,U+6c62-6c63,U+6c65-6c67,U+6c6b-6c6f,U+6c71,U+6c73,U+6c75,U+6c77-6c78,U+6c7a-6c7c,U+6c7f-6c80,U+6c84,U+6c87,U+6c8a-6c8b,U+6c8d-6c8e,U+6c91-6c92,U+6c95-6c98,U+6c9a,U+6c9c-6c9e,U+6ca0,U+6ca2,U+6ca8,U+6cac,U+6caf-6cb0,U+6cb4-6cb7,U+6cba,U+6cc0-6cc3,U+6cc6-6cc8,U+6ccb,U+6ccd-6ccf,U+6cd1-6cd2,U+6cd8-6cda,U+6cdc-6cdd,U+6cdf,U+6ce4,U+6ce6-6ce7,U+6ce9,U+6cec-6ced,U+6cf2,U+6cf4,U+6cf9,U+6cff-6d00,U+6d02-6d03,U+6d05-6d06,U+6d08-6d0a,U+6d0d,U+6d0f-6d11,U+6d13-6d16,U+6d18,U+6d1c-6d1d,U+6d1f-6d24,U+6d26,U+6d28-6d29,U+6d2c-6d2d,U+6d2f-6d30,U+6d34,U+6d36-6d38,U+6d3a,U+6d3f-6d40,U+6d42,U+6d44,U+6d49,U+6d4c,U+6d50,U+6d55-6d58,U+6d5b,U+6d5d,U+6d5f,U+6d61-6d62,U+6d64-6d65,U+6d67-6d68,U+6d6b-6d6d,U+6d70-6d72"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-23f228f3999c01983860012330e4be08.woff2",descriptors:{unicodeRange:"U+6967-696a,U+696c-696d,U+696f-6970,U+6972-6976,U+697a-697b,U+697d-697f,U+6981,U+6983,U+6985,U+698a-698c,U+698e-6993,U+6996-6997,U+6999-699a,U+699d-69a6,U+69a9-69aa,U+69ac,U+69ae-69b0,U+69b2-69b3,U+69b5-69b6,U+69b8-69ba,U+69bc-69c0,U+69c2-69c9,U+69cb,U+69cd,U+69cf,U+69d1-69d3,U+69d5-69da,U+69dc-69de,U+69e1-69ec,U+69ee-69f1,U+69f3-69fc,U+69fe,U+6a00-6a09,U+6a0b-6a16,U+6a19-6a1e,U+6a20,U+6a22-6a27,U+6a29,U+6a2b-6a2e,U+6a30,U+6a32-6a34,U+6a36-6a3c,U+6a3f-6a43,U+6a45-6a46,U+6a48-6a4a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-21430ee05a1248901da8d0de08744d47.woff2",descriptors:{unicodeRange:"U+6830-6831,U+6834-6836,U+683a-683b,U+683f,U+6847,U+684b,U+684d,U+684f,U+6852,U+6856-685f,U+686a,U+686c-6873,U+6875,U+6878-6880,U+6882,U+6884,U+6887-688e,U+6890-6892,U+6894-6896,U+6898-68a1,U+68a3-68a5,U+68a9-68ac,U+68ae,U+68b1-68b2,U+68b4,U+68b6-68bf,U+68c1,U+68c3-68c8,U+68ca,U+68cc,U+68ce-68d1,U+68d3-68d4,U+68d6-68d7,U+68d9,U+68db-68df,U+68e1-68e2,U+68e4-68ed,U+68ef,U+68f2-68f4,U+68f6-68f8,U+68fb,U+68fd-6900,U+6902-6904,U+6906-690a,U+690c,U+690f,U+6911,U+6913-691e,U+6921-6923,U+6925-692c,U+692e-692f,U+6931-6933,U+6935-6938,U+693a-693c,U+693e,U+6940-6941,U+6943-6953,U+6955-6956,U+6958-6959,U+695b-695c,U+695f,U+6961-6962,U+6964-6965"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5330a2119a716e4e7224ed108b085dac.woff2",descriptors:{unicodeRange:"U+66b8,U+66ba-66bd,U+66bf-66d8,U+66da,U+66de-66e5,U+66e7-66e8,U+66ea-66ef,U+66f1,U+66f5-66f6,U+66f8,U+66fa-66fb,U+66fd,U+6701-6707,U+670c,U+670e-670f,U+6711-6713,U+6716,U+6718-671a,U+671c,U+671e,U+6720-6725,U+6727,U+6729,U+672e,U+6730,U+6732-6733,U+6736-6739,U+673b-673c,U+673e-673f,U+6741,U+6744-6745,U+6747,U+674a-674b,U+674d,U+6752,U+6754-6755,U+6757-675b,U+675d,U+6762-6764,U+6766-6767,U+676b-676c,U+676e,U+6771,U+6774,U+6776,U+6778-677b,U+677d,U+6780,U+6782-6783,U+6785-6786,U+6788,U+678a,U+678c-678f,U+6791-6794,U+6796,U+6799,U+679b,U+679f-67a1,U+67a4,U+67a6,U+67a9,U+67ac,U+67ae,U+67b1-67b2,U+67b4,U+67b9-67c0,U+67c2,U+67c5-67ce,U+67d5-67d7,U+67db,U+67df,U+67e1,U+67e3-67e4,U+67e6-67e8,U+67ea-67eb,U+67ed-67ee,U+67f2,U+67f5-67fc,U+67fe,U+6801-6804,U+6806,U+680d,U+6810,U+6812,U+6814-6815,U+6818-681c,U+681e-6820,U+6822-6828,U+682b-682f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cd145ce4a0ea18469358df53c207bc1b.woff2",descriptors:{unicodeRange:"U+6569-656a,U+656d-656f,U+6571,U+6573,U+6575-6576,U+6578-6586,U+6588-658a,U+658d-658f,U+6592,U+6594-6596,U+6598,U+659a,U+659d-659e,U+65a0,U+65a2-65a3,U+65a6,U+65a8,U+65aa,U+65ac,U+65ae,U+65b1-65b8,U+65ba-65bb,U+65be-65c0,U+65c2,U+65c7-65ca,U+65cd,U+65d0-65d1,U+65d3-65d5,U+65d8-65df,U+65e1,U+65e3-65e4,U+65ea-65eb,U+65f2-65f5,U+65f8-65f9,U+65fb-65ff,U+6601,U+6604-6605,U+6607-6609,U+660b,U+660d,U+6610-6612,U+6616-6618,U+661a-661c,U+661e,U+6621-6624,U+6626,U+6629-662c,U+662e,U+6630,U+6632-6633,U+6637-663b,U+663d,U+663f-6640,U+6642,U+6644-664a,U+664d-664e,U+6650-6651,U+6658-6659,U+665b-665e,U+6660,U+6662-6663,U+6665,U+6667,U+6669-666d,U+6671-6673,U+6675,U+6678-6679,U+667b-667d,U+667f-6681,U+6683,U+6685-6686,U+6688-668b,U+668d-6690,U+6692-6695,U+6698-669c,U+669e-66a6,U+66a9-66ad,U+66af-66b3,U+66b5-66b7"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-36925dfe329a45086cbb7fc5c20d45ac.woff2",descriptors:{unicodeRange:"U+5f30,U+5f32-5f38,U+5f3b,U+5f3d-5f3f,U+5f41-5f4f,U+5f51,U+5f54,U+5f59-5f5c,U+5f5e-5f60,U+5f63,U+5f65,U+5f67-5f68,U+5f6b,U+5f6e-5f6f,U+5f72,U+5f74-5f76,U+5f78,U+5f7a,U+5f7d-5f7f,U+5f83,U+5f86,U+5f8d-5f8f,U+5f91,U+5f93-5f94,U+5f96,U+5f9a-5f9b,U+5f9d-5fa0,U+5fa2-5fa7,U+5fa9,U+5fab-5fac,U+5faf-5fb4,U+5fb6,U+5fb8-5fbb,U+5fbe-5fc2,U+5fc7-5fc8,U+5fca-5fcb,U+5fce,U+5fd3-5fd5,U+5fda-5fdc,U+5fde-5fdf,U+5fe2-5fe3,U+5fe5-5fe6,U+5fe8-5fe9,U+5fec,U+5fef-5ff0,U+5ff2-5ff4,U+5ff6-5ff7,U+5ff9-5ffa,U+5ffc,U+6007-6009,U+600b-600c,U+6010-6011,U+6013,U+6017-6018,U+601a,U+601e-601f,U+6022-6024,U+602c-602e,U+6030-6034,U+6036-603a,U+603d-603e,U+6040,U+6044-604a,U+604c,U+604e-604f,U+6051,U+6053-6054,U+6056-6058,U+605b-605c,U+605e-6061,U+6065-6066,U+606e,U+6071-6072,U+6074-6075,U+6077,U+607e,U+6080-6082,U+6085-6088,U+608a-608b,U+608e-6091,U+6093,U+6095,U+6097-6099,U+609c,U+609e,U+60a1-60a2,U+60a4-60a5,U+60a7,U+60a9-60aa,U+60ae,U+60b0,U+60b3,U+60b5-60b7,U+60b9-60ba,U+60bd-60c4,U+60c7-60c9,U+60cc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4bfaa8ffa64c5ee560aa2daba7c9cbd3.woff2",descriptors:{unicodeRange:"U+635a-635d,U+6360,U+6364-6366,U+6368,U+636a-636c,U+636f-6370,U+6372-6375,U+6378-6379,U+637c-637f,U+6381,U+6383-6386,U+638b,U+638d,U+6391,U+6393-6395,U+6397,U+6399-639f,U+63a1,U+63a4,U+63a6,U+63ab,U+63af,U+63b1-63b2,U+63b5-63b6,U+63b9,U+63bb,U+63bd,U+63bf-63c3,U+63c5,U+63c7-63c8,U+63ca-63cc,U+63d1,U+63d3-63d5,U+63d7-63dd,U+63df,U+63e2,U+63e4-63e8,U+63eb-63ec,U+63ee-63f1,U+63f3,U+63f5,U+63f7,U+63f9-63fc,U+63fe,U+6403-6404,U+6406-640a,U+640d-640e,U+6411-6412,U+6415-641a,U+641d,U+641f,U+6422-6425,U+6427-6429,U+642b,U+642e-6433,U+6435-6439,U+643b-643c,U+643e,U+6440,U+6442-6443,U+6449,U+644b-6451,U+6453,U+6455-6457,U+6459-645d,U+645f-6466,U+6468,U+646a-646c,U+646e-6477,U+647b-6481,U+6483,U+6486,U+6488-648f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-112c051027b2d766c19a519f6ee1f4f7.woff2",descriptors:{unicodeRange:"U+61c5-61c7,U+61c9,U+61cc-61d0,U+61d3,U+61d5-61e5,U+61e7-61f4,U+61f6-61fe,U+6200-6205,U+6207,U+6209,U+6213-6214,U+6219,U+621c-621e,U+6220,U+6223,U+6226-6229,U+622b,U+622d,U+622f-6232,U+6235-6236,U+6238-623c,U+6242,U+6244-6246,U+624a,U+624f-6250,U+6255-6257,U+6259-625a,U+625c-6262,U+6264-6265,U+6268,U+6271-6272,U+6274-6275,U+6277-6278,U+627a-627b,U+627d,U+6281-6283,U+6285-6288,U+628b-6290,U+6294,U+6299,U+629c-629e,U+62a3,U+62a6-62a7,U+62a9-62aa,U+62ad-62b0,U+62b2-62b4,U+62b6-62b8,U+62ba,U+62be,U+62c0-62c1,U+62c3,U+62cb,U+62cf,U+62d1,U+62d5,U+62dd-62de,U+62e0-62e1,U+62e4,U+62ea-62eb,U+62f0,U+62f2,U+62f5,U+62f8-62fb,U+6300,U+6303-6306,U+630a-630d,U+630f-6310,U+6312-6315,U+6317-6319,U+631c,U+6326-6327,U+6329,U+632c-632e,U+6330-6331,U+6333-6338,U+633b-633c,U+633e-6341,U+6344,U+6347-6348,U+634a,U+6351-6354,U+6356-6359"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5b0ed6971aaab9c8ad563230bd5471a7.woff2",descriptors:{unicodeRange:"U+5dd0-5dda,U+5ddc,U+5ddf-5de0,U+5de3-5de4,U+5dea,U+5dec-5ded,U+5df0,U+5df5-5df6,U+5df8-5dfc,U+5dff-5e00,U+5e04,U+5e07,U+5e09-5e0b,U+5e0d-5e0e,U+5e12-5e13,U+5e17,U+5e1e-5e25,U+5e28-5e2c,U+5e2f-5e30,U+5e32-5e36,U+5e39-5e3a,U+5e3e-5e41,U+5e43,U+5e46-5e4b,U+5e4d-5e53,U+5e56-5e5a,U+5e5c-5e5d,U+5e5f-5e60,U+5e63-5e71,U+5e75,U+5e77,U+5e79,U+5e7e,U+5e81-5e83,U+5e85,U+5e88-5e89,U+5e8c-5e8e,U+5e92,U+5e98,U+5e9b,U+5e9d,U+5ea1-5ea4,U+5ea8-5eac,U+5eae-5eb2,U+5eb4,U+5eba-5ebd,U+5ebf-5ec8,U+5ecb-5ed0,U+5ed4-5ed5,U+5ed7-5eda,U+5edc-5ee7,U+5ee9,U+5eeb-5ef3,U+5ef5,U+5ef8-5ef9,U+5efb-5efd,U+5f05-5f07,U+5f09,U+5f0c-5f0e,U+5f10,U+5f12,U+5f14,U+5f16,U+5f19-5f1a,U+5f1c-5f1e,U+5f21-5f24,U+5f28,U+5f2b-5f2c,U+5f2e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-98f2ad84457de7f3740d9920b8fa8667.woff2",descriptors:{unicodeRange:"U+60cd-60d0,U+60d2-60d4,U+60d6-60d7,U+60d9,U+60db,U+60de,U+60e1-60e5,U+60ea,U+60f1-60f2,U+60f5,U+60f7-60f8,U+60fb-60ff,U+6102-6105,U+6107,U+610a-610c,U+6110-6114,U+6116-6119,U+611b-611e,U+6121-6122,U+6125,U+6128-612a,U+612c-613e,U+6140-6147,U+6149,U+614b,U+614d,U+614f-6150,U+6152-6154,U+6156-615c,U+615e-6161,U+6163-6166,U+6169-616f,U+6171-6174,U+6176,U+6178-618a,U+618c-618d,U+618f-6193,U+6195-619c,U+619e-61a6,U+61aa-61ab,U+61ad-61b6,U+61b8-61bd,U+61bf-61c1,U+61c3-61c4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-733171b4ffcd17ea1fe1c0ba627173bf.woff2",descriptors:{unicodeRange:"U+5cf4-5cfa,U+5cfc-5d01,U+5d04-5d05,U+5d08-5d0d,U+5d0f-5d13,U+5d15,U+5d17-5d1a,U+5d1c-5d1d,U+5d1f-5d23,U+5d25,U+5d28,U+5d2a-5d2c,U+5d2f-5d33,U+5d35-5d3c,U+5d3f-5d46,U+5d48-5d49,U+5d4d-5d57,U+5d59-5d5a,U+5d5c,U+5d5e-5d68,U+5d6a,U+5d6d-5d6e,U+5d70-5d73,U+5d75-5d81,U+5d83-5d98,U+5d9a-5d9c,U+5d9e-5db6,U+5db8-5dc4,U+5dc6-5dcc,U+5dce-5dcf"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-684d65f1793cac449dde5d59cb3c47fb.woff2",descriptors:{unicodeRange:"U+5b52,U+5b56,U+5b5e,U+5b60-5b61,U+5b67-5b68,U+5b6b,U+5b6d-5b6f,U+5b72,U+5b74,U+5b76-5b79,U+5b7b-5b7c,U+5b7e-5b7f,U+5b82,U+5b86,U+5b8a,U+5b8d-5b8e,U+5b90-5b92,U+5b94,U+5b96,U+5b9f,U+5ba7-5ba9,U+5bac-5baf,U+5bb1-5bb2,U+5bb7,U+5bba-5bbc,U+5bc0-5bc1,U+5bc3,U+5bc8-5bcb,U+5bcd-5bcf,U+5bd1,U+5bd4-5bdc,U+5be0,U+5be2-5be3,U+5be6-5be7,U+5be9-5bed,U+5bef,U+5bf1-5bf7,U+5bfd-5bfe,U+5c00,U+5c02-5c03,U+5c05,U+5c07-5c08,U+5c0b-5c0e,U+5c10,U+5c12-5c13,U+5c17,U+5c19,U+5c1b,U+5c1e-5c21,U+5c23,U+5c26,U+5c28-5c2b,U+5c2d-5c30,U+5c32-5c33,U+5c35-5c37,U+5c43-5c44,U+5c46-5c47,U+5c4c-5c4d,U+5c52-5c54,U+5c56-5c58,U+5c5a-5c5d,U+5c5f,U+5c62,U+5c64,U+5c67-5c6d,U+5c70,U+5c72-5c78,U+5c7b-5c7e,U+5c80,U+5c83-5c87,U+5c89-5c8b,U+5c8e-5c8f,U+5c92-5c93,U+5c95,U+5c9d-5ca1,U+5ca4-5ca8,U+5caa,U+5cae-5cb0,U+5cb2,U+5cb4,U+5cb6,U+5cb9-5cbc,U+5cbe,U+5cc0,U+5cc2-5cc3,U+5cc5-5cca,U+5ccc-5cd1,U+5cd3-5cd8,U+5cda-5ce0,U+5ce2-5ce3,U+5ce7,U+5ce9,U+5ceb-5cec,U+5cee-5cef,U+5cf1-5cf3"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cbaaefaaf326668277aa24dfa93c4d28.woff2",descriptors:{unicodeRange:"U+593b,U+593d-5940,U+5943,U+5945-5946,U+594a,U+594c-594d,U+5950,U+5952-5953,U+5959,U+595b-595f,U+5961,U+5963-5964,U+5966-5972,U+5975,U+5977,U+597a-597c,U+597e-5980,U+5985,U+5989,U+598b-598c,U+598e-5991,U+5994-5995,U+5998,U+599a-599d,U+599f-59a2,U+59a6-59a7,U+59ac-59ad,U+59b0-59b1,U+59b3-59b8,U+59ba,U+59bc-59bd,U+59bf-59c5,U+59c7-59c9,U+59cc-59cf,U+59d5-59d6,U+59d9,U+59db,U+59de-59e2,U+59e4,U+59e6-59e7,U+59e9-59eb,U+59ed-59f8,U+59fa,U+59fc-59fe,U+5a00,U+5a02,U+5a0a-5a0b,U+5a0d-5a10,U+5a12,U+5a14-5a17,U+5a19-5a1b,U+5a1d-5a1e,U+5a21-5a22,U+5a24,U+5a26-5a28,U+5a2a-5a30,U+5a33,U+5a35,U+5a37-5a3b,U+5a3d-5a3f,U+5a41-5a45,U+5a47-5a48,U+5a4b-5a54,U+5a56-5a59,U+5a5b-5a61,U+5a63-5a66,U+5a68-5a69,U+5a6b-5a73,U+5a78-5a79,U+5a7b-5a7e,U+5a80-5a90"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-58fd02350d0bc52cf1ca3bb32ce9766e.woff2",descriptors:{unicodeRange:"U+5a91,U+5a93-5a99,U+5a9c-5aa9,U+5aab-5ab1,U+5ab4,U+5ab6-5ab7,U+5ab9-5abd,U+5abf-5ac0,U+5ac3-5ac8,U+5aca-5acb,U+5acd-5ad1,U+5ad3,U+5ad5,U+5ad7,U+5ad9-5adb,U+5add-5adf,U+5ae2,U+5ae4-5ae5,U+5ae7-5ae8,U+5aea,U+5aec-5af0,U+5af2-5b08,U+5b0a-5b15,U+5b18-5b31,U+5b33,U+5b35-5b36,U+5b38-5b3f,U+5b41-5b4f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7ccce86603f80a099ddb0cb21d4ae3e3.woff2",descriptors:{unicodeRange:"U+5843,U+5845-584b,U+584e-5850,U+5852-5853,U+5855-5857,U+5859-585d,U+585f-5864,U+5866-586a,U+586d-587d,U+587f,U+5882,U+5884,U+5886-5888,U+588a-5891,U+5894-5898,U+589b-589d,U+58a0-58a7,U+58aa-58bb,U+58bd-58c0,U+58c2-58c4,U+58c6-58d0,U+58d2-58d4,U+58d6-58e3,U+58e5-58ea,U+58ed,U+58ef,U+58f1-58f2,U+58f4-58f5,U+58f7-58f8,U+58fa-5901,U+5903,U+5905-5906,U+5908-590c,U+590e,U+5910-5913,U+5917-5918,U+591b,U+591d-591e,U+5920-5923,U+5926,U+5928,U+592c,U+5930,U+5932-5933,U+5935-5936"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3717077e38f98d89eae729b6c14e56dc.woff2",descriptors:{unicodeRange:"U+56d0-56d3,U+56d5-56d6,U+56d8-56d9,U+56dc,U+56e3,U+56e5-56ea,U+56ec,U+56ee-56ef,U+56f2-56f3,U+56f6-56f8,U+56fb-56fc,U+5700-5702,U+5705,U+5707,U+570b-571b,U+571d-571e,U+5720-5722,U+5724-5727,U+572b,U+5731-5732,U+5734-5738,U+573c-573d,U+573f,U+5741,U+5743-5746,U+5748-5749,U+574b,U+5752-5756,U+5758-5759,U+5762-5763,U+5765,U+5767,U+576c,U+576e,U+5770-5772,U+5774-5775,U+5778-577a,U+577d-5781,U+5787-578a,U+578d-5791,U+5794-579a,U+579c-579f,U+57a5,U+57a8,U+57aa,U+57ac,U+57af-57b1,U+57b3,U+57b5-57b7,U+57b9-57c1,U+57c4-57ca,U+57cc-57cd,U+57d0-57d1,U+57d3,U+57d6-57d7,U+57db-57dc,U+57de,U+57e1-57e3,U+57e5-57ec,U+57ee,U+57f0-57f3,U+57f5-57f7,U+57fb-57fc,U+57fe-57ff,U+5801,U+5803-5805,U+5808-580a,U+580c,U+580e-5810,U+5812-5814,U+5816-5818,U+581a-581d,U+581f,U+5822-5823,U+5825-5829,U+582b-582f,U+5831-5834,U+5836-5842"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-dbea1af6dcd9860be40c3d18254338f5.woff2",descriptors:{unicodeRange:"U+55f9-55fc,U+55ff,U+5602-5607,U+560a-560b,U+560d,U+5610-5617,U+5619-561a,U+561c-561d,U+5620-5622,U+5625-5626,U+5628-562b,U+562e-5630,U+5633,U+5635,U+5637-5638,U+563a,U+563c-563e,U+5640-564b,U+564f-5653,U+5655-5656,U+565a-565b,U+565d-5661,U+5663,U+5665-5667,U+566d-5670,U+5672-5675,U+5677-567a,U+567d-5684,U+5687-568d,U+5690-5692,U+5694-56a2,U+56a4-56ae,U+56b0-56b6,U+56b8-56bb,U+56bd-56c9,U+56cb-56cf"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4a0fdb40036e87b40aa08dd30584cb85.woff2",descriptors:{unicodeRange:"U+5286-5287,U+5289-528f,U+5291-5292,U+5294-529a,U+529c,U+52a4-52a7,U+52ae-52b0,U+52b4-52bd,U+52c0-52c2,U+52c4-52c6,U+52c8,U+52ca,U+52cc-52cf,U+52d1,U+52d3-52d5,U+52d7,U+52d9-52de,U+52e0-52e3,U+52e5-52ef,U+52f1-52f8,U+52fb-52fd,U+5301-5304,U+5307,U+5309-530c,U+530e,U+5311-5314,U+5318,U+531b-531c,U+531e-531f,U+5322,U+5324-5325,U+5327-5329,U+532b-532d,U+532f-5338,U+533c-533d,U+5340,U+5342,U+5344,U+5346,U+534b-534d,U+5350,U+5354,U+5358-5359,U+535b,U+535d,U+5365,U+5368,U+536a,U+536c-536d,U+5372,U+5376,U+5379,U+537b-537e,U+5380-5381,U+5383,U+5387-5388,U+538a,U+538e-5394,U+5396-5397,U+5399,U+539b-539c,U+539e,U+53a0-53a1,U+53a4,U+53a7,U+53aa-53ad,U+53af-53b5,U+53b7-53ba,U+53bc-53be,U+53c0,U+53c3-53c7,U+53ce-53d0,U+53d2-53d3,U+53d5,U+53da,U+53dc-53de,U+53e1-53e2,U+53e7,U+53f4,U+53fa,U+53fe-5400,U+5402,U+5405,U+5407,U+540b,U+5414,U+5418-541a,U+541c,U+5422,U+5424-5425,U+542a,U+5430,U+5433,U+5436-5437,U+543a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0f626226ba1272e832aea87bafd9720e.woff2",descriptors:{unicodeRange:"U+5101-5105,U+5108-510a,U+510c-5111,U+5113-5120,U+5122-513e,U+5142,U+5147,U+514a,U+514c,U+514e-5150,U+5152-5153,U+5157-5159,U+515b,U+515d-5161,U+5163-5164,U+5166-5167,U+5169-516a,U+516f,U+5172,U+517a,U+517e-517f,U+5183-5184,U+5186-5187,U+518a-518b,U+518e-5191,U+5193-5194,U+5198,U+519a,U+519d-519f,U+51a1,U+51a3,U+51a6-51aa,U+51ad-51ae,U+51b4,U+51b8-51ba,U+51be-51bf,U+51c1-51c3,U+51c5,U+51c8,U+51ca,U+51cd-51ce,U+51d0,U+51d2-51da,U+51dc,U+51de-51df,U+51e2-51e3,U+51e5-51ea,U+51ec,U+51ee,U+51f1-51f2,U+51f4,U+51f7,U+51fe,U+5204-5205,U+5209,U+520b-520c,U+520f-5210,U+5213-5215,U+521c,U+521e-521f,U+5221-5223,U+5225-5227,U+522a,U+522c,U+522f,U+5231-5232,U+5234-5235,U+523c,U+523e,U+5244-5249,U+524b,U+524e-524f,U+5252-5253,U+5255,U+5257-525b,U+525d,U+525f-5260,U+5262-5264,U+5266,U+5268,U+526b-526e,U+5270-5271,U+5273-527c,U+527e,U+5280,U+5283-5285"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-938d90c10ff8c20386af7f242c05d6b0.woff2",descriptors:{unicodeRange:"U+543d,U+543f,U+5441-5442,U+5444-5445,U+5447,U+5449,U+544c-544f,U+5451,U+545a,U+545d-5461,U+5463,U+5465,U+5467,U+5469-5470,U+5474,U+5479-547a,U+547e-547f,U+5481,U+5483,U+5485,U+5487-548a,U+548d,U+5491,U+5493,U+5497-5498,U+549c,U+549e-54a2,U+54a5,U+54ae,U+54b0,U+54b2,U+54b5-54b7,U+54b9-54ba,U+54bc,U+54be,U+54c3,U+54c5,U+54ca-54cb,U+54d6,U+54d8,U+54db,U+54e0-54e4,U+54eb-54ec,U+54ef-54f1,U+54f4-54f9,U+54fb,U+54fe,U+5500,U+5502-5505,U+5508,U+550a-550e,U+5512-5513,U+5515-551a,U+551c-551f,U+5521,U+5525-5526,U+5528-5529,U+552b,U+552d,U+5532,U+5534-5536,U+5538-553b,U+553d,U+5540,U+5542,U+5545,U+5547-5548,U+554b-554f,U+5551-5554,U+5557-555b,U+555d-5560,U+5562-5563,U+5568-5569,U+556b,U+556f-5574,U+5579-557a,U+557d,U+557f,U+5585-5586,U+558c-558e,U+5590,U+5592-5593,U+5595-5597,U+559a-559b,U+559e,U+55a0-55a6,U+55a8-55b0,U+55b2,U+55b4,U+55b6,U+55b8,U+55ba,U+55bc,U+55bf-55c3,U+55c6-55c8,U+55ca-55cb,U+55ce-55d0,U+55d5,U+55d7-55db,U+55de,U+55e0,U+55e2,U+55e7,U+55e9,U+55ed-55ee,U+55f0-55f1,U+55f4,U+55f6,U+55f8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b6d128682ee29e471486354d486a1b90.woff2",descriptors:{unicodeRange:"U+4fe0,U+4fe2,U+4fe4-4fe5,U+4fe7,U+4feb-4fec,U+4ff0,U+4ff2,U+4ff4-4ff7,U+4ff9,U+4ffb-4ffd,U+4fff-500b,U+500e,U+5010-5011,U+5013,U+5015-5017,U+501b,U+501d-501e,U+5020,U+5022-5024,U+5027,U+502b,U+502f-5039,U+503b,U+503d,U+503f-5042,U+5044-5046,U+5049-504b,U+504d,U+5050-5054,U+5056-5059,U+505b,U+505d-5064,U+5066-506b,U+506d-5075,U+5078-507a,U+507c-507d,U+5081-5084,U+5086-5087,U+5089-508c,U+508e-50a2,U+50a4,U+50a6,U+50aa-50ab,U+50ad-50b1,U+50b3-50b9,U+50bc-50ce,U+50d0-50d5,U+50d7-50d9,U+50db-50e5,U+50e8-50eb,U+50ef-50f2,U+50f4,U+50f6-50fa,U+50fc-5100"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e51ef413167c6e14e0c0fdcc585f2fc9.woff2",descriptors:{unicodeRange:"U+49d5-4a77"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9d81066dd2b337c938df6e90380a00dc.woff2",descriptors:{unicodeRange:"U+4dac-4dad,U+4daf-4db5,U+4e02,U+4e04-4e06,U+4e0f,U+4e12,U+4e17,U+4e1f-4e21,U+4e23,U+4e26,U+4e29,U+4e2e-4e2f,U+4e31,U+4e33,U+4e35,U+4e37,U+4e3c,U+4e40-4e42,U+4e44,U+4e46,U+4e4a,U+4e51,U+4e55,U+4e57,U+4e5a-4e5b,U+4e62-4e65,U+4e67-4e68,U+4e6a-4e6f,U+4e72,U+4e74-4e7d,U+4e7f-4e85,U+4e87,U+4e8a,U+4e90,U+4e96-4e97,U+4e99,U+4e9c-4e9e,U+4ea3,U+4eaa,U+4eaf-4eb1,U+4eb4,U+4eb6-4eb9,U+4ebc-4ebe,U+4ec8,U+4ecc,U+4ecf-4ed0,U+4ed2,U+4eda-4edc,U+4ee0,U+4ee2,U+4ee6-4ee7,U+4ee9,U+4eed-4eef,U+4ef1,U+4ef4,U+4ef8-4efa,U+4efc,U+4efe,U+4f00,U+4f02-4f08,U+4f0b-4f0c,U+4f12-4f16,U+4f1c-4f1d,U+4f21,U+4f23,U+4f28-4f29,U+4f2c-4f2e,U+4f31,U+4f33,U+4f35,U+4f37,U+4f39,U+4f3b,U+4f3e-4f42,U+4f44-4f45,U+4f47-4f4c,U+4f52,U+4f54,U+4f56,U+4f61-4f62,U+4f66,U+4f68,U+4f6a-4f6b,U+4f6d-4f6e,U+4f71-4f72,U+4f75,U+4f77-4f7a,U+4f7d,U+4f80-4f82,U+4f85-4f87,U+4f8a,U+4f8c,U+4f8e,U+4f90,U+4f92-4f93,U+4f95-4f96,U+4f98-4f9a,U+4f9c,U+4f9e-4f9f,U+4fa1-4fa2,U+4fa4,U+4fab,U+4fad,U+4fb0-4fb4,U+4fb6-4fbe,U+4fc0-4fc2,U+4fc6-4fc9,U+4fcb-4fcd,U+4fd2-4fd6,U+4fd9,U+4fdb"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-20e7bf72fa05de9adf7dbcc7bf51dde6.woff2",descriptors:{unicodeRange:"U+4933-49d4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4095eb84ef3874e2600247bee0b04026.woff2",descriptors:{unicodeRange:"U+487a-4932"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4ee10ae43505e2e0bc62656ced49c0fa.woff2",descriptors:{unicodeRange:"U+47d2-4879,U+2ce7c,U+2ce88,U+2ce93"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7494dc504ae00ee9cd0505f990f88c5d.woff2",descriptors:{unicodeRange:"U+4756-47d1,U+2ca02,U+2ca0e,U+2ca7d,U+2caa9,U+2cb29,U+2cb2e,U+2cb31,U+2cb38-2cb39,U+2cb3f,U+2cb41,U+2cb4e,U+2cb5a,U+2cb64,U+2cb69,U+2cb6c,U+2cb6f,U+2cb76,U+2cb78,U+2cb7c,U+2cbb1,U+2cbbf-2cbc0,U+2cbce,U+2cc5f,U+2ccf5-2ccf6,U+2ccfd,U+2ccff,U+2cd02-2cd03,U+2cd0a,U+2cd8b,U+2cd8d,U+2cd8f-2cd90,U+2cd9f-2cda0,U+2cda8,U+2cdad-2cdae,U+2cdd5,U+2ce18,U+2ce1a,U+2ce23,U+2ce26,U+2ce2a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8de5b863cb50dfefdd07cb11c774d579.woff2",descriptors:{unicodeRange:"U+46c3-4755,U+2c488,U+2c494,U+2c497,U+2c542,U+2c613,U+2c618,U+2c621,U+2c629,U+2c62b-2c62d,U+2c62f,U+2c642,U+2c64a-2c64b,U+2c72c,U+2c72f,U+2c79f,U+2c7c1,U+2c7fd,U+2c8d9,U+2c8de,U+2c8e1,U+2c8f3,U+2c907,U+2c90a,U+2c91d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3e1f8f654357353bf0e04ba5c34b5f7f.woff2",descriptors:{unicodeRange:"U+4629-46c2,U+2bdf7,U+2be29,U+2c029-2c02a,U+2c0a9,U+2c0ca,U+2c1d5,U+2c1d9,U+2c1f9,U+2c27c,U+2c288,U+2c2a4,U+2c317,U+2c35b,U+2c361,U+2c364"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2e33e8dc771ef5e1d9127d60a6b73679.woff2",descriptors:{unicodeRange:"U+458e-4628,U+2b7a9,U+2b7c5,U+2b7e6,U+2b7f9,U+2b806,U+2b80a,U+2b81c,U+2b8b8,U+2bac7,U+2bb5f,U+2bb62,U+2bb7c,U+2bb83,U+2bc1b,U+2bd77,U+2bd87"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-173945821411c09f70c95f98d590e697.woff2",descriptors:{unicodeRange:"U+4449-4511,U+2afa2,U+2b127-2b128,U+2b137-2b138,U+2b1ed"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b358f7a51ece39a3247942b1feabdb29.woff2",descriptors:{unicodeRange:"U+439b-4448,U+2a437,U+2a5f1,U+2a602,U+2a61a,U+2a6b2,U+2a7dd,U+2a8fb,U+2a917,U+2aa30,U+2aa36,U+2aa58"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-23ad2d71b280f00b1363b95b7bea94eb.woff2",descriptors:{unicodeRange:"U+4275-430d,U+298c6,U+29a72,U+29d98,U+29ddb,U+29e15,U+29e3d,U+29e49"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5882ffa04f32584d26109137e2da4352.woff2",descriptors:{unicodeRange:"U+4132-41de,U+28bef,U+28c47,U+28c4f,U+28c51,U+28c54,U+28d10,U+28d71,U+28dfb,U+28e1f,U+28e36,U+28e89,U+28e99,U+28eeb,U+28f32,U+28ff8,U+292a0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a203b91dad570bf05a58c3c3ddb529bf.woff2",descriptors:{unicodeRange:"U+41df-4274,U+292b1,U+29490,U+295cf,U+2967f,U+296f0,U+29719,U+29750"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-bd77e3c7f9e0b072d96af37f73d1aa32.woff2",descriptors:{unicodeRange:"U+408e-4131,U+285c8-285c9,U+28678,U+28695,U+286d7,U+286fa,U+287e0,U+28946,U+28949,U+2896b,U+28987-28988,U+289ba-289bb,U+28a1e,U+28a29,U+28a43,U+28a71,U+28a99,U+28acd,U+28add,U+28ae4,U+28b49,U+28bc1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5a45d991244d4c7140217e1e5f5ca4f4.woff2",descriptors:{unicodeRange:"U+3e83-3f2f,U+27139,U+273da-273db,U+273fe,U+27410,U+27449,U+27614-27615,U+27631,U+27684,U+27693,U+2770e,U+27723,U+27752"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f56414bf9bced67990def8660e306759.woff2",descriptors:{unicodeRange:"U+3f30-3fdb,U+27985,U+27a84,U+27bb3,U+27bbe,U+27bc7,U+27cb8,U+27da0,U+27e10"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-583d166e56ba0de4b77eabb47ef67839.woff2",descriptors:{unicodeRange:"U+3fdc-408d,U+27fb7,U+27ff9,U+2808a,U+280bb,U+2815d,U+28277,U+28282,U+282e2,U+282f3,U+283cd,U+28408,U+2840c,U+28455,U+28468,U+2856b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7f855356ab893b0d2b9c1c83b8116f0e.woff2",descriptors:{unicodeRange:"U+3dd2-3e82,U+26a58,U+26a8c,U+26ab7,U+26aff,U+26b5c,U+26c21,U+26c29,U+26c73,U+26cdd,U+26e40,U+26e65,U+26f94,U+26ff6-26ff8,U+270f4,U+2710d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b57aaedfd8ebdf3931f25119dc6a5eb2.woff2",descriptors:{unicodeRange:"U+3d34-3dd1,U+2648d,U+26676,U+2667e,U+266b0,U+2671d,U+2677c,U+267cc,U+268dd,U+268ea,U+26951,U+2696f,U+269dd,U+269fa,U+26a1e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b6fd38ca30869792244804b04bc058da.woff2",descriptors:{unicodeRange:"U+3c76-3d33,U+25d0a,U+25da1,U+25e2e,U+25e56,U+25e62,U+25e65,U+25ec2,U+25ed7-25ed8,U+25ee8,U+25f23,U+25f5c,U+25fd4,U+25fe0,U+25ffb,U+2600c,U+26017,U+26060,U+260ed,U+26221,U+26270,U+26286,U+2634c,U+26402"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-452225341522a7942f0f6aab1a5c91a3.woff2",descriptors:{unicodeRange:"U+3bda-3c75,U+25771,U+257a9,U+257b4,U+259c4,U+259d4,U+25ae3-25ae4,U+25af1,U+25bb2,U+25c14,U+25c4b,U+25c64"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-866fa7613df6b3fd272bcfd4530c0bb9.woff2",descriptors:{unicodeRange:"U+3b25-3bd9,U+2504a,U+25055,U+25122,U+2512b,U+251a9,U+251cd,U+251e5,U+2521e,U+2524c,U+2542e,U+2548e,U+254d9,U+2550e,U+25532,U+25562,U+255a7-255a8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-52a84a22fd1369bffeaf21da2d6158dc.woff2",descriptors:{unicodeRange:"U+3a6b-3b24,U+24896,U+249db,U+24a4d,U+24a7d,U+24ac9,U+24b56,U+24b6f,U+24c16,U+24d14,U+24dea,U+24e0e,U+24e37,U+24e6a,U+24e8b,U+24eaa"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-829615148e6357d826b9242eb7fbbd1e.woff2",descriptors:{unicodeRange:"U+39a9-3a6a,U+24096,U+24103,U+241ac,U+241c6,U+241fe,U+243bc,U+243f8,U+244d3,U+24629,U+246a5,U+247f1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c99eda15fc26a2941579560f76c3a5cf.woff2",descriptors:{unicodeRange:"U+38e3-39a8,U+23a98,U+23c7f,U+23c97-23c98,U+23cfe,U+23d00,U+23d0e,U+23d40,U+23dd3,U+23df9-23dfa,U+23e23,U+23f7e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-395c35dd584b56b0789f58a0559beaf1.woff2",descriptors:{unicodeRange:"U+3760-382a,U+22ab8,U+22b43,U+22b46,U+22b4f-22b50,U+22ba6,U+22bca,U+22c1d,U+22c24,U+22c55,U+22d4c,U+22de1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-203b0e569e3b14aac86a003dc3fa523e.woff2",descriptors:{unicodeRange:"U+382b-38e2,U+231b6,U+231c3-231c4,U+231f5,U+23350,U+23372,U+233d0,U+233d2-233d3,U+233d5,U+233da,U+233df,U+233e4,U+2344a-2344b,U+23451,U+23465,U+234e4,U+2355a,U+23594,U+235c4,U+235cb,U+23638-2363a,U+23647,U+2370c,U+2371c,U+2373f,U+23763-23764,U+237e7,U+237ff,U+23824,U+2383d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-51a0e808bbc8361236ac521a119758a3.woff2",descriptors:{unicodeRange:"U+3698-375f,U+22218,U+2231e,U+223ad,U+224dc,U+226f3,U+2285b,U+228ab,U+2298f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-6e092f71c1e634059ada0e52abadce67.woff2",descriptors:{unicodeRange:"U+35e6-3697,U+21c56,U+21cde,U+21d2d,U+21d45,U+21d62,U+21d78,U+21d92,U+21d9c,U+21da1,U+21db7,U+21de0,U+21e33-21e34,U+21f1e,U+21f76,U+21ffa,U+2217b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0f7fb1e0d5015bb1371343153ecf7ce3.woff2",descriptors:{unicodeRange:"U+3444-350e,U+20ad3,U+20b1d,U+20b9f,U+20c41,U+20cbf,U+20cd0,U+20d45,U+20de1,U+20e64,U+20e6d,U+20e95,U+20e9d,U+20ea2,U+20f5f,U+210c1,U+21201,U+2123d,U+21255,U+21274,U+2127b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-d0cf73942fea1c74edbdf0b3011f4656.woff2",descriptors:{unicodeRange:"U+350f-35e5,U+212d7,U+212e4,U+212fd,U+2131b,U+21336,U+21344,U+2139a,U+213c4,U+21413,U+2146d-2146e,U+215d7,U+21647,U+216b4,U+21706,U+21742,U+218bd,U+219c3"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-968cffdc8ee679da094e77ebf50f58ef.woff2",descriptors:{unicodeRange:"U+336d-3443,U+2032b,U+20371,U+20381,U+203f9,U+2044a,U+20509,U+20547,U+205d6,U+20628,U+20676,U+2074f,U+20779,U+20807,U+2083a,U+20895,U+208b9,U+2097c,U+2099d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7a07ddc0f0c0f5f4a9bad6ee3dda66b5.woff2",descriptors:{unicodeRange:"U+328b-336c,U+2000b,U+20089,U+200a2,U+200a4,U+20164,U+201a2,U+20213"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ec181b795ac1fb5a50d700b6e996d745.woff2",descriptors:{unicodeRange:"U+3192-31ba,U+31c0-31e3,U+31f0-321e,U+3220-328a,U+1f250-1f251"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-cfb211578629b7e8153b37240de6a9d5.woff2",descriptors:{unicodeRange:"U+2f74-2fd5,U+3000,U+3003-3007,U+3012-3013,U+3018-301c,U+3020-3029,U+302f-303f,U+3041-3096,U+3099-30a1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-59e9ff77b0efaf684bc09274fb6908c9.woff2",descriptors:{unicodeRange:"U+30a2-30ff,U+3105-312f,U+3131-318e,U+3190-3191"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2adbc89c11e65905393d3dfc468b9d5b.woff2",descriptors:{unicodeRange:"U+4e36,U+4ea0,U+4f74,U+4f91,U+4f94,U+4fc5,U+507e,U+50ed,U+5182,U+51f5,U+525e,U+5282,U+52f9,U+5326,U+537a,U+53a3,U+5423,U+5459,U+54b4,U+54d9,U+55c9,U+57f4,U+580b,U+5902,U+5925,U+5a08,U+5ab5,U+5b84,U+5be4,U+5c22,U+5cb5,U+5cbd,U+5d3e,U+5e31,U+5e5e,U+5e80,U+5ee8,U+5f82,U+5fc9,U+5fed,U+600a,U+605d,U+609b,U+609d,U+60dd,U+6243,U+6322,U+63ce,U+640c,U+643f,U+6445,U+64d7,U+6534,U+6549,U+656b,U+6603,U+674c,U+680a,U+6864,U+69d4,U+6a65,U+6c2a,U+6c46,U+6c5c,U+6d0e,U+6d48,U+6e2b,U+6eb2,U+6eb7,U+6f89,U+706c,U+70b1,U+7113,U+71d4,U+727f,U+72f3,U+7303,U+7321,U+736c,U+736f,U+74a9,U+74de,U+750d,U+7513,U+7592,U+75c4,U+7605,U+760a,U+761b,U+7625,U+762d,U+7643,U+7707,U+7747,U+77b5,U+7839,U+784e,U+78a5,U+7924,U+793b,U+798a,U+7a03,U+7a06,U+7a78,U+7a80,U+7aad,U+7ba8,U+7be5,U+7cc8,U+7ec1,U+7f0b,U+7f0f,U+7f12,U+7f68,U+7f9d,U+8025,U+809c,U+80ad,U+80b7,U+80e8,U+811e,U+8204,U+8223,U+822d,U+823b,U+824b,U+825a,U+827d,U+827f,U+828f,U+82c8,U+8307,U+831b,U+8347,U+837d,U+839b,U+83a9,U+83f9,U+84b9,U+8579,U+864d,U+867f,U+86b0,U+86d1,U+86d8,U+86f2,U+8764,U+8770,U+8788,U+8797,U+87ac-87ad,U+87b5,U+881b,U+8844,U+88bc,U+88fc,U+8930,U+89cf,U+89d6,U+8ba0,U+8bd4,U+8c02,U+8c2b,U+8c85,U+8e23,U+8f81-8f82,U+8fd5,U+90b6,U+90db,U+914e,U+9164,U+91ad,U+943e,U+94b7-94b8,U+94eb,U+950d,U+9514,U+9516,U+9518,U+9529,U+9538,U+953f,U+954e,U+955f,U+95fc,U+9667,U+96b3,U+9792,U+97b2,U+98a1,U+9969,U+9987,U+9998,U+9a80,U+9a92,U+9a96,U+9adf,U+9cb4,U+9cbd,U+9cd0,U+9cd4,U+9e31,U+9e3a,U+9e71,U+9ee5,U+9eea,U+9ef9,U+9fa0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-70e811fd7994e61f408c923de6ddd078.woff2",descriptors:{unicodeRange:"U+4e0c,U+4e28,U+4e3f,U+4ec2,U+502e,U+50ba,U+5155,U+5181,U+522d,U+5281,U+5290,U+5369,U+53b6,U+54d5,U+54dc,U+54ff,U+552a,U+553c,U+5588,U+55b5,U+5686,U+570a,U+5776,U+5786,U+57a4,U+5820,U+5865,U+58bc,U+5b32,U+5b65,U+5c1c,U+5c66,U+5c6e,U+5c8d,U+5ddb,U+5f2a,U+5f50,U+5f61,U+6067,U+614a,U+615d,U+619d,U+61d4,U+620b,U+6224-6225,U+6343,U+63ad,U+63f2,U+640b,U+6420,U+6434,U+6496,U+64d0,U+6509,U+652e,U+67a8,U+6833,U+6844,U+684a,U+6920,U+6957,U+6971,U+6a8e,U+6a91,U+6aa0,U+6b43,U+6bea,U+6bf5,U+6c15,U+6cd0,U+6ee0,U+6f24,U+6f2d,U+70c0,U+721d,U+728b,U+72c3,U+72e8,U+730a,U+7338-7339,U+734d,U+746d,U+752f,U+754e,U+770d,U+7735,U+778d,U+77a2,U+77e7,U+7857,U+786d,U+78c9,U+78f2,U+791e,U+7953,U+7b58,U+7b9d,U+7bda,U+7cd7,U+7f32-7f33,U+8022,U+8028-8029,U+8035,U+804d,U+8080,U+80c2,U+80e9,U+80ec,U+80f2,U+810e,U+8221,U+8274,U+82b0,U+82e0,U+83b0,U+8487-8488,U+848e,U+84cd,U+84d0,U+8539,U+857a,U+85a8,U+85b7,U+867c,U+871e,U+8723,U+877e,U+878b,U+8793,U+8803,U+88d2,U+8966,U+89cc,U+89eb,U+8b26,U+8c8a,U+8c98,U+8d33,U+8d47,U+8d55,U+8dbc,U+8e40,U+8e94,U+8f77,U+8f79,U+9058,U+91a2,U+91b5,U+928e,U+9494,U+94b6,U+94de,U+94f4,U+94f9,U+950a,U+950e,U+951e,U+952b,U+953c,U+953e,U+9544,U+9561,U+9564,U+9569,U+95f6,U+9603,U+960d,U+963d,U+9674,U+9794,U+97ab,U+98a5,U+9a9f,U+9ab1,U+9ad1,U+9b0f,U+9b2f,U+9c92,U+9c95,U+9cba,U+9cbc,U+9cc6,U+9ccb,U+9cd8,U+9e32,U+9e38,U+9e5b,U+9e7e,U+9eb4,U+9efb-9efc,U+9f3d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c4a687ac4f0c2766eefc9f77ed99cddf.woff2",descriptors:{unicodeRange:"U+2e3b,U+2e80-2e99,U+2e9b-2ef3,U+2f00-2f73,U+ffffd"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-51502f1206be09c565f1547c406e9558.woff2",descriptors:{unicodeRange:"U+4e69,U+4f1b,U+4f67,U+4f7e,U+4fdc,U+50e6,U+5196,U+5202,U+5233,U+523f,U+52a2,U+536e,U+5476,U+54ad,U+54cf,U+5537,U+561e,U+56dd,U+56df,U+5709,U+572c,U+57cf,U+57f8,U+580d,U+5881,U+589a,U+5941,U+59b2,U+5c25,U+5d24,U+5d74,U+5e42,U+5e8b,U+5eb3,U+5ed2,U+5fad,U+6003,U+603c,U+6083,U+6100,U+6126,U+6206,U+62ca,U+638e,U+63b4,U+6426,U+646d,U+6535,U+65c4,U+66db,U+6715,U+6769,U+6798,U+67c3,U+6861,U+698d,U+69ca,U+69ed,U+69f2,U+69ff,U+6a18,U+6b39,U+6bb3,U+6c0d,U+6cb2,U+6cd6,U+6cf7,U+6cfa,U+6d33,U+6e16,U+6e53-6e54,U+6ebb,U+6fb6,U+709d,U+72ad,U+72f7,U+72fb,U+7313,U+739f,U+74ba,U+754b,U+755b,U+758b,U+75ac,U+75d6,U+7617,U+7635,U+7640,U+76a4,U+76b2,U+775a,U+77bd,U+781f,U+79b3,U+7b2b,U+7b31,U+7b3e,U+7b6e,U+7b9c,U+7c0b,U+7c9e,U+7cc1,U+7ce8,U+7ea5,U+7f21,U+7f27,U+7f74,U+7fb0,U+8031,U+8071,U+80ea,U+8114,U+8160,U+81a6,U+81c1,U+829f,U+82a4,U+82fb,U+831a,U+8333,U+836c,U+83b6,U+83f8,U+8411,U+841c,U+8489,U+848c,U+85a4,U+8627,U+8629,U+866e,U+86b5,U+872e,U+8731,U+877b,U+877d,U+87ea,U+8813,U+8816,U+8864,U+88ce,U+88e5,U+897b,U+89cb,U+89f3,U+8bfc,U+8c35,U+8d46,U+8d4d,U+8dba,U+8e3a,U+8f75,U+8f7e,U+8fd3,U+9161,U+9179,U+917e,U+91a3,U+94ac,U+94d7,U+94e5,U+952a,U+952c,U+9545,U+9565,U+9568,U+956a,U+961d,U+96e0,U+972a,U+9730,U+989f,U+98e7,U+990d,U+9967,U+9993,U+9aa3,U+9ac0,U+9ae1,U+9aeb,U+9af9,U+9c86,U+9c8b,U+9ca0-9ca1,U+9ca3,U+9ce2,U+9e48,U+9e6a,U+9e87,U+9ee2,U+9ee9,U+9f17,U+9f19,U+9f2c,U+9f80"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1fdc0c67ed57263a80fd108c1f6ccf24.woff2",descriptors:{unicodeRange:"U+4ef3,U+50d6,U+50ec,U+51ab,U+51b1,U+52d6,U+54a9,U+54da,U+55be,U+55cd,U+564d,U+572f,U+574c,U+576b,U+57d8,U+57fd,U+5844,U+59d2,U+5ae0,U+5b16,U+5b37,U+5b5b,U+5b80,U+5d1e,U+5d6b,U+5efe,U+5f11,U+5f56,U+5f58,U+5f73,U+5f8c,U+5fc4,U+5fe4,U+602b,U+6106,U+610d,U+63de,U+63f8,U+641b,U+64e4,U+6634,U+676a,U+67b5,U+681d,U+6883,U+69b1,U+69e0,U+6b37,U+6b9b,U+6d7c,U+6ed7,U+6f36,U+6f72,U+6f8c,U+7035,U+7039,U+7173,U+7178,U+7228,U+728f,U+72b4,U+72ef,U+72f4,U+7331,U+7481,U+74e0,U+7540,U+75c3,U+75e6,U+763c,U+764d,U+76cd,U+7704,U+7743,U+7780,U+7847,U+786a,U+78b9,U+7962,U+7a02,U+7aac,U+7ab3,U+7b0a,U+7b4c,U+7b7b,U+7bfc,U+7c0f,U+7c16,U+7c40,U+7ca2,U+7cc7,U+7cf8,U+7d77,U+7e3b,U+7ea1,U+7ea9,U+7ef2,U+7f02,U+7f07,U+7f0c,U+7f23,U+7f2f,U+7fbc,U+8016,U+8020,U+812c,U+8136,U+8182,U+822f,U+8233,U+825f,U+8268,U+8284,U+8288,U+8291,U+8308,U+8311,U+835b,U+836d,U+83dd,U+8406,U+840f,U+845c,U+84b4,U+84e3,U+850c,U+855e,U+863c,U+86ba,U+86c4,U+86de,U+86f1,U+873e,U+87bd,U+87db,U+880a,U+883c,U+887f,U+88f0,U+890a,U+892b,U+895e,U+89ef,U+8a48,U+8bdc,U+8c18,U+8c33,U+8c94,U+8db1,U+8dcf,U+8dd6,U+8de3,U+8e6f,U+8e90,U+8f7a,U+8fb6,U+902d,U+90be,U+91af,U+936a,U+948b,U+94d8,U+9513,U+953a,U+956c,U+963c,U+9654,U+966c,U+9688,U+97b4,U+996b,U+9a75,U+9a7a,U+9aba,U+9aed,U+9b08,U+9b43,U+9c8e,U+9c94,U+9c9a,U+9e2b,U+9e36,U+9e4b,U+9e4e,U+9e55,U+9e63,U+9e68-9e69,U+9ebd,U+9ec9,U+9f0d,U+9f37,U+9f51"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e11567fd2accf9957cd0d3c2be937d87.woff2",descriptors:{unicodeRange:"U+50a7,U+5240,U+5261,U+52ac,U+531a,U+5363,U+5432,U+5452,U+5456,U+5472,U+5478,U+553f,U+5575,U+5581,U+55cc,U+55fe,U+5601,U+572e,U+57d2,U+57ef,U+581e,U+5924,U+5981,U+5997,U+59a3,U+5aaa,U+5ab8,U+5b34,U+5d5d,U+5def,U+5e11,U+5e91,U+5ed1,U+5ef4,U+5f40,U+600d,U+6019,U+601b,U+605a,U+6092,U+60ab,U+6217,U+623d,U+6369,U+65d2,U+6661,U+670a,U+6753,U+67a7,U+6855,U+68f9,U+6939,U+696e,U+6980,U+6a7c,U+6aab,U+6b82,U+6bf3,U+6bf9,U+6c05,U+6c19-6c1a,U+6ca9,U+6cf6,U+6d1a,U+6dab,U+6f74,U+7085,U+7198,U+71b5,U+7256,U+725d,U+727e,U+72fa,U+7322,U+738e,U+73e5,U+750f,U+755a,U+7594,U+75b3,U+760c,U+7615,U+7630,U+763f,U+77ec,U+7817,U+78a1,U+78d9,U+7905,U+7b2a,U+7b2e,U+7b62,U+7b85,U+7bcc,U+7bea,U+7c26,U+7c74,U+7c9c-7c9d,U+7e47,U+7e9b,U+7e9f,U+7ee0,U+7ee8,U+7ef1,U+7f01,U+7f11,U+7f17,U+7f36,U+7f7e,U+7fee,U+802a,U+80cd,U+8112,U+8169,U+8234,U+8279,U+8298,U+82ca,U+82d8,U+82e1,U+83c0,U+83d4,U+83df,U+8401,U+8451,U+845a,U+8476,U+8478,U+84ba,U+84bd,U+84e0,U+851f,U+8548,U+8556,U+8585,U+868d,U+86e9,U+86f4,U+86f8,U+8765,U+8785,U+87ab,U+87ee,U+8832,U+8872,U+88b7,U+88e2-88e3,U+89da,U+8bce,U+8bd3,U+8bd6,U+8bf9,U+8c16,U+8c73,U+8d5c,U+8dde,U+8f6d,U+8f94,U+8fe8,U+9011,U+915e,U+9185,U+918c,U+94ab,U+94d1,U+94f3,U+9515,U+951d,U+9558,U+9567,U+96ce,U+96e9,U+9785,U+9878,U+987c,U+9883,U+98d1,U+9954,U+9963,U+9a93,U+9ac1,U+9acc,U+9b1f,U+9b49,U+9b4d,U+9b51,U+9ca7,U+9cae,U+9cce,U+9cd3,U+9e37,U+9e39,U+9e41,U+9e46,U+9f22,U+9f2f,U+9f39,U+9f85"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-20cc1bbf50e7efb442756cb605672c1f.woff2",descriptors:{unicodeRange:"U+4e5c,U+4edf,U+4f25,U+4f32,U+4f5e,U+4f76,U+4faa,U+4fe6,U+5028,U+5048,U+5250,U+535f,U+538d,U+53c1,U+5412,U+5443,U+54d4,U+54dd,U+5541,U+5550,U+5577,U+55dd,U+55f3,U+560f,U+562c,U+5657-5658,U+5664,U+56af,U+575c,U+577c,U+57b2,U+57da,U+5800,U+5a62,U+5aeb,U+5c3b,U+5ca3,U+5d26,U+5d9d,U+5f01,U+5fb5,U+5fdd,U+5ff8,U+6029,U+6041,U+6079,U+60b1,U+6222,U+629f,U+6332,U+63bc,U+63e0,U+6485,U+65ab,U+65c3,U+65c6,U+668c,U+669d,U+66be,U+67fd,U+6800,U+68fc,U+690b,U+6924,U+6978,U+69a7,U+6a3e,U+6a50,U+6a5b,U+6a97,U+6b24,U+6b8d,U+6baa,U+6c10,U+6c54,U+6ceb,U+6d04,U+6d4d,U+6eb1,U+6ebd,U+7110,U+71b3,U+71f9,U+7230,U+728d,U+7292,U+72b8,U+72d2,U+7360,U+73a2,U+7511,U+75a0,U+75c8,U+779f,U+7826,U+7877,U+7a39,U+7aa8,U+7ae6,U+7b04,U+7b0f,U+7baa,U+7bac,U+7c1f,U+7ccd,U+7ecb,U+7ed4,U+7ed7,U+7efb,U+7f0d,U+7f5f,U+7faf,U+7fd5,U+7fe5,U+8027,U+80bc,U+80dd,U+80fc,U+8132,U+815a,U+8167,U+816d,U+81ca,U+8228,U+82a1,U+82a9,U+82ab,U+82cc,U+8351,U+8368,U+83b8,U+83d8,U+83ea,U+83f0,U+8497,U+84c1,U+858f,U+85ff,U+867b,U+86a8-86a9,U+870a,U+8722,U+876e,U+877c,U+87e5,U+8888,U+88df,U+8919,U+8bcc,U+8bdf,U+8be8,U+8bee,U+8c20,U+8c2f,U+8d36,U+8df8,U+8e05,U+8e2f,U+8f9a,U+9021,U+908b,U+90b4,U+90ba,U+90d0,U+90eb,U+90fe,U+91aa,U+933e,U+9486-9487,U+948d,U+9490,U+94ad,U+94bd,U+94d6,U+94d9,U+9507,U+9546,U+955e,U+956b,U+95e9,U+9604,U+960b,U+9612,U+9615,U+9617,U+96b9,U+989a-989b,U+989e,U+9a78,U+9a7d,U+9aa0,U+9aa2,U+9ac2,U+9b23,U+9b3b,U+9c82,U+9cca,U+9cd9,U+9e28,U+9e5a,U+9e5e,U+9e6c,U+9efe,U+9f0b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5d2898fbc097a7e24c6f38d80587621e.woff2",descriptors:{unicodeRange:"U+4e47,U+4e8d,U+4f65,U+4f89,U+50ee,U+520e,U+5416,U+5454,U+54bb,U+54c2,U+54d3,U+54de,U+5591,U+55e5,U+560c,U+566b,U+5769,U+578c,U+5793,U+57e4,U+5889,U+593c,U+59ab,U+5ad4,U+5ad8,U+5af1,U+5b53,U+5ba5,U+5c59,U+5c63,U+5d5b,U+5e0f,U+5e14,U+5edb,U+5fbc,U+6004,U+60ad,U+610e,U+61b7,U+624c,U+634c,U+647a,U+64ba,U+65f0,U+6600,U+66f7,U+67e2,U+67f0,U+680c,U+686b,U+6874,U+691f,U+6989,U+6a17,U+6b81,U+6b84,U+6c06-6c07,U+6c3d,U+6d07,U+6d27,U+6d2b,U+6d91,U+6e6b,U+6e8f,U+6fde,U+70bb,U+723b,U+726e,U+72b0,U+72ce,U+72f2,U+7301,U+731e,U+737e,U+7477,U+748e,U+74ff,U+7633,U+7654,U+771a,U+7726,U+7765,U+7768,U+781c,U+7829,U+78d4,U+7913,U+7957,U+79d5,U+79eb,U+7a70,U+7a86,U+7b25,U+7b38,U+7b47,U+7b72,U+7ba6-7ba7,U+7dae,U+7ee1,U+7efe,U+7f26,U+7f31,U+7f35,U+801c,U+8043,U+809f,U+80ab,U+80d7,U+8118,U+8188,U+81cc,U+823e,U+8244,U+824f,U+82b4,U+82c1,U+82e4,U+82f4,U+8306,U+833a,U+835c,U+839c,U+83b3,U+83bc,U+846d,U+867a,U+868b,U+8734,U+87ca,U+886e,U+887e,U+88a2,U+88c9,U+8921,U+8bb5,U+8bf3,U+8c04,U+8c17,U+8c1d,U+8c25,U+8c36,U+8c55,U+8c78,U+8d3d,U+8d40,U+8d59,U+8d67,U+8d91,U+8dbf,U+8deb-8dec,U+8dfd,U+8e14,U+8e41,U+8f8e,U+900b,U+9044,U+9062,U+90cf,U+9123,U+9146,U+9162,U+9172,U+918d,U+9190,U+92c8,U+93ca,U+948c,U+94aa,U+94b2,U+94c8,U+94ca,U+94d5,U+94df,U+94e9-94ea,U+94f7,U+94fc-94fd,U+951b,U+954f,U+9554,U+9559,U+9566,U+9571-9572,U+95f1,U+9608,U+960f,U+97af,U+988f,U+98d5,U+992e,U+9955,U+9ab0,U+9b32,U+9c90,U+9c9e,U+9ca5,U+9ca9,U+9cad,U+9cb1,U+9cc3,U+9e47,U+9ee7,U+9f87"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ac9ceb44437becc3e9c4dbfebab7fc2d.woff2",descriptors:{unicodeRange:"U+4e93,U+4ec4,U+4ef5,U+4f27,U+4f7b,U+4fe3,U+5080,U+5121,U+51eb,U+5208,U+52f0,U+53f5,U+5453,U+5466,U+54a6,U+54bf,U+54d0,U+5533,U+5549,U+5556,U+556d,U+558f,U+55f2,U+55f5,U+5627,U+567b,U+56d4,U+571c,U+5739,U+57b4,U+5807,U+58c5,U+59a4,U+59af,U+59d8,U+5a09,U+5a0c,U+5a4a,U+5ad2,U+5b6c,U+5ca2,U+5cac,U+5d03,U+5d6c,U+5db7,U+5ebe,U+5f2d,U+5fea,U+6042,U+6120,U+6175,U+6221,U+623e,U+6339,U+638a,U+643d,U+64b8,U+64e2,U+66e9,U+67b3,U+67c1,U+67d2,U+6832,U+6877,U+68f0,U+6934,U+6966,U+6987,U+6998,U+69c1,U+69ce,U+6a3d,U+6a84,U+6aa9,U+6b87,U+6bd6,U+6c16,U+6c18,U+6cd4,U+6cee,U+6de0,U+6e0c,U+6ecf,U+6f4b,U+70b7,U+7168,U+72d9,U+7352,U+73b3,U+73d0,U+7441,U+74d2,U+75a5,U+75e7-75e8,U+7610,U+7619,U+765e,U+772d,U+7812,U+782c,U+784c,U+7850,U+7856,U+789b,U+78f4,U+7a51,U+7b15,U+7b1e,U+7b24,U+7b5a,U+7bb8,U+7bc1,U+7bd9,U+7ed0,U+7ee6,U+7efa,U+7f1b,U+7f1f,U+7f22,U+7f45,U+7f71,U+7fa7,U+7fbf,U+7ff3,U+8052,U+80b1,U+80db,U+80f4,U+81bb,U+81ec,U+8202,U+8210,U+8249,U+828a,U+828e,U+82e3,U+8315,U+8369,U+8378,U+83a8,U+83aa,U+83b4,U+83e1,U+84fc,U+8538,U+853b,U+859c,U+85ae,U+86b4,U+86c9,U+86cf,U+8725,U+879f,U+87b3,U+887d,U+88fe,U+8a8a,U+8ba7,U+8c07,U+8c14,U+8c30,U+8c47,U+8db5,U+8dd7,U+8e1f,U+8e69,U+8e70,U+8e85,U+8f78,U+8f87,U+8f8b,U+8f8f,U+90c4,U+9143,U+917d,U+948f,U+94cd,U+94d2,U+94ef,U+954a,U+9609-960a,U+96d2,U+9708,U+9765,U+97ea,U+9880,U+98a7,U+996c,U+9980,U+9991,U+9a88,U+9ab6,U+9afb,U+9b47,U+9c87,U+9c9b,U+9cb5,U+9cc7,U+9e2c,U+9e42,U+9e58,U+9ecd,U+9ecf,U+9f8a,U+9f8c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c16ed9740b85badf16e86ea782a3062f.woff2",descriptors:{unicodeRange:"U+4ebb,U+4edd,U+4fa9,U+502c,U+50a5,U+51c7,U+51fc,U+523d,U+5241,U+530f,U+5464,U+549d,U+54a3,U+5514,U+5527,U+555c,U+556e,U+5576,U+55b1,U+55b9,U+55eb,U+5624,U+564c,U+5671,U+5685,U+568f,U+56d7,U+56e1,U+57a1,U+57d9,U+5942,U+5a67,U+5c50,U+5c7a,U+5c98,U+5d06,U+5d27,U+5d6f,U+5df3,U+5dfd,U+5e19,U+5ea0,U+5eb9,U+5eea,U+5ffe,U+600f,U+606b,U+6215,U+622c,U+6266,U+62bb,U+62bf,U+6308,U+6387,U+63b8,U+63c4,U+63c6,U+63f6,U+6441,U+6555,U+659b,U+6677,U+66a7,U+6775,U+678b,U+679e,U+6840,U+6849,U+6860,U+68c2,U+6910,U+6a28,U+6a2f,U+6a79,U+6b92-6b93,U+6bc2,U+6bfd,U+6c29,U+6c32,U+6c86,U+6cc5,U+6d0c,U+6d60,U+6da0,U+6ddd,U+6e86,U+6ed3,U+6edf,U+6fb9,U+6fd1,U+6fef,U+7023,U+7080,U+70ca,U+712f,U+7145,U+7284,U+732c,U+73c8,U+73d9,U+740a,U+7457,U+7596,U+759d,U+75a3,U+75d8,U+75e3-75e4,U+75ff,U+7622,U+7688,U+76b4,U+76e5,U+7818,U+7887,U+789a,U+78b2,U+7b08,U+7b33,U+7c2a,U+7ccc,U+7ea8,U+7ec0,U+7fe6,U+8012,U+8084,U+8093,U+80e4,U+80ef,U+8297,U+82a8,U+82be,U+8331,U+8366,U+83c5,U+83fd,U+8473,U+84a1,U+84ca,U+84d1,U+857b,U+85c1,U+85d3,U+8605,U+8662,U+86aa,U+86b1,U+86d4,U+86ed,U+86f3,U+8709,U+8748,U+874c,U+8763,U+89c7,U+89de,U+89e5,U+8a3e,U+8ba6,U+8c00,U+8c21,U+8c49,U+8c7a,U+8d30,U+8df9,U+8e51,U+8e59,U+8f6b,U+8f73,U+8ff3,U+9016,U+9026,U+902f,U+9099,U+909b,U+90c7,U+914a,U+91ae,U+91ba,U+9495,U+94a3,U+94af,U+94ba,U+94bf,U+94cc,U+94e1,U+94f0,U+9531,U+955d,U+95f3,U+9697,U+96bc,U+975b,U+977c,U+98a2,U+998a,U+9994-9995,U+9a9b,U+9ab7,U+9ac5,U+9c91,U+9ccf,U+9cd5,U+9e29,U+9edc,U+9edf,U+9f83,U+9f88-9f89"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-aa0d470430e6391eca720c7cfa44446f.woff2",descriptors:{unicodeRange:"U+4ee8,U+4f22,U+4f43,U+4f57,U+4f5d,U+4f6f,U+4ff8,U+502d,U+507b,U+5345,U+53df,U+53fb,U+544b,U+5482,U+54a7,U+54cc,U+550f,U+5544,U+5555,U+5594,U+55e8,U+55ec,U+55ef,U+564e,U+56f9,U+5704,U+576d,U+5785,U+57ad,U+5914,U+5958,U+599e,U+59aa,U+59be,U+5a06,U+5abe,U+5ae1,U+5b40,U+5bee,U+5cbf,U+5cc4,U+5ccb,U+5d47,U+603f,U+6078,U+607d,U+607f,U+608c,U+609a,U+60fa,U+61ff,U+621b,U+622e,U+626a,U+6371,U+63ae,U+63cd,U+63d6,U+6410,U+6414,U+6421,U+6448,U+64d8,U+6710,U+6748,U+6772,U+680e,U+6954,U+69ab,U+6c68,U+6c8f,U+6ca4,U+6d2e,U+6e4e,U+6e98,U+6fe0,U+7094,U+70e9,U+7116,U+7119,U+723f,U+73c9,U+74e4,U+753e,U+7548,U+75bd,U+75cd,U+7618,U+7634,U+76c5,U+76f1,U+7708,U+7719,U+777e,U+7791,U+77b3,U+7823,U+7827,U+7830,U+7889,U+7893,U+7949,U+795c,U+79e3,U+7a14,U+7a88,U+7a95,U+7aa0,U+7afd,U+7b90,U+7bd1,U+7bfe,U+7da6,U+7ec2,U+7eef,U+7f03-7f04,U+7f08,U+7f58,U+7f61,U+7f9f,U+8174,U+8200,U+828d,U+82c4,U+82d5,U+82dc,U+82f7,U+832d,U+835a,U+840b,U+8438,U+852b,U+869d,U+86ac,U+86d0,U+86f0,U+8782,U+87a8,U+87d1-87d2,U+87e0,U+8839,U+8913,U+891b,U+8934,U+8941,U+89ca,U+89ce,U+8a07,U+8ba3,U+8bc5,U+8bcb,U+8bdb,U+8c11,U+8c15,U+8c29,U+8c32,U+8dc4,U+8dce,U+8ddb,U+8dfa,U+8e09,U+8e1d,U+8e39,U+8e42,U+8e49,U+8e4b,U+8e8f,U+8f71-8f72,U+9004,U+9036,U+9097,U+90dc,U+90e2,U+90e6,U+90ef,U+9104,U+919a,U+91b4,U+938f,U+9497,U+950f,U+9557,U+9562-9563,U+9573,U+9606,U+9649,U+972d,U+973e,U+97a3,U+97eb,U+988c,U+9894,U+98a6,U+9974,U+9977,U+997d,U+9a90,U+9a9d,U+9aef,U+9ca2,U+9ccd,U+9cdf,U+9e20,U+9e4c,U+9e6b,U+9f3e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f2b54d4e7be0eaefe1c2c56836fa5368.woff2",descriptors:{unicodeRange:"U+4ede,U+4ee1,U+4eeb,U+4fda,U+4ffe,U+5025,U+506c,U+50f3,U+5106,U+520d,U+525c,U+52ad,U+530d,U+5310,U+539d,U+53a9,U+53fc,U+5421,U+5477,U+54e7,U+551b,U+5530,U+557e,U+5599,U+55c4,U+55d1,U+55d4,U+55df,U+55e4,U+55ea,U+5623,U+562d,U+5654,U+56eb,U+56f5,U+57a7,U+57d5,U+57dd,U+584d,U+5880,U+58ec,U+59dd,U+5a32,U+5a55,U+5a75,U+5b51,U+5b71,U+5b73,U+5cd2,U+5ce4,U+5e5b,U+5e96,U+5fd2,U+607b,U+61d1,U+634b,U+636d,U+63b3,U+63ff,U+64c0,U+661d,U+6657,U+66dc,U+67a5,U+6841,U+6867,U+6901,U+699b,U+6a47,U+6b46,U+6c21,U+6c24,U+6c35,U+6c4a,U+6c94,U+6ca3,U+6d39,U+6d63,U+6d6f,U+6d94,U+705e,U+71e7,U+726f,U+72cd,U+72de,U+72f0,U+7325,U+7350,U+7391,U+741a,U+757f,U+7583,U+75b1,U+75b4,U+75b8,U+75c2,U+75f1,U+766f,U+7699,U+7751,U+789c,U+7a17,U+7be6,U+7cb2,U+7ea3,U+7eb0,U+7ebe,U+7eeb,U+7f25,U+7f2c,U+7fb8,U+8026,U+8037,U+8153,U+8171,U+8191,U+8214,U+821b,U+8222,U+826e,U+82eb,U+830c,U+8314,U+8334,U+83d6,U+8418,U+843c,U+84ff,U+8564,U+8572,U+8616,U+866c,U+8693,U+86a3,U+86a7,U+86af,U+86b6,U+86c6,U+86ca,U+8708,U+870d,U+8759,U+8760,U+87af,U+87c6,U+8869,U+88c6,U+89d0,U+8b07,U+8baa-8bab,U+8bc2,U+8be4,U+8bf0,U+8c2a,U+8c62,U+8c89,U+8d49,U+8d6d,U+8d84,U+8d94,U+8db8,U+8dc6,U+8e2e,U+8e3d,U+8e47,U+8e7f,U+9005,U+9051,U+907d,U+9082,U+9088,U+90b0,U+90d3,U+9150,U+949c,U+94a4,U+94b9,U+94cb,U+94e0,U+9509,U+9512,U+951f,U+9534,U+9552-9553,U+965f,U+96b0,U+9791,U+9889,U+9990,U+9a9c,U+9aa7,U+9c88,U+9cb2-9cb3,U+9cb6-9cb7,U+9cc5,U+9cdc,U+9e22,U+9e2a,U+9e57,U+9e67,U+9e73,U+9e82,U+9eb8,U+9ee0,U+9f9b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-99a16ef6a64934d5781933dbd9c46b2e.woff2",descriptors:{unicodeRange:"U+4eb5,U+4f09,U+4f5a,U+4f8f,U+4fce,U+4fdf,U+4fea,U+4ff3,U+500c,U+500f,U+504e,U+5088,U+52be,U+5420,U+5457,U+5499,U+549b,U+54c6,U+54d2,U+558b,U+559f,U+55bd,U+55d6,U+565c,U+567c,U+568e,U+5768,U+577b,U+57a9,U+57ed,U+59f9,U+5a11,U+5a40,U+5ae6,U+5b6a,U+5b93,U+5bb8,U+5c15,U+5c99,U+5c9c,U+5cc1,U+5d2e,U+5d4b,U+5d99,U+5e54,U+5e61,U+5fcf-5fd1,U+6002,U+6006,U+6014,U+60af,U+60c6,U+60da,U+60f4,U+621f,U+62c8,U+631b,U+631e,U+63e9,U+64b5,U+655d,U+6619,U+6635,U+6641,U+67ad,U+67b0,U+67b7,U+67e9,U+684e,U+688f,U+695d,U+696b,U+69b7,U+6a58,U+6c26,U+6d35,U+6d43,U+6d9e,U+6dd9,U+6dec,U+6e11,U+6e6e,U+6e9f,U+6ec2,U+6ee2,U+6ef9,U+6f09,U+6f66,U+6f8d,U+6fc2,U+6fc9,U+729f,U+72c8,U+73de,U+7430,U+7566,U+7579,U+75c9,U+75e2,U+75fc,U+762a,U+7638,U+7678,U+76c2,U+76f9,U+778c,U+77cd,U+77dc,U+7800,U+781d,U+782d,U+783b-783c,U+78a3,U+78ec,U+7980,U+7a23,U+7b95,U+7bdd,U+7c0c,U+7c41,U+7c91,U+7cb3,U+7cc5,U+7ecc,U+7f19,U+7fca,U+8006,U+8069,U+807f,U+80bd,U+80ed,U+814b,U+8198,U+82cb,U+82d2,U+834f,U+8360,U+847a,U+84d6,U+84e5,U+8537,U+85d0,U+8671,U+86a4,U+86ce,U+86f9,U+8703,U+8707,U+8737,U+873b,U+8815,U+8936,U+8bc3,U+8bcf,U+8bd2,U+8bd8,U+8be9,U+8c0c,U+8c0f,U+8c4c,U+8d45,U+8d5d,U+8d73,U+8e31,U+8e6d,U+8e76,U+8fe4,U+9041,U+90d7,U+9169,U+92ae,U+94a1,U+94c4,U+94c9,U+94db,U+94e7,U+9503,U+9506,U+9517,U+9528,U+9537,U+9542,U+9549,U+95fe,U+9616,U+961a,U+96c9,U+96f3,U+9701,U+970e,U+9739,U+9753,U+9798,U+98d2-98d3,U+98d9-98da,U+9968,U+996f,U+9984,U+9997,U+9acb,U+9b03,U+9c85,U+9ca8,U+9cab,U+9e49,U+9e51,U+9e66,U+9f10"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-c40533fdf4cc57177b12803598af7e59.woff2",descriptors:{unicodeRange:"U+4e15,U+4e1e,U+4e2b,U+4eb3,U+4ec9,U+4f0e,U+4f64,U+501c,U+50a9,U+510b,U+51a2,U+51bc,U+527d,U+52d0,U+53fd,U+5429,U+542e,U+5486,U+54af,U+5506,U+5511,U+5522,U+552c,U+556c,U+55b3,U+55d2,U+55e6,U+55fd,U+561f,U+5639,U+5659,U+5662,U+5693,U+572a,U+5892,U+598a,U+5992,U+59a9,U+5a20,U+5ae3,U+5b17,U+5b7d,U+5d34,U+5d3d,U+5d4a,U+5d82,U+5e1a-5e1b,U+5ea5,U+5f0b,U+5f77,U+5fd6,U+5fff,U+6026,U+6035,U+6063,U+60b4,U+60bb,U+60ee,U+612b,U+6194,U+61ca,U+61e6,U+61f5,U+620a,U+6248,U+62a1,U+62d7,U+6376,U+637b,U+652b,U+65bc,U+65cc,U+65ce,U+65d6,U+664c,U+665f,U+6666,U+6684,U+66b9,U+6773,U+6777,U+6787,U+67de,U+6845,U+693d,U+6994,U+6a35,U+6d54,U+6d5c,U+6d8e,U+6dd6,U+6eb4,U+6f2a,U+6f78,U+704f,U+70ec,U+7118,U+714a,U+7172,U+71b9,U+724d,U+728a,U+7337,U+733e,U+7396,U+73b7,U+73cf,U+7428,U+742c,U+742e,U+74ee,U+74f4,U+7525,U+753a,U+7572,U+75d4,U+765c,U+768e,U+7762,U+777d,U+77fd,U+7825,U+7837,U+78b4,U+795f,U+79ed,U+7a1e,U+7b06,U+7b20,U+7ba9,U+7bab,U+7c7c,U+7cbd,U+7cdc,U+7ec9,U+7ef6,U+7f30,U+7f42,U+7f44,U+7f54,U+7f94,U+8004,U+800b,U+8019,U+809b,U+80ae,U+80c4,U+80f1,U+8146,U+816e,U+817c,U+81c0,U+81fc,U+81fe,U+822b,U+830f,U+832f,U+8340,U+8365,U+8385,U+8392,U+83a0,U+8424,U+84af,U+869c,U+8713,U+8717-8718,U+87c0,U+87cb,U+87fe,U+8821,U+8902,U+89d1,U+8bb9,U+8c12,U+8d32,U+8d53,U+8df7,U+8e7c,U+8f7c,U+8f95,U+8fab,U+9052,U+905b,U+9095,U+909d,U+90c5,U+911e,U+9122,U+916a,U+919b,U+948e,U+9492,U+949a,U+94b5,U+94bc,U+94c6,U+94f1,U+9502,U+9511,U+9536,U+956f-9570,U+9602,U+9621,U+9631,U+998b,U+99a5,U+9a81,U+9a9e,U+9ebe,U+9f8b"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-91ddb2969bf2d31ba02ad82998d1314c.woff2",descriptors:{unicodeRange:"U+4f2b,U+4f3d,U+4fac,U+5043,U+5055,U+5140,U+5156,U+51cb,U+5243,U+531d,U+536f,U+53a5,U+53ae,U+53f1,U+541d,U+5431,U+547b,U+5492,U+5494,U+54a4,U+54aa,U+54ce,U+54fd,U+5509,U+5520,U+553e,U+557b,U+55c5,U+55e1,U+55f7,U+5608,U+5636,U+563b,U+5773,U+57a0,U+5811,U+587e,U+58d5,U+59e3,U+5a29,U+5a6a,U+5a76,U+5a7a,U+5ac9,U+5b62,U+5b95,U+5c49,U+5c8c,U+5cab,U+5cb7,U+5d02,U+5d58,U+5e44,U+5e7a,U+5eff,U+5f29,U+5f89,U+5f9c,U+5fa8,U+6005,U+6043,U+60b8,U+60d8,U+60ec,U+60f0,U+6115,U+618e,U+630e,U+637a,U+6390,U+63ac,U+63b0,U+64de,U+6525,U+6538,U+65ee-65ef,U+6631,U+6636,U+6654,U+677c,U+67b8,U+67d8,U+683e,U+6886,U+68b5,U+692d,U+6963,U+6979,U+6988,U+6b59,U+6b9a,U+6c69,U+6c74,U+6cae,U+6ce0,U+6cef,U+6d95,U+6dc5,U+6dde,U+6de6,U+6dfc,U+6ea7,U+6f15,U+6f29,U+7096,U+70c3,U+7131,U+715c,U+7166,U+7266,U+7317,U+731d,U+7329,U+73e9,U+7425,U+7455,U+7490,U+74ef,U+7519,U+75b5,U+75b9,U+75de,U+7656,U+7663,U+7691,U+7729,U+77fe,U+783e,U+787c,U+795a,U+7a79,U+7abf,U+7b3a,U+7b4f,U+7b60,U+7b75,U+7b8d,U+7bb4,U+7bd3,U+7be1,U+7cbc,U+7edb,U+7f1c,U+7f8c,U+7fb2,U+7fb9,U+7fce,U+7ff1,U+810d,U+81c6,U+82a5,U+82aa,U+82de,U+8317,U+8343,U+835e,U+8364,U+836a,U+853a,U+8543,U+854a,U+8559,U+8568,U+85b0,U+85b9,U+864f,U+86e4,U+8715,U+8845,U+8884,U+88e8,U+88f1,U+8983,U+8be1,U+8c1f,U+8c27,U+8c5a,U+8c82,U+8d58,U+8dbe,U+8f98,U+9035,U+9074,U+90a1,U+9149,U+9157,U+93d6,U+949d,U+94c2,U+94e3-94e4,U+95eb,U+95f0,U+9611,U+9619,U+9642,U+968d,U+9706,U+970f,U+97ed,U+988a,U+9893,U+98e8,U+9a77,U+9a87,U+9aa1,U+9abc,U+9cdd,U+9e2f,U+9e33,U+9e44,U+9e5c,U+9e9d,U+9edd"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-774d4f764a1299da5d28ec2f2ffe0d69.woff2",descriptors:{unicodeRange:"U+4f58,U+4f6c,U+4f70,U+4fd0,U+5014,U+51bd,U+524c,U+5315,U+5323,U+535e,U+540f,U+542d,U+545b,U+548e,U+549a,U+54ab,U+54fc,U+5567,U+556a,U+5600,U+5618,U+563f,U+5669,U+56f1,U+56ff,U+573b,U+574d,U+579b,U+57b8,U+57c2,U+586c,U+58f9,U+595a,U+598d,U+5993,U+5996,U+59d7,U+5b7a,U+5ba6,U+5c4e,U+5c96,U+5ce5,U+5eb6,U+5f08,U+5f99,U+602f,U+6059,U+606c,U+607a,U+60ed,U+61a9,U+620c,U+6249,U+62a8,U+62c4,U+62ed,U+62fd,U+6342,U+6345,U+6396,U+63a3,U+6402,U+6413,U+642a,U+6487,U+64a9,U+64ac,U+64ae,U+64b7,U+659f,U+65a1,U+667e,U+66f3,U+67e0,U+69db,U+69df,U+6aac,U+6b86,U+6c50,U+6c5e,U+6c76,U+6c85,U+6c8c,U+6cde,U+6d19,U+6d52,U+6da7,U+6db8,U+6e1a,U+6e25,U+6e4d,U+6e5f,U+6ec1,U+6f31,U+6f7a,U+6fa7,U+6fe1,U+701b,U+70ab,U+70f7,U+717d,U+71a8,U+7252,U+72c4,U+72e1,U+7315,U+736d,U+73ae,U+73c0,U+73c2,U+740f,U+75a4,U+7600-7601,U+768b,U+76bf,U+76d4,U+7728,U+772f,U+776c,U+77a0,U+77b0,U+77f8,U+783a,U+78d0,U+78fa,U+7977,U+7a37,U+7a92,U+7afa,U+7b71,U+7b94,U+7cef,U+7f28,U+7fe1,U+808b,U+80e5,U+80eb,U+8110,U+8113,U+812f,U+814c,U+81c3,U+8235,U+82d4,U+8309,U+83c1,U+8431,U+8469,U+84bf,U+84d3,U+84df,U+84e6,U+8511,U+8638,U+86c0,U+86db,U+86fe,U+8757,U+8822,U+8882,U+8885,U+8892,U+88f3,U+892a,U+8ba5,U+8bd9,U+8be0,U+8be7,U+8bfd,U+8c1a,U+8d4a,U+8d4e,U+8d66,U+8dda,U+8e0c,U+8e52,U+8e74,U+8e87,U+8f76,U+8fc2,U+8fe6,U+900d,U+9068,U+90ac,U+90b3,U+90b8,U+90e7,U+9119,U+9131,U+915a,U+916e,U+94b4,U+94d0,U+94e2,U+94ec,U+94ff,U+9522,U+9535,U+9556,U+965b,U+96f9,U+9774,U+9981,U+998d,U+998f,U+9a6e,U+9a7f,U+9a8a,U+9b13,U+9c9f,U+9e3e,U+9e43,U+9e6d,U+9e8b,U+9e92,U+9edb,U+9eef"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-7718fe60986d8b42b1be9c5ace5ccf25.woff2",descriptors:{unicodeRange:"U+4e10,U+4e56,U+4e98,U+4ec3,U+4f3a,U+4f5f,U+4f88,U+4f97,U+4fa5,U+4fe8,U+504c,U+5197,U+52fa,U+5364,U+53e8,U+5406,U+543c,U+545c,U+5471,U+5480,U+5495,U+54b3,U+54df,U+54e6,U+54ee,U+557c,U+5583,U+55dc,U+55e3,U+566c,U+592f,U+5944,U+5983,U+59ca,U+59e5,U+5a13,U+5a7f,U+5b09,U+5bd0,U+5e4c,U+5eb5,U+5f1b,U+5f3c,U+608d,U+60cb,U+61a7,U+61ac,U+61cb,U+6233,U+62a0,U+62e7,U+62ee,U+62f4,U+62f7,U+634e,U+6382,U+63c9,U+63ea,U+6400,U+645e,U+6482,U+6556,U+6593,U+6615,U+664f,U+66e6,U+672d,U+675e,U+67da,U+6805,U+6808,U+6868,U+68a2,U+695e,U+69ad,U+6a80,U+6a90,U+6b83,U+6be1,U+6c30,U+6cad,U+6cb1,U+6cf1,U+6d31,U+6d93,U+6dae,U+6dbf,U+6dc6-6dc7,U+6e0d,U+6e32,U+6e3a,U+6e85,U+6eba,U+6f3e,U+6f5e,U+6f7c,U+6fee,U+71ee,U+722a,U+72b7,U+72e9,U+73ba,U+73d1,U+7409,U+7435-7436,U+7459-745a,U+747e,U+7487,U+74e2,U+7504,U+752c-752d,U+7599,U+759f,U+75a1,U+75ca,U+75f0,U+761f,U+7629,U+777f,U+7785,U+77a5,U+77bf,U+78d5,U+7934,U+7940,U+79a7,U+7b19,U+7c38,U+7c95,U+7cb1,U+7ce0,U+7eca,U+7ef7,U+7f2b,U+7f81,U+7fcc,U+8046,U+8148,U+8165,U+819b,U+81ba,U+828b,U+82ae,U+82b7,U+82d3,U+8301,U+830e,U+831c,U+8338,U+837c,U+8393,U+8398,U+83ba,U+83e0,U+83e9,U+853c,U+8654,U+86df,U+8712,U+873f,U+874e,U+8783,U+8859,U+88a4,U+8925,U+8bb7,U+8bff,U+8c19,U+8c1b,U+8c24,U+8c2c,U+8d61,U+8db4,U+8e6c,U+8f8a,U+8fe5,U+8ff8,U+901e,U+90f4,U+912f,U+9163,U+9170,U+91dc,U+949b,U+94a8,U+94b3,U+94c0,U+94e8,U+9525,U+9530,U+9539,U+954c-954d,U+9550,U+955b,U+962a,U+9685,U+96cc,U+9776,U+988d,U+9975,U+9985,U+9a6f,U+9aa5,U+9ab8,U+9c7f,U+9ca4,U+9cb8,U+9e25,U+9e35,U+9e4a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-aa5c9ca6cf4fba00433b7aa3fa10671a.woff2",descriptors:{unicodeRange:"U+4ea2,U+4ea5,U+4f36,U+4f84,U+4f8d,U+501a,U+5029,U+516e,U+51a5,U+51c4,U+51f8,U+5201,U+527f,U+5321,U+5352,U+5366,U+53e9,U+54c7,U+5632,U+5676,U+56b7,U+56bc,U+56da,U+56e4,U+5703,U+5729,U+5742,U+57a2-57a3,U+5815,U+58d1,U+5919,U+592d,U+5955,U+5a05,U+5a25,U+5a34,U+5b70,U+5b75,U+5bdd,U+5bf0,U+5c41,U+5c79,U+5c91,U+5c94,U+5ce6,U+5ced,U+5d69,U+5dc5,U+5e16,U+5e27,U+5f27,U+5f95,U+5ffb,U+6020,U+604d,U+6055,U+60e6,U+60eb,U+6123,U+618b,U+61a8,U+620d,U+62c7,U+62ce,U+62d9,U+631f,U+634d,U+6452,U+6479,U+64ce,U+64d2,U+655b,U+660a,U+6726,U+67c4,U+6809,U+6853,U+68e3,U+68f1,U+68fa,U+693f,U+6942,U+6995,U+69a8,U+69b4,U+6a71,U+6b89,U+6bcb,U+6bd3,U+6bd9,U+6c40,U+6cf8,U+6cfe,U+6d85,U+6da3,U+6daa,U+6e0e,U+6e43-6e44,U+6f88,U+7078,U+7099,U+70bd,U+70d9,U+70fd,U+7109,U+7184,U+7239,U+733f,U+73f2,U+748b,U+749c,U+749e,U+759a,U+75d2,U+75eb,U+7620,U+766b,U+7693,U+76cf,U+7738,U+773a,U+776b,U+778e,U+77aa,U+7852,U+78be,U+7948,U+795b,U+7960,U+796f,U+79ba,U+7a20,U+7a96,U+7aa5,U+7b03,U+7b28,U+7b50,U+7b77,U+7bc6,U+7bf1,U+7c27,U+7d0a,U+7ead,U+7ec5,U+7ee2,U+7ef0,U+7efd,U+7f0e,U+7f2e,U+7f79,U+7f9a,U+8098,U+80da,U+80e7,U+80f0,U+80f3,U+80fa,U+818a,U+81e7,U+8237-8238,U+8299,U+82b8,U+82ce,U+837b,U+83bd,U+83cf,U+8426,U+8475,U+85c9,U+85d5,U+85dc,U+85e9,U+871a,U+8747,U+8749,U+888d,U+8910,U+891a,U+8bb4,U+8be3,U+8bec,U+8bf2,U+8c06,U+8c0d,U+8d31,U+8d48,U+8de4,U+8e1e,U+8e4a,U+8e66,U+8f84,U+8f97,U+9083,U+90e1,U+9165,U+91c9,U+94b0,U+94f5,U+9504,U+9532,U+956d,U+95f5,U+95fa,U+9668,U+9698,U+96bd,U+9704,U+9773,U+9890,U+996a,U+997a,U+9a74,U+9a8b,U+9cc4,U+9ccc"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4f50e5136e136527280bc902c5817561.woff2",descriptors:{unicodeRange:"U+4ea8,U+4f1e,U+4f51,U+4f63,U+4f7c,U+4f83,U+4fa0,U+4fd1,U+4ffa,U+5018,U+5026,U+508d,U+50bb,U+50f5,U+50fb,U+5162,U+5319,U+5320,U+538c,U+5413,U+541f,U+5475,U+54bd,U+54d1,U+5589,U+5598,U+575f,U+57ae,U+57e0,U+5937,U+5974,U+5978,U+59ae,U+5a1f,U+5a49,U+5ab3,U+5b99,U+5b9b,U+5ba0,U+5be1,U+5be5,U+5c09,U+5c27,U+5de2,U+5e9a,U+5f26,U+5f8a,U+5f98,U+6021,U+606d,U+60bc,U+60d5,U+60e7,U+611a,U+614c,U+6254,U+626f,U+6292,U+6296,U+62b9,U+62e2,U+631a,U+631d,U+6320,U+6346,U+63ba,U+6467,U+64bc,U+658b,U+663c,U+6643,U+6652,U+6656,U+6687,U+66d9,U+66dd,U+66f0,U+673d,U+67ab,U+6816-6817,U+68a7,U+68ad,U+68cd,U+68e0,U+6986,U+69fd,U+6b47,U+6bd7,U+6c1f,U+6c2e-6c2f,U+6cbe,U+6de4,U+6e1d,U+6e83,U+6e9c,U+6ed4-6ed5,U+6f4d,U+70f9,U+7130,U+716e,U+718f,U+71ac,U+71e5,U+72fc,U+731c,U+7334,U+73ca,U+7422,U+7426,U+745f,U+7470,U+75af,U+75f4,U+762b,U+763e,U+7696,U+7737,U+7741,U+77a7,U+77bb,U+77ee,U+785d,U+788c,U+78ca,U+7901,U+796d,U+7985,U+79fd,U+7a3c,U+7a57,U+7a74,U+7b5b,U+7caa,U+7cb9,U+7cd5,U+7eac,U+7eb6,U+7ed1,U+7ee5,U+7f20,U+7f2a,U+7f38,U+7f69,U+7fa1,U+8018,U+8038,U+803f,U+804b,U+80a2,U+80be,U+80d6,U+817a,U+81fb,U+820c,U+82ad,U+82af,U+82bd,U+8327,U+8354,U+835f,U+8367,U+836b,U+840c,U+841d,U+8471,U+849c,U+84b2,U+84c9,U+8517,U+851a,U+8549,U+8681,U+8721,U+8776,U+88d9,U+88f9,U+89c5,U+8c1c,U+8c34,U+8d81,U+8d9f,U+8e0a,U+8e72,U+8eb2,U+8fed,U+901b,U+902e,U+906e,U+9091,U+90aa,U+90af,U+915d,U+9171,U+946b,U+9489,U+9499,U+94a5,U+9508,U+9524,U+952d,U+9551,U+9576,U+95f7,U+9600,U+96b6,U+96c0,U+9756,U+97f6,U+98a0,U+98a4,U+997f,U+9a73,U+9a86,U+9ad3,U+9e3d,U+9ed4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-093b9ef39a46ceae95a1df18a0a3a326.woff2",descriptors:{unicodeRange:"U+4e4d,U+4e5e,U+4ec7,U+4ed5,U+50da,U+50e7,U+515c,U+51a4,U+51ff,U+5203,U+5254,U+5300,U+533e,U+5375,U+53ee,U+5435,U+543b,U+5455,U+548b,U+548f,U+54d7,U+54fa,U+5578,U+5587,U+55a7,U+560e,U+5760,U+576f,U+5777,U+5830,U+58a9,U+5962,U+59e8,U+5a07,U+5a23,U+5a3c,U+5b5a,U+5bb5,U+5bc5,U+5bde,U+5c7f,U+5cb1,U+5ce8,U+5cea,U+5d29,U+5d4c,U+5e18,U+5f57,U+5f5d,U+5f87,U+5ff1,U+6016,U+601c,U+6064,U+6177,U+61d2,U+625b,U+62e3,U+62f1,U+634f,U+63a0,U+6401,U+6405,U+6495,U+64c2,U+6512,U+6577,U+6590,U+65a7,U+65a9,U+65f7,U+6627,U+6655,U+6714,U+6795,U+67d1,U+67ff,U+68b3,U+68d5,U+68d8,U+6930,U+6960,U+6977,U+69bb,U+69d0,U+6a31,U+6b7c,U+6bb4,U+6c22,U+6c72,U+6c79,U+6c7e,U+6c81,U+6c93,U+6ca5,U+6cbc,U+6ce3,U+6cfb,U+6d3c,U+6da9,U+6df3,U+6e2d,U+6eaf,U+6ec7,U+6f13,U+6f33,U+6f62,U+6fa1,U+7011,U+707c,U+708a,U+70c1,U+70d8,U+70eb,U+711a,U+7194,U+7281,U+7316,U+7357,U+7384,U+7405,U+742a,U+745b,U+7574,U+7578,U+75ea,U+7682,U+7792,U+77d7,U+77e9,U+77eb,U+77f6,U+780c,U+78c5,U+7941,U+79e4,U+7a1a,U+7a9c,U+7ad6,U+7b5d,U+7bf7,U+7c07,U+7c3f,U+7c9f,U+7ca5,U+7cdf,U+7e82,U+7eab,U+7ece,U+7eda,U+7f09,U+7f15,U+7f9e,U+7fdf,U+7fe9,U+803b,U+803d,U+80aa,U+80b4,U+813e,U+8155,U+817b,U+819d,U+821c,U+82b9,U+82df,U+82ef,U+8304,U+83b9,U+8446,U+853d,U+85af,U+85fb,U+8650,U+865e,U+86d9,U+86ee,U+8700,U+8862,U+889c,U+88d4,U+88f8,U+895f,U+8a79,U+8bb3,U+8bb6,U+8bc0,U+8beb,U+8bf5,U+8c23,U+8c79,U+8d1e,U+8dcb,U+8e29,U+8e44,U+8e81,U+8eac,U+8eaf,U+8f8d,U+9050,U+90f8,U+914b,U+948a,U+94be,U+94ee,U+950c,U+9540,U+962e,U+9647,U+9661,U+9699,U+96cf,U+9716,U+9761,U+97a0,U+97e7,U+9a7c,U+9a8f,U+9ae6,U+9cd6,U+9e26"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a0ca5df4258213d7fc9fce80f65ce760.woff2",descriptors:{unicodeRange:"U+4fa3,U+4fae,U+4fd8,U+4fef,U+50a3,U+5189,U+5195,U+51db,U+51f3,U+51f9,U+5220,U+5228,U+5288,U+52ff,U+532e,U+533f,U+5351,U+53db,U+53ed,U+5450,U+5484,U+5490,U+54c9,U+54e9,U+5501,U+5507,U+5543,U+55d3,U+56a3,U+575e,U+589f,U+5984,U+59ec,U+5a04,U+5a36,U+5a77,U+5a9a-5a9b,U+5ab2,U+5ac2,U+5ad6,U+5bc7,U+5c2c,U+5c34,U+5c51,U+5cd9,U+5d0e,U+5deb,U+5e3c,U+5e87,U+5ed3,U+5f13,U+5f64,U+5fe1,U+606a,U+6096,U+60df,U+60f6,U+60f9,U+6151,U+620e,U+6241,U+6252,U+6273,U+627c,U+6289,U+62c2,U+62cc,U+62ef,U+6361,U+6363,U+63b7,U+63e3,U+6518,U+66ae,U+6756,U+6789,U+6813,U+6829,U+6862,U+6866,U+6893,U+6897,U+690e,U+6984,U+69cc,U+6a1f,U+6a44,U+6a59,U+6ba1,U+6c13,U+6c90,U+6ca6,U+6cbd,U+6ccc,U+6cd3,U+6cd7,U+6d4a,U+6d4f,U+6d5a,U+6d9f,U+6da1,U+6dcc,U+6ea5,U+6ee4,U+6ee6,U+6f2f,U+6f8e,U+701a,U+7095,U+709c,U+70af,U+70db,U+70e8,U+714e,U+715e,U+71a0,U+71ce,U+7235,U+7280,U+72d0,U+72f8,U+73ab,U+7410,U+745c,U+7480,U+74a7-74a8,U+74e3,U+75ae,U+75f9,U+76b1,U+76ce,U+7736,U+77e2-77e3,U+781a,U+789f,U+797a,U+79be,U+79c3,U+79c6,U+79f8,U+7a8d,U+7a98,U+7aa6,U+7aff,U+7b1b,U+7cd9,U+7d6e,U+7ede,U+7eee,U+7f00,U+7f24,U+7f2d,U+7fd8,U+800d,U+8116,U+8151,U+81b3,U+8205,U+82c7,U+82db,U+832c,U+8335,U+8339,U+8386,U+846b,U+8587,U+8611,U+8682,U+868a,U+868c,U+8774,U+88d8,U+88f4,U+8912,U+8b6c,U+8bbd,U+8c0e,U+8c41,U+8d26,U+8d3b-8d3c,U+8d50,U+8dea,U+8e35,U+8f99,U+8fe2,U+8fe9,U+9017,U+914c,U+916f,U+9175-9176,U+918b,U+94a0,U+94ae,U+94ce,U+94f2,U+951a,U+952f,U+9541,U+9640,U+9672,U+968b,U+96cd,U+96ef,U+9713,U+97ec,U+9885,U+9992,U+9a6d,U+9a79,U+9a85,U+9cbb,U+9cd7,U+9cde,U+9e93,U+9f9f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-d2666cbed13462c5dc36fa2f15c202ca.woff2",descriptors:{unicodeRange:"U+4e11,U+4ed7,U+4fcf,U+4fe9,U+4fed,U+50ac,U+50b2,U+5112,U+5180,U+5188,U+51f6,U+522e,U+5265,U+52cb,U+52df,U+5349,U+5367,U+5378,U+537f,U+5395,U+5398,U+53d4,U+543e,U+5440,U+5446,U+54b8,U+5565-5566,U+5580,U+55bb,U+56ca,U+572d,U+573e,U+574e,U+5782-5784,U+58f3,U+5938-5939,U+5948,U+594e,U+5a1c,U+5a74,U+5ae9,U+5b55,U+5b5c,U+5bb0,U+5bd3,U+5bf8,U+5c3f,U+5d14,U+5d2d,U+5df7,U+5dfe,U+5e05-5e06,U+5e1c,U+5e62,U+5e7b,U+5e7d,U+5ed6,U+5f2f,U+5f66,U+5f6c,U+5fa1,U+604b,U+609f,U+60a6,U+60e8,U+6101,U+6124,U+6127,U+6148,U+61be,U+6247,U+62d8,U+62da,U+633d,U+635e,U+6367,U+6380,U+638f,U+63a9,U+63fd,U+641c,U+64e6,U+655e,U+6572,U+6591,U+65a5,U+6691,U+6735,U+67a2-67a3,U+67ef,U+680b,U+6876,U+6905,U+6a0a,U+6a61,U+6b79,U+6bb7,U+6bbf,U+6c41,U+6c55,U+6c83,U+6c9b,U+6ca7,U+6cfc,U+6d46,U+6d51,U+6d74,U+6d9d,U+6daf,U+6dc0,U+6deb,U+6e17,U+6e24,U+6e89,U+6ea2,U+6ef4,U+6f6d,U+707f,U+70b3,U+70e4,U+70ef,U+710a,U+722c,U+725f,U+7261,U+72ee,U+72f1,U+730e,U+732b,U+7433,U+7538,U+75bc,U+7624,U+7709,U+7750,U+7779,U+7802,U+7898,U+78a7,U+78b1,U+78cb,U+78f7,U+7984,U+7a83,U+7aed,U+7b3c,U+7b4b,U+7c92,U+7c98,U+7ca4,U+7eb9,U+7ee3,U+7ef3,U+7ef5,U+7f05,U+7f55,U+7f62,U+7fc1,U+7fd4,U+7fe0,U+8042,U+806a,U+80a0,U+80a4,U+80c3,U+8102,U+8106,U+814a,U+8154,U+8247,U+8258,U+82cd,U+8328,U+832b,U+8389,U+83ca,U+845b,U+846c,U+84b8,U+8574,U+859b,U+8680,U+8695,U+86c7,U+8702,U+886c,U+8896,U+88b1,U+88e4,U+8bc8,U+8c10,U+8c26,U+8c28,U+8c2d,U+8d4c,U+8d63,U+8f67,U+8f74,U+8fc4,U+9006,U+9063,U+90a2,U+90b1,U+90c1,U+9177,U+9189,U+9493,U+949e,U+94fe,U+9610,U+961c,U+96a7,U+96fe,U+978d,U+97f5,U+9888,U+997c,U+9a84,U+9b3c,U+9b44-9b45,U+9b54,U+9e64,U+9f0e,U+9f9a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1e6fd68f1f3902ce48ce8c69df385622.woff2",descriptors:{unicodeRange:"U+4e19,U+4e38,U+4e53,U+4e7e,U+4e9f,U+4ec6,U+4f50,U+4fde,U+502a,U+5154,U+517d,U+51d1,U+51f0,U+5239,U+5256,U+52c9,U+52fe,U+5308,U+532a,U+535c,U+5384,U+53a2,U+53a8,U+53c9,U+53e0,U+5496,U+54ac,U+54c0,U+54c4,U+54e8,U+5561,U+5582,U+561b,U+5631,U+566a,U+5764,U+576a,U+5792,U+57ab,U+584c,U+5885,U+58f6,U+59a8,U+5acc,U+5bc2,U+5c38-5c39,U+5c60,U+5c6f,U+5c82,U+5c90,U+5d16,U+5dcd,U+5e37,U+5e90,U+5eb8,U+5f6a,U+5fcc,U+6012,U+6068,U+6073,U+607c,U+6094,U+6109,U+621a,U+626e,U+6284,U+62d0,U+62e6,U+62fe,U+6321,U+6328,U+632b,U+6349,U+6454,U+65ed,U+660f,U+6674,U+66a8,U+6749,U+674f,U+6760,U+67af,U+6850,U+6854,U+6869,U+68a8,U+68d2,U+68f5,U+6912,U+6b49,U+6b6a,U+6bef,U+6c28,U+6c5d,U+6c82,U+6cab,U+6cb8,U+6cc4,U+6cf5,U+6d47,U+6d78,U+6da4,U+6dc4,U+6dcb,U+6df9,U+6e0a,U+6e23,U+6e5b,U+6eb6,U+6f06,U+6f47,U+6f84,U+6f9c,U+6fd2,U+7076,U+70ac,U+7199,U+723d,U+72ac,U+72ed,U+7476,U+7529,U+752b,U+754f,U+7554,U+75d5,U+7626,U+76ef,U+7720,U+7766,U+7784,U+77ac,U+780d,U+7838,U+7845,U+786b,U+78b3,U+7978,U+79b9,U+79c9,U+79e7,U+7a3d,U+7a84,U+7a9f,U+7b0b,U+7b52,U+7c7d,U+7f1a,U+7fc5,U+7ff0,U+804a,U+8086-8087,U+808c,U+809a,U+80ba,U+810a,U+8180,U+818f,U+81c2,U+81ed,U+8231,U+8292,U+829c,U+82a6,U+82d1,U+8346,U+838e,U+839e,U+83c7,U+83f1,U+8403,U+840e,U+8513,U+857e,U+85e4,U+867e,U+871c,U+87ba,U+87f9,U+884d,U+8944,U+8a93,U+8c05,U+8d2c,U+8d2e,U+8d42-8d43,U+8dfb,U+8e22,U+8eba,U+8f69,U+8f9c,U+8fa3,U+8fa8,U+8fb1,U+900a,U+9038,U+903b,U+9042,U+904f,U+90b5,U+90dd,U+9102,U+9187,U+94a7,U+94c5,U+9523,U+95f8,U+95fd,U+960e,U+964b-964c,U+96c1,U+9709,U+971c,U+97ad,U+9882,U+9965,U+9976,U+9988,U+99a8,U+9a82,U+9a9a,U+9b41,U+9c8d,U+9e45,U+9e70,U+9e9f,U+9f3b,U+9f7f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-87599f94b6cc129d505b375798d0d751.woff2",descriptors:{unicodeRange:"U+4e08,U+4e18,U+4e1b,U+4e22,U+4e27,U+4e32,U+4e52,U+4e73,U+4ead,U+4ed4,U+4ed9,U+4ef0,U+4fa6,U+5076,U+5179,U+51bb,U+51c9,U+51ef,U+51fd,U+524a,U+526a,U+529d,U+52ab,U+5306,U+5339,U+53d9,U+540a,U+5410,U+541e,U+5439,U+54b1,U+54ed,U+5564,U+558a,U+55b7,U+5634,U+574a,U+5751,U+57a6,U+57cb,U+57d4,U+5824,U+582a,U+5835,U+5858,U+5893,U+58e4,U+5951,U+5986,U+59da,U+59fb,U+59ff,U+5a03,U+5a46,U+5ac1,U+5b5d,U+5bfa,U+5c18,U+5c3a,U+5c48,U+5c4f,U+5c61,U+5cb3,U+5d1b,U+5e15,U+5e3d,U+5e99,U+5e9e,U+5eca,U+5f0a,U+5f17-5f18,U+5f25,U+5f7c,U+5fcd,U+6028,U+60a0,U+60ac,U+60d1,U+614e,U+6155,U+6168,U+61c8,U+6208,U+6212,U+6251,U+629a-629b,U+62ab-62ac,U+62fc,U+6323,U+632a,U+63d2,U+643a,U+6491-6492,U+649e,U+64b0,U+64c5,U+659c,U+6614,U+662d,U+6664,U+6670,U+6676,U+6746,U+67cf,U+67d4,U+682a,U+6843,U+6846,U+68da,U+6b3a,U+6b67,U+6c27,U+6c5b,U+6c64,U+6c70,U+6caa,U+6cca,U+6ce1,U+6d12,U+6d45,U+6dd1,U+6dd8,U+6e34,U+6e7f,U+6ee5,U+6f02,U+7092,U+70c2,U+70e6,U+7115,U+7237,U+7272,U+727a,U+72c2,U+739b,U+73b2,U+743c,U+751c,U+758f,U+75b2,U+7686,U+76c6,U+76d2,U+76fc,U+775b,U+77a9,U+7816,U+788e,U+7897,U+78b0,U+79bd,U+7a0d,U+7a91,U+7a9d,U+7ae3,U+7bad,U+7cca,U+7d2b,U+7eb1,U+7f06,U+7f14,U+7f1d,U+7f50,U+7ffc,U+8036,U+80bf,U+80c1,U+80ce,U+80f8,U+8109,U+810f,U+8170,U+8179,U+819c,U+821f,U+8230,U+8236,U+8273,U+829d,U+82f9,U+8305,U+8350,U+83b2,U+83cc,U+8404,U+840d,U+8427,U+8482,U+8679,U+8854,U+886b,U+8bbc,U+8be6,U+8c31,U+8c6b,U+8d4b,U+8dcc,U+8e2a,U+8e48,U+8f90,U+8fb0,U+9022,U+903c,U+903e,U+9065,U+916c,U+917f,U+94a9,U+94c3,U+94dd,U+94ed,U+9510,U+953b,U+96c7,U+970d,U+9738,U+9877,U+987d,U+989c,U+98d8,U+9a70,U+9a91,U+9aa4,U+9b42,U+9b4f,U+9e2d,U+9e3f,U+9e7f,U+9f20"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-06c77b8c66e51ed6c63ccb502dd8b8af.woff2",descriptors:{unicodeRange:"U+4e59,U+4ed3,U+4f0f,U+4f38,U+4f69,U+4fa7,U+4faf,U+4ff1,U+5077,U+5085,U+5144,U+5151,U+51af,U+51b6,U+51cc,U+523a,U+5251,U+5269,U+5272,U+52d8,U+5353,U+5389,U+53f9,U+5401,U+5415,U+541b,U+54f2,U+5524,U+554a,U+559d,U+5609,U+5740,U+575d,U+5806,U+5821,U+586b,U+5915,U+594f,U+5960,U+5999,U+59a5,U+59b9,U+59c6,U+59d1,U+59dc,U+5b5f,U+5b64,U+5b87,U+5bb4,U+5bbf,U+5c16,U+5c1d,U+5c3e,U+5c9a,U+5ca9,U+5cad,U+5cfb,U+5de1,U+5de7,U+5de9,U+5ef7,U+5f04,U+5f70,U+5f79,U+5fc6,U+602a,U+6050,U+6052,U+6070,U+6084,U+60b2,U+60dc,U+60e9,U+6167,U+6170,U+61c2,U+6270,U+6291,U+62b1,U+62bc,U+62dc,U+62df,U+62f3,U+6324,U+633a,U+6377,U+6398,U+63cf,U+640f,U+642c-642d,U+6458,U+6478,U+6500,U+654c,U+6566,U+658c,U+65c1,U+65cb,U+65e8,U+65ec,U+6696-6697,U+6734,U+679a,U+679d,U+67dc,U+67f3-67f4,U+680f,U+683d,U+684c,U+68af,U+699c,U+6bc1,U+6c0f,U+6c1b,U+6c57,U+6c6a,U+6d3d,U+6d6e,U+6d82,U+6db5,U+6dee,U+6e58,U+6eaa,U+6ecb,U+6ede,U+6ee9,U+6f0f,U+6f20,U+6f58,U+704c,U+7070,U+70b8,U+718a,U+7238,U+7262,U+7275,U+72b9,U+72d7,U+72e0,U+741b,U+7434,U+7483,U+74f6-74f7,U+75ab,U+764c,U+7761,U+7855,U+7891,U+78c1,U+79d2,U+7a00,U+7a3b,U+7c97,U+7ea4,U+7eb2,U+7ed2,U+7eea,U+7ef8,U+7f18,U+7fbd,U+8000,U+8010,U+8096,U+809d,U+80a9,U+817f,U+81e3,U+8206,U+8212,U+82ac,U+8302,U+8361,U+8377,U+83f2,U+8461,U+848b,U+84ec,U+8521,U+85aa,U+8870,U+8877,U+8881,U+888b,U+88ad,U+88c2,U+8986,U+8bd1,U+8bf1,U+8d24,U+8d2a,U+8d3e-8d3f,U+8d41,U+8d56,U+8d64,U+8d6b,U+8e0f,U+8f70,U+8f85,U+8f88,U+8fa9,U+9003,U+901d,U+90b9,U+90ce,U+94a6,U+94f8,U+9505,U+95ea,U+95ef,U+95f2,U+95f9,U+9601,U+9605,U+9634,U+966a,U+9677,U+9690,U+9694,U+96d5,U+971e,U+9896-9897,U+9972,U+9a71,U+9a76,U+9a7e,U+9e1f,U+9e23"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-13ae07ed2e272d26d59bc0691cd7117a.woff2",descriptors:{unicodeRange:"U+4e01,U+4e43,U+4ea6,U+4ef2,U+4eff,U+4f26,U+4f2a,U+4f2f,U+4f5b,U+4fa8,U+4fca,U+4fd7,U+5021,U+504f,U+5141,U+51c0,U+51dd,U+51e4,U+51ed,U+5200,U+5237,U+5427,U+5448,U+54a8,U+5706,U+5708,U+5723,U+575b,U+57c3,U+5899,U+58a8,U+58c1,U+5976,U+5988,U+59bb,U+59d0,U+59d3,U+5a18,U+5a31,U+5a92,U+5b54,U+5b85,U+5baa-5bab,U+5bc4,U+5bd2,U+5be8,U+5bff,U+5c65,U+5d07,U+5e1d,U+5e78,U+5e7c,U+5f03,U+5f1f,U+5f39,U+5f6d,U+5f92,U+5faa,U+5fbd,U+5fe7,U+5ffd,U+60a8,U+60ef,U+6108,U+6162,U+622a,U+6234,U+626b,U+626d,U+62c6,U+62d2,U+62d4,U+62d6,U+62e8,U+6316,U+6355,U+63ed,U+6447,U+64a4,U+65f1,U+6606,U+6628,U+664b,U+6668,U+6682,U+66f9,U+66fc,U+66ff,U+6717,U+6740,U+676d,U+67aa,U+67ec,U+67f1,U+6842,U+6851,U+695a,U+6982,U+6a2a,U+6b20,U+6b23,U+6b32,U+6b96,U+6bc5,U+6beb,U+6c60,U+6c9f,U+6cea,U+6cf3,U+6d1e,U+6d53,U+6d66,U+6d69,U+6d8c,U+6d9b,U+6db2,U+6de1,U+6dfb,U+6e14,U+6ed1,U+6eda,U+6ee8,U+6f2b,U+706d,U+7089,U+708e,U+70ad-70ae,U+70e7,U+7126,U+714c,U+71c3,U+71d5,U+7206,U+7259,U+731b,U+73a9,U+73bb,U+74dc,U+7532,U+7545,U+755c,U+75c7,U+7687,U+76d7,U+76f2,U+788d,U+78e8,U+79e6,U+79e9,U+7a3f,U+7a46,U+7a97,U+7af9,U+7bee,U+7c4d,U+7c89,U+7cd6,U+7eb5,U+7ebd,U+7ed8,U+8017,U+8033,U+80c0,U+80de,U+80f6,U+8138,U+817e,U+81a8,U+820d,U+827e,U+82b3,U+82d7,U+83b1,U+84c4,U+84dd,U+8584,U+864e,U+865a,U+866b,U+86cb,U+88d5,U+89e6,U+8bca,U+8bde,U+8bfa,U+8c0a,U+8c37,U+8c46,U+8c6a,U+8c8c,U+8d1d,U+8d29,U+8d4f,U+8d54,U+8d5a,U+8d60,U+8d62,U+8f7f,U+8f96,U+8f9e-8f9f,U+8fc1,U+8fdf,U+8fea,U+8ff7,U+9012,U+906d,U+9075,U+90a6,U+90bb,U+90ca,U+9178,U+9192,U+91ca,U+94bb,U+94dc,U+94fa,U+9501,U+950b,U+9521,U+955c,U+963b,U+9655,U+9675-9676,U+9887,U+9891,U+9971,U+9a97,U+9ece,U+9ed8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-353f33792a8f60dc69323ddf635a269e.woff2",descriptors:{unicodeRange:"U+4e1d,U+4e39,U+4e4c,U+4e4f,U+4e54,U+4e58,U+4e95,U+4ea1,U+4eab,U+4eae,U+4ec1,U+4f10,U+4f19,U+4f30,U+4f34,U+4fb5,U+503e,U+518c,U+5192,U+51a0,U+51ac,U+51b0,U+51e1,U+5211,U+5242,U+52a3,U+52b2,U+52c3,U+52c7,U+52d2,U+52e4,U+5377,U+539a,U+53a6,U+53e5,U+5417,U+5510,U+552f,U+5531,U+574f-5750,U+5761,U+5851,U+5854,U+58ee,U+593a,U+5949,U+5954,U+5a5a,U+5b8b,U+5bbd,U+5c04,U+5c0a,U+5c4b,U+5ce1,U+5cf0,U+5e10,U+5e8a,U+5e9f,U+5ec9,U+5f31,U+5f84,U+5fd8-5fd9,U+5fe0,U+6015,U+6062,U+6069,U+6076,U+6089,U+60a3,U+60ca,U+620f,U+624e,U+6263,U+6298,U+62a2,U+62bd,U+6311,U+6350,U+6389,U+638c,U+63f4,U+6446,U+644a,U+6469,U+64cd,U+654f,U+6562,U+656c,U+65d7,U+65e6,U+65fa,U+660c,U+6653,U+66b4,U+670b,U+672b,U+676f-6770,U+6881,U+6885,U+68a6,U+68cb,U+68ee,U+6b8a,U+6c88-6c89,U+6cc9,U+6ce5,U+6d01,U+6d17,U+6d1b,U+6d59,U+6d6a,U+6da8,U+6df7,U+6e10,U+6e20-6e21,U+6f5c,U+706f,U+70bc,U+719f,U+7267,U+732a,U+73cd,U+7518,U+756a,U+7586,U+7591,U+75db,U+76c8,U+76d0,U+76d6,U+76d8,U+76df,U+76fe,U+77db,U+7801,U+786c,U+795d,U+7965,U+79cb,U+7a77,U+7a7f,U+7aef,U+7b11,U+7bb1,U+7bc7,U+7ea0,U+7eaf,U+7ed5,U+7edc,U+7f13,U+7f29,U+7f34,U+7f8a,U+7ffb,U+8015,U+8058,U+805a,U+8083,U+80af,U+80c6,U+80cc,U+811a,U+8150,U+82e5,U+8336,U+8352,U+83ab,U+8428,U+8463,U+852c,U+8861,U+89c8,U+8bcd,U+8bd7,U+8bda,U+8be2,U+8bef,U+8bf8,U+8c0b,U+8c13,U+8d34,U+8d3a,U+8d74,U+8d76,U+8da3,U+8dd1,U+8ddd,U+8ddf,U+8df3,U+8f68,U+8f6f,U+8f7d,U+8f91,U+8f9b,U+8fbd,U+8fc8,U+8fd4,U+8feb,U+8ff9,U+900f,U+9057,U+907f-9080,U+90d1,U+90ed,U+91ce,U+9519,U+9526,U+95ed,U+9614,U+9635,U+9644,U+9686,U+96c5,U+96ea,U+9707,U+9732,U+9759,U+978b,U+9876,U+9881,U+9910,U+996e,U+9970,U+9c81,U+9e21,U+9ebb,U+9f84"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-0facdf1ea213ba40261022f5d5ed4493.woff2",descriptors:{unicodeRange:"U+4e3d,U+4e4e,U+4e71,U+4e8f,U+4ed8,U+4eea,U+4f0a,U+4f0d,U+4f11,U+4f1f,U+4f24,U+4f3c,U+4f73,U+4fc4,U+500d,U+5012,U+501f,U+503a,U+505c,U+507f,U+50a8,U+514d,U+5178,U+517c,U+51b2,U+51b7,U+520a,U+5238,U+523b,U+52b1,U+535a,U+5371,U+5385,U+53eb-53ec,U+53f3,U+53f6,U+5409,U+542b,U+542f,U+5434,U+5462,U+5473,U+547c,U+54c8,U+54ea,U+56fa,U+5733,U+5757,U+5766,U+5802,U+585e,U+590f,U+591c,U+591f,U+5947,U+594b,U+5987,U+5a01,U+5b59,U+5b63,U+5b88,U+5b97,U+5b9c,U+5bbe,U+5bfb,U+5c01,U+5c1a,U+5c24,U+5c3c,U+5c97,U+5c9b,U+5cb8,U+5de6,U+5e01,U+5e2e,U+5e45,U+5e55,U+5e84,U+5ef6,U+5f02,U+5f52,U+5f69,U+5f7b,U+5f90,U+5fae,U+6000,U+600e,U+6025,U+60e0,U+6276,U+6297,U+62b5,U+62cd,U+62d3,U+62e5,U+62e9,U+62ff,U+6302,U+632f,U+63e1,U+6444,U+64ad,U+653b,U+6551,U+6563,U+65a4,U+65e7,U+6620,U+667a,U+66f2,U+671d,U+6731,U+6742,U+675f,U+6768,U+677e-677f,U+6790,U+67b6,U+67d3,U+6863,U+68b0,U+68c9,U+690d,U+6b8b,U+6bcd,U+6bd2,U+6bd5,U+6c38,U+6c61,U+6cbf,U+6cdb,U+6cf0,U+6d2a,U+6d89,U+6da6,U+6f6e,U+6fb3,U+7075,U+707e,U+70df,U+7164,U+7236,U+725b,U+7389,U+73e0,U+745e,U+74e6,U+751a,U+7537,U+75be,U+76ae,U+76db,U+793c,U+7956,U+7981,U+79d8,U+79df,U+79fb,U+7adf,U+7ae5,U+7b14,U+7b26,U+7b54,U+7b79,U+7d2f,U+7eb8,U+7eba,U+7ec6,U+7ee9,U+7eff,U+7f5a,U+7f6a,U+7f72,U+8089,U+80a5,U+80e1,U+8111,U+8131,U+821e,U+822c,U+8270,U+8499,U+8651,U+867d,U+8840,U+8857,U+8863,U+88c1,U+89c9,U+89d2,U+8a89,U+8bed,U+8bfe,U+8c01,U+8c22,U+8d21,U+8d25,U+8d2f,U+8d5e,U+8d75,U+8d8b,U+8dc3,U+8de8,U+8df5,U+8f6e,U+8f86,U+8f89,U+8fc5,U+8ff0,U+8ffd,U+9014,U+904d,U+90ae,U+9274,U+949f,U+952e,U+969c,U+96c4,U+96e8,U+96f6-96f7,U+97e9,U+987f,U+996d,U+9a7b,U+9aa8,U+9c7c,U+9c9c,U+9e4f,U+9f13,U+9f50"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f8ee5d36068a42b51d0e4a1116cfcec1.woff2",descriptors:{unicodeRange:"U+4e13,U+4e16,U+4e1c,U+4e24,U+4e3e,U+4e49,U+4e61,U+4e66,U+4e89,U+4e8c,U+4e94,U+4e9b,U+4ea4,U+4eac,U+4ebf,U+4eca,U+4ef6-4ef7,U+4efb,U+4f18,U+4f20,U+4f46,U+4f7f,U+4fe1,U+503c,U+505a,U+5146,U+5148,U+515a,U+5171,U+5177,U+519b,U+51b3,U+51c6,U+51e0,U+5212,U+521b,U+522b,U+529e,U+52bf,U+534e-534f,U+5355,U+5357,U+5382,U+539f,U+53bb,U+53bf,U+53c2,U+53c8,U+53ca,U+53d6-53d8,U+53e3,U+53ea,U+53f0,U+540d,U+5411,U+56db,U+56de,U+56e0,U+56e2,U+578b,U+57ce,U+57fa,U+589e,U+5904,U+5934,U+5982,U+5b89,U+5b8c,U+5bfc,U+5c06,U+5c11,U+5c40,U+5c71,U+5e38,U+5e72,U+5e76,U+5e7f,U+5e94,U+5e9c,U+5f0f,U+5f15,U+5f20,U+5f3a,U+5f62,U+5f88,U+5fc5,U+5fd7,U+5feb,U+601d,U+6027,U+60c5,U+60f3,U+610f,U+6216,U+6218,U+624b,U+624d,U+6279,U+628a,U+6295,U+6301,U+6307,U+636e,U+63a5,U+63a8,U+652f,U+6536,U+653e,U+6548,U+6559,U+6570,U+65bd,U+65e0,U+6602,U+660e,U+6613,U+66f4,U+6700,U+670d,U+671f,U+672f,U+6743,U+674e,U+6751,U+6761,U+6784,U+6797,U+679c,U+67e5,U+6807,U+6837,U+683c,U+6b21,U+6b63-6b65,U+6bcf,U+6bd4,U+6c42,U+6c5f,U+6ca1,U+6cbb,U+6d3b,U+6d41,U+6d88,U+6df1,U+70b9,U+7136,U+7269,U+7279,U+7531,U+754c,U+767e,U+76ca,U+76f8,U+770b,U+7740,U+7814,U+79ef,U+7a0b,U+7a0e,U+7a76,U+7b80,U+7cbe,U+7cfb,U+7e41,U+7ea7,U+7ec4,U+7ec7,U+7ed3,U+7ed9,U+7edf,U+7f8e,U+8001,U+804c,U+8054,U+80b2,U+81f3,U+8425,U+8868,U+88ab,U+897f,U+89c1-89c2,U+89c4,U+89c6,U+89e3,U+8ba1,U+8ba4,U+8bae,U+8bb0,U+8bba,U+8bc1,U+8c03,U+8d28,U+8d39,U+8def,U+8f66,U+8f6c,U+8fd0-8fd1,U+9020,U+9053,U+90a3,U+90fd,U+91cc,U+9500,U+9547,U+95e8,U+95f4,U+961f,U+9645,U+9662,U+96be,U+96c6,U+9700,U+9769,U+97e6,U+9875,U+9879,U+9886,U+9898,U+98ce,U+9996,U+2b5af,U+2cc56,U+2e9f5,U+30edd-30ede"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-79d494361ae093b69e74ee9dbe65bfd4.woff2",descriptors:{unicodeRange:"U+4e03,U+4e30,U+4e34,U+4e45,U+4e60,U+4e70,U+4e88,U+4e91-4e92,U+4ea9,U+4eb2,U+4ec0,U+4ecb,U+4ecd,U+4ee4,U+4fee,U+5019,U+5047,U+50cf,U+5145,U+516d,U+5170,U+5175,U+5199,U+51cf,U+51fb,U+521a,U+5224,U+5267,U+52aa,U+5347-5348,U+534a,U+5356,U+5361,U+536b,U+5370,U+538b,U+53e4,U+53e6,U+5403,U+5426,U+5428,U+542c,U+5438,U+5668,U+56ed,U+56f4,U+56fe,U+57df,U+592a,U+5957,U+5b69,U+5b81,U+5b8f,U+5b98,U+5b9d,U+5ba1,U+5ba4,U+5bb3,U+5bc6,U+5bdf,U+5c3d,U+5c5e,U+5c81,U+5ddd,U+5de8,U+5dee,U+5e0c,U+5e86,U+5e8f,U+5e93,U+5e95,U+5e97,U+5ea7,U+5ead,U+5eb7,U+5f55,U+5f81,U+5f85,U+5ff5,U+6001,U+613f,U+6258,U+6267,U+6269,U+626c,U+627e,U+62db,U+62ec,U+6325,U+635f,U+6362,U+6388,U+6392,U+63a2,U+63a7,U+63aa,U+641e,U+6545,U+6597,U+65e2,U+65e9,U+661f,U+665a,U+666e-666f,U+66fe,U+6728,U+67d0,U+6811,U+6838,U+6865,U+697c,U+6b22,U+6b27,U+6b4c,U+6b62,U+6b66,U+6b7b,U+6bdb,U+6c47,U+6c49,U+6c7d,U+6c99,U+6cfd,U+6d0b,U+6d25,U+6d32,U+6d3e,U+6d4b,U+6e29,U+6e56,U+6e7e,U+6f14,U+6fc0,U+706b,U+70c8,U+7247,U+72af,U+72b6,U+72ec,U+732e,U+73ed,U+7403,U+7533,U+753b,U+7559,U+7565,U+7597,U+767b,U+773c,U+7763,U+77ed,U+77ff,U+7968,U+798f,U+79bb,U+79c0-79c1,U+7ad9,U+7ae0,U+7b51,U+7b7e,U+7cae,U+7d22,U+7ea2,U+7eb3,U+7eb7,U+7ec3,U+7ec8,U+7ecd,U+7edd,U+7efc,U+7f16,U+7f3a,U+7f51,U+7f57,U+7f6e,U+80dc,U+822a,U+8239,U+826f,U+82cf,U+82e6,U+8349,U+8363,U+83dc,U+8457,U+85cf,U+878d,U+8865,U+8a00,U+8b66,U+8ba2,U+8ba8,U+8bad,U+8bb2,U+8bc9,U+8bd5,U+8bfb,U+8d2b,U+8d35,U+8d37,U+8f7b,U+8f93,U+8fce,U+8fdd,U+9000-9002,U+9010,U+9047,U+9093,U+9152,U+9488,U+94a2,U+9633,U+9636,U+963f,U+9646,U+9648,U+964d,U+9664,U+9669,U+9760,U+97f3,U+987a,U+987e,U+9884,U+98de,U+9986,U+9ed1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-74e2263a91439c25b91d5132ce9f4d62.woff2",descriptors:{unicodeRange:"U+4e14,U+4e25,U+4e48,U+4e50,U+4e5d,U+4e9a,U+4ec5,U+4efd,U+4f17,U+4f4e-4f4f,U+4f55,U+4f59,U+4f60,U+4f8b,U+4f9b,U+4f9d,U+4fbf,U+4fc3,U+5065,U+513f,U+5149,U+514b,U+516b,U+5174,U+517b,U+518d,U+51b5,U+5207,U+5217-5219,U+521d,U+526f,U+529f,U+52a9,U+52b3,U+5305,U+533b,U+5343,U+5360,U+5373-5374,U+5386,U+53cb-53cd,U+53f2,U+53f7,U+544a,U+5468,U+547d,U+54cd,U+552e,U+5584,U+56f0,U+571f,U+5747,U+575a,U+57f9,U+5883,U+58eb,U+58f0,U+5907,U+590d,U+592e,U+5931,U+5956,U+5965,U+5973,U+5979,U+59cb,U+5b57-5b58,U+5b83,U+5ba2-5ba3,U+5bb9,U+5bcc,U+5c42,U+5c45,U+5c4a,U+5dde,U+5df1,U+5df4,U+5e03,U+5e08,U+5e26,U+5e2d,U+5f71,U+5f80,U+5f8b,U+5fb7,U+606f,U+611f,U+6237,U+623f,U+6253,U+627f,U+6293,U+62a4,U+62c5,U+62c9,U+6309,U+6574,U+6599,U+65ad,U+65af,U+65c5,U+65cf,U+6625,U+663e,U+671b,U+672a,U+6750,U+6781,U+6821,U+6839,U+6848,U+68c0,U+6a21,U+6b3e,U+6bb5,U+6c14,U+6cb3,U+6cb9,U+6ce8,U+6e05,U+6e2f,U+6e38,U+6e90,U+6ee1,U+70ed,U+7167,U+7231,U+7248,U+724c,U+7387,U+738b,U+73af,U+7530,U+75c5,U+767d,U+76d1,U+76f4,U+771f,U+77e5,U+77f3,U+7834,U+7840,U+786e,U+793a,U+795e,U+79f0,U+7a33,U+7a7a,U+7a81,U+7ade,U+7b56,U+7b97,U+7c73,U+7c7b,U+7d20,U+7d27,U+7ea6,U+7eaa,U+7ebf,U+7ee7,U+7eed,U+7ef4,U+7fa4,U+8003,U+80a1,U+81f4,U+8272,U+827a,U+8282,U+82b1,U+82f1,U+8303,U+836f,U+83b7,U+843d,U+88c5,U+8ba9,U+8baf,U+8bb8,U+8bbf,U+8bc4,U+8bc6,U+8bdd,U+8be5,U+8bf7,U+8c08,U+8c61,U+8d1f,U+8d22-8d23,U+8d27,U+8d2d,U+8d38,U+8d5b,U+8d70,U+8d85,U+8d8a,U+8db3,U+8eab,U+8f83,U+8fb9,U+8fdc,U+8fde,U+9009,U+901f,U+914d,U+91c7,U+94b1,U+94c1,U+94f6,U+95fb,U+9632,U+9650,U+968f,U+9752,U+975e,U+987b,U+989d,U+98df,U+9999,U+9a6c,U+9a8c,U+9ec4,U+9feb-9fec"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-ee8bae97908d5147b423f77ad0d3c1bb.woff2",descriptors:{unicodeRange:"U+98fb-990c,U+990e-990f,U+9911-992d,U+992f-9953,U+9956-9962,U+9964,U+9966,U+9973,U+9978-9979,U+997b,U+997e,U+9982-9983,U+9989,U+998c,U+998e,U+999a-99a4,U+99a6-99a7,U+99a9-99c8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-56467a5c8840c4d23a60b2f935114848.woff2",descriptors:{unicodeRange:"U+8e4c-8e50,U+8e53-8e58,U+8e5a-8e65,U+8e67-8e68,U+8e6a-8e6b,U+8e6e,U+8e71,U+8e73,U+8e75,U+8e77-8e7b,U+8e7d-8e7e,U+8e80,U+8e82-8e84,U+8e86,U+8e88-8e8e,U+8e91-8e93,U+8e95-8e9b,U+8e9d,U+8e9f-8eaa,U+8ead-8eae,U+8eb0-8eb1,U+8eb3-8eb9,U+8ebb-8ecd,U+8ecf-8f02"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-145aa02cdd91946e67dc934e1acffe75.woff2",descriptors:{unicodeRange:"U+2e3a,U+3001-3002,U+3008-3011,U+3014-3017,U+301d-301f,U+4dae,U+4e00,U+4e07,U+4e09-4e0b,U+4e0d-4e0e,U+4e1a,U+4e2a,U+4e2d,U+4e3a-4e3b,U+4e4b,U+4e5f,U+4e86,U+4e8b,U+4e8e,U+4ea7,U+4eba,U+4ece,U+4ed1,U+4ed6,U+4ee3,U+4ee5,U+4eec,U+4f01,U+4f1a,U+4f4d,U+4f53,U+4f5c,U+4fdd,U+5143,U+5165,U+5168,U+516c,U+5173,U+5176,U+5185,U+519c,U+51fa,U+5206,U+5229,U+5230,U+5236,U+524d,U+529b,U+52a0-52a1,U+52a8,U+5316-5317,U+533a,U+5341,U+5362,U+53d1,U+53ef,U+53f8,U+5404,U+5408,U+540c,U+540e,U+5458,U+548c,U+54c1,U+54e5,U+5546,U+559c,U+56fd,U+5728,U+5730,U+573a,U+5916,U+591a,U+5927,U+5929,U+592b,U+597d,U+59d4,U+5b50,U+5b66,U+5b9a,U+5b9e,U+5bb6,U+5bf9,U+5c0f,U+5c14,U+5c31,U+5c55,U+5de5,U+5df2,U+5e02,U+5e73-5e74,U+5ea6,U+5efa,U+5f00,U+5f53,U+5f97,U+5fc3,U+603b,U+6210-6211,U+6240,U+6280,U+62a5,U+63d0,U+6539,U+653f,U+6587,U+65b0,U+65b9,U+65e5,U+65f6,U+662f,U+6708-6709,U+672c,U+673a,U+675c,U+6765,U+6c11,U+6c34,U+6cd5,U+6ce2,U+6d4e,U+6d77,U+73b0,U+7406,U+751f,U+7528,U+7535,U+7684,U+76ee,U+793e,U+79cd,U+79d1,U+7acb,U+7b2c,U+7b49,U+7ba1,U+7ecf,U+8005,U+800c,U+80fd,U+81ea,U+884c,U+8981,U+8bbe,U+8bf4,U+8d44,U+8d77,U+8fbe,U+8fc7,U+8fd8-8fd9,U+8fdb,U+901a,U+90e8,U+91cd,U+91cf,U+91d1,U+9485,U+957f,U+95ee,U+9762,U+9ad8,U+9ea6,U+9f99,U+9fcf,U+9fd4,U+9fed,U+fe10-fe19,U+fe30-fe31,U+fe33-fe44,U+ff01,U+ff0c,U+ff1f,U+2b4e7,U+2b7f7,U+2b7fc,U+2cb2d,U+2cb3b,U+2cb4a,U+2cb5b,U+2cb73"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-54acdfc2166ad7fcbd074f75fd4a56ba.woff2",descriptors:{unicodeRange:"U+6490,U+6493-6494,U+6497-6498,U+649a-649d,U+649f-64a3,U+64a5-64a8,U+64aa-64ab,U+64af,U+64b1-64b4,U+64b6,U+64b9,U+64bb,U+64bd-64bf,U+64c1,U+64c3-64c4,U+64c6-64cc,U+64cf,U+64d1,U+64d3-64d6,U+64d9-64dd,U+64df-64e1,U+64e3,U+64e5,U+64e7-64ff,U+6501-6508,U+650a-6511,U+6513-6517,U+6519-6524,U+6526-652a,U+652c-652d,U+6530-6533,U+6537,U+653a,U+653c-653d,U+6540-6544,U+6546-6547,U+654a-654b,U+654d-654e,U+6550,U+6552-6554,U+6557-6558,U+655a,U+655c,U+655f-6561,U+6564-6565,U+6567-6568"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-29cec36cd205b211da97acabaa62f055.woff2",descriptors:{unicodeRange:"U+9695-9696,U+969a-969b,U+969d-96a6,U+96a8-96af,U+96b1-96b2,U+96b4-96b5,U+96b7-96b8,U+96ba-96bb,U+96bf,U+96c2-96c3,U+96c8,U+96ca-96cb,U+96d0-96d1,U+96d3-96d4,U+96d6-96df,U+96e1-96e7,U+96eb-96ee,U+96f0-96f2,U+96f4-96f5,U+96f8,U+96fa-96fd,U+96ff,U+9702-9703,U+9705,U+970a-970c,U+9710-9712,U+9714-9715,U+9717-971b,U+971d,U+971f-9729,U+972b-972c,U+972e-972f,U+9731,U+9733-9737,U+973a-973d,U+973f-9751,U+9754-9755,U+9757-9758,U+975a,U+975c-975d,U+975f,U+9763-9764,U+9766-9768,U+976a-9770"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3756e81d3e149cf6099163ee79944fec.woff2",descriptors:{unicodeRange:"U+6af0-6b1f,U+6b25-6b26,U+6b28-6b31,U+6b33-6b36,U+6b38,U+6b3b-6b3d,U+6b3f-6b42,U+6b44-6b45,U+6b48,U+6b4a-6b4b,U+6b4d-6b58,U+6b5a-6b61,U+6b68-6b69,U+6b6b-6b78,U+6b7a,U+6b7d-6b80,U+6b85,U+6b88,U+6b8c,U+6b8e-6b91,U+6b94-6b95,U+6b97-6b99,U+6b9c-6ba0,U+6ba2-6ba9,U+6bab-6bb2,U+6bb6,U+6bb8-6bba"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-8e9f97f01034820170065b2921b4fb5e.woff2",descriptors:{unicodeRange:"U+430e-439a,U+29e8a,U+29ec4,U+29edb,U+29ee9,U+29f7e,U+29f83,U+29f8c,U+29fce,U+2a01a,U+2a02f,U+2a082,U+2a0f9,U+2a190,U+2a38c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-13d2887ec8ee73c43acdabc52a05af7b.woff2",descriptors:{unicodeRange:"U+92ef-933d,U+933f-9369,U+936b-9388"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-72536a3d71b694a0d53dd90ddceae41e.woff2",descriptors:{unicodeRange:"U+4512-458d,U+2b300,U+2b363,U+2b36f,U+2b372,U+2b37d,U+2b404,U+2b410,U+2b413,U+2b461,U+2b4ef,U+2b4f6,U+2b4f9,U+2b50d-2b50e,U+2b536,U+2b5ae,U+2b5b3,U+2b5e7,U+2b5f4,U+2b61c-2b61d,U+2b626-2b628,U+2b62a,U+2b62c,U+2b695-2b696,U+2b6ad,U+2b6ed"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-603aefd23e350ba7eb124273e3c9bcf1.woff2",descriptors:{unicodeRange:"U+88bd-88c0,U+88c3-88c4,U+88c7-88c8,U+88ca-88cd,U+88cf-88d1,U+88d3,U+88d6-88d7,U+88da-88de,U+88e0-88e1,U+88e6-88e7,U+88e9-88ef,U+88f2,U+88f5-88f7,U+88fa-88fb,U+88fd,U+88ff-8901,U+8903-8909,U+890b-890f,U+8911,U+8914-8918,U+891c-8920,U+8922-8924,U+8926-8929,U+892c-892f,U+8931-8933,U+8935,U+8937-8940,U+8942-8943,U+8945-895d,U+8960-8965,U+8967-897a,U+897c-897e,U+8980,U+8982,U+8984-8985"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-095c169f3314805276f603a362766abd.woff2",descriptors:{unicodeRange:"U+4b0b-4ba0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9544732d2e62d1a429674f8ee41b5d3a.woff2",descriptors:{unicodeRange:"U+7179,U+717b-717c,U+717e-7183,U+7185-7189,U+718b-718e,U+7190-7193,U+7195-7197,U+719a-719e,U+71a1-71a7,U+71a9-71ab,U+71ad-71b2,U+71b4,U+71b6-71b8,U+71ba-71c2,U+71c4-71cd,U+71cf-71d3,U+71d6-71df,U+71e1-71e4,U+71e6,U+71e8-71ed,U+71ef-71f8,U+71fa-7205,U+7207-721c,U+721e-7227,U+7229,U+722b,U+722d"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-d3716376641d615e2995605b29bca7b6.woff2",descriptors:{unicodeRange:"U+982e-9874,U+988b,U+988e,U+9892,U+9895,U+9899,U+98a3,U+98a8-98cd,U+98cf-98d0,U+98d4,U+98d6-98d7,U+98db-98dd,U+98e0-98e6,U+98e9-98fa"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5a1ce3117cfe90c48e8fb4a9a00f694d.woff2",descriptors:{unicodeRange:"U+7c14-7c15,U+7c17-7c1e,U+7c20-7c25,U+7c28-7c29,U+7c2b-7c37,U+7c39-7c3e,U+7c42-7c4c,U+7c4e-7c72,U+7c75-7c7a,U+7c7e-7c88,U+7c8a-7c90,U+7c93-7c94,U+7c96,U+7c99-7c9b,U+7ca0-7ca1,U+7ca3,U+7ca6-7ca9,U+7cab-7cad,U+7caf-7cb0,U+7cb4-7cb8,U+7cba-7cbb,U+7cbf-7cc0,U+7cc2-7cc4,U+7cc6,U+7cc9,U+7ccb,U+7cce-7cd4"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-b7d203b051eff504ff59ddca7576b6a9.woff2",descriptors:{unicodeRange:"U+7d95-7da5,U+7da7-7dad,U+7daf-7e2a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4a38cc3e9cf104e69ba246d37f8cf135.woff2",descriptors:{unicodeRange:"U+4a78-4b0a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-982b630266d87db93d2539affb1275c6.woff2",descriptors:{unicodeRange:"U+9b30-9b31,U+9b33-9b3a,U+9b3d-9b40,U+9b46,U+9b4a-9b4c,U+9b4e,U+9b50,U+9b52-9b53,U+9b55-9bcf"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-9592bfc861f07bcb8d75c196b370e548.woff2",descriptors:{unicodeRange:"U+6a4b-6a4f,U+6a51-6a57,U+6a5a,U+6a5c-6a60,U+6a62-6a64,U+6a66-6a70,U+6a72-6a78,U+6a7a-6a7b,U+6a7d-6a7f,U+6a81-6a83,U+6a85-6a8d,U+6a8f,U+6a92-6a96,U+6a98-6a9f,U+6aa1-6aa8,U+6aaa,U+6aad-6aef"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a7accba310e821da5505f71c03b76bdb.woff2",descriptors:{unicodeRange:"U+99c9-9a53"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-dac48066b5883d8b4551fc584f0c2a3e.woff2",descriptors:{unicodeRange:"U+8550-8555,U+8557-8558,U+855a-855d,U+855f-8563,U+8565-8567,U+8569-8571,U+8573,U+8575-8578,U+857c-857d,U+857f-8583,U+8586,U+8588-858e,U+8590-859a,U+859d-85a3,U+85a5-85a7,U+85a9,U+85ab-85ad,U+85b1-85b6,U+85b8,U+85ba-85c0,U+85c2-85c8,U+85ca-85ce,U+85d1-85d2,U+85d4,U+85d6-85db,U+85dd-85e3,U+85e5-85e8,U+85ea-85fa,U+85fc-85fe,U+8600-8603"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-a1f916d6039285c4ffb900cd654e418f.woff2",descriptors:{unicodeRange:"U+6fb2,U+6fb4-6fb5,U+6fb7-6fb8,U+6fba-6fbf,U+6fc1,U+6fc3-6fc8,U+6fca-6fd0,U+6fd3-6fdd,U+6fdf,U+6fe2-6fed,U+6ff0-7010,U+7012-7019,U+701c-7022,U+7024-7034,U+7036-7038,U+703a-704b,U+704d-704e,U+7050-7053"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-95bfd249da4902577b4b7d76ebdd0b44.woff2",descriptors:{unicodeRange:"U+4ba1-4c2c"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-93fc8f28a33234bcadf1527cafabd502.woff2",descriptors:{unicodeRange:"U+9a54-9a6b,U+9a72,U+9a83,U+9a89,U+9a8d-9a8e,U+9a94-9a95,U+9a99,U+9aa6,U+9aa9-9aaf,U+9ab2-9ab5,U+9ab9,U+9abb,U+9abd-9abf,U+9ac3-9ac4,U+9ac6-9aca,U+9acd-9ad0,U+9ad2,U+9ad4-9ad7,U+9ad9-9ade,U+9ae0,U+9ae2-9ae5,U+9ae7-9aea,U+9aec,U+9aee,U+9af0-9af8,U+9afa,U+9afc-9b02,U+9b04-9b07,U+9b09-9b0e,U+9b10-9b12,U+9b14-9b1e,U+9b20-9b22,U+9b24-9b2e"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-903bb6865f3452e2fda42e3a25547bc5.woff2",descriptors:{unicodeRange:"U+9d1a-9da1"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-4aca6a43e59aceee2166b0c7e4e85ef1.woff2",descriptors:{unicodeRange:"U+9e13-9e1e,U+9e24,U+9e27,U+9e2e,U+9e30,U+9e34,U+9e3b-9e3c,U+9e40,U+9e4d,U+9e50,U+9e52-9e54,U+9e56,U+9e59,U+9e5d,U+9e5f-9e62,U+9e65,U+9e6e-9e6f,U+9e72,U+9e74-9e7d,U+9e80-9e81,U+9e83-9e86,U+9e89-9e8a,U+9e8c-9e91,U+9e94-9e9c,U+9e9e,U+9ea0-9ea5,U+9ea7-9eb3,U+9eb5-9eb7,U+9eb9-9eba,U+9ebc,U+9ebf-9ec3,U+9ec5-9ec8,U+9eca-9ecc,U+9ed0,U+9ed2-9ed3,U+9ed5-9ed7,U+9ed9-9eda,U+9ede,U+9ee1,U+9ee3-9ee4,U+9ee6,U+9ee8,U+9eeb-9eee,U+9ef0-9ef8"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-24476a126f129212beb33f66853ea151.woff2",descriptors:{unicodeRange:"U+8b1c-8b25,U+8b27-8b65,U+8b67-8b6b,U+8b6d-8b9f,U+8bac,U+8bb1,U+8bbb,U+8bc7,U+8bd0"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-1b611157cd46bb184d4fa4dae2d6a2b8.woff2",descriptors:{unicodeRange:"U+4cad-4d2f"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-56a32a7689abd0326e57c10c6c069bb4.woff2",descriptors:{unicodeRange:"U+9c4b-9c7b,U+9c7d-9c7e,U+9c80,U+9c83-9c84,U+9c89-9c8a,U+9c8c,U+9c8f,U+9c93,U+9c96-9c99,U+9c9d,U+9caa,U+9cac,U+9caf,U+9cb9,U+9cbe-9cc2,U+9cc8-9cc9,U+9cd1-9cd2,U+9cda-9cdb,U+9ce0-9ce1,U+9ce3-9d19"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-3cc70dbb64df5b21f1326cc24dee2195.woff2",descriptors:{unicodeRange:"U+9389-938e,U+9390-93c9,U+93cb-93d5,U+93d7-9410"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-f6032fc06eb20480f096199713f70885.woff2",descriptors:{unicodeRange:"U+20a0-20b5,U+20b9-20ba,U+20bc-20bd,U+4e2c,U+5107,U+5216,U+5293,U+54f3,U+5523,U+5819,U+5adc,U+5c88,U+5e3b,U+5fee,U+62f6,U+63be,U+6484,U+6499,U+67d9,U+67dd,U+6d5e,U+6f46,U+717a,U+71e0,U+72c1,U+73e7,U+75b0,U+7603,U+7722,U+7809,U+7811,U+7946,U+7967,U+799a,U+7b45,U+7ba2,U+8014,U+80d9,U+8159,U+817d,U+81a3,U+81aa,U+8201,U+833c,U+836e,U+83e5,U+8459,U+84f0,U+8729,U+8753,U+87d3,U+89dc,U+8bf6,U+8c2e,U+8e2c,U+8e9c,U+8e9e,U+8ece,U+8fee,U+9139,U+914f,U+9174,U+9191,U+960c,U+9622,U+9a98,U+9b48,U+9ca6,U+9cb0,U+9da2-9e12,U+9e88,U+9f44,U+9f86"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-e2ead7ea7da0437f085f42ffc05f8d13.woff2",descriptors:{unicodeRange:"U+9bd0-9c4a"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-97f7f48ce90c9429bf32ae51469db74d.woff2",descriptors:{unicodeRange:"U+4c2d-4cac"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-24a21c1e4449222e8d1898d69ff3a404.woff2",descriptors:{unicodeRange:"U+4d30-4dab"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-726303e0774b4e678bff8c2deb6ca603.woff2",descriptors:{unicodeRange:"U+9411-943d,U+943f-946a,U+946c-9484"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-5a7fac4b8b23a6e4e5ba0c9bf1756c91.woff2",descriptors:{unicodeRange:"U+9efa,U+9efd,U+9eff-9f0a,U+9f0c,U+9f0f,U+9f11-9f12,U+9f14-9f16,U+9f18,U+9f1a-9f1f,U+9f21,U+9f23-9f2b,U+9f2d-9f2e,U+9f30-9f36,U+9f38,U+9f3a,U+9f3c,U+9f3f-9f43,U+9f45-9f4f,U+9f52-9f7e,U+9f81-9f82,U+9f8d-9f94"}},{uri:"./fonts/Xiaolai/Xiaolai-Regular-2b7441d46298788ac94e610ffcc709b6.woff2",descriptors:{unicodeRange:"U+7e2b-7e3a,U+7e3c-7e40,U+7e42-7e46,U+7e48-7e81,U+7e83-7e9a,U+7e9c-7e9e,U+7eae,U+7eb4,U+7ebb-7ebc,U+7ed6,U+7ee4,U+7eec,U+7ef9,U+7f0a,U+7f10,U+7f1e,U+7f37,U+7f39,U+7f3b"}}],Ff=function(){function e(t){var n=this;(0,l.default)(this,e),(0,m.d)(this,"scene"),(0,m.d)(this,"getSceneFamilies",(function(){return e.getUniqueFamilies(n.scene.getNonDeletedElements())})),(0,m.d)(this,"onLoaded",(function(t){var r,a=!0,i=(0,d.default)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,l="".concat(o.family,"-").concat(o.style,"-").concat(o.weight,"-").concat(o.unicodeRange);e.loadedFontsCache.has(l)||(e.loadedFontsCache.add(l),a=!1)}}catch(Be){i.e(Be)}finally{i.f()}if(!a){var s,c=!1,u=n.scene.getNonDeletedElementsMap(),f=(0,d.default)(n.scene.getNonDeletedElements());try{for(f.s();!(s=f.n()).done;){var h=s.value;if(Ql(h)){c=!0,nc.delete(h),Ls.clearCache(Bo(h));var p=$U(h,u);p&&nc.delete(p)}}}catch(Be){f.e(Be)}finally{f.f()}c&&n.scene.triggerUpdate()}})),(0,m.d)(this,"loadSceneFonts",(0,u.default)((0,c.default)().mark((function t(){var r,a;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.getSceneFamilies(),a=e.getCharsPerFamily(n.scene.getNonDeletedElements()),t.abrupt("return",e.loadFontFaces(r,a));case 2:case"end":return t.stop()}}),t)})))),this.scene=t}return(0,s.default)(e,[{key:"registered",get:function(){return e.registered}}],[{key:"registered",get:function(){return e._registered?e._initialized||(e._registered=new Map([].concat((0,h.default)(e.init().entries()),(0,h.default)(e._registered.entries())))):e._registered=e.init(),e._registered}},{key:"generateFontFaceDeclarations",value:function(){var t=(0,u.default)((0,c.default)().mark((function t(n){var r,a,i,o,l,s,u;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getUniqueFamilies(n),a=e.getCharsPerFamily(n),i=r.find((function(e){return ba(e).includes(va)})),i&&(o=e.getCharacters(a,i),c=o,Nl||(Nl=Gs.class.apply(Gs,(0,h.default)(Object.values(Bs)))),Nl.test(c)&&(l=ga[va],a[l]=new Set(o),r.unshift(ga[va]))),s=e.fontFacesStylesGenerator(r,a),t.next=6,new Xl(s,3).all();case 6:return u=t.sent,t.abrupt("return",Array.from(new Set(u)));case 8:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadFontFaces",value:function(){var t=(0,u.default)((0,c.default)().mark((function t(n,r){var a,i,o,l,s,u,f,h;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(0,d.default)(e.registered.values());try{for(a.s();!(i=a.n()).done;)if(o=i.value,l=o.fontFaces,!o.metadata.local){s=(0,d.default)(l);try{for(s.s();!(u=s.n()).done;)f=u.value.fontFace,window.document.fonts.has(f)||window.document.fonts.add(f)}catch(Be){s.e(Be)}finally{s.f()}}}catch(Be){a.e(Be)}finally{a.f()}return h=e.fontFacesLoader(n,r),t.next=5,new Xl(h,10).all();case 5:return t.abrupt("return",t.sent.flat().filter(Boolean));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"fontFacesLoader",value:(0,c.default)().mark((function t(n,r){var a,i,o;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(0,d.default)(n.entries()),t.prev=1,o=(0,c.default)().mark((function t(){var n,a,o,l,s;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,f.default)(i.value,2),a=n[0],o=n[1],l=Bo({fontFamily:o,fontSize:16}),s=e.getCharacters(r,o),t.t0=window.document.fonts.check(l,s),t.t0){t.next=6;break}return t.next=6,Hl((0,u.default)((0,c.default)().mark((function t(){var n,r;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.document.fonts.load(l,s);case 3:return n=t.sent,t.abrupt("return",[a,n]);case 7:t.prev=7,t.t0=t.catch(0),console.error('Failed to load font "'.concat(l,'" from urls "').concat(null===(r=e.registered.get(o))||void 0===r?void 0:r.fontFaces.map((function(e){return e.urls})),'"'),t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))));case 6:case"end":return t.stop()}}),t)})),a.s();case 4:if((i=a.n()).done){t.next=8;break}return t.delegateYield(o(),"t0",6);case 6:t.next=4;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),a.e(t.t1);case 13:return t.prev=13,a.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))},{key:"fontFacesStylesGenerator",value:(0,c.default)().mark((function t(n,r){var a,i,o;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(0,d.default)(n.entries()),t.prev=1,o=(0,c.default)().mark((function t(){var n,a,o,l,s,h,p,v,U,m;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=(0,f.default)(i.value,2),o=a[0],l=a[1],s=null!==(n=e.registered.get(l))&&void 0!==n?n:{},h=s.fontFaces,p=s.metadata,Array.isArray(h)){t.next=5;break}return console.error("Couldn't find registered fonts for font-family \"".concat(l,'"'),e.registered),t.abrupt("return",1);case 5:if(null!==p&&void 0!==p&&p.local){t.next=22;break}v=(0,d.default)(h.entries()),t.prev=7,m=(0,c.default)().mark((function t(){var n,a,i;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,f.default)(U.value,2),a=n[0],i=n[1],t.next=3,Hl((0,u.default)((0,c.default)().mark((function t(){var n,s;return(0,c.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.getCharacters(r,l),t.next=4,i.toCSS(n);case 4:return s=t.sent,t.abrupt("return",s?[1e4*o+a,s]:void 0);case 8:t.prev=8,t.t0=t.catch(0),console.error("Couldn't transform font-face to css for family \"".concat(i.fontFace.family,'"'),t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))));case 3:case"end":return t.stop()}}),t)})),v.s();case 10:if((U=v.n()).done){t.next=14;break}return t.delegateYield(m(),"t0",12);case 12:t.next=10;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(7),v.e(t.t1);case 19:return t.prev=19,v.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[7,16,19,22]])})),a.s();case 4:if((i=a.n()).done){t.next=10;break}return t.delegateYield(o(),"t0",6);case 6:if(!t.t0){t.next=8;break}return t.abrupt("continue",8);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(1),a.e(t.t1);case 15:return t.prev=15,a.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))},{key:"register",value:function(e,t){for(var n,r=null!==(n=ma[e])&&void 0!==n?n:ga[e],a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];return this.registered.get(r)||this.registered.set(r,{metadata:t,fontFaces:i.map((function(t){var n=t.uri,r=t.descriptors;return new Cf(e,n,r)}))}),this.registered}},{key:"init",value:function(){var t={registered:new Map},n=function(n){for(var r,a,i,o=null!==(r=ma[n])&&void 0!==r?r:ga[n],l=null!==(a=tf[o])&&void 0!==a?a:tf[ma.Excalifont],s=arguments.length,c=new Array(s>1?s-1:0),u=1;u<s;u++)c[u-1]=arguments[u];(i=e.register).call.apply(i,[t,n,l].concat(c))};return n.apply(void 0,["Cascadia"].concat(If)),n.apply(void 0,["Comic Shanns"].concat(jf)),n.apply(void 0,["Excalifont"].concat(Af)),n.apply(void 0,["Helvetica"].concat(Df)),n.apply(void 0,["Liberation Sans"].concat(_f)),n.apply(void 0,["Lilita One"].concat(Lf)),n.apply(void 0,["Nunito"].concat(Rf)),n.apply(void 0,["Virgil"].concat(Pf)),n.apply(void 0,[va].concat(Nf)),n.apply(void 0,[Ua].concat(Tf)),e._initialized=!0,t.registered}},{key:"getUniqueFamilies",value:function(e){return Array.from(e.reduce((function(e,t){return Ql(t)&&e.add(t.fontFamily),e}),new Set))}},{key:"getCharsPerFamily",value:function(e){var t,n={},r=(0,d.default)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(Ql(a)){var i,o=(0,d.default)(a.originalText);try{for(o.s();!(i=o.n()).done;){var l=i.value;n[a.fontFamily]||(n[a.fontFamily]=new Set),n[a.fontFamily].add(l)}}catch(Be){o.e(Be)}finally{o.f()}}}}catch(Be){r.e(Be)}finally{r.f()}return n}},{key:"getCharacters",value:function(e,t){return e[t]?Array.from(e[t]).join(""):""}},{key:"getAllFamilies",value:function(){return Array.from(e.registered.keys())}}])}();(0,m.d)(Ff,"loadedFontsCache",new Set),(0,m.d)(Ff,"_registered"),(0,m.d)(Ff,"_initialized",!1),(0,m.d)(Ff,"loadElementsFonts",function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ff.getUniqueFamilies(t),r=Ff.getCharsPerFamily(t),e.abrupt("return",Ff.loadFontFaces(n,r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Of=Ff,zf=function(e,t,n){var r,a=(null===(r=Of.registered.get(e))||void 0===r?void 0:r.metadata.metrics)||tf[ma.Virgil].metrics,i=a.unitsPerEm,o=a.ascender,l=t/i;return l*o+(n-l*o+l*a.descender)/2},Bf=function(e){var t;return((null===(t=Of.registered.get(e))||void 0===t?void 0:t.metadata.metrics)||tf[ma.Excalifont].metrics).lineHeight},Hf=function(e){var t=e.angle,n=e.width,r=e.height,a=e.x,i=e.y,o=a+n/2,l=i+r/2,s=to(o,l);return{type:"polygon",data:"diamond"===e.type?So(oo(to(o,i),s,t),oo(to(a+n,l),s,t),oo(to(o,i+r),s,t),oo(to(a,l),s,t)):So(oo(to(a,i),s,t),oo(to(a+n,i),s,t),oo(to(a+n,i+r),s,t),oo(to(a,i+r),s,t))}},Wf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=_p(e,t,!0),a=(0,f.default)(r,6),i=a[0],o=a[1],l=a[2],s=a[3];i-=n,l+=n,o-=n,s+=n;var c=to(a[4],a[5]),u=oo(to(i,o),c,e.angle),d=oo(to(l,o),c,e.angle),h=oo(to(i,s),c,e.angle);return{type:"polygon",data:[u,d,oo(to(l,s),c,e.angle),h]}},Xf=function(e){if(!e)return[];var t,n=(0,d.default)(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(Be){n.e(Be)}finally{n.f()}return e.sets[0].ops},Vf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e){for(var t=e[0],n=[],r=1;r<e.length;r++){var a=e[r];n.push(vo(t,a)),t=a}return n}(e.points.map((function(n){return function(n){return oo(ro($i(Zi(n),Yi(e.x,e.y))),t,e.angle)}(n)})));return n?{type:"polygon",data:Mo(r.flat())}:{type:"polyline",data:r}},Gf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:to(0,0),r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=function(e){return oo(to(e[0]+n[0],e[1]+n[1]),a,r)};if(null===e.roundness)return{type:"polygon",data:Mo(e.points.map((function(e){return i(e)})))};var o,l=Xf(t),s=[],c=!1,u=(0,d.default)(l);try{for(u.s();!(o=u.n()).done;){var f=o.value;"move"===f.op?(c=!c)&&s.push(to(f.data[0],f.data[1])):"bcurveTo"===f.op?c&&(s.push(to(f.data[0],f.data[1])),s.push(to(f.data[2],f.data[3])),s.push(to(f.data[4],f.data[5]))):"lineTo"===f.op&&c&&s.push(to(f.data[0],f.data[1]))}}catch(Be){u.e(Be)}finally{u.f()}var h=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],a=(e.length-1)/3,i=0;i<a;i++)tr(e,3*i,t,r);return n&&n>0?nr(r,0,r.length,n):r}(s,10,5).map((function(e){return i(e)}));return{type:"polygon",data:Mo(h)}},Yf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return function(e,t){for(var n=t.angle,r=t.halfWidth,a=t.halfHeight,i=t.center,o=r,l=a,s=oo(ro($i(Zi(e),Ji(Zi(i),-1))),to(0,0),-n),c=(0,f.default)(s,2),u=c[0],d=c[1],h=Math.abs(u),p=Math.abs(d),v=.707,U=.707,m=0;m<3;m++){var g=o*v,b=l*U,y=(o*o-l*l)*Math.pow(v,3)/o,x=(l*l-o*o)*Math.pow(U,3)/l,w=g-y,E=b-x,k=h-y,S=p-x,M=Math.hypot(E,w),C=Math.hypot(S,k);v=Math.min(1,Math.max(0,(k*M/C+y)/o)),U=Math.min(1,Math.max(0,(S*M/C+x)/l));var I=Math.hypot(U,v);v/=I,U/=I}var j=o*v*Math.sign(u),T=l*U*Math.sign(d);return co(to(u,d),to(j,T))}(e,t)<=n},Zf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t.type){case"polygon":return function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4,r=!1,a=0,i=t.length-1;a<i;a++)if(Uo(e,vo(t[a],t[a+1]),n)){r=!0;break}return r}(e,t.data,n);case"ellipse":return Yf(e,t.data,n);case"line":return Uo(e,t.data,n);case"polyline":return Jf(e,t.data,n);case"curve":return Qf(e,t.data,n);case"polycurve":return qf(e,t.data,n);default:throw Error("shape ".concat(t," is not implemented"))}},Kf=function(e,t){switch(t.type){case"polygon":return Co(e,t.data);case"line":case"curve":case"polycurve":return!1;case"ellipse":return function(e,t){var n=t.center,r=t.angle,a=t.halfWidth,i=t.halfHeight,o=oo(ro($i(Zi(e),Ji(Zi(n),-1))),to(0,0),-r),l=(0,f.default)(o,2),s=l[0],c=l[1];return s/a*(s/a)+c/i*(c/i)<=1}(e,t.data);case"polyline":var n=Mo(t.data.flat());return Co(e,n);default:throw Error("shape ".concat(t," is not implemented"))}},qf=function(e,t,n){return t.some((function(t){return Qf(e,t,n)}))},$f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=function(e){var t=(0,f.default)(e,4),n=t[0],r=t[1],a=t[2],i=t[3];return function(e,t){return Math.pow(1-e,3)*i[t]+3*e*Math.pow(1-e,2)*a[t]+3*Math.pow(e,2)*(1-e)*r[t]+n[t]*Math.pow(e,3)}}(e),r=[n(0,0),n(0,1)],a=[],i=0,o=1/t,l=0;l<t;l++)if((i+=o)<=1){var s=to(n(i,0),n(i,1));a.push(vo(r,s)),r=s}return a},Qf=function(e,t,n){return Jf(e,$f(t),n)},Jf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return t.some((function(t){return Uo(e,t,n)}))};function eh(e,t,n){return{center:e,halfWidth:t,halfHeight:n}}function th(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=jh(Math.min(e.width,e.height),e);if(n<=0){var r=bo(to(e.x-t,e.y-t),to(e.x+e.width+t,e.y+e.height+t));return[[vo(to(r[0][0]+n,r[0][1]),to(r[1][0]-n,r[0][1])),vo(to(r[1][0],r[0][1]+n),to(r[1][0],r[1][1]-n)),vo(to(r[0][0]+n,r[1][1]),to(r[1][0]-n,r[1][1])),vo(to(r[0][0],r[1][1]-n),to(r[0][0],r[0][1]+n))],[]]}var a=to(e.x+e.width/2,e.y+e.height/2),i=bo(to(e.x,e.y),to(e.x+e.width,e.y+e.height)),o=vo(to(i[0][0]+n,i[0][1]),to(i[1][0]-n,i[0][1])),l=vo(to(i[1][0],i[0][1]+n),to(i[1][0],i[1][1]-n)),s=vo(to(i[0][0]+n,i[1][1]),to(i[1][0]-n,i[1][1])),c=vo(to(i[0][0],i[1][1]-n),to(i[0][0],i[0][1]+n)),u=[Ji(eo(Zi(to(i[0][0]-t,i[0][1]-t),a)),t),Ji(eo(Zi(to(i[1][0]+t,i[0][1]-t),a)),t),Ji(eo(Zi(to(i[1][0]+t,i[1][1]+t),a)),t),Ji(eo(Zi(to(i[0][0]-t,i[1][1]+t),a)),t)],d=[yo(ro(u[0],c[1]),ro(u[0],to(c[1][0]+2/3*(i[0][0]-c[1][0]),c[1][1]+2/3*(i[0][1]-c[1][1]))),ro(u[0],to(o[0][0]+2/3*(i[0][0]-o[0][0]),o[0][1]+2/3*(i[0][1]-o[0][1]))),ro(u[0],o[0])),yo(ro(u[1],o[1]),ro(u[1],to(o[1][0]+2/3*(i[1][0]-o[1][0]),o[1][1]+2/3*(i[0][1]-o[1][1]))),ro(u[1],to(l[0][0]+2/3*(i[1][0]-l[0][0]),l[0][1]+2/3*(i[0][1]-l[0][1]))),ro(u[1],l[0])),yo(ro(u[2],l[1]),ro(u[2],to(l[1][0]+2/3*(i[1][0]-l[1][0]),l[1][1]+2/3*(i[1][1]-l[1][1]))),ro(u[2],to(s[1][0]+2/3*(i[1][0]-s[1][0]),s[1][1]+2/3*(i[1][1]-s[1][1]))),ro(u[2],s[1])),yo(ro(u[3],s[0]),ro(u[3],to(s[0][0]+2/3*(i[0][0]-s[0][0]),s[0][1]+2/3*(i[1][1]-s[0][1]))),ro(u[3],to(c[0][0]+2/3*(i[0][0]-c[0][0]),c[0][1]+2/3*(i[1][1]-c[0][1]))),ro(u[3],c[0]))];return[[vo(d[0][3],d[1][0]),vo(d[1][3],d[2][0]),vo(d[2][3],d[3][0]),vo(d[3][3],d[0][0])],d]}function nh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Rp(e),a=(0,f.default)(r,8),i=a[0],o=a[1],l=a[2],s=a[3],c=a[4],u=a[5],d=a[6],h=a[7],p=jh(Math.abs(i-d),e),v=jh(Math.abs(s-o),e);if(null==(null===(t=e.roundness)||void 0===t?void 0:t.type)){var U=[to(e.x+i,e.y+o-n),to(e.x+l+n,e.y+s),to(e.x+c,e.y+u+n),to(e.x+d-n,e.y+h)],m=U[0],g=U[1],b=U[2],y=U[3];return[[vo(to(m[0]+p,m[1]+v),to(g[0]-p,g[1]-v)),vo(to(g[0]-p,g[1]+v),to(b[0]+p,b[1]-v)),vo(to(b[0]-p,b[1]-v),to(y[0]+p,y[1]+v)),vo(to(y[0]+p,y[1]-v),to(m[0]-p,m[1]+v))],[]]}var x=to(e.x+e.width/2,e.y+e.height/2),w=[to(e.x+i,e.y+o),to(e.x+l,e.y+s),to(e.x+c,e.y+u),to(e.x+d,e.y+h)],E=w[0],k=w[1],S=w[2],M=w[3],C=[Ji(eo(Zi(k,x)),n),Ji(eo(Zi(S,x)),n),Ji(eo(Zi(M,x)),n),Ji(eo(Zi(E,x)),n)],I=[yo(ro(C[0],to(k[0]-p,k[1]-v)),ro(C[0],k),ro(C[0],k),ro(C[0],to(k[0]-p,k[1]+v))),yo(ro(C[1],to(S[0]+p,S[1]-v)),ro(C[1],S),ro(C[1],S),ro(C[1],to(S[0]-p,S[1]-v))),yo(ro(C[2],to(M[0]+p,M[1]+v)),ro(C[2],M),ro(C[2],M),ro(C[2],to(M[0]+p,M[1]-v))),yo(ro(C[3],to(E[0]-p,E[1]+v)),ro(C[3],E),ro(C[3],E),ro(C[3],to(E[0]+p,E[1]+v)))];return[[vo(I[0][3],I[1][0]),vo(I[1][3],I[2][0]),vo(I[2][3],I[3][0]),vo(I[3][3],I[0][0])],I]}var rh=function(e){if("arrow"===e.type)return!1;var t=!ol(e.backgroundColor)||ps(e)||$l(e)||Ql(e);return"line"===e.type||"freedraw"===e.type?t&&Th(e.points):t||Zl(e)},ah=function(e){var t=e.x,n=e.y,r=e.element,a=e.shape,i=e.threshold,o=void 0===i?10:i,l=e.frameNameBound,s=void 0===l?null:l,c=rh(r)&&Kf(to(t,n),a)||Zf(to(t,n),a,o);return!c&&s&&(c=Kf(to(t,n),{type:"polygon",data:Hf(s).data})),c},ih=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=Wp(n,r),o=(0,f.default)(i,4),l=o[0],s=o[1],c=o[2],u=o[3];return c+=a,u+=a,ho(to(l-=a,s-=a),to(e,t),to(c,u))},oh=function(e,t){return!ah(e)&&!lh(e.x,e.y,Eh(e.element,t))&&ih(e.x,e.y,e.element,t)},lh=function(e,t,n){return!!n&&Kf(to(e,t),n)},sh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e.type){case"rectangle":case"image":case"text":case"iframe":case"embeddable":case"frame":case"magicframe":return ch(e,t,n);case"diamond":return uh(e,t,n);case"ellipse":return dh(e,t,n);default:throw new Error("Unimplemented element type '".concat(e.type,"'"))}},ch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=to(e.x+e.width/2,e.y+e.height/2),a=oo(t[0],r,-e.angle),i=oo(t[1],r,-e.angle),o=th(e,n),l=(0,f.default)(o,2),s=l[0],c=l[1];return[].concat((0,h.default)(s.map((function(e){return go(vo(a,i),e)})).filter((function(e){return null!=e})).map((function(t){return oo(t,r,e.angle)}))),(0,h.default)(c.flatMap((function(e){return Eo(e,vo(a,i))})).filter((function(e){return null!=e})).map((function(t){return oo(t,r,e.angle)})))).filter((function(e,t,n){return n.findIndex((function(t){return io(e,t)}))===t}))},uh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=to(e.x+e.width/2,e.y+e.height/2),a=oo(t[0],r,-e.angle),i=oo(t[1],r,-e.angle),o=nh(e,n),l=(0,f.default)(o,2),s=l[0],c=l[1];return[].concat((0,h.default)(s.map((function(e){return go(vo(a,i),e)})).filter((function(e){return null!=e})).map((function(t){return oo(t,r,e.angle)}))),(0,h.default)(c.flatMap((function(e){return Eo(e,vo(a,i))})).filter((function(e){return null!=e})).map((function(t){return oo(t,r,e.angle)})))).filter((function(e,t,n){return n.findIndex((function(t){return io(e,t)}))===t}))},dh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=to(e.x+e.width/2,e.y+e.height/2),a=oo(t[0],r,-e.angle),i=oo(t[1],r,-e.angle);return function(e,t){var n=e.center,r=e.halfWidth,a=e.halfHeight,i=(0,f.default)(t,2),o=i[0],l=i[1],s=(0,f.default)(n,2),c=s[0],u=s[1],d=o[0]-c,h=o[1]-u,p=l[0]-c,v=l[1]-u,U=Math.pow(p-d,2)/Math.pow(r,2)+Math.pow(v-h,2)/Math.pow(a,2),m=2*(d*(p-d)/Math.pow(r,2)+h*(v-h)/Math.pow(a,2)),g=Math.pow(d,2)/Math.pow(r,2)+Math.pow(h,2)/Math.pow(a,2)-1,b=(-m+Math.sqrt(Math.pow(m,2)-4*U*g))/(2*U),y=(-m-Math.sqrt(Math.pow(m,2)-4*U*g))/(2*U),x=[to(d+b*(p-d)+c,h+b*(v-h)+u),to(d+y*(p-d)+c,h+y*(v-h)+u)].filter((function(e){return!isNaN(e[0])&&!isNaN(e[1])}));return 2===x.length&&io(x[0],x[1])?[x[0]]:x}(eh(r,e.width/2+n,e.height/2+n),po(a,i)).map((function(t){return oo(t,r,e.angle)}))},fh={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",Y:"KeyY",R:"KeyR",S:"KeyS"},hh={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:Yr?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",SLASH:"/",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},ph=new Map([[hh.Z,fh.Z],[hh.Y,fh.Y]]),vh=function(e,t){if(t===e.key.toLowerCase())return!0;var n=ph.get(t);return!(!n||function(e){return/^[a-z]$/.test(e.toLowerCase())}(e.key)||e.code!==n)},Uh=function(e){return e===hh.ARROW_LEFT||e===hh.ARROW_RIGHT||e===hh.ARROW_DOWN||e===hh.ARROW_UP},mh=function(e){return e.altKey},gh=function(e){return e.shiftKey},bh=function(e){return e.shiftKey},yh=[{icon:Uc,value:"selection",key:hh.V,numericKey:hh[1],fillable:!0},{icon:mc,value:"rectangle",key:hh.R,numericKey:hh[2],fillable:!0},{icon:gc,value:"diamond",key:hh.D,numericKey:hh[3],fillable:!0},{icon:bc,value:"ellipse",key:hh.O,numericKey:hh[4],fillable:!0},{icon:yc,value:"arrow",key:hh.A,numericKey:hh[5],fillable:!0},{icon:xc,value:"line",key:hh.L,numericKey:hh[6],fillable:!0},{icon:Ec,value:"freedraw",key:[hh.P,hh.X],numericKey:hh[7],fillable:!1},{icon:kc,value:"text",key:hh.T,numericKey:hh[8],fillable:!1},{icon:Sc,value:"image",key:null,numericKey:hh[9],fillable:!1},{icon:Mc,value:"eraser",key:hh.E,numericKey:hh[0],fillable:!1}],xh=function(e){var t;return(null===(t=yh.find((function(t,n){return null!=t.numericKey&&e===t.numericKey.toString()||t.key&&("string"==typeof t.key?t.key===e:t.key.includes(e))})))||void 0===t?void 0:t.value)||null},wh=function(e,t){switch(e.type){case"rectangle":case"diamond":case"frame":case"magicframe":case"embeddable":case"image":case"iframe":case"text":case"selection":return Hf(e);case"arrow":case"line":var n,r,a=null!==(n=null===(r=nc.get(e))||void 0===r?void 0:r[0])&&void 0!==n?n:nc.generateElementShape(e,null)[0],i=_p(e,t),o=(0,f.default)(i,6),l=o[4],s=o[5];return rh(e)?Gf(e,a,to(e.x,e.y),e.angle,to(l,s)):function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:to(0,0),r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=function(e){return oo(to(e[0]+n[0],e[1]+n[1]),a,r)},o=Xf(e),l=[],s=to(0,0),c=(0,d.default)(o);try{for(c.s();!(t=c.n()).done;){var u=t.value;if("move"===u.op){var f=no(u.data);jl(null!=f,"Ops data is not a point"),s=i(f)}if("bcurveTo"===u.op){var h=i(to(u.data[0],u.data[1])),p=i(to(u.data[2],u.data[3])),v=i(to(u.data[4],u.data[5]));l.push(yo(s,h,p,v)),s=v}}}catch(Be){c.e(Be)}finally{c.f()}return{type:"polycurve",data:l}}(a,to(e.x,e.y),e.angle,to(l,s));case"ellipse":return function(e){var t=e.width,n=e.height,r=e.angle;return{type:"ellipse",data:{center:to(e.x+t/2,e.y+n/2),angle:r,halfWidth:t/2,halfHeight:n/2}}}(e);case"freedraw":var c=_p(e,t),u=(0,f.default)(c,6),h=u[4],p=u[5];return Vf(e,to(h,p),rh(e))}},Eh=function(e,t){var n=qU(e,t);return n?"arrow"===e.type?wh((0,v.default)((0,v.default)({},n),OU.getBoundTextElementPosition(e,n,t)),t):wh(n,t):null},kh=function(e,t){var n=nc.generateElementShape(e,null);if(!n)return null;for(var r=Xf(n[0]),a=to(0,0),i=0,o=1/0,l=null;i<r.length;){var s=r[i],c=s.op,u=s.data;if("move"===c&&(jl(ao(u),"The returned ops is not compatible with a point"),a=u),"bcurveTo"===c){var d=a,f=to(u[0],u[1]),h=to(u[2],u[3]),p=to(u[4],u[5]),v=co(p,t);v<o&&(o=v,l=[d,f,h,p]),a=p}i++}return l},Sh=function(e,t,n,r,a){var i=function(a,i){return Math.pow(1-a,3)*r[i]+3*a*Math.pow(1-a,2)*n[i]+3*Math.pow(a,2)*(1-a)*t[i]+e[i]*Math.pow(a,3)};return to(i(a,0),i(a,1))},Mh=function(e,t){var n=[];n[0]=0;for(var r=function(e,t){var n=kh(e,t);if(!n)return[];for(var r=[],a=1;a>0;){var i=Sh(n[0],n[1],n[2],n[3],a);r.push(to(i[0],i[1])),a-=.05}return r.length&&io(r.at(-1),t)&&r.push(to(t[0],t[1])),r}(e,t),a=0,i=0;a<r.length-1;){i+=co(r[a],r[a+1]),n.push(i),a++}return n},Ch=function(e,t){var n={minX:e.x,minY:e.y,maxX:e.x+e.width,maxY:e.y+e.height,midX:e.x+e.width/2,midY:e.y+e.height/2},r=to(n.midX,n.midY),a=oo(to(n.minX,n.minY),r,e.angle),i=(0,f.default)(a,2),o=i[0],l=i[1],s=oo(to(n.maxX,n.minY),r,e.angle),c=(0,f.default)(s,2),u=c[0],d=c[1],h=oo(to(n.maxX,n.maxY),r,e.angle),p=(0,f.default)(h,2),v=p[0],U=p[1],m=oo(to(n.minX,n.maxY),r,e.angle),g=(0,f.default)(m,2),b=g[0],y=g[1],x=[Math.min(o,u,v,b),Math.min(l,d,U,y),Math.max(o,u,v,b),Math.max(l,d,U,y)];if(t){var w=(0,f.default)(t,4),E=w[0],k=w[1],S=w[2],M=w[3];return[x[0]-M,x[1]-E,x[2]+k,x[3]+S]}return x},Ih=function(e,t){return e[0]>t[0]&&e[0]<t[2]&&e[1]>t[1]&&e[1]<t[3]},jh=function(e,t){var n,r,a;if((null===(n=t.roundness)||void 0===n?void 0:n.type)===di.PROPORTIONAL_RADIUS||(null===(r=t.roundness)||void 0===r?void 0:r.type)===di.LEGACY)return e*ui;if((null===(a=t.roundness)||void 0===a?void 0:a.type)===di.ADAPTIVE_RADIUS){var i,o,l=null!==(i=null===(o=t.roundness)||void 0===o?void 0:o.value)&&void 0!==i?i:32;return e<=l/ui?e*ui:l}return 0},Th=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]];return co(n[0],n[1])<=ra/t}return!1},Ah=10,Dh=function(e,t,n,r,a,i,o){var l,s,c,u,d,f=Lh(e),h=f.width,p=f.height,v=n/h,U=r/p,m=(null!==(l=null===(s=e.crop)||void 0===s?void 0:s.x)&&void 0!==l?l:0)/v,g=(null!==(c=null===(u=e.crop)||void 0===u?void 0:u.y)&&void 0!==c?c:0)/U,b=oo(to(a,i),to(e.x+e.width/2,e.y+e.height/2),-e.angle);a=b[0],i=b[1];var y=e.width,x=e.height,w=null!==(d=e.crop)&&void 0!==d?d:{x:0,y:0,width:n,height:r,naturalWidth:n,naturalHeight:r},E=w.height,k=w.width,S=-1===e.scale[0],M=-1===e.scale[1],C=i-e.y,I=a-e.x;t.includes("n")&&(x=Fi(e.height-C,Ah,M?p-g:e.height+g)),t.includes("s")&&(C=i-e.y-e.height,x=Fi(e.height+C,Ah,M?e.height+g:p-g)),t.includes("e")&&(I=a-e.x-e.width,y=Fi(e.width+I,Ah,S?e.width+m:h-m)),t.includes("w")&&(y=Fi(e.width-I,Ah,S?h-m:e.width+m));var j=function(e){e.height=x*U,e.width=y*v};j(w);var T=function(e,t){j(t),e.includes("n")&&(M||(t.y+=E-t.height)),e.includes("s")&&M&&(t.y+=E-t.height),e.includes("e")&&S&&(t.x+=k-t.width),e.includes("w")&&(S||(t.x+=k-t.width))};switch(t){case"n":if(o){var A=m+e.width/2,D=h-m-e.width/2,_=2*Math.min(A,D);y=Fi(x*o,Ah,_),x=y/o}T(t,w),o&&(w.x+=(k-w.width)/2);break;case"s":if(o){var L=m+e.width/2,R=h-m-e.width/2,P=2*Math.min(L,R);y=Fi(x*o,Ah,P),x=y/o}T(t,w),o&&(w.x+=(k-w.width)/2);break;case"w":if(o){var N=g+e.height/2,F=p-g-e.height/2,O=2*Math.min(N,F);x=Fi(y/o,Ah,O),y=x*o}T(t,w),o&&(w.y+=(E-w.height)/2);break;case"e":if(o){var z=g+e.height/2,B=p-g-e.height/2,H=2*Math.min(z,B);x=Fi(y/o,Ah,H),y=x*o}T(t,w),o&&(w.y+=(E-w.height)/2);break;case"ne":if(o)if(I>-C){var W=M?p-g:g+e.height;x=Fi(y/o,Ah,W),y=x*o}else{var X=S?m+e.width:h-m;y=Fi(x*o,Ah,X),x=y/o}T(t,w);break;case"nw":if(o)if(I<C){var V=M?p-g:g+e.height;x=Fi(y/o,Ah,V),y=x*o}else{var G=S?h-m:m+e.width;y=Fi(x*o,Ah,G),x=y/o}T(t,w);break;case"se":if(o)if(I>C){var Y=M?g+e.height:p-g;x=Fi(y/o,Ah,Y),y=x*o}else{var Z=S?m+e.width:h-m;y=Fi(x*o,Ah,Z),x=y/o}T(t,w);break;case"sw":if(o)if(-I>C){var K=M?g+e.height:p-g;x=Fi(y/o,Ah,K),y=x*o}else{var q=S?h-m:m+e.width;y=Fi(x*o,Ah,q),x=y/o}T(t,w)}var $=_h(e,t,y,x,!!o);return Wi(w.width,w.naturalWidth)&&Wi(w.height,w.naturalHeight)&&(w=null),{x:$[0],y:$[1],width:y,height:x,crop:w}},_h=function(e,t,n,r,a){var i=Gp(e,e.width,e.height,!0),o=(0,f.default)(i,4),l=o[0],s=o[1],c=o[2],u=o[3],d=to(l,s),p=to(c,u),v=so(d,p),U=Gp(e,n,r,!0),m=(0,f.default)(U,4),g=m[0],b=m[1],y=m[2]-g,x=m[3]-b,w=(0,h.default)(d);if(["n","w","nw"].includes(t)&&(w=[p[0]-Math.abs(y),p[1]-Math.abs(x)]),"ne"===t){var E=[d[0],p[1]];w=[E[0],E[1]-Math.abs(x)]}if("sw"===t){var k=[p[0],d[1]];w=[k[0]-Math.abs(y),k[1]]}a&&(["s","n"].includes(t)&&(w[0]=v[0]-y/2),["e","w"].includes(t)&&(w[1]=v[1]-x/2));var S=e.angle,M=oo(w,v,S),C=oo([w[0]+Math.abs(y)/2,w[1]+Math.abs(x)/2],v,S);w=oo(M,C,-S);var I=(0,h.default)(w);return I[0]+=e.x-g,I[1]+=e.y-b,I},Lh=function(e){return e.crop?{width:e.width/(e.crop.width/e.crop.naturalWidth),height:e.height/(e.crop.height/e.crop.naturalHeight)}:{width:e.width,height:e.height}},Rh=function(e,t){var n=e.x,r=e.y,a=-1===t[0],i=-1===t[1];return a&&(n=e.naturalWidth-Math.abs(n)-e.width),i&&(r=e.naturalHeight-Math.abs(r)-e.height),{cropX:n,cropY:r}},Ph=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.crop;if(!n)return null;var r=-1===e.scale[0],a=-1===e.scale[1],i=n.x,o=n.y;if(r&&(i=n.naturalWidth-n.width-n.x),a&&(o=n.naturalHeight-n.height-n.y),t)return{x:i,y:o};var l=Lh(e),s=l.width,c=l.height;return{x:i/(n.naturalWidth/s),y:o/(n.naturalHeight/c)}},Nh="invert(100%) hue-rotate(180deg) saturate(1.25)",Fh=Ai(),Oh=function(e,t){return Yl(e)&&!t.imageCache.has(e.fileId)},zh=function(e,t,n){var r;return n.theme===ya.DARK&&Yl(e)&&!Oh(e,t)&&(null===(r=t.imageCache.get(e.fileId))||void 0===r?void 0:r.mimeType)!==La.svg},Bh=function(e){switch(e.type){case"freedraw":return 12*e.strokeWidth;case"text":return e.fontSize/2;default:return 20}},Hh=function(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=(null!==(a=null===t||void 0===t?void 0:t.opacity)&&void 0!==a?a:100)*e.opacity/1e4*i;return(n.has(e.id)||r&&r.some((function(t){return t.id===e.id}))||t&&n.has(t.id))&&(o*=.2),o},Wh=function(e,t,n,r,a){var i,o,l=document.createElement("canvas"),s=l.getContext("2d"),c=Bh(e),u=function(e,t,n){var r=Bh(e),a=_p(e,t),i=(0,f.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],u=as(e)||ns(e)?Zo(o,s):e.width,d=as(e)||ns(e)?Zo(l,c):e.height,h=u*window.devicePixelRatio+2*r,p=d*window.devicePixelRatio+2*r,v=n.value;return(h*v>32767||p*v>32767)&&(v=Math.min(32767/h,32767/p)),h*p*v*v>16777216&&(v=Math.sqrt(16777216/(h*p))),{width:h=Math.floor(h*v),height:p=Math.floor(p*v),scale:v}}(e,t,n),d=u.width,h=u.height,p=u.scale;if(!d||!h)return null;l.width=d,l.height=h;var v=-100,U=0;if(as(e)||ns(e)){var m=_p(e,t),g=(0,f.default)(m,2),b=g[0],y=g[1];v=e.x>b?Zo(e.x,b)*window.devicePixelRatio*p:0,U=e.y>y?Zo(e.y,y)*window.devicePixelRatio*p:0,s.translate(v,U)}s.save(),s.translate(c*p,c*p),s.scale(window.devicePixelRatio*p,window.devicePixelRatio*p);var x=Tn.A.canvas(l);zh(e,r,a)&&(s.filter=Nh),Gh(e,x,s,r,a),s.restore();var w=qU(e,t),E=document.createElement("canvas"),k=E.getContext("2d");if(is(e)&&w){var S=_p(e,t),M=(0,f.default)(S,4),C=M[0],I=M[1],j=M[2],T=M[3],A=Math.max(Zo(C,j),Zo(I,T));E.width=A*window.devicePixelRatio*p+c*p*10,E.height=A*window.devicePixelRatio*p+c*p*10,k.translate(E.width/2,E.height/2),k.rotate(e.angle),k.drawImage(l,-l.width/2,-l.height/2,l.width,l.height);var D=_p(w,t),_=(0,f.default)(D,6),L=_[4],R=_[5];k.rotate(-e.angle);var P=(E.width-l.width)/2,N=(E.height-l.height)/2,F=E.width/2-(L-C)*window.devicePixelRatio*p-P-c*p,O=E.height/2-(R-I)*window.devicePixelRatio*p-N-c*p;k.translate(-F,-O),k.clearRect(-(w.width/2+li)*window.devicePixelRatio*p,-(w.height/2+li)*window.devicePixelRatio*p,(w.width+2*li)*window.devicePixelRatio*p,(w.height+2*li)*window.devicePixelRatio*p)}return{element:e,canvas:l,theme:a.theme,scale:p,zoomValue:n.value,canvasOffsetX:v,canvasOffsetY:U,boundTextElementVersion:(null===(i=qU(e,t))||void 0===i?void 0:i.version)||null,containingFrameOpacity:(null===(o=Ux(e,t))||void 0===o?void 0:o.opacity)||100,boundTextCanvas:E,angle:e.angle,imageCrop:Zl(e)?e.crop:null}},Xh=document.createElement("img");Xh.src="data:".concat(La.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var Vh=document.createElement("img");Vh.src="data:".concat(La.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var Gh=function(e,t,n,r,a){switch(e.type){case"rectangle":case"iframe":case"embeddable":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(nc.get(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",nc.get(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var i=function(e){return Qh.get(e)}(e),o=nc.get(e);o&&t.draw(o),n.fillStyle=e.strokeColor,n.fill(i),n.restore();break;case"image":var l,s=Yl(e)?null===(l=r.imageCache.get(e.fileId))||void 0===l?void 0:l.image:void 0;if(null==s||s instanceof Promise)!function(e,t){t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);var n=Math.min(e.width,e.height),r=Math.min(n,Math.min(.4*n,100));t.drawImage("error"===e.status?Vh:Xh,e.width/2-r/2,e.height/2-r/2,r,r)}(e,n);else{e.roundness&&n.roundRect&&(n.beginPath(),n.roundRect(0,0,e.width,e.height,jh(Math.min(e.width,e.height),e)),n.clip());var c=e.crop?e.crop:{x:0,y:0,width:s.naturalWidth,height:s.naturalHeight},u=c.x,d=c.y,f=c.width,h=c.height;n.drawImage(s,u,d,f,h,0,0,e.width,e.height)}break;default:if(!Ql(e))throw new Error("Unimplemented type ".concat(e.type));var p=tl(e.text),v=p&&!n.canvas.isConnected;v&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",p?"rtl":"ltr"),n.save(),n.font=Bo(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;for(var U=e.text.replace(/\r\n?/g,"\n").split("\n"),m="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,g=Is(e.fontSize,e.lineHeight),b=zf(e.fontFamily,e.fontSize,g),y=0;y<U.length;y++)n.fillText(U[y],m,y*g+b);n.restore(),v&&n.canvas.remove()}},Yh=new WeakMap,Zh=function(e,t,n,r){var a,i=n?r.zoom:Fh.zoom,o=Yh.get(e),l=o&&o.zoomValue!==i.value&&!(null!==r&&void 0!==r&&r.shouldCacheIgnoreZoom),s=qU(e,t),c=(null===s||void 0===s?void 0:s.version)||null,u=Zl(e)?e.crop:null,d=(null===(a=Ux(e,t))||void 0===a?void 0:a.opacity)||100;if(!o||l||o.theme!==r.theme||o.boundTextElementVersion!==c||o.imageCrop!==u||o.containingFrameOpacity!==d||is(e)&&s&&e.angle!==o.angle){var f=Wh(e,t,i,n,r);return f?(Yh.set(e,f),f):null}return o},Kh=function(e,t,n,r,a){var i=e.element,o=Bh(i),l=e.scale,s=_p(i,a),c=(0,f.default)(s,4),u=c[0],d=c[1],h=c[2],p=c[3],v=((u+h)/2+r.scrollX)*window.devicePixelRatio,m=((d+p)/2+r.scrollY)*window.devicePixelRatio;t.save(),t.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var g=qU(i,a);if(is(i)&&g){var b=(e.boundTextCanvas.width-e.canvas.width)/2,y=(e.boundTextCanvas.height-e.canvas.height)/2;t.translate(v,m),t.drawImage(e.boundTextCanvas,-(h-u)/2*window.devicePixelRatio-b/l-o,-(p-d)/2*window.devicePixelRatio-y/l-o,e.boundTextCanvas.width/l,e.boundTextCanvas.height/l)}else if(t.translate(v,m),t.rotate(i.angle),"scale"in e.element&&!Oh(i,n)&&t.scale(e.element.scale[0],e.element.scale[1]),t.translate(-v,-m),t.drawImage(e.canvas,(u+r.scrollX)*window.devicePixelRatio-o*e.scale/e.scale,(d+r.scrollY)*window.devicePixelRatio-o*e.scale/e.scale,e.canvas.width/e.scale,e.canvas.height/e.scale),"true"===U.a.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX&&ps(i)){var x=qU(i,a),w=JU(i);t.strokeStyle="#c92a2a",t.lineWidth=3,t.strokeRect((w.x+r.scrollX)*window.devicePixelRatio,(w.y+r.scrollY)*window.devicePixelRatio,om(i,x)*window.devicePixelRatio,lm(i,x)*window.devicePixelRatio)}t.restore()},qh=function(e,t,n,r){t.save(),t.translate(e.x+n.scrollX,e.y+n.scrollY),t.fillStyle="rgba(0, 0, 200, 0.04)";var a=.5/n.zoom.value;t.fillRect(a,a,e.width,e.height),t.lineWidth=1/n.zoom.value,t.strokeStyle=r,t.strokeRect(a,a,e.width,e.height),t.restore()},$h=function(e,t,n,r,a,i,o){var l,s="elementLinkSelector"===(null===(l=o.openDialog)||void 0===l?void 0:l.name)&&!o.selectedElementIds[e.id]&&!o.hoveredElementIds[e.id];switch(a.globalAlpha=Hh(e,Ux(e,t),i.elementsPendingErasure,i.pendingFlowchartNodes,s?Mi:1),e.type){case"magicframe":case"frame":o.frameRendering.enabled&&o.frameRendering.outline&&(a.save(),a.translate(e.x+o.scrollX,e.y+o.scrollY),a.fillStyle="rgba(0, 0, 200, 0.04)",a.lineWidth=xa.strokeWidth/o.zoom.value,a.strokeStyle=xa.strokeColor,es(e)&&(a.strokeStyle=o.theme===ya.LIGHT?"#7affd7":"#1d8264"),xa.radius&&a.roundRect?(a.beginPath(),a.roundRect(0,0,e.width,e.height,xa.radius/o.zoom.value),a.stroke(),a.closePath()):a.strokeRect(0,0,e.width,e.height),a.restore());break;case"freedraw":if(nc.generateElementShape(e,null),i.isExporting){var c=_p(e,t),u=(0,f.default)(c,4),d=u[0],h=u[1],p=u[2],U=u[3],m=(d+p)/2+o.scrollX,g=(h+U)/2+o.scrollY,b=(p-d)/2-(e.x-d),y=(U-h)/2-(e.y-h);a.save(),a.translate(m,g),a.rotate(e.angle),a.translate(-b,-y),Gh(e,r,a,i,o),a.restore()}else{var x=Zh(e,n,i,o);if(!x)return;Kh(x,a,i,o,n)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"iframe":case"embeddable":if(nc.generateElementShape(e,i),i.isExporting){var w=_p(e,t),E=(0,f.default)(w,4),k=E[0],S=E[1],M=E[2],C=E[3],I=(k+M)/2+o.scrollX,j=(S+C)/2+o.scrollY,T=(M-k)/2-(e.x-k),A=(C-S)/2-(e.y-S);if(Ql(e)){var D=$U(e,t);if(is(D)){var _=OU.getBoundTextElementPosition(D,e,t);T=(M-k)/2-(_.x-k),A=(C-S)/2-(_.y-S)}}a.save(),a.translate(I,j),zh(e,i,o)&&(a.filter="none");var L=qU(e,t);if(is(e)&&L){var R=document.createElement("canvas"),P=R.getContext("2d"),N=Math.max(Zo(k,M),Zo(S,C)),F=Bh(e);R.width=N*o.exportScale+10*F*o.exportScale,R.height=N*o.exportScale+10*F*o.exportScale,P.translate(R.width/2,R.height/2),P.scale(o.exportScale,o.exportScale),T=e.width/2-(e.x-k),A=e.height/2-(e.y-S),P.rotate(e.angle);var O=Tn.A.canvas(R);P.translate(-T,-A),Gh(e,O,P,i,o),P.translate(T,A),P.rotate(-e.angle);var z=_p(L,t),B=(0,f.default)(z,6),H=(k+M)/2-B[4],W=(S+C)/2-B[5];P.translate(-H,-W),P.clearRect(-L.width/2,-L.height/2,L.width,L.height),a.scale(1/o.exportScale,1/o.exportScale),a.drawImage(R,-R.width/2,-R.height/2,R.width,R.height)}else a.rotate(e.angle),"image"===e.type&&a.scale(e.scale[0],e.scale[1]),a.translate(-T,-A),Gh(e,r,a,i,o);a.restore()}else{var X=Zh(e,n,i,o);if(!X)return;var V=a.imageSmoothingEnabled;if(!(null!==o&&void 0!==o&&o.shouldCacheIgnoreZoom)&&(!e.angle||function(e){return Math.abs(Math.sin(2*e))<1e-4}(e.angle))&&(a.imageSmoothingEnabled=!1),e.id===o.croppingElementId&&Zl(X.element)&&null!==X.element.crop){a.save(),a.globalAlpha=.1;var G=Wh(function(e,t){if(e.crop){var n=Lh(e),r=n.width,a=n.height,i=_p(e,t),o=(0,f.default)(i,6),l=o[0],s=o[1],c=o[2],u=o[3],d=o[4],h=o[5],p=Zi(oo(to(l,s),to(d,h),e.angle)),U=Zi(oo(to(c,s),to(d,h),e.angle)),m=eo(Qi(U,p)),g=Qi(Zi(oo(to(l,u),to(d,h),e.angle)),p),b=eo(g),y=Rh(e.crop,e.scale),x=y.cropX,w=y.cropY,E=$i($i(p,Ji(m,-x*r/e.crop.naturalWidth)),Ji(b,-w*a/e.crop.naturalHeight)),k=ro($i($i(E,Ji(m,r/2)),Ji(b,a/2))),S=oo(ro(E),k,-e.angle);return(0,v.default)((0,v.default)({},e),{},{x:S[0],y:S[1],width:r,height:a,crop:null})}return e}(X.element,t),n,o.zoom,i,o);G&&Kh(G,a,i,o,n),a.restore()}Kh(X,a,i,o,n),a.imageSmoothingEnabled=V}break;default:throw new Error("Unimplemented type ".concat(e.type))}a.globalAlpha=1},Qh=new WeakMap([]);function Jh(e){var t=e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=(0,f.default)(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,.5]],n={simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(e){return Math.sin(e*Math.PI/2)},last:!!e.lastCommittedPoint};return function(e){if(!e.length)return"";var t=e.length-1;return e.reduce((function(e,n,r,a){return r===t?e.push(n,ep(n,a[0]),"L",a[0],"Z"):e.push(n,ep(n,a[r+1])),e}),["M",e[0],"Q"]).join(" ").replace(tp,"$1")}(Yn(t,n))}function ep(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var tp=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g;var np=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"line"===e||"freedraw"===e},rp=function(e){return"image"!==e&&"frame"!==e&&"magicframe"!==e},ap=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},ip=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},op=function(e){return"rectangle"===e||"iframe"===e||"embeddable"===e||"line"===e||"diamond"===e||"image"===e},lp=function(e){return"arrow"===e},sp=function(e){return"arrow"===e},cp=[1,0],up=[0,1],dp=[-1,0],fp=[0,-1],hp=function(e,t){var n=Gi(Math.atan2(t[1]-e[1],t[0]-e[0]));return n>=315||n<45?fp:n>=45&&n<135?cp:n>=135&&n<225?up:dp},pp=function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1],a=Math.abs(n),i=Math.abs(r);return n>i?cp:n<=-i?dp:r>a?up:fp},vp=function(e,t){return pp(Zi(e,t))},Up=function(e,t){return gp(vp(e,t))},mp=function(e,t){return e[0]===t[0]&&e[1]===t[1]},gp=function(e){return mp(e,cp)||mp(e,dp)},bp=function(e,t,n){var r=qp(t);if("diamond"===e.type){if(n[0]<e.x)return dp;if(n[1]<e.y)return fp;if(n[0]>e.x+e.width)return cp;if(n[1]>e.y+e.height)return up;var a=oo(fo(to(e.x+e.width/2,e.y),r,2),r,e.angle),i=oo(fo(to(e.x+e.width,e.y+e.height/2),r,2),r,e.angle),o=oo(fo(to(e.x+e.width/2,e.y+e.height),r,2),r,e.angle),l=oo(fo(to(e.x,e.y+e.height/2),r,2),r,e.angle);return _o([a,i,r],n)?hp(a,i):_o([i,o,r],n)?hp(i,o):_o([o,l,r],n)?hp(o,l):hp(l,a)}var s=fo(to(t[0],t[1]),r,2),c=fo(to(t[2],t[1]),r,2),u=fo(to(t[0],t[3]),r,2),d=fo(to(t[2],t[3]),r,2);return _o([s,c,r],n)?fp:_o([c,d,r],n)?cp:_o([d,u,r],n)?up:dp},yp=function(e){return[0===e[0]?0:e[0]>0?-1:1,0===e[1]?0:e[1]>0?-1:1]},xp=function(e){return[8,8+e]},wp=function(e){return[1.5,6+e]};function Ep(e){var t=e.roughness,n=Math.max(e.width,e.height),r=Math.min(e.width,e.height);return r>=20&&n>=50||r>=15&&e.roundness&&op(e.type)||as(e)&&n>=50?t:Math.min(t/(n<10?3:2),2.5)}var kp=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?xp(e.strokeWidth):"dotted"===e.strokeStyle?wp(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:Ep(e),stroke:e.strokeColor,preserveVertices:t||e.roughness<hi};switch(e.type){case"rectangle":case"iframe":case"embeddable":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill=ol(e.backgroundColor)?void 0:e.backgroundColor,"ellipse"===e.type&&(n.curveFitting=1),n;case"line":case"freedraw":return Th(e.points)&&(n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},Sp=function(e,t,n){return $l(e)&&(t||Kl(e)&&!0!==(null===n||void 0===n?void 0:n.get(e.id)))&&ol(e.backgroundColor)&&ol(e.strokeColor)?(0,v.default)((0,v.default)({},e),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):ql(e)?(0,v.default)((0,v.default)({},e),{},{strokeColor:ol(e.strokeColor)?"#000000":e.strokeColor,backgroundColor:ol(e.backgroundColor)?"#f4f4f6":e.backgroundColor}):e},Mp=function(e,t,n,r,a,i,o){var l=Bp(e,t,n,r);if(null===l)return[];var s=function(e,t){if(null===e)return[];var n=(0,f.default)(e,6),r=n[2],i=n[3],o=n[4],l=n[5];return[a.line(r,i,o,l,t)]};switch(r){case"dot":case"circle":case"circle_outline":var c=(0,f.default)(l,3),u=c[0],d=c[1],p=c[2];return delete i.strokeLineDash,[a.circle(u,d,p,(0,v.default)((0,v.default)({},i),{},{fill:"circle_outline"===r?o:e.strokeColor,fillStyle:"solid",stroke:e.strokeColor,roughness:Math.min(.5,i.roughness||0)}))];case"triangle":case"triangle_outline":var U=(0,f.default)(l,6),m=U[0],g=U[1],b=U[2],y=U[3],x=U[4],w=U[5];return delete i.strokeLineDash,[a.polygon([[m,g],[b,y],[x,w],[m,g]],(0,v.default)((0,v.default)({},i),{},{fill:"triangle_outline"===r?o:e.strokeColor,fillStyle:"solid",roughness:Math.min(1,i.roughness||0)}))];case"diamond":case"diamond_outline":var E=(0,f.default)(l,8),k=E[0],S=E[1],M=E[2],C=E[3],I=E[4],j=E[5],T=E[6],A=E[7];return delete i.strokeLineDash,[a.polygon([[k,S],[M,C],[I,j],[T,A],[k,S]],(0,v.default)((0,v.default)({},i),{},{fill:"diamond_outline"===r?o:e.strokeColor,fillStyle:"solid",roughness:Math.min(1,i.roughness||0)}))];case"crowfoot_one":return s(l,i);default:var D=(0,f.default)(l,6),_=D[0],L=D[1],R=D[2],P=D[3],N=D[4],F=D[5];if("dotted"===e.strokeStyle){var O=wp(e.strokeWidth-1);i.strokeLineDash=[O[0],O[1]-1]}else delete i.strokeLineDash;return i.roughness=Math.min(1,i.roughness||0),[a.line(R,P,_,L,i),a.line(N,F,_,L,i)].concat((0,h.default)("crowfoot_one_or_many"===r?s(Bp(e,t,n,"crowfoot_one"),i):[]))}},Cp=function(e,t,n){var r=n.isExporting,a=n.canvasBackgroundColor,i=n.embedsValidationStatus;switch(e.type){case"rectangle":case"iframe":case"embeddable":var o;if(e.roundness){var l=e.width,s=e.height,c=jh(Math.min(l,s),e);o=t.path("M ".concat(c," 0 L ").concat(l-c," 0 Q ").concat(l," 0, ").concat(l," ").concat(c," L ").concat(l," ").concat(s-c," Q ").concat(l," ").concat(s,", ").concat(l-c," ").concat(s," L ").concat(c," ").concat(s," Q 0 ").concat(s,", 0 ").concat(s-c," L 0 ").concat(c," Q 0 0, ").concat(c," 0"),kp(Sp(e,r,i),!0))}else o=t.rectangle(0,0,e.width,e.height,kp(Sp(e,r,i),!1));return o;case"diamond":var u,d=Rp(e),p=(0,f.default)(d,8),U=p[0],m=p[1],g=p[2],b=p[3],y=p[4],x=p[5],w=p[6],E=p[7];if(e.roundness){var k=jh(Math.abs(U-w),e),S=jh(Math.abs(b-m),e);u=t.path("M ".concat(U+k," ").concat(m+S," L ").concat(g-k," ").concat(b-S,"\n            C ").concat(g," ").concat(b,", ").concat(g," ").concat(b,", ").concat(g-k," ").concat(b+S,"\n            L ").concat(y+k," ").concat(x-S,"\n            C ").concat(y," ").concat(x,", ").concat(y," ").concat(x,", ").concat(y-k," ").concat(x-S,"\n            L ").concat(w+k," ").concat(E+S,"\n            C ").concat(w," ").concat(E,", ").concat(w," ").concat(E,", ").concat(w+k," ").concat(E-S,"\n            L ").concat(U-k," ").concat(m+S,"\n            C ").concat(U," ").concat(m,", ").concat(U," ").concat(m,", ").concat(U+k," ").concat(m+S),kp(e,!0))}else u=t.polygon([[U,m],[g,b],[y,x],[w,E]],kp(e));return u;case"ellipse":return t.ellipse(e.width/2,e.height/2,e.width,e.height,kp(e));case"line":case"arrow":var M,C=kp(e),I=e.points.length?e.points:[to(0,0)];if(os(e)?I.every((function(e){return Math.abs(e[0])<=1e6&&Math.abs(e[1])<=1e6}))?M=[t.path(Ip(I,16),kp(e,!0))]:(console.error("Elbow arrow with extreme point positions detected. Arrow not rendered.",e.id,JSON.stringify(I)),M=[]):M=e.roundness?[t.curve(I,C)]:C.fill?[t.polygon(I,C)]:[t.linearPath(I,C)],"arrow"===e.type){var j=e.startArrowhead,T=void 0===j?null:j,A=e.endArrowhead,D=void 0===A?"arrow":A;if(null!==T){var _,L=Mp(e,M,"start",T,t,C,a);(_=M).push.apply(_,(0,h.default)(L))}if(null!==D){var R,P=Mp(e,M,"end",D,t,C,a);(R=M).push.apply(R,(0,h.default)(P))}}return M;case"freedraw":var N;if(function(e){var t=Jh(e),n=new Path2D(t);Qh.set(e,n)}(e),Th(e.points)){var F=function(e,t){return nr(e,0,e.length,t)}(e.points,.75);N=t.curve(F,(0,v.default)((0,v.default)({},kp(e)),{},{stroke:"none"}))}else N=null;return N;case"frame":case"magicframe":case"text":case"image":return null;default:return Il(e,"generateElementShape(): Unimplemented type ".concat(null===e||void 0===e?void 0:e.type)),null}},Ip=function(e,t){for(var n=[],r=1;r<e.length-1;r+=1){var a=e[r-1],i=e[r+1],o=e[r],l=Up(o,a),s=Up(i,o),c=Math.min(t,co(e[r],i)/2,co(e[r],a)/2);l?a[0]<o[0]?n.push([e[r][0]-c,e[r][1]]):n.push([e[r][0]+c,e[r][1]]):a[1]<o[1]?n.push([e[r][0],e[r][1]-c]):n.push([e[r][0],e[r][1]+c]),n.push(e[r]),s?i[0]<o[0]?n.push([e[r][0]-c,e[r][1]]):n.push([e[r][0]+c,e[r][1]]):i[1]<o[1]?n.push([e[r][0],e[r][1]-c]):n.push([e[r][0],e[r][1]+c])}for(var u=["M ".concat(e[0][0]," ").concat(e[0][1])],d=0;d<n.length;d+=3)u.push("L ".concat(n[d][0]," ").concat(n[d][1])),u.push("Q ".concat(n[d+1][0]," ").concat(n[d+1][1],", ").concat(n[d+2][0]," ").concat(n[d+2][1]));return u.push("L ".concat(e[e.length-1][0]," ").concat(e[e.length-1][1])),u.join(" ")},jp=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,(0,h.default)(t))-Math.min.apply(Math,(0,h.default)(t)),height:Math.max.apply(Math,(0,h.default)(n))-Math.min.apply(Math,(0,h.default)(n))}},Tp=function(e,t,n,r){var a=n.map((function(t){return t[e]})),i=Math.max.apply(Math,(0,h.default)(a)),o=Math.min.apply(Math,(0,h.default)(a)),l=i-o,s=0===l?1:t/l,c=1/0,u=n.map((function(t){var n=t[e]*s,r=(0,h.default)(t);return r[e]=n,n<c&&(c=n),r}));if(!r||2===u.length)return u;var d=o-c;return u.map((function(t){return t.map((function(t,n){return n===e?t+d:t}))}))},Ap=function(){function e(){(0,l.default)(this,e)}return(0,s.default)(e,null,[{key:"getBounds",value:function(t,n){var r=e.boundsCache.get(t);if(null!==r&&void 0!==r&&r.version&&r.version===t.version&&!vs(t))return r.bounds;var a=e.calculateBounds(t,n);return e.boundsCache.set(t,{version:t.version,bounds:a}),a}},{key:"calculateBounds",value:function(e,t){var n,r=_p(e,t),a=(0,f.default)(r,6),i=a[0],o=a[1],l=a[2],s=a[3],c=a[4],u=a[5];if(ns(e)){var d=Op(e.points.map((function(t){var n=(0,f.default)(t,2);return oo(to(n[0],n[1]),to(c-e.x,u-e.y),e.angle)}))),h=(0,f.default)(d,4),p=h[0],v=h[1],U=h[2],m=h[3];return[p+e.x,v+e.y,U+e.x,m+e.y]}if(as(e))n=Hp(e,c,u,t);else if("diamond"===e.type){var g=oo(to(c,o),to(c,u),e.angle),b=(0,f.default)(g,2),y=b[0],x=b[1],w=oo(to(c,s),to(c,u),e.angle),E=(0,f.default)(w,2),k=E[0],S=E[1],M=oo(to(i,u),to(c,u),e.angle),C=(0,f.default)(M,2),I=C[0],j=C[1],T=oo(to(l,u),to(c,u),e.angle),A=(0,f.default)(T,2),D=A[0],_=A[1];n=[Math.min(y,k,I,D),Math.min(x,S,j,_),Math.max(y,k,I,D),Math.max(x,S,j,_)]}else if("ellipse"===e.type){var L=(l-i)/2,R=(s-o)/2,P=Math.cos(e.angle),N=Math.sin(e.angle),F=Math.hypot(L*P,R*N),O=Math.hypot(R*P,L*N);n=[c-F,u-O,c+F,u+O]}else{var z=oo(to(i,o),to(c,u),e.angle),B=(0,f.default)(z,2),H=B[0],W=B[1],X=oo(to(i,s),to(c,u),e.angle),V=(0,f.default)(X,2),G=V[0],Y=V[1],Z=oo(to(l,s),to(c,u),e.angle),K=(0,f.default)(Z,2),q=K[0],$=K[1],Q=oo(to(l,o),to(c,u),e.angle),J=(0,f.default)(Q,2),ee=J[0],te=J[1];n=[Math.min(H,G,q,ee),Math.min(W,Y,$,te),Math.max(H,G,q,ee),Math.max(W,Y,$,te)]}return n}}])}();(0,m.d)(Ap,"boundsCache",new WeakMap);var Dp=Ap,_p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ns(e))return zp(e);if(as(e))return OU.getElementAbsoluteCoords(e,t,n);if(Ql(e)){var r=t?$U(e,t):null;if(is(r)){var a=OU.getBoundTextElementPosition(r,e,t),i=a.x,o=a.y;return[i,o,i+e.width,o+e.height,i+e.width/2,o+e.height/2]}}return[e.x,e.y,e.x+e.width,e.y+e.height,e.x+e.width/2,e.y+e.height/2]},Lp=function(e,t){var n=_p(e,t),r=(0,f.default)(n,6),a=r[0],i=r[1],o=r[2],l=r[3],s=r[4],c=r[5],u=to(s,c);if(as(e)||ns(e)){for(var d=[],h=0;h<e.points.length-1;)d.push(vo(oo(to(e.points[h][0]+e.x,e.points[h][1]+e.y),u,e.angle),oo(to(e.points[h+1][0]+e.x,e.points[h+1][1]+e.y),u,e.angle))),h++;return d}var p=[[a,i],[o,i],[a,l],[o,l],[s,i],[s,l],[a,c],[o,c]].map((function(t){return oo(t,u,e.angle)})),v=(0,f.default)(p,8),U=v[0],m=v[1],g=v[2],b=v[3],y=v[4],x=v[5],w=v[6],E=v[7];return"diamond"===e.type?[vo(y,w),vo(y,E),vo(x,w),vo(x,E)]:"ellipse"===e.type?[vo(y,w),vo(y,E),vo(x,w),vo(x,E),vo(y,w),vo(y,E),vo(x,w),vo(x,E)]:[vo(U,m),vo(g,b),vo(U,g),vo(m,b),vo(U,E),vo(g,E),vo(m,w),vo(b,w)]},Rp=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]},Pp=function(e,t,n,r,a){var i=1-e;return Math.pow(i,3)*t+3*Math.pow(i,2)*e*n+3*i*Math.pow(e,2)*r+Math.pow(e,3)*a},Np=function(e,t,n,r){var a=t-e,i=n-t,o=3*a-6*i+3*(r-n),l=6*i-6*a,s=3*a,c=l*l-4*o*s;if(!(c>=0))return!1;var u=null,d=null,f=1/0,h=1/0;return 0===o?f=h=-s/l:(f=(-l+Math.sqrt(c))/(2*o),h=(-l-Math.sqrt(c))/(2*o)),f>=0&&f<=1&&(u=Pp(f,e,t,n,r)),h>=0&&h<=1&&(d=Pp(h,e,t,n,r)),[u,d]},Fp=function(e,t){var n=to(0,0),r=e.reduce((function(e,r){var a=r.op,i=r.data;if("move"===a){var o=no(i);jl(null!=o,"Op data is not a point"),n=o}else if("bcurveTo"===a){var l=to(i[0],i[1]),s=to(i[2],i[3]),c=to(i[4],i[5]),u=t?t(l):l,d=t?t(s):s,p=t?t(c):c,v=t?t(n):n;n=c;var U=function(e,t,n,r){var a=Np(e[0],t[0],n[0],r[0]),i=Np(e[1],t[1],n[1],r[1]),o=Math.min(e[0],r[0]),l=Math.max(e[0],r[0]);if(a){var s=a.filter((function(e){return null!==e}));o=Math.min.apply(Math,[o].concat((0,h.default)(s))),l=Math.max.apply(Math,[l].concat((0,h.default)(s)))}var c=Math.min(e[1],r[1]),u=Math.max(e[1],r[1]);if(i){var d=i.filter((function(e){return null!==e}));c=Math.min.apply(Math,[c].concat((0,h.default)(d))),u=Math.max.apply(Math,[u].concat((0,h.default)(d)))}return[o,c,l,u]}(v,u,d,p),m=(0,f.default)(U,4),g=m[0],b=m[1],y=m[2],x=m[3];e.minX=Math.min(e.minX,g),e.minY=Math.min(e.minY,b),e.maxX=Math.max(e.maxX,y),e.maxY=Math.max(e.maxY,x)}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},Op=function(e){var t,n=1/0,r=1/0,a=-1/0,i=-1/0,o=(0,d.default)(e);try{for(o.s();!(t=o.n()).done;){var l=(0,f.default)(t.value,2),s=l[0],c=l[1];n=Math.min(n,s),r=Math.min(r,c),a=Math.max(a,s),i=Math.max(i,c)}}catch(Be){o.e(Be)}finally{o.f()}return[n,r,a,i]},zp=function(e){var t=Op(e.points),n=(0,f.default)(t,4),r=n[0],a=n[1],i=n[2],o=n[3],l=r+e.x,s=a+e.y,c=i+e.x,u=o+e.y;return[l,s,c,u,(l+c)/2,(s+u)/2]},Bp=function(e,t,n,r){if(t.length<1)return null;var a=Xf(t[0]);if(a.length<1)return null;var i="start"===n?1:a.length-1,o=a[i].data;jl(6===o.length,"Op data length is not 6");var l=to(o[4],o[5]),s=to(o[2],o[3]),c=to(o[0],o[1]),u=a[i-1],d=to(0,0);if("move"===u.op){var h=no(u.data);jl(null!=h,"Op data is not a point"),d=h}else"bcurveTo"===u.op&&(d=to(u.data[4],u.data[5]));var p,v=function(e,t){return Math.pow(1-e,3)*l[t]+3*e*Math.pow(1-e,2)*s[t]+3*Math.pow(e,2)*(1-e)*c[t]+d[t]*Math.pow(e,3)},U="start"===n?d:l,m=(0,f.default)(U,2),g=m[0],b=m[1],y=[v(.3,0),v(.3,1)],x=y[0],w=y[1],E=Math.hypot(g-x,b-w),k=(g-x)/E,S=(b-w)/E,M=function(e){switch(e){case"arrow":return 25;case"diamond":case"diamond_outline":return 12;case"crowfoot_many":case"crowfoot_one":case"crowfoot_one_or_many":return 20;default:return 15}}(r),C="end"===n?e.points[e.points.length-1]:e.points[0],I=(0,f.default)(C,2),j=I[0],T=I[1],A=e.points.length>1?"end"===n?e.points[e.points.length-2]:e.points[1]:[0,0],D=(0,f.default)(A,2),_=D[0],L=D[1];p=Math.hypot(j-_,T-L);var R=Math.min(M,p*("diamond"===r||"diamond_outline"===r?.25:.5)),P=g-k*R,N=b-S*R;if("dot"===r||"circle"===r||"circle_outline"===r)return[g,b,Math.hypot(N-b,P-g)+e.strokeWidth-2];var F=function(e){switch(e){case"bar":return 90;case"arrow":return 20;default:return 25}}(r);if("crowfoot_many"===r||"crowfoot_one_or_many"===r){var O=oo(to(g,b),to(P,N),Vi(-F)),z=(0,f.default)(O,2),B=z[0],H=z[1],W=oo(to(g,b),to(P,N),Vi(F)),X=(0,f.default)(W,2);return[P,N,B,H,X[0],X[1]]}var V=oo(to(P,N),to(g,b),-F*Math.PI/180),G=(0,f.default)(V,2),Y=G[0],Z=G[1],K=oo(to(P,N),to(g,b),Vi(F)),q=(0,f.default)(K,2),$=q[0],Q=q[1];if("diamond"===r||"diamond_outline"===r){var J,ee;if("start"===n){var te=e.points.length>1?e.points[1]:[0,0],ne=(0,f.default)(te,2),re=ne[0],ae=ne[1],ie=oo(to(g+2*R,b),to(g,b),Math.atan2(ae-b,re-g)),oe=(0,f.default)(ie,2);J=oe[0],ee=oe[1]}else{var le=e.points.length>1?e.points[e.points.length-2]:[0,0],se=(0,f.default)(le,2),ce=se[0],ue=se[1],de=oo(to(g-2*R,b),to(g,b),Math.atan2(b-ue,g-ce)),fe=(0,f.default)(de,2);J=fe[0],ee=fe[1]}return[g,b,Y,Z,J,ee,$,Q]}return[g,b,Y,Z,$,Q]},Hp=function(e,t,n,r){var a,i,o=qU(e,r);if(e.points.length<2){var l=(0,f.default)(e.points[0],2),s=l[0],c=l[1],u=oo(to(e.x+s,e.y+c),to(t,n),e.angle),d=(0,f.default)(u,2),h=d[0],p=d[1],v=[h,p,h,p];if(o){var U=OU.getMinMaxXYWithBoundText(e,r,[h,p,h,p],o);v=[U[0],U[1],U[2],U[3]]}return v}var m=null!==(a=null===(i=nc.get(e))||void 0===i?void 0:i[0])&&void 0!==a?a:function(e){var t=Tn.A.generator(),n=kp(e);return t[e.roundness?"curve":n.fill?"polygon":"linearPath"](e.points,n)}(e),g=Xf(m),b=Fp(g,(function(r){var a=(0,f.default)(r,2),i=a[0],o=a[1];return oo(to(e.x+i,e.y+o),to(t,n),e.angle)})),y=[b[0],b[1],b[2],b[3]];if(o){var x=OU.getMinMaxXYWithBoundText(e,r,y,o);y=[x[0],x[1],x[2],x[3]]}return y},Wp=function(e,t){return Dp.getBounds(e,t)},Xp=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=-1/0,a=1/0,i=-1/0,o=t||pl(e);return e.forEach((function(e){var t=Wp(e,o),l=(0,f.default)(t,4),s=l[0],c=l[1],u=l[2],d=l[3];n=Math.min(n,s),a=Math.min(a,c),r=Math.max(r,u),i=Math.max(i,d)})),[n,a,r,i]},Vp=function(e,t){var n=Xp(e),r=(0,f.default)(n,4),a=r[0],i=r[1],o=r[2],l=r[3];return[a+t.x,i+t.y,o+t.x,l+t.y]},Gp=function(e,t,n,r){if(!as(e)&&!ns(e))return[e.x,e.y,e.x+t,e.y+n];var a,i=Tp(0,t,Tp(1,n,e.points,r),r);if(ns(e))a=Op(i);else{var o=Tn.A.generator(),l=e.roundness?o.curve(i,kp(e)):o.linearPath(i,kp(e)),s=Xf(l);a=Fp(s)}var c=a,u=(0,f.default)(c,4),d=u[0],h=u[1],p=u[2],v=u[3];return[d+e.x,h+e.y,p+e.x,v+e.y]},Yp=function(e,t){var n=Tn.A.generator(),r=null==e.roundness?n.linearPath(t,kp(e)):n.curve(t,kp(e)),a=Xf(r),i=Fp(a),o=(0,f.default)(i,4),l=o[0],s=o[1],c=o[2],u=o[3];return[l+e.x,s+e.y,c+e.x,u+e.y]},Zp=function(e){var t=Xp(e),n=(0,f.default)(t,4),r=n[0],a=n[1],i=n[2],o=n[3];return{minX:r,minY:a,maxX:i,maxY:o,width:i-r,height:o-a,midX:(r+i)/2,midY:(a+o)/2}},Kp=function(e){var t=e.scrollX,n=e.scrollY,r=e.width,a=e.height,i=e.zoom;return[-t,-n,-t+r/i.value,-n+a/i.value]},qp=function(e){return to(e[0]+(e[2]-e[0])/2,e[1]+(e[3]-e[1])/2)},$p=function(e,t){switch(e.type){case"rectangle":case"image":case"text":case"iframe":case"embeddable":case"frame":case"magicframe":return Qp(e,t);case"diamond":return Jp(e,t);case"ellipse":return ev(e,t)}},Qp=function(e,t){var n=oo(t,to(e.x+e.width/2,e.y+e.height/2),-e.angle),r=th(e),a=(0,f.default)(r,2),i=a[0],o=a[1];return Math.min.apply(Math,(0,h.default)(i.map((function(e){return mo(n,e)}))).concat((0,h.default)(o.map((function(e){return ko(e,n)})).filter((function(e){return null!==e})))))},Jp=function(e,t){var n=oo(t,to(e.x+e.width/2,e.y+e.height/2),-e.angle),r=nh(e),a=(0,f.default)(r,2),i=a[0],o=a[1];return Math.min.apply(Math,(0,h.default)(i.map((function(e){return mo(n,e)}))).concat((0,h.default)(o.map((function(e){return ko(e,n)})).filter((function(e){return null!==e})))))},ev=function(e,t){var n=to(e.x+e.width/2,e.y+e.height/2);return function(e,t){for(var n=t.halfWidth,r=t.halfHeight,a=t.center,i=n,o=r,l=$i(Zi(e),Ji(Zi(a),-1)),s=Math.abs(l[0]),c=Math.abs(l[1]),u=.707,d=.707,f=0;f<3;f++){var h=i*u,p=o*d,v=(i*i-o*o)*Math.pow(u,3)/i,U=(o*o-i*i)*Math.pow(d,3)/o,m=h-v,g=p-U,b=s-v,y=c-U,x=Math.hypot(g,m),w=Math.hypot(y,b);u=Math.min(1,Math.max(0,(b*x/w+v)/i)),d=Math.min(1,Math.max(0,(y*x/w+U)/o));var E=Math.hypot(d,u);u/=E,d/=E}var k=i*u*Math.sign(l[0]),S=o*d*Math.sign(l[1]);return co(ro(l),to(k,S))}(oo(t,n,-e.angle),eh(n,e.width/2,e.height/2))},tv=function(e){return!e[hh.CTRL_OR_CMD]},nv=function(e){return e.isBindingEnabled},rv=10,av=4,iv=function(e,t,n,r,a){var i=new Set,o=new Set;ov(e,t,n,"start",i,o,r),ov(e,n,t,"end",i,o,r),function(e,t){var n=[];return t.forEach((function(t){var r=e.getNonDeletedElement(t);null!=r&&n.push(r)})),n}(a,Array.from(o).filter((function(e){return!i.has(e)}))).forEach((function(t){var n;Wx(t,{boundElements:null===(n=t.boundElements)||void 0===n?void 0:n.filter((function(t){return"arrow"!==t.type||t.id!==e.id}))})}))},ov=function(e,t,n,r,a,i,o){if("keep"!==t){if(null===t){var l=vv(e,r);return void(null!=l&&i.add(l))}pv(e)?(null==n||("keep"===n?!fv(e,t,r):"start"===r||n.id!==t.id))&&(dv(e,t,r,o),a.add(t.id)):(dv(e,t,r,o),a.add(t.id))}},lv=function(e,t,n){return["start","end"].map((function(r){return function(e,t,n,r){var a,i,o=Av(e,t,n),l="start"===t?null===(a=e.startBinding)||void 0===a?void 0:a.elementId:null===(i=e.endBinding)||void 0===i?void 0:i.elementId;if(l){var s=n.get(l);if(us(s)&&Pv(s,o,n,r))return s}return null}(e,r,t,n)}))},sv=function(e,t,n,r,a,i,o){e.forEach((function(e){var l=null!==i&&void 0!==i&&i.length?function(e,t,n,r,a,i){var o=e.points.length-1,l=n.findIndex((function(e){return 0===e}))>-1,s=n.findIndex((function(e){return e===o}))>-1;return[l?t?Tv(e,"start",r,a,i):null:os(e)?"keep":Tv(e,"start",r,a,i),s?t?Tv(e,"end",r,a,i):null:os(e)?"keep":Tv(e,"end",r,a,i)]}(e,a,null!==i&&void 0!==i?i:[],t,n,o):function(e,t,n,r,a){if(os(e))return["keep","keep"];var i=lv(e,t,a),o=(0,f.default)(i,2),l=o[0],s=o[1];return[l&&r?Tv(e,"start",t,n,a):null,s&&r?Tv(e,"end",t,n,a):null]}(e,t,n,a,o),s=(0,f.default)(l,2),c=s[0],u=s[1];iv(e,c,u,t,r)}))},cv=function(e,t,n){return e.length>50?[]:e.filter(as).flatMap((function(e){return lv(e,t,n)})).filter((function(e){return null!==e})).filter((function(t){return 0===e.filter((function(e){return e.id===(null===t||void 0===t?void 0:t.id)})).length}))},uv=function(e,t,n,r,a){null!=t.startBoundElement&&dv(e,t.startBoundElement,"start",r);var i=Uv(n,a,r,t.zoom,os(e),os(e));null!==i&&(fv(e,i,"end")||dv(e,i,"end",r))},dv=function(e,t,n,r){if(is(e)){var a=(0,v.default)({elementId:t.id},os(e)?(0,v.default)((0,v.default)({},Iv(e,t,n,r)),{},{focus:0,gap:0}):(0,v.default)({},function(e,t){var n=e.gap;return n>Nv(t,t.width,t.height)&&(n=rv+av),(0,v.default)((0,v.default)({},e),{},{gap:n})}(bv(e,t,n,r),t)));Wx(e,(0,p.default)({},"start"===n?"startBinding":"endBinding",a)),pl(t.boundElements||[]).has(e.id)||Wx(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})}},fv=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return hv(e,null===r||void 0===r?void 0:r.elementId,t)},hv=function(e,t,n){return t===n.id&&pv(e)},pv=function(e){return e.points.length<3},vv=function(e,t){var n="start"===t?"startBinding":"endBinding",r=e[n];return null==r?null:(Wx(e,(0,p.default)({},n,null)),r.elementId)},Uv=function(e,t,n,r,a,i){if(i){var o=!1,l=gv(t,(function(t){return us(t,!1)&&Pv(t,e,n,r,(a||!ll(t))&&!ts(t))})).filter((function(e){return!o&&(ll(e)||(o=!0),!0)}));if(!l||0===l.length)return null;if(1===l.length)return l[0];var s=l.filter((function(t){return Pv(t,e,n,r,!1)}));return 1===s.length?s[0]:l.sort((function(e,t){return Math.pow(t.width,2)+Math.pow(t.height,2)-(Math.pow(e.width,2)+Math.pow(e.height,2))})).pop()}return mv(t,(function(t){return us(t,!1)&&Pv(t,e,n,r,(a||!ll(t))&&!ts(t))}))},mv=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var a=e[r];if(!a.isDeleted&&t(a)){n=a;break}}return n},gv=function(e,t){for(var n=[],r=e.length-1;r>=0;--r){var a=e[r];a.isDeleted||t(a)&&n.push(a)}return n},bv=function(e,t,n,r){var a="start"===n?-1:1,i=-1===a?0:e.points.length-1,o=i-a,l=OU.getPointAtIndexGlobalCoordinates(e,i,r),s=OU.getPointAtIndexGlobalCoordinates(e,o,r);return{focus:Fv(t,s,l),gap:Math.max(1,$p(t,l))}},yv=function(e,t,n){var r=null!==n&&void 0!==n?n:{},a=r.newSize,i=r.simultaneouslyUpdated,o=wv(i);us(e)&&Bv(t,e,(function(n){var r,i;if(as(n)&&!n.isDeleted&&xv(n,e)){var l=n.startBinding?t.get(n.startBinding.elementId):null,s=n.endBinding?t.get(n.endBinding.elementId):null,c=null,u=null;l&&s&&(c=Wp(l,t),u=Wp(s,t));var d={startBinding:jv(e,n.startBinding,a),endBinding:jv(e,n.endBinding,a)};if(o.has(n.id))Wx(n,d,!0);else{var h=Hv(t,n,(function(r,a){var i,o;if(r&&us(r)&&("startBinding"===a||"endBinding"===a)&&(e.id===(null===(i=n[a])||void 0===i?void 0:i.elementId)||e.id===(null===(o=n["startBinding"===a?"endBinding":"startBinding"])||void 0===o?void 0:o.elementId)&&!function(e,t){if(null==e||null==t)return!1;var n=(0,f.default)(e,4),r=n[0],a=n[1],i=n[2],o=n[3],l=(0,f.default)(t,4),s=l[0],c=l[1],u=l[2],d=l[3];return r<u&&i>s&&a<d&&o>c}(c,u))){var l=Cv(n,a,d[a],r,t);if(l)return{index:"startBinding"===a?0:n.points.length-1,point:l}}return null})).filter((function(e){return null!==e}));OU.movePoints(n,h,(0,v.default)((0,v.default)({},e.id===(null===(r=n.startBinding)||void 0===r?void 0:r.elementId)?{startBinding:d.startBinding}:{}),e.id===(null===(i=n.endBinding)||void 0===i?void 0:i.elementId)?{endBinding:d.endBinding}:{}));var p=qU(n,t);p&&!p.isDeleted&&YU(n,t,!1)}}}))},xv=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},wv=function(e){return new Set((e||[]).map((function(e){return e.id})))},Ev=function(e,t,n,r){var a=$p(t,e);return a>Nv(t,t.width,t.height,r)?null:a},kv=function(e,t,n){var r=t&&Ch(t),a=e.points["start"===n?0:e.points.length-1],i=to(e.x+a[0],e.y+a[1]),o=function(e){return null!=e&&("rectangle"===e.type||"diamond"===e.type||"image"===e.type||"iframe"===e.type||"embeddable"===e.type||"frame"===e.type||"magicframe"===e.type||"text"===e.type&&!e.containerId)}(t)?Mv(t,i):i;if(t&&r){var l=qp(r),s=sh(t,vo(l,ro(Ji(eo(Zi(o,l)),Math.max(t.width,t.height)),l)))[0],c=co(o,l),u=Math.max(co(null!==s&&void 0!==s?s:o,l),1e-4),d=Oi(c/u,6);return!0===d>.9?c-u>5||uo(o,s)<1e-4?o:ro(Ji(eo(Zi(o,null!==s&&void 0!==s?s:l)),d>1?5:-5),null!==s&&void 0!==s?s:l):Sv(o,t,r)}return o},Sv=function(e,t,n){var r=qp(n),a=pp(Zi(e,r));switch(!0){case mp(a,fp):return oo(to((n[0]+n[2])/2+.1,n[1]),r,t.angle);case mp(a,cp):return oo(to(n[2],(n[1]+n[3])/2+.1),r,t.angle);case mp(a,up):return oo(to((n[0]+n[2])/2-.1,n[3]),r,t.angle);default:return oo(to(n[0],(n[1]+n[3])/2-.1),r,t.angle)}},Mv=function(e,t){var n=to(e.x+e.width/2,e.y+e.height/2),r=oo(t,n,-e.angle);return r[0]<e.x&&r[1]<e.y?r[1]-e.y>-5?oo(to(e.x-5,e.y),n,e.angle):oo(to(e.x,e.y-5),n,e.angle):r[0]<e.x&&r[1]>e.y+e.height?r[0]-e.x>-5?oo(to(e.x,e.y+e.height+5),n,e.angle):oo(to(e.x-5,e.y+e.height),n,e.angle):r[0]>e.x+e.width&&r[1]>e.y+e.height?r[0]-e.x<e.width+5?oo(to(e.x+e.width,e.y+e.height+5),n,e.angle):oo(to(e.x+e.width+5,e.y+e.height),n,e.angle):r[0]>e.x+e.width&&r[1]<e.y?r[0]-e.x<e.width+5?oo(to(e.x+e.width,e.y-5),n,e.angle):oo(to(e.x+e.width+5,e.y),n,e.angle):t},Cv=function(e,t,n,r,a){if(null==n||n.elementId!==r.id&&e.points.length>2)return null;var i="startBinding"===t?-1:1,o=-1===i?0:e.points.length-1;if(os(e)&&ys(n)){var l,s=null!==(l=Yv(n.fixedPoint))&&void 0!==l?l:Iv(e,r,"startBinding"===t?"start":"end",a).fixedPoint,c=to(r.x+r.width/2,r.y+r.height/2),u=oo(to(r.x+s[0]*r.width,r.y+s[1]*r.height),c,r.angle);return OU.pointFromAbsoluteCoords(e,u,a)}var d,f=o-i,h=OU.getPointAtIndexGlobalCoordinates(e,f,a),p=Ov(r,n.focus,h);if(0===n.gap)d=p;else{var v=OU.getPointAtIndexGlobalCoordinates(e,o,a),U=to(r.x+r.width/2,r.y+r.height/2),m=co(h,v)+co(h,U)+2*Math.max(r.width,r.height),g=sh(r,vo(h,ro(Ji(eo(Zi(p,h)),m),h)),n.gap).sort((function(e,t){return uo(e,h)-uo(t,h)}));d=g.length>1?g[0]:1===g.length?p:v}return OU.pointFromAbsoluteCoords(e,d,a)},Iv=function(e,t,n,r){var a=[t.x,t.y,t.x+t.width,t.y+t.height],i=oo(kv(e,t,n),to(a[0]+(a[2]-a[0])/2,a[1]+(a[3]-a[1])/2),-t.angle);return{fixedPoint:Yv([(i[0]-t.x)/t.width,(i[1]-t.y)/t.height])}},jv=function(e,t,n){if(null==t||null==n)return t;var r=n.width,a=n.height,i=e.width,o=e.height,l=Math.max(1,Math.min(Nv(e,r,a),t.gap*(r<a?r/i:a/o)));return(0,v.default)((0,v.default)({},t),{},{gap:l})},Tv=function(e,t,n,r,a){return Uv(Av(e,t,n),r,n,a,os(e),os(e))},Av=function(e,t,n){var r="start"===t?0:-1;return nl(OU.getPointAtIndexGlobalCoordinates(e,r,n))},Dv=function(e,t,n,r){var a=new Set,i=new Set,o="duplicatesServeAsOld"===r,l=new Map((0,h.default)(n).map((function(e){var t=(0,f.default)(e,2),n=t[0];return[t[1],n]})));t.forEach((function(e){var t=e.boundElements;if(null!=t&&t.length>0&&(t.forEach((function(e){o&&!n.has(e.id)&&a.add(e.id)})),i.add(n.get(e.id))),ss(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;o&&!n.has(r)&&i.add(r)}if(null!=e.endBinding){var l=e.endBinding.elementId;o&&!n.has(l)&&i.add(l)}(null!=e.startBinding||null!=e.endBinding)&&a.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return a.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;Wx(e,{startBinding:_v(t,n),endBinding:_v(r,n)})})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(t){var r,a=l.get(t.id),i=null===(r=e.find((function(e){return e.id===a})))||void 0===r?void 0:r.boundElements;i&&i.length>0&&Wx(t,{boundElements:i.map((function(e){return n.has(e.id)?{id:n.get(e.id),type:e.type}:e}))})}))},_v=function(e,t){var n;return null==e?null:(0,v.default)((0,v.default)({},e),{},{elementId:null!==(n=t.get(e.elementId))&&void 0!==n?n:e.elementId})},Lv=function(e,t){var n,r=pl(e),a=(0,d.default)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;Wv.unbindAffected(r,i,Wx),Xv.unbindAffected(r,i,Wx)}}catch(Be){a.e(Be)}finally{a.f()}},Rv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return null;var r=e.filter((function(e){return!t.has(e.id)}));return r.push.apply(r,(0,h.default)(n.map((function(e){return{id:e.id,type:e.type}})))),r},Pv=function(e,t,n,r,a){var i=t.x,o=t.y,l=Nv(e,e.width,e.height,r),s=wh(e,n);return Zf(to(i,o),s,l)||!0===a&&Ih(to(i,o),Ch(e))},Nv=function(e,t,n,r){var a=null!==r&&void 0!==r&&r.value&&r.value<1?r.value:1,i=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*i,32),rv/a+av)},Fv=function(e,t,n){var r,a=to(e.x+e.width/2,e.y+e.height/2);if(io(t,n))return 0;var i=oo(t,a,-e.angle),o=oo(n,a,-e.angle),l=-1*Math.sign(Ki(Zi(o,t),Zi(o,a))),s=vo(o,ro(Ji(eo(Zi(o,i)),Math.max(2*e.width,2*e.height)),o)),c="diamond"===e.type?[vo(to(e.x+e.width/2,e.y),to(e.x+e.width/2,e.y+e.height)),vo(to(e.x,e.y+e.height/2),to(e.x+e.width,e.y+e.height/2))]:[vo(to(e.x,e.y),to(e.x+e.width,e.y+e.height)),vo(to(e.x+e.width,e.y),to(e.x,e.y+e.height))],u="diamond"===e.type?[vo(to(e.x+e.width/2,e.y-e.height),to(e.x+e.width/2,e.y+2*e.height)),vo(to(e.x-e.width,e.y+e.height/2),to(e.x+2*e.width,e.y+e.height/2))]:[vo(to(e.x-e.width,e.y-e.height),to(e.x+2*e.width,e.y+2*e.height)),vo(to(e.x+2*e.width,e.y-e.height),to(e.x-e.width,e.y+2*e.height))];return null!==(r=[go(s,u[0]),go(s,u[1])].filter((function(e){return null!==e})).sort((function(e,t){return uo(e,n)-uo(t,n)})).map((function(t,n){return l*co(a,t)/("diamond"===e.type?co(c[n][0],c[n][1])/2:Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2)})).sort((function(e,t){return Math.abs(e)-Math.abs(t)}))[0])&&void 0!==r?r:0},Ov=function(e,t,n){var r=to(e.x+e.width/2,e.y+e.height/2);if(0===t)return r;var a=("diamond"===e.type?[to(e.x,e.y+e.height/2),to(e.x+e.width/2,e.y),to(e.x+e.width,e.y+e.height/2),to(e.x+e.width/2,e.y+e.height)]:[to(e.x,e.y),to(e.x+e.width,e.y),to(e.x+e.width,e.y+e.height),to(e.x,e.y+e.height)]).map((function(e){return ro(Ji(Zi(e,r),Math.abs(t)),r)})).map((function(t){return oo(t,r,e.angle)})),i=[Ki(Zi(n,a[0]),Zi(a[1],a[0]))>0&&(t>0?Ki(Zi(n,a[1]),Zi(a[2],a[1]))<0:Ki(Zi(n,a[3]),Zi(a[0],a[3]))<0),Ki(Zi(n,a[1]),Zi(a[2],a[1]))>0&&(t>0?Ki(Zi(n,a[2]),Zi(a[3],a[2]))<0:Ki(Zi(n,a[0]),Zi(a[1],a[0]))<0),Ki(Zi(n,a[2]),Zi(a[3],a[2]))>0&&(t>0?Ki(Zi(n,a[3]),Zi(a[0],a[3]))<0:Ki(Zi(n,a[1]),Zi(a[2],a[1]))<0),Ki(Zi(n,a[3]),Zi(a[0],a[3]))>0&&(t>0?Ki(Zi(n,a[0]),Zi(a[1],a[0]))<0:Ki(Zi(n,a[2]),Zi(a[3],a[2]))<0)];return i[0]?t>0?a[1]:a[0]:i[1]?t>0?a[2]:a[1]:i[2]?t>0?a[3]:a[2]:t>0?a[0]:a[3]},zv=new Set(["boundElements","frameId","containerId","startBinding","endBinding"]),Bv=function(e,t,n){var r,a;us(t)&&(null!==(r=null===(a=t.boundElements)||void 0===a?void 0:a.slice())&&void 0!==r?r:[]).forEach((function(t){var r=t.id;n(e.get(r),"boundElements",r)}))},Hv=function(e,t,n){var r=[];if(t.frameId){var a=t.frameId;r.push(n(e.get(a),"frameId",a))}if(vs(t)){var i=t.containerId;r.push(n(e.get(i),"containerId",i))}if(is(t)){if(t.startBinding){var o=t.startBinding.elementId;r.push(n(e.get(o),"startBinding",o))}if(t.endBinding){var l=t.endBinding.elementId;r.push(n(e.get(l),"endBinding",l))}}return r},Wv=function(){return(0,s.default)((function e(){(0,l.default)(this,e)}),null,[{key:"unbindAffected",value:function(e,t,n){t&&Hv(e,t,(function(r){!r||r.isDeleted||Bv(e,r,(function(e,a,i){i===t.id&&n(r,{boundElements:Rv(r.boundElements,new Set([i]))})}))}))}}])}();(0,m.d)(Wv,"rebindAffected",(function(e,t,n){!t||t.isDeleted||Hv(e,t,(function(e,r){var a,i;e&&!e.isDeleted?"frameId"!==r&&((null===(a=e.boundElements)||void 0===a?void 0:a.find((function(e){return e.id===t.id})))||(is(t)&&n(e,{boundElements:Rv(e.boundElements,new Set,new Array(t))}),Ql(t)&&(null!==(i=e.boundElements)&&void 0!==i&&i.find((function(e){return"text"===e.type}))?n(t,(0,p.default)({},r,null)):n(e,{boundElements:Rv(e.boundElements,new Set,new Array(t))})))):n(t,(0,p.default)({},r,null))}))}));var Xv=function(){return(0,s.default)((function e(){(0,l.default)(this,e)}),null,[{key:"unbindAffected",value:function(e,t,n){t&&Bv(e,t,(function(r){!r||r.isDeleted||Hv(e,r,(function(e,a,i){i===t.id&&n(r,(0,p.default)({},a,null))}))}))}}])}();(0,m.d)(Xv,"rebindAffected",(function(e,t,n){!t||t.isDeleted||Bv(e,t,(function(e,r,a){var i,o,l;e&&!e.isDeleted?Ql(e)&&((null===(i=(null!==(o=null===(l=t.boundElements)||void 0===l?void 0:l.slice())&&void 0!==o?o:[]).reverse().find((function(e){return"text"===e.type})))||void 0===i?void 0:i.id)===e.id?e.containerId!==t.id&&n(e,{containerId:t.id}):(null!==e.containerId&&n(e,{containerId:null}),n(t,{boundElements:Rv(t.boundElements,new Set([e.id]))}))):n(t,{boundElements:Rv(t.boundElements,new Set([a]))})}))}));var Vv=function(e,t){var n=Yv(e),r=(0,f.default)(n,2),a=r[0],i=r[1];return oo(to(t.x+t.width*a,t.y+t.height*i),to(t.x+t.width/2,t.y+t.height/2),t.angle)},Gv=function(e,t){var n=function(e,t){var n=e.startBinding&&t.get(e.startBinding.elementId),r=e.endBinding&&t.get(e.endBinding.elementId);return[n&&e.startBinding?Vv(e.startBinding.fixedPoint,n):to(e.x+e.points[0][0],e.y+e.points[0][1]),r&&e.endBinding?Vv(e.endBinding.fixedPoint,r):to(e.x+e.points[e.points.length-1][0],e.y+e.points[e.points.length-1][1])]}(e,t),r=(0,f.default)(n,2),a=r[0],i=r[1];return[OU.pointFromAbsoluteCoords(e,a,t),OU.pointFromAbsoluteCoords(e,i,t)]},Yv=function(e){return e&&(Math.abs(e[0]-.5)<1e-4||Math.abs(e[1]-.5)<1e-4)?e.map((function(e){return Math.abs(e-.5)<1e-4?.5001:e})):e},Zv=function(e){var t,n,r,a,i=e.scenePoint,o=e.viewportDimensions,l=e.zoom,s=e.offsets,c=(o.width-(null!==(t=null===s||void 0===s?void 0:s.right)&&void 0!==t?t:0))/2/l.value-i.x;c+=(null!==(n=null===s||void 0===s?void 0:s.left)&&void 0!==n?n:0)/2/l.value;var u=(o.height-(null!==(r=null===s||void 0===s?void 0:s.bottom)&&void 0!==r?r:0))/2/l.value-i.y;return{scrollX:c,scrollY:u+=(null!==(a=null===s||void 0===s?void 0:s.top)&&void 0!==a?a:0)/2/l.value}},Kv=function(e,t){var n,r;if(!(e=Rw(e)).length)return{scrollX:0,scrollY:0};var a=Xp(e),i=(0,f.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3];return function(e,t){var n=(0,f.default)(t,4),r=n[0],a=n[1],i=n[2],o=n[3],l=Qo({sceneX:r,sceneY:a},e),s=l.x,c=l.y,u=Qo({sceneX:i,sceneY:o},e),d=u.x,h=u.y;return d-s>e.width||h-c>e.height}(t,[o,l,s,c])&&(n=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=e[0],a=pl(e);return e.forEach((function(e){var i=Wp(e,a),o=(0,f.default)(i,4),l=o[0],s=o[1],c=co(to((l+o[2])/2,(s+o[3])/2),to(t.x,t.y));c<n&&(n=c,r=e)})),Wp(r,a)}(e,$o({clientX:t.scrollX,clientY:t.scrollY},t)),o=(r=(0,f.default)(n,4))[0],l=r[1],s=r[2],c=r[3]),Zv({scenePoint:{x:(o+s)/2,y:(l+c)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})},qv=function(e){return Fi(Oi(e,6),Xa,Va)},$v=function(e){return Fi(Math.round(e),1,100)},Qv=function(e){return Fi(Math.round(e),1,100)},Jv=function(e,t,n){var r=n.reduce((function(t,n){return n.groupIds.includes(e)&&(t[n.id]=!0),t}),{});return Object.keys(r).length<2?t.selectedGroupIds[e]||t.editingGroupId===e?{selectedElementIds:t.selectedElementIds,selectedGroupIds:(0,v.default)((0,v.default)({},t.selectedGroupIds),{},(0,p.default)({},e,!1)),editingGroupId:null}:t:{editingGroupId:t.editingGroupId,selectedGroupIds:(0,v.default)((0,v.default)({},t.selectedGroupIds),{},(0,p.default)({},e,!0)),selectedElementIds:(0,v.default)((0,v.default)({},t.selectedElementIds),r)}},eU=function(){var e=null,t=null,n=null,r=function(r,a,i,o){var l=o?o.scene.getSelectedElements({selectedElementIds:r.selectedElementIds,elements:a}):Rx(a,r);return l.length?function(r,a,i,o){var l;if(void 0!==n&&a===t&&r===e&&i.editingGroupId===(null===(l=n)||void 0===l?void 0:l.editingGroupId))return n;var s,c={},u=(0,d.default)(r);try{for(u.s();!(s=u.n()).done;){var f=s.value.groupIds;if(i.editingGroupId){var h=f.indexOf(i.editingGroupId);h>-1&&(f=f.slice(0,h))}if(f.length>0){var p=f[f.length-1];c[p]=!0}}}catch(Be){u.e(Be)}finally{u.f()}for(var U={},m=a.reduce((function(e,t){if(t.isDeleted)return e;var n=t.groupIds.find((function(e){return c[e]}));return n&&(e[t.id]=!0,Array.isArray(U[n])?U[n].push(t.id):U[n]=[t.id]),e}),{}),g=0,b=Object.keys(U);g<b.length;g++){var y=b[g];U[y].length<2&&c[y]&&(c[y]=!1)}return t=a,e=r,n={editingGroupId:i.editingGroupId,selectedGroupIds:c,selectedElementIds:Nx((0,v.default)((0,v.default)({},i.selectedElementIds),m),o)}}(l,a,r,i):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:Nx(r.selectedElementIds,i)}};return r.clearCache=function(){t=null,e=null,n=null},r}(),tU=function(e,t){return null!=nU(e,t)},nU=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},rU=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=(0,f.default)(e,2);t[0];return t[1]})).map((function(e){var t=(0,f.default)(e,2),n=t[0];t[1];return n}))},aU=function(e,t){var n,r=(0,v.default)((0,v.default)({},t),{},{selectedGroupIds:{}}),a=(0,d.default)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value.groupIds;if(t.editingGroupId){var o=i.indexOf(t.editingGroupId);o>-1&&(i=i.slice(0,o))}if(i.length>0){var l=i[i.length-1];r=(0,v.default)((0,v.default)({},r),Jv(l,r,e))}}}catch(Be){a.e(Be)}finally{a.f()}return r.selectedGroupIds},iU=function(e,t){return(0,v.default)((0,v.default)({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,p.default)({},t.id,!0)})},oU=function(e,t){return e.groupIds.includes(t)},lU=function(e,t){var n,r=[],a=(0,d.default)(e.values());try{for(a.s();!(n=a.n()).done;){var i=n.value;oU(i,t)&&r.push(i)}}catch(Be){a.e(Be)}finally{a.f()}return r},sU=function(e,t){return e.groupIds.find((function(e){return t[e]}))},cU=function(e,t,n){var r=(0,h.default)(e),a=n?r.indexOf(n):-1,i=a>-1?a:r.length;return r.splice(i,0,t),r},uU=function(e,t){return e.filter((function(e){return!t[e]}))},dU=function(e,t){var n=new Map;return e.forEach((function(e){var r=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],a=n.get(r)||[],i=qU(e,t);i&&a.push(i),n.set(r,[].concat((0,h.default)(a),[e]))})),Array.from(n.values())},fU=function(e){var t,n=e.flatMap((function(e){return e.groupIds})),r=new Map,a=0,i=(0,d.default)(n);try{for(i.s();!(t=i.n()).done;){var o,l=t.value;r.set(l,(null!==(o=r.get(l))&&void 0!==o?o:0)+1),r.get(l)>a&&(a=r.get(l))}}catch(Be){i.e(Be)}finally{i.f()}return a===e.length},hU=function(e){return e.groupIds.length>0},pU=function(e){return 8/e},vU=(0,s.default)((function e(){(0,l.default)(this,e)}));(0,m.d)(vU,"referenceSnapPoints",null),(0,m.d)(vU,"visibleGaps",null),(0,m.d)(vU,"setReferenceSnapPoints",(function(e){vU.referenceSnapPoints=e})),(0,m.d)(vU,"getReferenceSnapPoints",(function(){return vU.referenceSnapPoints})),(0,m.d)(vU,"setVisibleGaps",(function(e){vU.visibleGaps=e})),(0,m.d)(vU,"getVisibleGaps",(function(){return vU.visibleGaps})),(0,m.d)(vU,"destroy",(function(){vU.referenceSnapPoints=null,vU.visibleGaps=null}));var UU=vU,mU=function(e){var t;return null!==(t=e.props.gridModeEnabled)&&void 0!==t?t:e.state.gridModeEnabled},gU=function(e){var t=e.event,n=e.app,r=e.selectedElements;return t?n.state.objectsSnapModeEnabled&&!t[hh.CTRL_OR_CMD]||!n.state.objectsSnapModeEnabled&&t[hh.CTRL_OR_CMD]&&!mU(n):(1!==r.length||"arrow"!==r[0].type)&&n.state.objectsSnapModeEnabled},bU=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{omitCenter:!1,boundingBoxCorners:!1},r=n.omitCenter,a=n.boundingBoxCorners,i=n.dragOffset,o=[];if(1===e.length){var l=e[0],s=_p(l,t),c=(0,f.default)(s,6),u=c[0],d=c[1],h=c[2],p=c[3],v=c[4],U=c[5];i&&(u+=i.x,h+=i.x,v+=i.x,d+=i.y,p+=i.y,U+=i.y);var m=(h-u)/2,g=(p-d)/2;if("diamond"!==l.type&&"ellipse"!==l.type||a){var b=oo(to(u,d),to(v,U),l.angle),y=oo(to(h,d),to(v,U),l.angle),x=oo(to(u,p),to(v,U),l.angle),w=oo(to(h,p),to(v,U),l.angle),E=to(v,U);o=r?[b,y,x,w]:[b,y,x,w,E]}else{var k=oo(to(u,d+g),to(v,U),l.angle),S=oo(to(u+m,d),to(v,U),l.angle),M=oo(to(h,d+g),to(v,U),l.angle),C=oo(to(u+m,p),to(v,U),l.angle),I=to(v,U);o=r?[k,S,M,C]:[k,S,M,C,I]}}else if(e.length>1){var j=Vp(e,null!==i&&void 0!==i?i:{x:0,y:0}),T=(0,f.default)(j,4),A=T[0],D=T[1],_=T[2],L=T[3],R=_-A,P=L-D,N=to(A,D),F=to(_,D),O=to(A,L),z=to(_,L),B=to(A+R/2,D+P/2);o=r?[N,F,O,z]:[N,F,O,z,B]}return o.map((function(e){return to(MU(e[0]),MU(e[1]))}))},yU=function(e,t,n,r){var a=t.filter((function(e){return ts(e)})).map((function(e){return e.id}));return Dx(e,t,n,r).filter((function(e){return!(e.frameId&&a.includes(e.frameId))}))},xU=function(e,t,n,r){var a=yU(e,t,n,r),i=dU(a,r).filter((function(e){return!(1===e.length&&vs(e[0]))})).map((function(e){return Xp(e).map((function(e){return MU(e)}))})),o=i.sort((function(e,t){return e[0]-t[0]})),l=[],s=0;e:for(var c=0;c<o.length;c++)for(var u=o[c],d=c+1;d<o.length;d++){if(++s>99999)break e;var h=o[d],p=(0,f.default)(u,4),v=p[1],U=p[2],m=p[3],g=(0,f.default)(h,4),b=g[0],y=g[1],x=g[3];U<b&&To(jo(v,m),jo(y,x))&&l.push({startBounds:u,endBounds:h,startSide:[to(U,v),to(U,m)],endSide:[to(b,y),to(b,x)],length:b-U,overlap:Ao(jo(v,m),jo(y,x))})}var w=i.sort((function(e,t){return e[1]-t[1]})),E=[];s=0;e:for(var k=0;k<w.length;k++)for(var S=w[k],M=k+1;M<w.length;M++){if(++s>99999)break e;var C=w[M],I=(0,f.default)(S,4),j=I[0],T=I[2],A=I[3],D=(0,f.default)(C,3),_=D[0],L=D[1],R=D[2];A<L&&To(jo(j,T),jo(_,R))&&E.push({startBounds:S,endBounds:C,startSide:[to(j,A),to(T,A)],endSide:[to(_,L),to(R,L)],length:L-A,overlap:Ao(jo(j,T),jo(_,R))})}return{horizontalGaps:l,verticalGaps:E}},wU=function(e,t,n,r,a,i,o){if(!gU({app:n,event:r,selectedElements:e}))return[];if(0===e.length)return[];var l=UU.getVisibleGaps();if(l){var s,c=l.horizontalGaps,u=l.verticalGaps,h=Vp(e,t).map((function(e){return MU(e)})),p=(0,f.default)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=(v+m)/2,y=(U+g)/2,x=(0,d.default)(c);try{for(x.s();!(s=x.n()).done;){var w=s.value;if(To(jo(U,g),w.overlap)){var E=w.startSide[0][0]+w.length/2,k=MU(E-b);if(w.length>m-v&&Math.abs(k)<=o.x){Math.abs(k)<o.x&&(a.length=0),o.x=Math.abs(k);var S={type:"gap",direction:"center_horizontal",gap:w,offset:k};a.push(S)}else{var M=v-(0,f.default)(w.endBounds,3)[2],C=MU(w.length-M);if(Math.abs(C)<=o.x){Math.abs(C)<o.x&&(a.length=0),o.x=Math.abs(C);var I={type:"gap",direction:"side_right",gap:w,offset:C};a.push(I)}else{var j=(0,f.default)(w.startBounds,3)[0],T=MU(j-m-w.length);if(Math.abs(T)<=o.x){Math.abs(T)<o.x&&(a.length=0),o.x=Math.abs(T);var A={type:"gap",direction:"side_left",gap:w,offset:T};a.push(A)}else;}}}}}catch(Be){x.e(Be)}finally{x.f()}var D,_=(0,d.default)(u);try{for(_.s();!(D=_.n()).done;){var L=D.value;if(To(jo(v,m),L.overlap)){var R=L.startSide[0][1]+L.length/2,P=MU(R-y);if(L.length>g-U&&Math.abs(P)<=o.y){Math.abs(P)<o.y&&(i.length=0),o.y=Math.abs(P);var N={type:"gap",direction:"center_vertical",gap:L,offset:P};i.push(N)}else{var F=(0,f.default)(L.startBounds,3)[1],O=MU(F-g-L.length);if(Math.abs(O)<=o.y){Math.abs(O)<o.y&&(i.length=0),o.y=Math.abs(O);var z={type:"gap",direction:"side_top",gap:L,offset:O};i.push(z)}else{var B=(0,f.default)(L.endBounds,4)[3],H=MU(U-B),W=L.length-H;if(Math.abs(W)<=o.y){Math.abs(W)<o.y&&(i.length=0),o.y=Math.abs(W);var X={type:"gap",direction:"side_bottom",gap:L,offset:W};i.push(X)}else;}}}}}catch(Be){_.e(Be)}finally{_.f()}}},EU=function(e,t,n,r){var a=yU(e,t,n,r);return dU(a,r).filter((function(e){return!(1===e.length&&vs(e[0]))})).flatMap((function(e){return bU(e,r)}))},kU=function(e,t,n,r,a,i,o){if(!gU({app:n,event:r,selectedElements:e})||0===e.length&&0===t.length)return[];var l=UU.getReferenceSnapPoints();if(l){var s,c=(0,d.default)(t);try{for(c.s();!(s=c.n()).done;){var u,f=s.value,h=(0,d.default)(l);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=p[0]-f[0],U=p[1]-f[1];Math.abs(v)<=o.x&&(Math.abs(v)<o.x&&(a.length=0),a.push({type:"point",points:[f,p],offset:v}),o.x=Math.abs(v)),Math.abs(U)<=o.y&&(Math.abs(U)<o.y&&(i.length=0),i.push({type:"point",points:[f,p],offset:U}),o.y=Math.abs(U))}}catch(Be){h.e(Be)}finally{h.f()}}}catch(Be){c.e(Be)}finally{c.f()}}},SU=function(e,t,n,r,a){var i,o,l,s,c=n.state,u=Rx(e,c);if(!gU({app:n,event:r,selectedElements:u})||0===u.length)return{snapOffset:{x:0,y:0},snapLines:[]};t.x=MU(t.x),t.y=MU(t.y);var d=[],f=[],p=pU(c.zoom.value),v={x:p,y:p},U=bU(u,a,{dragOffset:t});kU(u,U,n,r,d,f,v),wU(u,t,n,r,d,f,v);var m={x:null!==(i=null===(o=d[0])||void 0===o?void 0:o.offset)&&void 0!==i?i:0,y:null!==(l=null===(s=f[0])||void 0===s?void 0:s.offset)&&void 0!==l?l:0};v.x=0,v.y=0,d.length=0,f.length=0;var g={x:MU(t.x+m.x),y:MU(t.y+m.y)};kU(u,bU(u,a,{dragOffset:g}),n,r,d,f,v),wU(u,g,n,r,d,f,v);var b=IU(d,f),y=jU(u,g,[].concat(d,f).filter((function(e){return"gap"===e.type})));return{snapOffset:m,snapLines:[].concat((0,h.default)(b),(0,h.default)(y))}},MU=function(e){return Math.round(e*Math.pow(10,6))/Math.pow(10,6)},CU=function(e){var t,n=new Map,r=(0,d.default)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.join(",");n.has(i)||n.set(i,a)}}catch(Be){r.e(Be)}finally{r.f()}return Array.from(n.values())},IU=function(e,t){var n={},r={};if(e.length>0){var a,i=(0,d.default)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;if("point"===o.type){var l,s=MU(o.points[0][0]);n[s]||(n[s]=[]),(l=n[s]).push.apply(l,(0,h.default)(o.points.map((function(e){return to(MU(e[0]),MU(e[1]))}))))}}}catch(Be){i.e(Be)}finally{i.f()}}if(t.length>0){var c,u=(0,d.default)(t);try{for(u.s();!(c=u.n()).done;){var p=c.value;if("point"===p.type){var v,U=MU(p.points[0][1]);r[U]||(r[U]=[]),(v=r[U]).push.apply(v,(0,h.default)(p.points.map((function(e){return to(MU(e[0]),MU(e[1]))}))))}}}catch(Be){u.e(Be)}finally{u.f()}}return Object.entries(n).map((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];return{type:"points",points:CU(r.map((function(e){return to(Number(n),e[1])})).sort((function(e,t){return e[1]-t[1]})))}})).concat(Object.entries(r).map((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];return{type:"points",points:CU(r.map((function(e){return to(e[0],Number(n))})).sort((function(e,t){return e[0]-t[0]})))}})))},jU=function(e,t,n){var r,a=Vp(e,t),i=(0,f.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],u=[],h=(0,d.default)(n);try{for(h.s();!(r=h.n()).done;){var p=r.value,U=(0,f.default)(p.gap.startBounds,4),m=U[0],g=U[1],b=U[2],y=U[3],x=(0,f.default)(p.gap.endBounds,4),w=x[0],E=x[1],k=x[2],S=x[3],M=Ao(jo(l,c),p.gap.overlap),C=Ao(jo(o,s),p.gap.overlap);switch(p.direction){case"center_horizontal":if(M){var I=(M[0]+M[1])/2;u.push({type:"gap",direction:"horizontal",points:[to(p.gap.startSide[0][0],I),to(o,I)]},{type:"gap",direction:"horizontal",points:[to(s,I),to(p.gap.endSide[0][0],I)]})}break;case"center_vertical":if(C){var j=(C[0]+C[1])/2;u.push({type:"gap",direction:"vertical",points:[to(j,p.gap.startSide[0][1]),to(j,l)]},{type:"gap",direction:"vertical",points:[to(j,c),to(j,p.gap.endSide[0][1])]})}break;case"side_right":if(M){var T=(M[0]+M[1])/2;u.push({type:"gap",direction:"horizontal",points:[to(b,T),to(w,T)]},{type:"gap",direction:"horizontal",points:[to(k,T),to(o,T)]})}break;case"side_left":if(M){var A=(M[0]+M[1])/2;u.push({type:"gap",direction:"horizontal",points:[to(s,A),to(m,A)]},{type:"gap",direction:"horizontal",points:[to(b,A),to(w,A)]})}break;case"side_top":if(C){var D=(C[0]+C[1])/2;u.push({type:"gap",direction:"vertical",points:[to(D,c),to(D,g)]},{type:"gap",direction:"vertical",points:[to(D,y),to(D,E)]})}break;case"side_bottom":if(C){var _=(C[0]+C[1])/2;u.push({type:"gap",direction:"vertical",points:[to(_,y),to(_,E)]},{type:"gap",direction:"vertical",points:[to(_,S),to(_,l)]})}}}}catch(Be){h.e(Be)}finally{h.f()}return function(e){var t,n=new Map,r=(0,d.default)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.points.flat().map((function(e){return[MU(e)]})).join(",");n.has(i)||n.set(i,a)}}catch(Be){r.e(Be)}finally{r.f()}return Array.from(n.values())}(u.map((function(e){return(0,v.default)((0,v.default)({},e),{},{points:e.points.map((function(e){return to(MU(e[0]),MU(e[1]))}))})})))},TU=function(e,t,n,r,a,i){var o,l,s,c;if(!gU({event:r,selectedElements:e,app:n})||0===e.length||1===e.length&&!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}(e[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var u=Xp(t),d=(0,f.default)(u,4),h=d[0],p=d[1],v=d[2],U=d[3];i&&(i.includes("e")?v+=a.x:i.includes("w")&&(h+=a.x),i.includes("n")?p+=a.y:i.includes("s")&&(U+=a.y));var m=[];if(i)switch(i){case"e":m.push(to(v,p),to(v,U));break;case"w":m.push(to(h,p),to(h,U));break;case"n":m.push(to(h,p),to(v,p));break;case"s":m.push(to(h,U),to(v,U));break;case"ne":m.push(to(v,p));break;case"nw":m.push(to(h,p));break;case"se":m.push(to(v,U));break;case"sw":m.push(to(h,U))}var g=pU(n.state.zoom.value),b={x:g,y:g},y=[],x=[];kU(t,m,n,r,y,x,b);var w={x:null!==(o=null===(l=y[0])||void 0===l?void 0:l.offset)&&void 0!==o?o:0,y:null!==(s=null===(c=x[0])||void 0===c?void 0:c.offset)&&void 0!==s?s:0};b.x=0,b.y=0,y.length=0,x.length=0;var E=Xp(e).map((function(e){return MU(e)})),k=(0,f.default)(E,4),S=k[0],M=k[1],C=k[2],I=k[3],j=[to(S,M),to(S,I),to(C,M),to(C,I)];return kU(e,j,n,r,y,x,b),{snapOffset:w,snapLines:IU(y,x)}},AU=function(e,t,n,r,a,i){var o,l,s,c;if(!gU({event:n,selectedElements:[e],app:t}))return{snapOffset:{x:0,y:0},snapLines:[]};var u=[to(r.x+a.x,r.y+a.y)],d=pU(t.state.zoom.value),f={x:d,y:d},h=[],p=[];kU([e],u,t,n,h,p,f);var v={x:null!==(o=null===(l=h[0])||void 0===l?void 0:l.offset)&&void 0!==o?o:0,y:null!==(s=null===(c=p[0])||void 0===c?void 0:c.offset)&&void 0!==s?s:0};f.x=0,f.y=0,h.length=0,p.length=0;var U=bU([e],i,{boundingBoxCorners:!0,omitCenter:!0});return kU([e],U,t,n,h,p,f),{snapOffset:v,snapLines:IU(h,p)}},DU=function(e,t,n,r,a){if(!gU({event:r,selectedElements:[],app:t}))return{originOffset:{x:0,y:0},snapLines:[]};var i,o=Dx(e,[],t.state,a),l=pU(t.state.zoom.value),s={x:l,y:l},c=[],u=[],f=(0,d.default)(o);try{for(f.s();!(i=f.n()).done;){var h,p=i.value,v=bU([p],a),U=(0,d.default)(v);try{for(U.s();!(h=U.n()).done;){var m=h.value,g=m[0]-n.x;Math.abs(g)<=Math.abs(s.x)&&(Math.abs(g)<Math.abs(s.x)&&(u.length=0),u.push({type:"pointer",points:[m,to(m[0],n.y)],direction:"vertical"}),s.x=g);var b=m[1]-n.y;Math.abs(b)<=Math.abs(s.y)&&(Math.abs(b)<Math.abs(s.y)&&(c.length=0),c.push({type:"pointer",points:[m,to(n.x,m[1])],direction:"horizontal"}),s.y=b)}}catch(Be){U.e(Be)}finally{U.f()}}}catch(Be){f.e(Be)}finally{f.f()}return{originOffset:{x:u.length>0?u[0].points[0][0]-n.x:0,y:c.length>0?c[0].points[0][1]-n.y:0},snapLines:[].concat(u,c)}},_U=function(e){return e===yi.rectangle||e===yi.ellipse||e===yi.diamond||e===yi.frame||e===yi.magicframe||e===yi.image||e===yi.text},LU=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},RU={version:null,points:[],zoom:null},PU=function(){function e(t){(0,l.default)(this,e),(0,m.d)(this,"elementId"),(0,m.d)(this,"selectedPointsIndices"),(0,m.d)(this,"pointerDownState"),(0,m.d)(this,"isDragging"),(0,m.d)(this,"lastUncommittedPoint"),(0,m.d)(this,"pointerOffset"),(0,m.d)(this,"startBindingElement"),(0,m.d)(this,"endBindingElement"),(0,m.d)(this,"hoverPointIndex"),(0,m.d)(this,"segmentMidPointHoveredCoords"),(0,m.d)(this,"elbowed"),this.elementId=t.id,io(t.points[0],to(0,0))||console.error("Linear element is not normalized",Error().stack),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,lastClickedIsEndPoint:!1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null,this.elbowed=os(t)&&t.elbowed}return(0,s.default)(e,null,[{key:"getElement",value:function(e,t){return t.get(e)||null}},{key:"handleBoxSelection",value:function(t,n,r,a){if(!n.editingLinearElement||!n.selectionElement)return!1;var i=n.editingLinearElement,o=i.selectedPointsIndices,l=i.elementId,s=e.getElement(l,a);if(!s)return!1;var c=_p(n.selectionElement,a),u=(0,f.default)(c,4),d=u[0],h=u[1],p=u[2],U=u[3],m=e.getPointsGlobalCoordinates(s,a).reduce((function(e,n,r){return(n[0]>=d&&n[0]<=p&&n[1]>=h&&n[1]<=U||t.shiftKey&&null!==o&&void 0!==o&&o.includes(r))&&e.push(r),e}),[]).filter((function(e){return!(os(s)&&0!==e&&e!==s.points.length-1)}));r({editingLinearElement:(0,v.default)((0,v.default)({},i),{},{selectedPointsIndices:m.length?m:null})})}},{key:"handlePointDragging",value:function(t,n,r,a,i,o,l){var s;if(!o)return!1;var c=o.elementId,u=l.getNonDeletedElementsMap(),d=e.getElement(c,u);if(!d||os(d)&&!o.pointerDownState.lastClickedIsEndPoint&&0!==o.pointerDownState.lastClickedPoint)return!1;var h=os(d)?null===(s=o.selectedPointsIndices)||void 0===s?void 0:s.reduce((function(e,t){return 0===t?[0,e[1]]:[e[0],d.points.length-1]}),[!1,!1]).filter((function(e){return"number"==typeof e})):o.selectedPointsIndices,p=os(d)?o.pointerDownState.lastClickedPoint>0?d.points.length-1:0:o.pointerDownState.lastClickedPoint,v=d.points[p];if(h&&v){if(bh(t)&&1===h.length&&d.points.length>1){var U=h[0],m=d.points[0===U?1:U-1],g=e._getShiftLockedDelta(d,u,m,to(r,a),t[hh.CTRL_OR_CMD]?null:n.getEffectiveGridSize()),b=(0,f.default)(g,2),y=b[0],x=b[1];e.movePoints(d,[{index:U,point:to(y+m[0],x+m[1]),isDragging:U===p}])}else{var w=e.createPointAt(d,u,r-o.pointerOffset.x,a-o.pointerOffset.y,t[hh.CTRL_OR_CMD]?null:n.getEffectiveGridSize()),E=w[0]-v[0],k=w[1]-v[1];e.movePoints(d,h.map((function(i){return{index:i,point:i===p?e.createPointAt(d,u,r-o.pointerOffset.x,a-o.pointerOffset.y,t[hh.CTRL_OR_CMD]?null:n.getEffectiveGridSize()):to(d.points[i][0]+E,d.points[i][1]+k),isDragging:i===p}})))}if(qU(d,u)&&YU(d,u,!1),ss(d,!1)){var S=[];0===h[0]&&S.push(nl(e.getPointGlobalCoordinates(d,d.points[0],u)));var M=h[h.length-1];M===d.points.length-1&&S.push(nl(e.getPointGlobalCoordinates(d,d.points[M],u))),S.length&&i(d,S)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r,a){var i,o=a.getNonDeletedElementsMap(),l=a.getNonDeletedElements(),s=n.elementId,c=n.selectedPointsIndices,u=n.isDragging,f=n.pointerDownState,h=e.getElement(s,o);if(!h)return n;var p={};if(u&&c){var U,m=(0,d.default)(c);try{for(m.s();!(U=m.n()).done;){var g=U.value;if(0===g||g===h.points.length-1){Th(h.points,r.zoom.value)&&e.movePoints(h,[{index:g,point:0===g?h.points[h.points.length-1]:h.points[0]}]);var b=nv(r)?Uv(nl(e.getPointAtIndexGlobalCoordinates(h,g,o)),l,o,r.zoom,os(h),os(h)):null;p[0===g?"startBindingElement":"endBindingElement"]=b}}}catch(Be){m.e(Be)}finally{m.f()}}return(0,v.default)((0,v.default)((0,v.default)({},n),p),{},{selectedPointsIndices:u||t.shiftKey?!u&&t.shiftKey&&null!==(i=f.prevSelectedPointsIndices)&&void 0!==i&&i.includes(f.lastClickedPoint)?c&&c.filter((function(e){return e!==f.lastClickedPoint})):c:null!==c&&void 0!==c&&c.includes(f.lastClickedPoint)?[f.lastClickedPoint]:c,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(t,n,r,a,i){if(os(t))return a>=0&&a<t.points.length&&co(n,r)*i.value<e.POINT_HANDLE_SIZE/2;var o=co(n,r);return t.points.length>2&&t.roundness&&(o=function(e,t){return Mh(e,t).at(-1)}(t,r)),o*i.value<4*e.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(t,n,r,a,i){var o=so(n,r);if(t.points.length>2&&t.roundness){var l=kh(t,t.points[a]);if(l){var s=function(e,t,n){for(var r=Mh(e,t),a=r.length-1,i=n*r.at(-1),o=0,l=a,s=0;o<l;)r[s=Math.floor(o+(l-o)/2)]<i?o=s+1:l=s;return r[s]>i&&s--,r[s]===i?s/a:1-(s+(i-r[s])/(r[s+1]-r[s]))/a}(t,t.points[a],.5);o=e.getPointGlobalCoordinates(t,Sh(l[0],l[1],l[2],l[3],s),i)}}return o}},{key:"getSegmentMidPointIndex",value:function(t,n,r,a){var i=e.getElement(t.elementId,a);if(!i)return-1;for(var o=e.getEditorMidPoints(i,a,n),l=0;l<o.length;){if(e.arePointsEqual(r,o[l]))return l+1;l++}return-1}},{key:"handlePointerDown",value:function(t,n,r,a,i,o){var l,s=n.state,c=o.getNonDeletedElementsMap(),u=o.getNonDeletedElements(),d={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!i)return d;var p=i.elementId,U=e.getElement(p,c);if(!U)return d;var m=e.getSegmentMidpointHitCoords(i,a,s,c),g=null;if(m)g=e.getSegmentMidPointIndex(i,s,m,c);else if(t.altKey&&s.editingLinearElement)return null==i.lastUncommittedPoint&&(Wx(U,{points:[].concat((0,h.default)(U.points),[e.createPointAt(U,c,a.x,a.y,t[hh.CTRL_OR_CMD]?null:n.getEffectiveGridSize())])}),d.didAddPoint=!0),r.shouldCaptureIncrement(),d.linearElementEditor=(0,v.default)((0,v.default)({},i),{},{pointerDownState:{prevSelectedPointsIndices:i.selectedPointsIndices,lastClickedPoint:-1,lastClickedIsEndPoint:!1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:m,index:g,added:!1}},selectedPointsIndices:[U.points.length-1],lastUncommittedPoint:null,endBindingElement:Uv(a,u,c,n.state.zoom,i.elbowed)}),d.didAddPoint=!0,d;var b=e.getPointIndexUnderCursor(U,c,s.zoom,a.x,a.y);if(b>=0||m)d.hitElement=U;else{var y=i.startBindingElement,x=i.endBindingElement;nv(s)&&ss(U)&&iv(U,y,x,c,o)}var w=_p(U,c),E=(0,f.default)(w,4),k=E[0],S=E[1],M=(k+E[2])/2,C=(S+E[3])/2,I=b>-1&&oo(to(U.x+U.points[b][0],U.y+U.points[b][1]),to(M,C),U.angle),j=b>-1||t.shiftKey?t.shiftKey||null!==(l=i.selectedPointsIndices)&&void 0!==l&&l.includes(b)?zU([].concat((0,h.default)(i.selectedPointsIndices||[]),[b])):[b]:null;return d.linearElementEditor=(0,v.default)((0,v.default)({},i),{},{pointerDownState:{prevSelectedPointsIndices:i.selectedPointsIndices,lastClickedPoint:b,lastClickedIsEndPoint:b===U.points.length-1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:m,index:g,added:!1}},selectedPointsIndices:j,pointerOffset:I?{x:a.x-I[0],y:a.y-I[1]}:{x:0,y:0}}),d}},{key:"arePointsEqual",value:function(e,t){return!e&&!t||!(!e||!t)&&io(e,t)}},{key:"handlePointerMove",value:function(t,n,r,a,i){var o=a.state;if(!o.editingLinearElement)return null;var l=o.editingLinearElement,s=l.elementId,c=l.lastUncommittedPoint,u=e.getElement(s,i);if(!u)return o.editingLinearElement;var d,h=u.points,p=h[h.length-1];if(!t.altKey)return p===c&&e.deletePoints(u,[h.length-1]),(0,v.default)((0,v.default)({},o.editingLinearElement),{},{lastUncommittedPoint:null});if(bh(t)&&h.length>=2){var U=h[h.length-2],m=e._getShiftLockedDelta(u,i,U,to(n,r),t[hh.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),g=(0,f.default)(m,2),b=g[0],y=g[1];d=to(b+U[0],y+U[1])}else d=e.createPointAt(u,i,n-o.editingLinearElement.pointerOffset.x,r-o.editingLinearElement.pointerOffset.y,t[hh.CTRL_OR_CMD]||os(u)?null:a.getEffectiveGridSize());return p===c?e.movePoints(u,[{index:u.points.length-1,point:d}]):e.addPoints(u,[{point:d}]),(0,v.default)((0,v.default)({},o.editingLinearElement),{},{lastUncommittedPoint:u.points[u.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(e,t,n){var r=_p(e,n),a=(0,f.default)(r,4),i=a[0],o=a[1],l=(i+a[2])/2,s=(o+a[3])/2,c=e.x,u=e.y;return oo(to(c+t[0],u+t[1]),to(l,s),e.angle)}},{key:"getPointsGlobalCoordinates",value:function(e,t){var n=_p(e,t),r=(0,f.default)(n,4),a=r[0],i=r[1],o=r[2],l=r[3],s=(a+o)/2,c=(i+l)/2;return e.points.map((function(t){var n=e.x,r=e.y;return oo(to(n+t[0],r+t[1]),to(s,c),e.angle)}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t,n){var r=t<0?e.points.length+t:t,a=_p(e,n),i=(0,f.default)(a,4),o=i[0],l=i[1],s=(o+i[2])/2,c=(l+i[3])/2,u=e.points[r],d=e.x,h=e.y;return oo(u?to(d+u[0],h+u[1]):to(d,h),to(s,c),e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t,n){if(os(e))return to(t[0]-e.x,t[1]-e.y);var r=_p(e,n),a=(0,f.default)(r,4),i=a[0],o=a[1],l=(i+a[2])/2,s=(o+a[3])/2,c=oo(to(t[0],t[1]),to(l,s),-e.angle),u=(0,f.default)(c,2),d=u[0],h=u[1];return to(d-e.x,h-e.y)}},{key:"getPointIndexUnderCursor",value:function(t,n,r,a,i){for(var o=e.getPointsGlobalCoordinates(t,n),l=o.length;--l>-1;){var s=o[l];if(co(to(a,i),to(s[0],s[1]))*r.value<e.POINT_HANDLE_SIZE+1)return l}return-1}},{key:"createPointAt",value:function(e,t,n,r,a){var i=LU(n,r,a),o=_p(e,t),l=(0,f.default)(o,4),s=l[0],c=l[1],u=(s+l[2])/2,d=(c+l[3])/2,h=oo(to(i[0],i[1]),to(u,d),-e.angle),p=(0,f.default)(h,2),v=p[0],U=p[1];return to(v-e.x,U-e.y)}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e){return to(e[0]-n,e[1]-r)})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){Wx(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t,n){jl(t.editingLinearElement,"Not currently editing a linear element");var r=t.editingLinearElement,a=r.selectedPointsIndices,i=r.elementId,o=e.getElement(i,n);jl(o,"The linear element does not exist in the provided Scene"),jl(null!=a,"There are no selected points to duplicate");var l=o.points,s=[],c=!1,u=-1,d=l.reduce((function(e,t,n){if(++u,e.push(t),a.includes(n)){var r=l[n+1];r||(c=!0),e.push(r?to((t[0]+r[0])/2,(t[1]+r[1])/2):to(t[0],t[1])),s.push(u+1),++u}return e}),[]);if(Wx(o,{points:d}),c){var f=o.points[o.points.length-1];e.movePoints(o,[{index:o.points.length-1,point:to(f[0]+30,f[1]+30)}])}return(0,v.default)((0,v.default)({},t),{},{editingLinearElement:(0,v.default)((0,v.default)({},t.editingLinearElement),{},{selectedPointsIndices:s})})}},{key:"deletePoints",value:function(t,n){var r=0,a=0;if(n.includes(0)){var i=t.points.find((function(e,t){return!n.includes(t)}));i&&(r=i[0],a=i[1])}var o=t.points.reduce((function(e,t,i){return n.includes(i)||e.push(e.length?to(t[0]-r,t[1]-a):to(0,0)),e}),[]);e._updatePoints(t,o,r,a)}},{key:"addPoints",value:function(t,n){var r=[].concat((0,h.default)(t.points),(0,h.default)(n.map((function(e){return e.point}))));e._updatePoints(t,r,0,0)}},{key:"movePoints",value:function(t,n,r){var a,i,o,l,s,c,u=t.points,d=null!==(a=null===(i=n.find((function(e){return 0===e.index})))||void 0===i?void 0:i.point)&&void 0!==a?a:to(0,0),h=(0,f.default)(d,2),p=h[0],v=h[1],U=to(p-u[0][0],v-u[0][1]),m=(0,f.default)(U,2),g=m[0],b=m[1],y=os(t)?[null!==(o=null===(l=n.find((function(e){return 0===e.index})))||void 0===l?void 0:l.point)&&void 0!==o?o:u[0],null!==(s=null===(c=n.find((function(e){return e.index===u.length-1})))||void 0===c?void 0:c.point)&&void 0!==s?s:u[u.length-1]]:u.map((function(e,t){var r,a,i=null!==(r=null===(a=n.find((function(e){return e.index===t})))||void 0===a?void 0:a.point)&&void 0!==r?r:e;return to(i[0]-g,i[1]-b)}));e._updatePoints(t,y,g,b,r,{isDragging:n.reduce((function(e,t){return e||!0===t.isDragging}),!1)})}},{key:"shouldAddMidpoint",value:function(t,n,r,a){var i=e.getElement(t.elementId,a);if(i&&os(i)||!i)return!1;var o=t.pointerDownState.segmentMidpoint;if(o.added||null===o.value||null===o.index||null===t.pointerDownState.origin)return!1;var l=t.pointerDownState.origin,s=co(to(l.x,l.y),to(n.x,n.y));return!(!r.editingLinearElement&&s<na/r.zoom.value)}},{key:"addMidpoint",value:function(t,n,r,a,i){var o=e.getElement(t.elementId,i);if(o){var l=t.pointerDownState.segmentMidpoint,s={pointerDownState:t.pointerDownState,selectedPointsIndices:t.selectedPointsIndices},c=e.createPointAt(o,i,n.x,n.y,a&&!os(o)?r.getEffectiveGridSize():null),u=[].concat((0,h.default)(o.points.slice(0,l.index)),[c],(0,h.default)(o.points.slice(l.index)));return Wx(o,{points:u}),s.pointerDownState=(0,v.default)((0,v.default)({},t.pointerDownState),{},{segmentMidpoint:(0,v.default)((0,v.default)({},t.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:l.index}),s.selectedPointsIndices=[l.index],s}}},{key:"_updatePoints",value:function(e,t,n,r,a,i){if(os(e)){var o={};void 0!==(null===a||void 0===a?void 0:a.startBinding)&&(o.startBinding=null!==a.startBinding&&ys(a.startBinding)?a.startBinding:null),void 0!==(null===a||void 0===a?void 0:a.endBinding)&&(o.endBinding=null!==a.endBinding&&ys(a.endBinding)?a.endBinding:null),o.points=Array.from(t),Wx(e,o,!0,{isDragging:null===i||void 0===i?void 0:i.isDragging})}else{var l=Yp(e,t),s=Yp(e,e.points),c=(l[0]+l[2])/2,u=(l[1]+l[3])/2,d=(s[0]+s[2])/2-c,f=(s[1]+s[3])/2-u,h=oo(to(n,r),to(d,f),e.angle);Wx(e,(0,v.default)((0,v.default)({},a),{},{points:t,x:e.x+h[0],y:e.y+h[1]}))}}},{key:"_getShiftLockedDelta",value:function(t,n,r,a,i){var o=e.getPointGlobalCoordinates(t,r,n);if(os(t))return[a[0]-o[0],a[1]-o[1]];var l=LU(a[0],a[1],i),s=(0,f.default)(l,2),c=s[0],u=s[1],d=qx(o[0],o[1],c,u);return oo(to(d.width,d.height),to(0,0),-t.angle)}},{key:"moveFixedSegment",value:function(t,n,r,a,i){var o=e.getElement(t.elementId,i);if(!o||!os(o))return t;if(n&&n>0&&n<o.points.length){var l,s=gp(pp(Zi(o.points[n],o.points[n-1]))),c=(null!==(l=o.fixedSegments)&&void 0!==l?l:[]).reduce((function(e,t){return e[t.index]=t,e}),{});c[n]={index:n,start:to(s?o.points[n-1][0]:r-o.x,s?a-o.y:o.points[n-1][1]),end:to(s?o.points[n][0]:r-o.x,s?a-o.y:o.points[n][1])};var u=Object.values(c).sort((function(e,t){return e.index-t.index})),d=u.map((function(e){return e.index})).reduce((function(e,t){return t<n?e+1:e}),0);Wx(o,{fixedSegments:u});var f=to(o.x+(o.fixedSegments[d].start[0]+o.fixedSegments[d].end[0])/2,o.y+(o.fixedSegments[d].start[1]+o.fixedSegments[d].end[1])/2);return(0,v.default)((0,v.default)({},t),{},{segmentMidPointHoveredCoords:f,pointerDownState:(0,v.default)((0,v.default)({},t.pointerDownState),{},{segmentMidpoint:{added:!1,index:o.fixedSegments[d].index,value:f}})})}return t}},{key:"deleteFixedSegment",value:function(e,t){var n;Wx(e,{fixedSegments:null===(n=e.fixedSegments)||void 0===n?void 0:n.filter((function(e){return e.index!==t}))}),Wx(e,{},!0)}}])}();(0,m.d)(PU,"POINT_HANDLE_SIZE",10),(0,m.d)(PU,"getEditorMidPoints",(function(e,t,n){var r=qU(e,t);return!os(e)&&!n.editingLinearElement&&e.points.length>2&&!r?[]:(RU.version===e.version&&RU.zoom===n.zoom.value||PU.updateEditorMidPointsCache(e,t,n),RU.points)})),(0,m.d)(PU,"updateEditorMidPointsCache",(function(e,t,n){for(var r=PU.getPointsGlobalCoordinates(e,t),a=0,i=[];a<r.length-1;)if(PU.isSegmentTooShort(e,e.points[a],e.points[a+1],a,n.zoom))i.push(null),a++;else{var o=PU.getSegmentMidPoint(e,r[a],r[a+1],a+1,t);i.push(o),a++}RU.points=i,RU.version=e.version,RU.zoom=n.zoom.value})),(0,m.d)(PU,"getSegmentMidpointHitCoords",(function(e,t,n,r){var a=e.elementId,i=PU.getElement(a,r);if(!i)return null;var o=PU.getPointIndexUnderCursor(i,r,n.zoom,t.x,t.y);if(!os(i)&&o>=0||PU.getPointsGlobalCoordinates(i,r).length>=3&&!n.editingLinearElement&&!os(i))return null;var l=(PU.POINT_HANDLE_SIZE+1)/n.zoom.value,s=e.segmentMidPointHoveredCoords;if(s&&co(to(s[0],s[1]),to(t.x,t.y))<=l)return s;for(var c=0,u=PU.getEditorMidPoints(i,r,n);c<u.length;){if(null!==u[c]&&co(u[c],to(t.x,t.y))<=l)return u[c];c++}return null})),(0,m.d)(PU,"getBoundTextElementPosition",(function(e,t,n){var r=PU.getPointsGlobalCoordinates(e,n);r.length<2&&Wx(t,{isDeleted:!0});var a=0,i=0;if(e.points.length%2===1){var o=Math.floor(e.points.length/2),l=PU.getPointGlobalCoordinates(e,e.points[o],n);a=l[0]-t.width/2,i=l[1]-t.height/2}else{var s=e.points.length/2-1,c=RU.points[s];2===e.points.length&&(c=so(r[0],r[1])),(!c||RU.version!==e.version)&&(c=PU.getSegmentMidPoint(e,r[s],r[s+1],s+1,n)),a=c[0]-t.width/2,i=c[1]-t.height/2}return{x:a,y:i}})),(0,m.d)(PU,"getMinMaxXYWithBoundText",(function(e,t,n,r){var a=(0,f.default)(n,4),i=a[0],o=a[1],l=a[2],s=a[3],c=(i+l)/2,u=(o+s)/2,d=PU.getBoundTextElementPosition(e,r,t),h=d.x,p=d.y,v=h+r.width,U=p+r.height,m=to(c,u),g=oo(to(i,o),m,e.angle),b=oo(to(l,o),m,e.angle),y=oo(to(h,p),m,-e.angle),x=oo(to(v,p),m,-e.angle),w=oo(to(h,U),m,-e.angle),E=oo(to(v,U),m,-e.angle);return g[0]<b[0]&&g[1]>=b[1]?(i=Math.min(i,w[0]),l=Math.max(l,Math.max(x[0],E[0])),o=Math.min(o,y[1]),s=Math.max(s,E[1])):g[0]>=b[0]&&g[1]>b[1]?(i=Math.min(i,E[0]),l=Math.max(l,Math.max(y[0],x[0])),o=Math.min(o,w[1]),s=Math.max(s,x[1])):g[0]>=b[0]?(i=Math.min(i,x[0]),l=Math.max(l,w[0]),o=Math.min(o,E[1]),s=Math.max(s,y[1])):g[1]<=b[1]&&(i=Math.min(i,Math.min(x[0],y[0])),l=Math.max(l,E[0]),o=Math.min(o,x[1]),s=Math.max(s,w[1])),[i,o,l,s,c,u]})),(0,m.d)(PU,"getElementAbsoluteCoords",(function(e,t){var n,r,a,i,o,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.points.length<2||!nc.get(e)){var s=e.points.reduce((function(e,t){var n=(0,f.default)(t,2),r=n[0],a=n[1];return e.minY=Math.min(e.minY,a),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,a),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),c=s.minX,u=s.minY,d=s.maxX,h=s.maxY;r=c+e.x,a=u+e.y,i=d+e.x,o=h+e.y}else{var p=nc.generateElementShape(e,null),v=Xf(p[0]),U=Fp(v),m=(0,f.default)(U,4),g=m[0],b=m[1],y=m[2],x=m[3];r=g+e.x,a=b+e.y,i=y+e.x,o=x+e.y}if(n=[r,a,i,o,(r+i)/2,(a+o)/2],!l)return n;var w=qU(e,t);return w&&(n=PU.getMinMaxXYWithBoundText(e,t,[r,a,i,o],w)),n}));var NU,FU,OU=PU,zU=function(e){var t=(0,h.default)(new Set(e.filter((function(e){return null!==e&&-1!==e}))));return t=t.sort((function(e,t){return e-t})),t.length?t:null},BU={},HU=function(e,t){var n=BU[e]||(BU[e]={height:t});return n.height=t,n},WU=function(e){BU[e]&&delete BU[e]},XU=function(e){var t,n;return null!==(t=null===(n=BU[e])||void 0===n?void 0:n.height)&&void 0!==t?t:null},VU=function(e,t,n){var r,a,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={x:e.x,y:e.y,text:e.text,width:e.width,height:e.height,angle:null!==(r=null===t||void 0===t?void 0:t.angle)&&void 0!==r?r:e.angle};o.text=e.text,(t||!e.autoResize)&&(a=t?om(t,e):e.width,o.text=Ks(e.originalText,Bo(e),a));var l=xs(o.text,Bo(e),e.lineHeight);if(e.autoResize&&(o.width=l.width),o.height=l.height,t){var s=lm(t,e),c=om(t,e);if(!is(t)&&l.height>s){var u=im(l.height,t.type);Wx(t,{height:u},i),HU(t.id,u)}if(l.width>c){var d=im(l.width,t.type);Wx(t,{width:d},i)}var f=(0,v.default)((0,v.default)({},e),o),h=ZU(t,f,n),p=h.x,U=h.y;o.x=p,o.y=U}Wx(e,o,i)},GU=function(e,t,n){var r=pl(e);t.forEach((function(e){var t=n.get(e.id),a=KU(e);if(a){var i=n.get(a);if(i){var o=r.get(t);o&&Wx(o,{boundElements:(e.boundElements||[]).filter((function(e){return e.id!==i&&e.id!==a})).concat({type:"text",id:i})});var l=r.get(i);l&&Ql(l)&&Wx(l,{containerId:o?t:null})}}}))},YU=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(KU(e)){WU(e.id);var a=qU(e,t);if(a&&a.text){if(!e)return;var i=a.text,o=a.height,l=a.width,s=om(e,a),c=lm(e,a),u=e.height;if(r||"n"!==n&&"s"!==n){i&&(i=Ks(a.originalText,Bo(a),s));var d=xs(i,Bo(a),a.lineHeight);o=d.height,l=d.width}if(o>c){var f=(u=im(o,e.type))-e.height,h=is(e)||"ne"!==n&&"nw"!==n&&"n"!==n?e.y:e.y-f;Wx(e,{height:u,y:h})}Wx(a,{text:i,width:l,height:o}),is(e)||Wx(a,ZU(e,a,t))}}},ZU=function(e,t,n){if(is(e))return OU.getBoundTextElementPosition(e,t,n);var r,a=JU(e),i=lm(e,t),o=om(e,t);return r=t.verticalAlign===si.TOP?a.y:t.verticalAlign===si.BOTTOM?a.y+(i-t.height):a.y+(i/2-t.height/2),{x:t.textAlign===ci.LEFT?a.x:t.textAlign===ci.RIGHT?a.x+(o-t.width):a.x+(o/2-t.width/2),y:r}},KU=function(e){var t,n;return(null===e||void 0===e||null===(t=e.boundElements)||void 0===t?void 0:t.length)&&(null===e||void 0===e||null===(n=e.boundElements)||void 0===n||null===(n=n.find((function(e){return"text"===e.type})))||void 0===n?void 0:n.id)||null},qU=function(e,t){if(!e)return null;var n=KU(e);return n&&t.get(n)||null},$U=function(e,t){return e&&e.containerId&&t.get(e.containerId)||null},QU=function(e,t,n){if(!is(e))return{x:e.x+e.width/2,y:e.y+e.height/2};var r=OU.getPointsGlobalCoordinates(e,n);if(r.length%2===1){var a=Math.floor(e.points.length/2),i=OU.getPointGlobalCoordinates(e,e.points[a],n);return{x:i[0],y:i[1]}}var o=e.points.length/2-1,l=OU.getEditorMidPoints(e,n,t)[o];return l||(l=OU.getSegmentMidPoint(e,r[o],r[o+1],o+1,n)),{x:l[0],y:l[1]}},JU=function(e){var t=li,n=li;return"ellipse"===e.type&&(t+=e.width/2*(1-Math.sqrt(2)/2),n+=e.height/2*(1-Math.sqrt(2)/2)),"diamond"===e.type&&(t+=e.width/4,n+=e.height/4),{x:e.x+t,y:e.y+n}},em=function(e,t){return!t||is(t)?e.angle:t.angle},tm=function(e,t){return e.some((function(e){if(vs(e)){var n=$U(e,t);return!is(n)}return!1}))},nm=function(e,t){return e.some((function(e){if(vs(e)){var n=$U(e,t);return!is(n)}return Ql(e)}))},rm=new Set(["rectangle","ellipse","diamond","arrow"]),am=function(e){return rm.has(e.type)},im=function(e,t){e=Math.ceil(e);var n=2*li;return"ellipse"===t?Math.round((e+n)/Math.sqrt(2)*2):"arrow"===t?e+8*n:"diamond"===t?2*(e+n):e+n},om=function(e,t){var n=e.width;if(is(e)){var r,a=11*(null!==(r=null===t||void 0===t?void 0:t.fontSize)&&void 0!==r?r:wa);return Math.max(.7*n,a)}return"ellipse"===e.type?Math.round(n/2*Math.sqrt(2))-2*li:"diamond"===e.type?Math.round(n/2)-2*li:n-2*li},lm=function(e,t){var n=e.height;return is(e)?n-8*li*2<=0?t.height:n:"ellipse"===e.type?Math.round(n/2*Math.sqrt(2))-2*li:"diamond"===e.type?Math.round(n/2)-2*li:n-2*li},sm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n\n";return e.reduce((function(e,t){return Ql(t)&&e.push(t.text),e}),[]).join(t)},cm=function(e){return(e=e.trim())&&(0,rr.J)(Vl(e))},um=function(e){return!!(null!==e&&void 0!==e&&e.includes(location.origin)||null!==e&&void 0!==e&&e.startsWith("/"))},dm=function(e){if((e=cm(e)).startsWith("/"))return"".concat(location.origin).concat(e);try{new URL(e)}catch(t){return"about:blank"}return e},fm=[],hm=function(e){return fm=fm.concat(e),e},pm='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',vm='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',Um="data:".concat(La.svg,",").concat(encodeURIComponent("".concat(pm).concat(vm,"</svg>"))),mm="data:".concat(La.svg,",").concat(encodeURIComponent("".concat(pm).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(vm,"</svg>"))),gm=function(e){e&&(e.style.cursor="")},bm=function(e,t){e&&(e.style.cursor=t)},ym=function(e,t){(!NU||NU.theme!==t)&&function(){var e=t===ya.DARK;(NU=document.createElement("canvas")).theme=t,NU.height=20,NU.width=20;var n=NU.getContext("2d");n.lineWidth=1,n.beginPath(),n.arc(NU.width/2,NU.height/2,5,0,2*Math.PI),n.fillStyle=e?Mn.black:Mn.white,n.fill(),n.strokeStyle=e?Mn.white:Mn.black,n.stroke(),FU=NU.toDataURL(La.svg)}(),bm(e,"url(".concat(FU,") ").concat(10," ").concat(10,", auto"))},xm=function(e,t){if(e)if("selection"===t.activeTool.type)gm(e);else if(Ni(t))e.style.cursor=ca.GRAB;else if(Pi(t))ym(e,t.theme);else if("laser"===t.activeTool.type){var n=t.theme===ya.LIGHT?Um:mm;e.style.cursor="url(".concat(n,"), auto")}else["image","custom"].includes(t.activeTool.type)?"image"!==t.activeTool.type&&(e.style.cursor=ca.AUTO):e.style.cursor=ca.CROSSHAIR},wm=new ar.o(Date.now()),Em=0,km=function(){return Math.floor(wm.next()*Math.pow(2,31))},Sm=function(){return gl()?"id".concat(Em++):(0,Cn.Ak)()},Mm=function(e,t){var n,r,a=t.x,i=t.y,l=t.strokeColor,s=void 0===l?vi.strokeColor:l,c=t.backgroundColor,u=void 0===c?vi.backgroundColor:c,d=t.fillStyle,f=void 0===d?vi.fillStyle:d,h=t.strokeWidth,p=void 0===h?vi.strokeWidth:h,v=t.strokeStyle,U=void 0===v?vi.strokeStyle:v,m=t.roughness,g=void 0===m?vi.roughness:m,b=t.opacity,y=void 0===b?vi.opacity:b,x=t.width,w=void 0===x?0:x,E=t.height,k=void 0===E?0:E,S=t.angle,M=void 0===S?0:S,C=t.groupIds,I=void 0===C?[]:C,j=t.frameId,T=void 0===j?null:j,A=t.index,D=void 0===A?null:A,_=t.roundness,L=void 0===_?null:_,R=t.boundElements,P=void 0===R?null:R,N=t.link,F=void 0===N?null:N,O=t.locked,z=void 0===O?vi.locked:O,B=(0,o.default)(t,wr);return(a<-1e6||a>1e6||i<-1e6||i>1e6||w<-1e6||w>1e6||k<-1e6||k>1e6)&&console.error("New element size or position is too large",{x:a,y:i,width:w,height:k,points:B.points}),{id:B.id||Sm(),type:e,x:a,y:i,width:w,height:k,angle:M,strokeColor:s,backgroundColor:u,fillStyle:f,strokeWidth:p,strokeStyle:U,roughness:g,opacity:y,groupIds:I,frameId:T,index:D,roundness:L,seed:null!==(n=B.seed)&&void 0!==n?n:km(),version:B.version||1,versionNonce:null!==(r=B.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElements:P,updated:hl(),link:F,locked:z,customData:B.customData}},Cm=function(e){return Mm(e.type,e)},Im=function(e){return Mm("embeddable",e)},jm=function(e){return(0,v.default)({},Mm("iframe",e))},Tm=function(e){return Xx((0,v.default)((0,v.default)({},Mm("frame",e)),{},{type:"frame",name:(null===e||void 0===e?void 0:e.name)||null}),{})},Am=function(e){return Xx((0,v.default)((0,v.default)({},Mm("magicframe",e)),{},{type:"magicframe",name:(null===e||void 0===e?void 0:e.name)||null}),{})},Dm=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},_m=function(e){var t,n,r=e.fontFamily||Ea,a=e.fontSize||wa,i=e.lineHeight||Bf(r),o=Ms(e.text),l=xs(o,Bo({fontFamily:r,fontSize:a}),i),s=e.textAlign||ka,c=e.verticalAlign||Sa,u=Dm({textAlign:s,verticalAlign:c},l),d=(0,v.default)((0,v.default)({},Mm("text",e)),{},{text:o,fontSize:a,fontFamily:r,textAlign:s,verticalAlign:c,x:e.x-u.x,y:e.y-u.y,width:l.width,height:l.height,containerId:e.containerId||null,originalText:null!==(t=e.originalText)&&void 0!==t?t:o,autoResize:null===(n=e.autoResize)||void 0===n||n,lineHeight:i});return Xx(d,{})},Lm=function(e,t,n,r,a,i,o,l){var s=Math.cos(r),c=Math.sin(r);return e.e&&e.w?t+=a+o:e.e?(t+=a*(1+s),n+=a*c,t+=o*(1-s),n+=o*-c):e.w&&(t+=a*(1-s),n+=a*-c,t+=o*(1+s),n+=o*c),e.n&&e.s?n+=i+l:e.n?(t+=i*c,n+=i*(1-s),t+=l*-c,n+=l*(1+s)):e.s&&(t+=i*-c,n+=i*(1+s),t+=l*c,n+=l*(1-s)),[t,n]},Rm=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.text;if(!e.isDeleted){(t||!e.autoResize)&&(r=Ks(r,Bo(e),t?om(t,e):e.width));var a=function(e,t,n){var r=xs(n,Bo(e),e.lineHeight),a=r.width,i=r.height;e.autoResize||(a=e.width);var o,l,s=e.textAlign,c=e.verticalAlign;if("center"===s&&c===si.MIDDLE&&!e.containerId&&e.autoResize){var u=xs(e.text,Bo(e),e.lineHeight),d=Dm(e,{width:a-u.width,height:i-u.height});o=e.x-d.x,l=e.y-d.y}else{var h=_p(e,t),p=(0,f.default)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=Gp(e,a,i,!1),y=(0,f.default)(b,4),x=(v-y[0])/2,w=(U-y[1])/2,E=(m-y[2])/2,k=(g-y[3])/2,S=Lm({s:!0,e:"center"===s||"left"===s,w:"center"===s||"right"===s},e.x,e.y,e.angle,x,w,E,k),M=(0,f.default)(S,2);o=M[0],l=M[1]}return{width:a,height:i,x:Number.isFinite(o)?o:e.x,y:Number.isFinite(l)?l:e.y}}(e,n,r);return(0,v.default)({text:r},a)}},Pm=function(e){return(0,v.default)((0,v.default)({},Mm(e.type,e)),{},{points:e.points||[],pressures:e.pressures||[],simulatePressure:e.simulatePressure,lastCommittedPoint:null})},Nm=function(e){return(0,v.default)((0,v.default)({},Mm(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:null,endArrowhead:null})},Fm=function(e){return e.elbowed?(0,v.default)((0,v.default)({},Mm(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead||null,endArrowhead:e.endArrowhead||null,elbowed:!0,fixedSegments:e.fixedSegments||[],startIsSpecial:!1,endIsSpecial:!1}):(0,v.default)((0,v.default)({},Mm(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead||null,endArrowhead:e.endArrowhead||null,elbowed:!1})},Om=function(e){var t,n,r,a;return(0,v.default)((0,v.default)({},Mm("image",e)),{},{strokeColor:"transparent",status:null!==(t=e.status)&&void 0!==t?t:"pending",fileId:null!==(n=e.fileId)&&void 0!==n?n:null,scale:null!==(r=e.scale)&&void 0!==r?r:[1,1],crop:null!==(a=e.crop)&&void 0!==a?a:null})},zm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==e||"object"!=typeof e)return e;var n=Object.prototype.toString.call(e);if("[object Object]"===n){var r="function"==typeof e.constructor?Object.create(Object.getPrototypeOf(e)):{};for(var a in e)if(e.hasOwnProperty(a)){if(0===t&&("shape"===a||"canvas"===a))continue;r[a]=zm(e[a],t+1)}return r}if(Array.isArray(e)){for(var i=e.length,o=new Array(i);i--;)o[i]=zm(e[i],t+1);return o}return U.a.DEV&&"[object Object]"!==n&&"[object Array]"!==n&&n.startsWith("[object ")&&console.warn("_deepCloneElement: unexpected object type ".concat(n,". This value will not be cloned!")),e},Bm=function(e){return zm(e)},Hm=function(e,t){Object.defineProperty(e,Ii,{value:t,writable:!1,enumerable:!1})},Wm=function(){return Sm()},Xm=function(e,t,n,r){var a=Bm(n);return gl()&&Hm(a,n.id),a.id=Wm(),a.boundElements=null,a.updated=hl(),a.seed=km(),a.groupIds=function(e,t,n){for(var r=(0,h.default)(e),a=t?e.indexOf(t):-1,i=a>-1?a:e.length,o=0;o<i;o++)r[o]=n(r[o]);return r}(a.groupIds,e,(function(e){return t.has(e)||t.set(e,Wm()),t.get(e)})),r&&(a=Object.assign(a,r)),a},Vm=function(e,t){var n,r=[],a=pl(e),i=new Map,o=function(e){if(i.has(e))return i.get(e);if(a.has(e)){var t=Wm();return i.set(e,t),t}return null},l=new Map,s=(0,d.default)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value,u=zm(c);if(u.id=o(c.id),gl()&&Hm(u,c.id),null!==t&&void 0!==t&&t.randomizeSeed&&(u.seed=km(),Vx(u)),u.groupIds&&(u.groupIds=u.groupIds.map((function(e){return l.has(e)||l.set(e,Wm()),l.get(e)}))),"containerId"in u&&u.containerId){var f=o(u.containerId);u.containerId=f}if("boundElements"in u&&u.boundElements&&(u.boundElements=u.boundElements.reduce((function(e,t){var n=o(t.id);return n&&e.push((0,v.default)((0,v.default)({},t),{},{id:n})),e}),[])),"endBinding"in u&&u.endBinding){var h=o(u.endBinding.elementId);u.endBinding=h?(0,v.default)((0,v.default)({},u.endBinding),{},{elementId:h}):null}if("startBinding"in u&&u.startBinding){var p=o(u.startBinding.elementId);u.startBinding=p?(0,v.default)((0,v.default)({},u.startBinding),{},{elementId:p}):null}u.frameId&&(u.frameId=o(u.frameId)),r.push(u)}}catch(Be){s.e(Be)}finally{s.f()}return r},Gm=function(e,t){var n,r=t.shouldThrow,a=void 0!==r&&r,i=t.includeBoundTextValidation,o=void 0!==i&&i,l=t.ignoreLogs,s=t.reconciliationContext,c=[],u=function(e){return"".concat(null===e||void 0===e?void 0:e.index,":").concat(null===e||void 0===e?void 0:e.id,":").concat(null===e||void 0===e?void 0:e.type,":").concat(null===e||void 0===e?void 0:e.isDeleted,":").concat(null===e||void 0===e?void 0:e.version,":").concat(null===e||void 0===e?void 0:e.versionNonce)},h=e.map((function(e){return e.index})),p=(0,d.default)(h.entries());try{for(p.s();!(n=p.n()).done;){var v=(0,f.default)(n.value,2),U=v[0],m=v[1],g=h[U-1],b=h[U+1];if(Qm(m,g,b)||c.push('Fractional indices invariant has been compromised: "'.concat(u(e[U-1]),'", "').concat(u(e[U]),'", "').concat(u(e[U+1]),'"')),o&&ps(e[U])){var y=e[U],x=qU(y,pl(e));x&&x.index<=y.index&&c.push('Fractional indices invariant for bound elements has been compromised: "'.concat(u(x),'", "').concat(u(y),'"'))}}}catch(Be){p.e(Be)}finally{p.f()}if(c.length){var w,E=new ff,k=[];if(s&&(k.push("Additional reconciliation context:"),k.push(s.localElements.map((function(e){return u(e)}))),k.push(s.remoteElements.map((function(e){return u(e)})))),l||(w=console).error.apply(w,[c.join("\n\n"),E.stack,e.map((function(e){return u(e)}))].concat(k)),a)throw E}},Ym=function(e){return e.sort((function(e,t){return eg(e)&&eg(t)?e.index<t.index?-1:e.index>t.index?1:e.id<t.id?-1:1:1}))},Zm=function(e,t){try{var n=qm(e,t),r=Jm(e,n),a=e.map((function(e){return r.has(e)?(0,v.default)((0,v.default)({},e),r.get(e)):e}));Gm(a,{includeBoundTextValidation:!1,shouldThrow:!0,ignoreLogs:!0});var i,o=(0,d.default)(r);try{for(o.s();!(i=o.n()).done;){var l=(0,f.default)(i.value,2),s=l[0],c=l[1];Wx(s,c,!1)}}catch(Be){o.e(Be)}finally{o.f()}}catch(u){Km(e)}return e},Km=function(e){var t,n=$m(e),r=Jm(e,n),a=(0,d.default)(r);try{for(a.s();!(t=a.n()).done;){var i=(0,f.default)(t.value,2),o=i[0],l=i[1];Wx(o,l,!1)}}catch(Be){a.e(Be)}finally{a.f()}return e},qm=function(e,t){for(var n=[],r=0;r<e.length;)if(t.has(e[r].id)){for(var a=[r-1,r];++r<e.length&&t.has(e[r].id);)a.push(r);a.push(r),n.push(a)}else r++;return n},$m=function(e){for(var t,n,r=[],a=-1,i=0,o=function(t){var n,r=e[a]?e[a].index:void 0,i=null===(n=e[t-1])||void 0===n?void 0:n.index;return!r&&i||r&&i&&i>r?[i,t-1]:[r,a]},l=function(t){var n=e[i]?e[i].index:void 0;if(n&&t<i)return[n,i];for(var r=i;++r<e.length;){var a,o=null===(a=e[r])||void 0===a?void 0:a.index;if(!n&&o||n&&o&&o>n)return[o,r]}return[void 0,r]},s=0;s<e.length;){var c,u,d,h,p=e[s].index;if(c=o(s),t=(u=(0,f.default)(c,2))[0],a=u[1],d=l(s),n=(h=(0,f.default)(d,2))[0],i=h[1],Qm(p,t,n))s++;else{for(var v=[a,s];++s<e.length;){var U=e[s].index,m=o(s),g=(0,f.default)(m,2),b=g[0],y=g[1],x=l(s),w=(0,f.default)(x,2),E=w[0],k=w[1];if(Qm(U,b,E))break;t=b,a=y,n=E,i=k,v.push(s)}v.push(i),r.push(v)}}return r},Qm=function(e,t,n){return!!e&&(t&&n?t<e&&e<n:!t&&n?e<n:t&&!n?t<e:!!e)},Jm=function(e,t){var n,r=new Map,a=(0,d.default)(t);try{for(a.s();!(n=a.n()).done;)for(var i,o,l=n.value,s=l.shift(),c=l.pop(),u=pr(null===(i=e[s])||void 0===i?void 0:i.index,null===(o=e[c])||void 0===o?void 0:o.index,l.length),f=0;f<l.length;f++){var h=e[l[f]];r.set(h,{index:u[f]})}}catch(Be){a.e(Be)}finally{a.f()}return r},eg=function(e){return!!e.index},tg=function(){function e(t,n){(0,l.default)(this,e),this.deleted=t,this.inserted=n}return(0,s.default)(e,null,[{key:"create",value:function(t,n,r,a){return new e(r&&"inserted"!==a?r(t):t,r&&"deleted"!==a?r(n):n)}},{key:"calculate",value:function(t,n,r,a){if(t===n)return e.empty();var i,o={},l={},s=(0,d.default)(this.distinctKeysIterator("full",t,n));try{for(s.s();!(i=s.n()).done;){var c=i.value;o[c]=t[c],l[c]=n[c]}}catch(Be){s.e(Be)}finally{s.f()}var u=a?a(o,l):[o,l],h=(0,f.default)(u,2),p=h[0],v=h[1];return e.create(p,v,r)}},{key:"empty",value:function(){return new e({},{})}},{key:"isEmpty",value:function(e){return!Object.keys(e.deleted).length&&!Object.keys(e.inserted).length}},{key:"mergeObjects",value:function(e,t,n){for(var r=(0,v.default)({},e),a=0,i=Object.keys(n);a<i.length;a++){delete r[i[a]]}return(0,v.default)((0,v.default)({},r),t)}},{key:"mergeArrays",value:function(t,n,r,a){return Object.values(e.mergeObjects(Ul(null!==t&&void 0!==t?t:[],a),Ul(null!==n&&void 0!==n?n:[],a),Ul(null!==r&&void 0!==r?r:[],a)))}},{key:"diffObjects",value:function(t,n,r,a){if((t[r]||n[r])&&("object"==typeof t[r]||"object"==typeof n[r])){var i,o,l=null!==(i=t[r])&&void 0!==i?i:{},s=null!==(o=n[r])&&void 0!==o?o:{},c=e.getLeftDifferences(l,s).reduce((function(e,t){return e[t]=a(l[t]),e}),{}),u=e.getRightDifferences(l,s).reduce((function(e,t){return e[t]=a(s[t]),e}),{});Object.keys(c).length||Object.keys(u).length?(Reflect.set(t,r,c),Reflect.set(n,r,u)):(Reflect.deleteProperty(t,r),Reflect.deleteProperty(n,r))}}},{key:"diffArrays",value:function(t,n,r,a){if((t[r]||n[r])&&(Array.isArray(t[r])||Array.isArray(n[r]))){var i=Array.isArray(t[r])?t[r]:[],o=Array.isArray(n[r])?n[r]:[],l=Ul(e.getLeftDifferences(Ul(i,a),Ul(o,a))),s=Ul(e.getRightDifferences(Ul(i,a),Ul(o,a)));if(Object.keys(l).length||Object.keys(s).length){var c=i.filter((function(e){return l[a?a(e):String(e)]})),u=o.filter((function(e){return s[a?a(e):String(e)]}));Reflect.set(t,r,c),Reflect.set(n,r,u)}else Reflect.deleteProperty(t,r),Reflect.deleteProperty(n,r)}}},{key:"isLeftDifferent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!this.distinctKeysIterator("left",e,t,n).next().value}},{key:"isRightDifferent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!this.distinctKeysIterator("right",e,t,n).next().value}},{key:"getLeftDifferences",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(this.distinctKeysIterator("left",e,t,n))}},{key:"getRightDifferences",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(this.distinctKeysIterator("right",e,t,n))}},{key:"distinctKeysIterator",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,c.default)().mark((function a(){var i,o,l,s,u,f;return(0,c.default)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t!==n){a.next=2;break}return a.abrupt("return");case 2:i=[],"left"===e?i=Object.keys(t):"right"===e?i=Object.keys(n):"full"===e?i=Array.from(new Set([].concat((0,h.default)(Object.keys(t)),(0,h.default)(Object.keys(n))))):Il(e,"Unknown distinctKeysIterator's join param \"".concat(e,'"'),!0),o=(0,d.default)(i),a.prev=5,o.s();case 7:if((l=o.n()).done){a.next=17;break}if(s=l.value,u=t[s],f=n[s],u===f){a.next=15;break}if(r||"object"!=typeof u||"object"!=typeof f||null===u||null===f||!Ml(u,f)){a.next=13;break}return a.abrupt("continue",15);case 13:return a.next=15,s;case 15:a.next=7;break;case 17:a.next=22;break;case 19:a.prev=19,a.t0=a.catch(5),o.e(a.t0);case 22:return a.prev=22,o.f(),a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[5,19,22,25]])}))()}}])}(),ng=function(){function e(t){(0,l.default)(this,e),this.delta=t}return(0,s.default)(e,[{key:"inverse",value:function(){return new e(tg.create(this.delta.inserted,this.delta.deleted))}},{key:"applyTo",value:function(e,t){try{var n=this.delta.deleted,r=n.selectedElementIds,a=void 0===r?{}:r,i=n.selectedGroupIds,l=void 0===i?{}:i,s=this.delta.inserted,c=s.selectedElementIds,u=void 0===c?{}:c,d=s.selectedGroupIds,f=void 0===d?{}:d,h=s.selectedLinearElementId,p=s.editingLinearElementId,m=(0,o.default)(s,Er),g=tg.mergeObjects(e.selectedElementIds,u,a),b=tg.mergeObjects(e.selectedGroupIds,f,l),y=h&&t.has(h)?new OU(t.get(h)):null,x=p&&t.has(p)?new OU(t.get(p)):null,w=(0,v.default)((0,v.default)((0,v.default)({},e),m),{},{selectedElementIds:g,selectedGroupIds:b,selectedLinearElement:typeof h<"u"?y:e.selectedLinearElement,editingLinearElement:typeof p<"u"?x:e.editingLinearElement});return[w,this.filterInvisibleChanges(e,w,t)]}catch(a){if(console.error("Couldn't apply appstate change",a),U.a.DEV||U.a.MODE===ha.TEST)throw a;return[e,!1]}}},{key:"isEmpty",value:function(){return tg.isEmpty(this.delta)}},{key:"filterInvisibleChanges",value:function(t,n,r){var a=lg(t),i=lg(n),o=tg.isRightDifferent(e.stripElementsProps(a),e.stripElementsProps(i)),l=tg.isRightDifferent(e.stripStandaloneProps(a),e.stripStandaloneProps(i));if(!o&&!l)return!1;var s={value:o};if(l){var c=tg.getRightDifferences(e.stripStandaloneProps(a),e.stripStandaloneProps(i)),u=new Set;(c.includes("editingGroupId")||c.includes("selectedGroupIds"))&&(u=function(e){var t,n=new Set,r=(0,d.default)(e);try{for(r.s();!(t=r.n()).done;){var a=(0,f.default)(t.value,2)[1];if(!a.isDeleted){var i,o,l=(0,d.default)(null!==(i=a.groupIds)&&void 0!==i?i:[]);try{for(l.s();!(o=l.n()).done;){var s=o.value;n.add(s)}}catch(Be){l.e(Be)}finally{l.f()}}}}catch(Be){r.e(Be)}finally{r.f()}return n}(r));var h,p=(0,d.default)(c);try{for(p.s();!(h=p.n()).done;){var v=h.value;switch(v){case"selectedElementIds":n[v]=e.filterSelectedElements(n[v],r,s);break;case"selectedGroupIds":n[v]=e.filterSelectedGroups(n[v],u,s);break;case"croppingElementId":var U=n[v],m=U&&r.get(U);m&&!m.isDeleted?s.value=!0:n[v]=null;break;case"editingGroupId":var g=n[v];g?u.has(g)?s.value=!0:n[v]=null:s.value=!0;break;case"selectedLinearElementId":case"editingLinearElementId":var b=e.convertToAppStateKey(v),y=n[b];if(y){var x=r.get(y.elementId);x&&!x.isDeleted?s.value=!0:n[b]=null}else s.value=!0;break;default:Il(v,"Unknown ObservedElementsAppState's key \"".concat(v,'"'),!0)}}}catch(Be){p.e(Be)}finally{p.f()}}return s.value}}],[{key:"calculate",value:function(t,n){return new e(tg.calculate(t,n,void 0,e.postProcess))}},{key:"empty",value:function(){return new e(tg.create({},{}))}},{key:"postProcess",value:function(e,t){try{tg.diffObjects(e,t,"selectedElementIds",(function(e){return!0})),tg.diffObjects(e,t,"selectedGroupIds",(function(e){return null!==e&&void 0!==e&&e}))}catch(n){if(console.error("Couldn't postprocess appstate change deltas."),U.a.DEV||U.a.MODE===ha.TEST)throw n}finally{return[e,t]}}},{key:"convertToAppStateKey",value:function(e){switch(e){case"selectedLinearElementId":return"selectedLinearElement";case"editingLinearElementId":return"editingLinearElement"}}},{key:"filterSelectedElements",value:function(e,t,n){var r=Object.keys(e);if(!r.length)return n.value=!0,e;for(var a=(0,v.default)({},e),i=0,o=r;i<o.length;i++){var l=o[i],s=t.get(l);s&&!s.isDeleted?n.value=!0:delete a[l]}return a}},{key:"filterSelectedGroups",value:function(e,t,n){if(!Object.keys(e).length)return n.value=!0,e;for(var r=(0,v.default)({},e),a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];t.has(o)?n.value=!0:delete r[o]}return r}},{key:"stripElementsProps",value:function(e){e.editingGroupId,e.selectedGroupIds,e.selectedElementIds,e.editingLinearElementId,e.selectedLinearElementId,e.croppingElementId;return(0,o.default)(e,kr)}},{key:"stripStandaloneProps",value:function(e){e.name,e.viewBackgroundColor;return(0,o.default)(e,Sr)}}])}(),rg=function(){function e(t,n,r){(0,l.default)(this,e),this.added=t,this.removed=n,this.updated=r}return(0,s.default)(e,[{key:"inverse",value:function(){var t=function(e){var t,n=new Map,r=(0,d.default)(e.entries());try{for(r.s();!(t=r.n()).done;){var a=(0,f.default)(t.value,2),i=a[0],o=a[1];n.set(i,tg.create(o.inserted,o.deleted))}}catch(Be){r.e(Be)}finally{r.f()}return n},n=t(this.added),r=t(this.removed),a=t(this.updated);return e.create(r,n,a)}},{key:"isEmpty",value:function(){return 0===this.added.size&&0===this.removed.size&&0===this.updated.size}},{key:"applyLatestChanges",value:function(t){var n=function(e){return function(t){for(var n={},r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];if("boundElements"===i)n[i]=t[i];else n[i]=e[i]}return n}},r=function(e){var r,a=new Map,i=(0,d.default)(e.entries());try{for(i.s();!(r=i.n()).done;){var o=(0,f.default)(r.value,2),l=o[0],s=o[1],c=t.get(l);if(c){var u=tg.create(s.deleted,s.inserted,n(c),"inserted");a.set(l,u)}else a.set(l,s)}}catch(Be){i.e(Be)}finally{i.f()}return a},a=r(this.added),i=r(this.removed),o=r(this.updated);return e.create(a,i,o,{shouldRedistribute:!0})}},{key:"applyTo",value:function(t,n){var r,a=Bl(new Map(t)),i={containsVisibleDifference:!1,containsZindexDifference:!1};try{var o=e.createApplier(a,n,i),l=o(this.added),s=o(this.removed),c=o(this.updated),u=this.resolveConflicts(t,a);r=new Map([].concat((0,h.default)(l),(0,h.default)(s),(0,h.default)(c),(0,h.default)(u)))}catch(o){if(console.error("Couldn't apply elements change",o),U.a.DEV||U.a.MODE===ha.TEST)throw o;return[t,!0]}try{e.redrawTextBoundingBoxes(a,r),a=e.reorderElements(a,r,i),e.redrawBoundArrows(a,r)}catch(o){if(console.error("Couldn't mutate elements after applying elements change",o),U.a.DEV||U.a.MODE===ha.TEST)throw o}finally{return[a,i.containsVisibleDifference]}}},{key:"resolveConflicts",value:function(t,n){var r,a=new Map,i=function(e,r){var i,o=n.get(e.id);o&&(i=t.get(e.id)===o?Xx(o,r):Wx(o,r),a.set(i.id,i),n.set(i.id,i))},o=(0,d.default)(this.removed);try{for(o.s();!(r=o.n()).done;){var l=(0,f.default)(r.value,1)[0];e.unbindAffected(t,n,l,i)}}catch(Be){o.e(Be)}finally{o.f()}var s,c=(0,d.default)(this.added);try{for(c.s();!(s=c.n()).done;){var u=(0,f.default)(s.value,1)[0];e.rebindAffected(t,n,u,i)}}catch(Be){c.e(Be)}finally{c.f()}var h,p=(0,d.default)(Array.from(this.updated).filter((function(e){var t=(0,f.default)(e,2),n=(t[0],t[1]);return Object.keys((0,v.default)((0,v.default)({},n.deleted),n.inserted)).find((function(e){return zv.has(e)}))})));try{for(p.s();!(h=p.n()).done;){var U=(0,f.default)(h.value,1)[0],m=n.get(U);!m||m.isDeleted||e.rebindAffected(t,n,U,i)}}catch(Be){p.e(Be)}finally{p.f()}var g,b=new Map(Array.from(t).filter((function(e){var t=(0,f.default)(e,1)[0];return a.has(t)}))),y=e.calculate(b,a),x=y.added,w=y.removed,E=y.updated,k=(0,d.default)(x);try{for(k.s();!(g=k.n()).done;){var S=(0,f.default)(g.value,2),M=S[0],C=S[1];this.added.set(M,C)}}catch(Be){k.e(Be)}finally{k.f()}var I,j=(0,d.default)(w);try{for(j.s();!(I=j.n()).done;){var T=(0,f.default)(I.value,2),A=T[0],D=T[1];this.removed.set(A,D)}}catch(Be){j.e(Be)}finally{j.f()}var _,L=(0,d.default)(E);try{for(L.s();!(_=L.n()).done;){var R=(0,f.default)(_.value,2),P=R[0],N=R[1];this.updated.set(P,N)}}catch(Be){L.e(Be)}finally{L.f()}return a}}],[{key:"create",value:function(t,n,r){var a;if((arguments.length>3&&void 0!==arguments[3]?arguments[3]:{shouldRedistribute:!1}).shouldRedistribute){var i,o=new Map,l=new Map,s=new Map,c=[].concat((0,h.default)(t),(0,h.default)(n),(0,h.default)(r)),u=(0,d.default)(c);try{for(u.s();!(i=u.n()).done;){var p=(0,f.default)(i.value,2),v=p[0],m=p[1];this.satisfiesAddition(m)?o.set(v,m):this.satisfiesRemoval(m)?l.set(v,m):s.set(v,m)}}catch(Be){u.e(Be)}finally{u.f()}a=new e(o,l,s)}else a=new e(t,n,r);return(U.a.DEV||U.a.MODE===ha.TEST)&&(e.validate(a,"added",this.satisfiesAddition),e.validate(a,"removed",this.satisfiesRemoval),e.validate(a,"updated",this.satisfiesUpdate)),a}},{key:"validate",value:function(e,t,n){var r,a=(0,d.default)(e[t].entries());try{for(a.s();!(r=a.n()).done;){var i=(0,f.default)(r.value,2),o=i[0],l=i[1];if(!n(l))throw console.error('Broken invariant for "'.concat(t,'" delta, element "').concat(o,'", delta:'),l),new Error('ElementsChange invariant broken for element "'.concat(o,'".'))}}catch(Be){a.e(Be)}finally{a.f()}}},{key:"calculate",value:function(t,n){if(t===n)return e.empty();var r,a=new Map,i=new Map,o=new Map,l=(0,d.default)(t.values());try{for(l.s();!(r=l.n()).done;){var s=r.value;if(!n.get(s.id)){var c=(0,v.default)((0,v.default)({},s),{},{isDeleted:!1}),u=tg.create(c,{isDeleted:!0},e.stripIrrelevantProps);i.set(s.id,u)}}}catch(Be){l.e(Be)}finally{l.f()}var f,h=(0,d.default)(n.values());try{for(h.s();!(f=h.n()).done;){var p=f.value,U=t.get(p.id);if(U){if(U.versionNonce!==p.versionNonce){var m=tg.calculate(U,p,e.stripIrrelevantProps,e.postProcess);if("boolean"==typeof U.isDeleted&&"boolean"==typeof p.isDeleted&&U.isDeleted!==p.isDeleted){U.isDeleted&&!p.isDeleted?a.set(p.id,m):i.set(p.id,m);continue}tg.isEmpty(m)||o.set(p.id,m)}}else{var g=(0,v.default)((0,v.default)({},p),{},{isDeleted:!1}),b=tg.create({isDeleted:!0},g,e.stripIrrelevantProps);a.set(p.id,b)}}}catch(Be){h.e(Be)}finally{h.f()}return e.create(a,i,o)}},{key:"empty",value:function(){return e.create(new Map,new Map,new Map)}},{key:"applyDelta",value:function(t,n){var r,a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{containsVisibleDifference:!0,containsZindexDifference:!0},l=n.inserted,s=(l.boundElements,(0,o.default)(l,Mr));if(null!==(r=n.deleted.boundElements)&&void 0!==r&&r.length||null!==(a=n.inserted.boundElements)&&void 0!==a&&a.length){var c=tg.mergeArrays(t.boundElements,n.inserted.boundElements,n.deleted.boundElements,(function(e){return e.id}));Object.assign(s,{boundElements:c})}if(Zl(t)){var u,d=n;(d.deleted.crop||d.inserted.crop)&&Object.assign(s,{crop:null!==(u=d.inserted.crop)&&void 0!==u?u:null})}if(!i.containsVisibleDifference){s.index;var f=(0,o.default)(s,Cr),h=e.checkForVisibleDifference(t,f);i.containsVisibleDifference=h}return i.containsZindexDifference||(i.containsZindexDifference=n.deleted.index!==n.inserted.index),Xx(t,s)}},{key:"checkForVisibleDifference",value:function(e,t){return(!e.isDeleted||!1===t.isDeleted)&&(!!(e.isDeleted&&!1===t.isDeleted||!1===e.isDeleted&&t.isDeleted)||tg.isRightDifferent(e,t))}},{key:"unbindAffected",value:function(e,t,n,r){var a=function(){return e.get(n)},i=function(){return t.get(n)};Wv.unbindAffected(t,a(),r),Wv.unbindAffected(t,i(),r),Xv.unbindAffected(t,a(),r),Xv.unbindAffected(t,i(),r)}},{key:"rebindAffected",value:function(e,t,n,r){var a=function(){return e.get(n)},i=function(){return t.get(n)};Wv.unbindAffected(t,a(),r),Wv.rebindAffected(t,i(),r),Xv.unbindAffected(t,a(),(function(e,t){Ql(e)&&r(e,t)})),Xv.rebindAffected(t,i(),r)}},{key:"redrawTextBoundingBoxes",value:function(e,t){var n,r=new Map,a=(0,d.default)(t.values());try{for(a.s();!(n=a.n()).done;){var i=n.value;if(vs(i)){var o=i.containerId,l=o?e.get(o):void 0;l&&r.set(l.id,{container:l,boundText:i})}if(ps(i)){var s=KU(i),c=s?e.get(s):void 0;c&&r.set(i.id,{container:i,boundText:c})}}}catch(Be){a.e(Be)}finally{a.f()}var u,f=(0,d.default)(r.values());try{for(f.s();!(u=f.n()).done;){var h=u.value,p=h.container,v=h.boundText;p.isDeleted||v.isDeleted||VU(v,p,e,!1)}}catch(Be){f.e(Be)}finally{f.f()}}},{key:"redrawBoundArrows",value:function(e,t){var n,r=(0,d.default)(t.values());try{for(r.s();!(n=r.n()).done;){var a=n.value;!a.isDeleted&&us(a)&&yv(a,e,{changedElements:t})}}catch(Be){r.e(Be)}finally{r.f()}}},{key:"reorderElements",value:function(e,t,n){if(!n.containsZindexDifference)return e;var r=Array.from(e.values()),a=Ym([].concat(r)),i=tg.getRightDifferences(r,a,!0).reduce((function(e,n){var a=r[Number(n)];return a&&t.has(a.id)&&e.set(a.id,a),e}),new Map);return!n.containsVisibleDifference&&i.size&&(n.containsVisibleDifference=!0),pl(Zm(a,i))}},{key:"postProcess",value:function(e,t){try{tg.diffArrays(e,t,"boundElements",(function(e){return e.id}))}catch(n){if(console.error("Couldn't postprocess elements change deltas."),U.a.DEV||U.a.MODE===ha.TEST)throw n}finally{return[e,t]}}},{key:"stripIrrelevantProps",value:function(e){e.id,e.updated,e.version,e.versionNonce,e.seed;return(0,o.default)(e,Ir)}}])}();(0,m.d)(rg,"satisfiesAddition",(function(e){var t=e.deleted,n=e.inserted;return!0===t.isDeleted&&!n.isDeleted})),(0,m.d)(rg,"satisfiesRemoval",(function(e){var t=e.deleted,n=e.inserted;return!t.isDeleted&&!0===n.isDeleted})),(0,m.d)(rg,"satisfiesUpdate",(function(e){var t=e.deleted,n=e.inserted;return!!t.isDeleted==!!n.isDeleted})),(0,m.d)(rg,"createApplier",(function(e,t,n){var r=rg.createGetter(e,t,n);return function(t){return Array.from(t.entries()).reduce((function(t,a){var i=(0,f.default)(a,2),o=i[0],l=i[1],s=r(o,l.inserted);if(s){var c=rg.applyDelta(s,l,n);e.set(c.id,c),t.set(c.id,c)}return t}),new Map)}})),(0,m.d)(rg,"createGetter",(function(e,t,n){return function(r,a){var i=e.get(r);return i||(i=t.get(r))&&(n.containsZindexDifference=!0,(!1===a.isDeleted||!0!==a.isDeleted&&!1===i.isDeleted)&&(n.containsVisibleDifference=!0)),i}}));var ag=rg,ig=function(){return(0,s.default)((function e(){(0,l.default)(this,e),(0,m.d)(this,"subscribers",[])}),[{key:"on",value:function(){for(var e,t=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.flat().filter((function(e){return"function"==typeof e}));return(e=this.subscribers).push.apply(e,(0,h.default)(i)),function(){return t.off(i)}}},{key:"once",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flat().filter((function(e){return"function"==typeof e}));r.push((function(){return a()}));var a=this.on.apply(this,(0,h.default)(r));return a}},{key:"off",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.flat();this.subscribers=this.subscribers.filter((function(e){return!r.includes(e)}))}},{key:"trigger",value:function(){var e,t=(0,d.default)(this.subscribers);try{for(t.s();!(e=t.n()).done;){e.value.apply(void 0,arguments)}}catch(Be){t.e(Be)}finally{t.f()}return this}},{key:"clear",value:function(){this.subscribers=[]}}])}(),og="__observedAppState",lg=function(e){var t,n,r={name:e.name,editingGroupId:e.editingGroupId,viewBackgroundColor:e.viewBackgroundColor,selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,editingLinearElementId:(null===(t=e.editingLinearElement)||void 0===t?void 0:t.elementId)||null,selectedLinearElementId:(null===(n=e.selectedLinearElement)||void 0===n?void 0:n.elementId)||null,croppingElementId:e.croppingElementId};return Reflect.defineProperty(r,og,{value:!0,enumerable:!1}),r},sg={IMMEDIATELY:"IMMEDIATELY",NEVER:"NEVER",EVENTUALLY:"EVENTUALLY"},cg=(0,s.default)((function e(t,n){(0,l.default)(this,e),this.elementsChange=t,this.appStateChange=n})),ug=function(){return(0,s.default)((function e(){var t=this;(0,l.default)(this,e),(0,m.d)(this,"onStoreIncrementEmitter",new ig),(0,m.d)(this,"scheduledActions",new Set),(0,m.d)(this,"_snapshot",dg.empty()),(0,m.d)(this,"shouldCaptureIncrement",(function(){t.scheduleAction(sg.IMMEDIATELY)})),(0,m.d)(this,"shouldUpdateSnapshot",(function(){t.scheduleAction(sg.NEVER)})),(0,m.d)(this,"scheduleAction",(function(e){t.scheduledActions.add(e),t.satisfiesScheduledActionsInvariant()})),(0,m.d)(this,"commit",(function(e,n){try{t.scheduledActions.has(sg.IMMEDIATELY)?t.captureIncrement(e,n):t.scheduledActions.has(sg.NEVER)&&t.updateSnapshot(e,n)}finally{t.satisfiesScheduledActionsInvariant(),t.scheduledActions=new Set}})),(0,m.d)(this,"captureIncrement",(function(e,n){var r=t.snapshot,a=t.snapshot.maybeClone(e,n);if(r!==a){var i=a.meta.didElementsChange?ag.calculate(r.elements,a.elements):ag.empty(),o=a.meta.didAppStateChange?ng.calculate(r.appState,a.appState):ng.empty();(!i.isEmpty()||!o.isEmpty())&&t.onStoreIncrementEmitter.trigger(new cg(i,o)),t.snapshot=a}})),(0,m.d)(this,"updateSnapshot",(function(e,n){var r=t.snapshot.maybeClone(e,n);t.snapshot!==r&&(t.snapshot=r)})),(0,m.d)(this,"filterUncomittedElements",(function(e,n){var r,a=(0,d.default)(e.entries());try{for(a.s();!(r=a.n()).done;){var i=(0,f.default)(r.value,2),o=i[0],l=i[1];if(n.get(o)){var s=t.snapshot.elements.get(o);s?s.version<l.version&&n.set(o,s):n.delete(o)}}}catch(Be){a.e(Be)}finally{a.f()}return n})),(0,m.d)(this,"clear",(function(){t.snapshot=dg.empty(),t.scheduledActions=new Set})),(0,m.d)(this,"satisfiesScheduledActionsInvariant",(function(){if(!(t.scheduledActions.size>=0&&t.scheduledActions.size<=3)){var e='There can be at most three store actions scheduled at the same time, but there are "'.concat(t.scheduledActions.size,'".');if(console.error(e,t.scheduledActions.values()),U.a.DEV||U.a.MODE===ha.TEST)throw new Error(e)}}))}),[{key:"snapshot",get:function(){return this._snapshot},set:function(e){this._snapshot=e}}])}(),dg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{didElementsChange:!1,didAppStateChange:!1,isEmpty:!1};(0,l.default)(this,e),this.elements=t,this.appState=n,this.meta=r}return(0,s.default)(e,[{key:"isEmpty",value:function(){return this.meta.isEmpty}},{key:"maybeClone",value:function(t,n){var r=this.maybeCreateElementsSnapshot(t),a=this.maybeCreateAppStateSnapshot(n),i=!1,o=!1;return this.elements!==r&&(i=!0),this.appState!==a&&(o=!0),i||o?new e(r,a,{didElementsChange:i,didAppStateChange:o}):this}},{key:"maybeCreateAppStateSnapshot",value:function(e){if(!e)return this.appState;var t=function(e){return!!Reflect.get(e,og)}(e)?e:lg(e);return this.detectChangedAppState(t)?t:this.appState}},{key:"detectChangedAppState",value:function(e){return!Ml(this.appState,e,{selectedElementIds:Ml,selectedGroupIds:Ml})}},{key:"maybeCreateElementsSnapshot",value:function(e){return e&&this.detectChangedElements(e)?this.createElementsSnapshot(e):this.elements}},{key:"detectChangedElements",value:function(e){if(this.elements===e)return!1;if(this.elements.size!==e.size)return!0;for(var t=Array.from(e.keys()),n=t.length-1;n>=0;n--){var r=this.elements.get(t[n]),a=e.get(t[n]);if(!r||!a||r.id!==a.id||r.versionNonce!==a.versionNonce)return!0}return!1}},{key:"createElementsSnapshot",value:function(e){var t,n=new Map,r=(0,d.default)(this.elements.entries());try{for(r.s();!(t=r.n()).done;){var a=(0,f.default)(t.value,2),i=a[0],o=a[1];e.get(i)?n.set(i,o):n.set(i,Xx(o,{isDeleted:!0}))}}catch(Be){r.e(Be)}finally{r.f()}var l,s=(0,d.default)(e.entries());try{for(s.s();!(l=s.n()).done;){var c=(0,f.default)(l.value,2),u=c[0],h=c[1],p=n.get(u);(!p||p&&p.versionNonce!==h.versionNonce)&&n.set(u,Bm(h))}}catch(Be){s.e(Be)}finally{s.f()}return n}}],[{key:"empty",value:function(){return new e(new Map,lg(Ai()),{didElementsChange:!1,didAppStateChange:!1,isEmpty:!0})}}])}(),fg=new Map,hg=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,pg=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,vg=/^https:\/\/(?:www\.)?figma\.com/,Ug=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,mg=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,gg=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,bg=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,yg=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,xg=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,wg=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,Eg=/^(?:http(?:s)?:\/\/)?(?:www\.)?reddit\.com\/r\/([a-zA-Z0-9_]+)\/comments\/([a-zA-Z0-9_]+)\/([a-zA-Z0-9_]+)\/?(?:\?[^#\s]*)?(?:#[^\s]*)?$/,kg=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:www\.)?reddit\.com\/[^"']*)/i,Sg=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com","reddit.com"]),Mg=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com","reddit.com"]),Cg=function(e){return"<html><body>".concat(e,"</body></html>")},Ig=function(e){if(!e)return null;if(fg.has(e))return fg.get(e);var t=e,n=Mg.has(Tg(e,Mg)||""),r="generic",a={w:560,h:840},i=e.match(hg);if(null!==i&&void 0!==i&&i[2]){var o=i[3]?"&start=".concat(i[3]):"",l=e.includes("shorts");switch(r="video",i[1]){case"embed/":case"watch?v=":case"shorts/":default:e="https://www.youtube.com/embed/".concat(i[2],"?enablejsapi=1").concat(o);break;case"playlist?list=":case"embed/videoseries?list=":e="https://www.youtube.com/embed/videoseries?list=".concat(i[2],"&enablejsapi=1").concat(o)}return a=l?{w:315,h:560}:{w:560,h:315},fg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}}var s=e.match(pg);if(null!==s&&void 0!==s&&s[1]){var c=null===s||void 0===s?void 0:s[1],u=/^\d+$/.test(c)?void 0:new URIError("Invalid embed link format");return r="video",e="https://player.vimeo.com/video/".concat(c,"?api=1"),a={w:560,h:315},fg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,error:u,sandbox:{allowSameOrigin:n}}}if(e.match(vg))return r="generic",e="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(e)),a={w:550,h:550},fg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}};var d=e.match(yg);if(d)return e="embed"===d[1]?d[0]:d[0].replace("/v","/embed"),fg.set(t,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}};if(gg.test(e)){var h=e.match(gg)[1],p=Vl("https://twitter.com/x/status/".concat(h)),v={type:"document",srcdoc:function(e){return Cg('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(e,'"><a href="').concat(p,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},intrinsicSize:{w:480,h:480},sandbox:{allowSameOrigin:n}};return fg.set(t,v),v}if(Eg.test(e)){var U=e.match(Eg),m=(0,f.default)(U,4),g=m[1],b=m[2],y=m[3],x=Vl("https://reddit.com/r/".concat(g,"/comments/").concat(b,"/").concat(y)),w={type:"document",srcdoc:function(e){return Cg('<blockquote class="reddit-embed-bq" data-embed-theme="'.concat(e,'"><a href="').concat(x,'"></a><br></blockquote><script async="" src="https://embed.reddit.com/widgets.js" charset="UTF-8"><\/script>'))},intrinsicSize:{w:480,h:480},sandbox:{allowSameOrigin:n}};return fg.set(t,w),w}if(Ug.test(e)){var E=e.match(Ug),k=(0,f.default)(E,3),S=k[1],M=k[2],C=Vl("https://gist.github.com/".concat(S,"/").concat(M)),I={type:"document",srcdoc:function(){return Cg('\n          <script src="'.concat(C,'.js"><\/script>\n          <style type="text/css">\n            * { margin: 0px; }\n            table, .gist { height: 100%; }\n            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }\n          </style>\n        '))},intrinsicSize:{w:550,h:720},sandbox:{allowSameOrigin:n}};return fg.set(e,I),I}return fg.set(e,{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}),{link:e,intrinsicSize:a,type:r,sandbox:{allowSameOrigin:n}}},jg=function(e){var t,n;n=ql(e)?"IFrame element":e.link&&""!==(null===e||void 0===e?void 0:e.link)?e.link:"Empty Web-Embed";var r=Math.max(Math.min(e.width/2,e.width/n.length),e.width/30),a=ma.Helvetica,i=Bo({fontSize:r,fontFamily:a});return _m({x:e.x+e.width/2,y:e.y+e.height/2,strokeColor:"transparent"!==e.strokeColor?e.strokeColor:"black",backgroundColor:"transparent",fontFamily:a,fontSize:r,text:Ks(n,i,e.width-20),textAlign:"center",verticalAlign:si.MIDDLE,angle:null!==(t=e.angle)&&void 0!==t?t:0})},Tg=(hm({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},target:"Tool",label:"toolBar.embeddable",perform:function(e,t,n,r){var a=Ko(t,{type:"embeddable"});return xm(r.canvas,(0,v.default)((0,v.default)({},t),{},{activeTool:a})),{elements:e,appState:(0,v.default)((0,v.default)({},t),{},{activeTool:Ko(t,{type:"embeddable"})}),captureUpdate:sg.EVENTUALLY}}}),function(e,t){try{var n=new URL(e).hostname.replace(/^www\./,"");if(t instanceof Set){if(Sg.has(n))return n;var r=n.replace(/^([^.]+)/,"*");return Sg.has(r)?r:null}var a=t.replace(/^www\./,"");if(n===a)return a}catch(i){}return null}),Ag=function(e){var t=e.match(bg);if(t&&2===t.length)return t[1];var n=e.match(kg);if(n&&2===n.length)return n[1];var r=e.match(mg);if(r&&2===r.length)return r[1];if(wg.test(e))return"https://giphy.com/embed/".concat(wg.exec(e)[1]);var a=e.match(xg);return a&&2===a.length?a[1]:e},Dg=function(e,t){if(!e)return!1;if(null!=t)if("function"==typeof t){var n=t(e);if("boolean"==typeof n)return n}else{if("boolean"==typeof t)return t;if(t instanceof RegExp)return t.test(e);if(Array.isArray(t)){var r,a=(0,d.default)(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i instanceof RegExp){if(e.match(i))return!0}else if(Tg(e,i))return!0}}catch(Be){a.e(Be)}finally{a.f()}return!1}}return!!Tg(e,Sg)},_g=function(e,t,n){if(typeof n>"u")return e.draw(t);var r={sets:t.sets,shape:t.shape,options:(0,v.default)((0,v.default)({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},Lg=function(e,t,n,r,a){if(!r.enabled||!r.clip)return null;var i=Ux(e,a);if(i){var o=t.ownerDocument.createElementNS(ii,"g");return o.setAttributeNS(ii,"clip-path","url(#".concat(i.id,")")),n.forEach((function(e){return o.appendChild(e)})),o}return null},Rg=function(e,t,n,r,a,i,o,l){var s,c,u=i,d=o,h=_p(e,t),p=(0,f.default)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=(m-v)/2-(e.x-v),y=(g-U)/2-(e.y-U);if(Ql(e)){var x=$U(e,t);if(is(x)){var w=_p(x,t),E=(0,f.default)(w,4),k=E[0],S=E[1],M=E[2],C=E[3],I=OU.getBoundTextElementPosition(x,e,t);b=(M-k)/2-(I.x-k),y=(C-S)/2-(I.y-S),i=i+I.x-e.x,o=o+I.y-e.y}}var j=180*e.angle/Math.PI,T=r;if(e.link){var A=r.ownerDocument.createElementNS(ii,"a");A.setAttribute("href",cm(e.link)),T.appendChild(A),T=A}var D=function(e,t){gl()&&e.setAttribute("data-id",t.id),T.appendChild(e)},_=(null!==(s=null===(c=Ux(e,t))||void 0===c?void 0:c.opacity)&&void 0!==s?s:100)*e.opacity/1e4;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var L=nc.generateElementShape(e,null),R=_g(n,L,2);1!==_&&(R.setAttribute("stroke-opacity","".concat(_)),R.setAttribute("fill-opacity","".concat(_))),R.setAttribute("stroke-linecap","round"),R.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),D(Lg(e,T,[R],l.frameRendering,t)||R,e);break;case"iframe":case"embeddable":var P=nc.generateElementShape(e,l),N=_g(n,P,2),F=e.opacity/100;1!==F&&(N.setAttribute("stroke-opacity","".concat(F)),N.setAttribute("fill-opacity","".concat(F))),N.setAttribute("stroke-linecap","round"),N.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),D(N,e);var O=jg(e);Rg(O,t,n,T,a,O.x+u-e.x,O.y+d-e.y,l);var z=_g(n,P,2);for(z.setAttribute("stroke-linecap","round"),z.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")"));z.firstChild;)z.removeChild(z.firstChild);var B=jh(Math.min(e.width,e.height),e),H=Ig(dm(e.link||""));if(!1===l.renderEmbeddables||"document"===(null===H||void 0===H?void 0:H.type)){var W=r.ownerDocument.createElementNS(ii,"a");W.setAttribute("href",cm(e.link||"")),W.setAttribute("target","_blank"),W.setAttribute("rel","noopener noreferrer"),W.style.borderRadius="".concat(B,"px"),z.appendChild(W)}else{var X,V=r.ownerDocument.createElementNS(ii,"foreignObject");V.style.width="".concat(e.width,"px"),V.style.height="".concat(e.height,"px"),V.style.border="none";var G=V.ownerDocument.createElementNS(ii,"div");G.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),G.style.width="100%",G.style.height="100%";var Y=G.ownerDocument.createElement("iframe");Y.src=null!==(X=null===H||void 0===H?void 0:H.link)&&void 0!==X?X:"",Y.style.width="100%",Y.style.height="100%",Y.style.border="none",Y.style.borderRadius="".concat(B,"px"),Y.style.top="0",Y.style.left="0",Y.allowFullscreen=!0,G.appendChild(Y),V.appendChild(G),z.appendChild(V)}D(z,e);break;case"line":case"arrow":var Z=qU(e,t),K=r.ownerDocument.createElementNS(ii,"mask");if(Z){K.setAttribute("id","mask-".concat(e.id));var q=r.ownerDocument.createElementNS(ii,"rect");i=i||0,o=o||0,q.setAttribute("x","0"),q.setAttribute("y","0"),q.setAttribute("fill","#fff"),q.setAttribute("width","".concat(e.width+100+i)),q.setAttribute("height","".concat(e.height+100+o)),K.appendChild(q);var $=r.ownerDocument.createElementNS(ii,"rect"),Q=OU.getBoundTextElementPosition(e,Z,t),J=i+Q.x-e.x,ee=o+Q.y-e.y;$.setAttribute("x",J.toString()),$.setAttribute("y",ee.toString()),$.setAttribute("fill","#000"),$.setAttribute("width","".concat(Z.width)),$.setAttribute("height","".concat(Z.height)),$.setAttribute("opacity","1"),K.appendChild($)}var te=r.ownerDocument.createElementNS(ii,"g");Z&&te.setAttribute("mask","url(#mask-".concat(e.id,")")),te.setAttribute("stroke-linecap","round"),nc.generateElementShape(e,l).forEach((function(t){var r=_g(n,t,2);1!==_&&(r.setAttribute("stroke-opacity","".concat(_)),r.setAttribute("fill-opacity","".concat(_))),r.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),"line"===e.type&&Th(e.points)&&"transparent"!==e.backgroundColor&&r.setAttribute("fill-rule","evenodd"),te.appendChild(r)}));var ne=Lg(e,T,[te,K],l.frameRendering,t);ne?(D(ne,e),T.appendChild(ne)):(D(te,e),T.append(K));break;case"freedraw":var re=nc.generateElementShape(e,l),ae=re?_g(n,re,2):r.ownerDocument.createElementNS(ii,"g");1!==_&&(ae.setAttribute("stroke-opacity","".concat(_)),ae.setAttribute("fill-opacity","".concat(_))),ae.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),ae.setAttribute("stroke","none");var ie=r.ownerDocument.createElementNS(ii,"path");ie.setAttribute("fill",e.strokeColor),ie.setAttribute("d",Jh(e)),ae.appendChild(ie),D(Lg(e,T,[ae],l.frameRendering,t)||ae,e);break;case"image":var oe=Math.round(e.width),le=Math.round(e.height),se=Yl(e)&&a[e.fileId];if(se){var ce,ue=l.reuseImages,de=void 0===ue||ue,fe="image-".concat(se.id),he=e.width,pe=e.height;e.crop&&(he=(ce=Lh(e)).width,pe=ce.height,fe="image-crop-".concat(se.id,"-").concat(Lw("".concat(he,"x").concat(pe)))),de||(fe="image-".concat(e.id));var ve=r.querySelector("#".concat(fe));if(!ve){(ve=r.ownerDocument.createElementNS(ii,"symbol")).id=fe;var Ue=r.ownerDocument.createElementNS(ii,"image");Ue.setAttribute("href",se.dataURL),Ue.setAttribute("preserveAspectRatio","none"),e.crop||!de?(Ue.setAttribute("width","".concat(he)),Ue.setAttribute("height","".concat(pe))):(Ue.setAttribute("width","100%"),Ue.setAttribute("height","100%")),ve.appendChild(Ue),(T.querySelector("defs")||T).prepend(ve)}var me=r.ownerDocument.createElementNS(ii,"use");me.setAttribute("href","#".concat(fe)),l.exportWithDarkMode&&se.mimeType!==La.svg&&me.setAttribute("filter",Nh);var ge=0,be=0;if(e.crop){var ye=Lh(e),xe=ye.width,we=ye.height;ge=e.crop.x/(e.crop.naturalWidth/xe),be=e.crop.y/(e.crop.naturalHeight/we)}var Ee=b+ge,ke=y+be;me.setAttribute("width","".concat(oe+ge)),me.setAttribute("height","".concat(le+be)),me.setAttribute("opacity","".concat(_)),(1!==e.scale[0]||1!==e.scale[1])&&me.setAttribute("transform","translate(".concat(Ee," ").concat(ke,") scale(").concat(e.scale[0]," ").concat(e.scale[1],") translate(").concat(-Ee," ").concat(-ke,")"));var Se=r.ownerDocument.createElementNS(ii,"g");if(e.crop){var Me=r.ownerDocument.createElementNS(ii,"mask");Me.setAttribute("id","mask-image-crop-".concat(e.id)),Me.setAttribute("fill","#fff");var Ce=r.ownerDocument.createElementNS(ii,"rect");Ce.setAttribute("x","".concat(ge)),Ce.setAttribute("y","".concat(be)),Ce.setAttribute("width","".concat(oe)),Ce.setAttribute("height","".concat(le)),Me.appendChild(Ce),T.appendChild(Me),Se.setAttribute("mask","url(#".concat(Me.id,")"))}if(Se.appendChild(me),Se.setAttribute("transform","translate(".concat(i-ge," ").concat(o-be,") rotate(").concat(j," ").concat(Ee," ").concat(ke,")")),e.roundness){var Ie=r.ownerDocument.createElementNS(ii,"clipPath");Ie.id="image-clipPath-".concat(e.id);var je=r.ownerDocument.createElementNS(ii,"rect"),Te=jh(Math.min(e.width,e.height),e);je.setAttribute("width","".concat(e.width)),je.setAttribute("height","".concat(e.height)),je.setAttribute("rx","".concat(Te)),je.setAttribute("ry","".concat(Te)),Ie.appendChild(je),D(Ie,e),Se.setAttributeNS(ii,"clip-path","url(#".concat(Ie.id,")"))}D(Lg(e,T,[Se],l.frameRendering,t)||Se,e)}break;case"frame":case"magicframe":if(l.frameRendering.enabled&&l.frameRendering.outline){var Ae=document.createElementNS(ii,"rect");Ae.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")")),Ae.setAttribute("width","".concat(e.width,"px")),Ae.setAttribute("height","".concat(e.height,"px")),Ae.setAttribute("rx",xa.radius.toString()),Ae.setAttribute("ry",xa.radius.toString()),Ae.setAttribute("fill","none"),Ae.setAttribute("stroke",xa.strokeColor),Ae.setAttribute("stroke-width",xa.strokeWidth.toString()),D(Ae,e)}break;default:if(!Ql(e))throw new Error("Unimplemented type ".concat(e.type));var De=r.ownerDocument.createElementNS(ii,"g");1!==_&&(De.setAttribute("stroke-opacity","".concat(_)),De.setAttribute("fill-opacity","".concat(_))),De.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(j," ").concat(b," ").concat(y,")"));for(var _e=e.text.replace(/\r\n?/g,"\n").split("\n"),Le=Is(e.fontSize,e.lineHeight),Re="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,Pe=zf(e.fontFamily,e.fontSize,Le),Ne=tl(e.text)?"rtl":"ltr",Fe="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===Ne?"end":"start",Oe=0;Oe<_e.length;Oe++){var ze=r.ownerDocument.createElementNS(ii,"text");ze.textContent=_e[Oe],ze.setAttribute("x","".concat(Re)),ze.setAttribute("y","".concat(Oe*Le+Pe)),ze.setAttribute("font-family",zo(e)),ze.setAttribute("font-size","".concat(e.fontSize,"px")),ze.setAttribute("fill",e.strokeColor),ze.setAttribute("text-anchor",Fe),ze.setAttribute("style","white-space: pre;"),ze.setAttribute("direction",Ne),ze.setAttribute("dominant-baseline","alphabetic"),De.appendChild(ze)}D(Lg(e,T,[De],l.frameRendering,t)||De,e)}},Pg=function(e,t,n,r,a,i){r&&(e.filter((function(e){return!$l(e)})).forEach((function(e){if(!e.isDeleted){if(Ql(e)&&e.containerId&&t.has(e.containerId))return;try{Rg(e,t,n,r,a,e.x+i.offsetX,e.y+i.offsetY,i);var o=qU(e,t);o&&Rg(o,t,n,r,a,o.x+i.offsetX,o.y+i.offsetY,i)}catch(o){console.error(o)}}})),e.filter((function(e){return $l(e)})).forEach((function(e){if(!e.isDeleted)try{Rg(e,t,n,r,a,e.x+i.offsetX,e.y+i.offsetY,i)}catch(o){console.error(o)}})))},Ng=function(e){var t,n,r,a=null===(t=e.extensions)||void 0===t?void 0:t.reduce((function(e,t){return e.push(La[t]),e}),[]),i=null===(n=e.extensions)||void 0===n?void 0:n.reduce((function(e,t){return"jpg"===t?e.concat(".jpg",".jpeg"):e.concat(".".concat(t))}),[]);return function(){return mr.apply(this,arguments)}({description:e.description,extensions:i,mimeTypes:a,multiple:null!==(r=e.multiple)&&void 0!==r&&r,legacySetup:function(t,n,r){var a=Ho(n,500),i=function(){o(),document.addEventListener("keyup",a),document.addEventListener("pointerup",a),a()},o=function(){var n;if(null!==(n=r.files)&&void 0!==n&&n.length){var a=e.multiple?(0,h.default)(r.files):r.files[0];t(a)}};requestAnimationFrame((function(){window.addEventListener("focus",i)}));var l=window.setInterval((function(){o()}),500);return function(e){clearInterval(l),a.cancel(),window.removeEventListener("focus",i),document.removeEventListener("keyup",a),document.removeEventListener("pointerup",a),e&&(console.warn("Opening the file was canceled (legacy-fs)."),e(new uf))}}})},Fg=function(e,t){return function(){return br.apply(this,arguments)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)],mimeTypes:t.mimeTypes},t.fileHandle)},Og=function(e,t){var n,r={},a=(0,d.default)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;!i.isDeleted&&"fileId"in i&&i.fileId&&t[i.fileId]&&(r[i.fileId]=t[i.fileId])}}catch(Be){a.e(Be)}finally{a.f()}return r},zg=function(e,t,n,r){var a={type:Na.excalidraw,version:oi.excalidraw,source:Fa,elements:"local"===r?zw(e):Ow(e),appState:"local"===r?Li(t):Ri(t),files:"local"===r?Og(e,n):void 0};return JSON.stringify(a,null,2)},Bg=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n,r){var a,i,o,l=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:n.name||wi,i=zg(t,n,r,"local"),o=new Blob([i],{type:La.excalidraw}),e.next=4,Fg(o,{name:a,extension:"excalidraw",description:"Excalidraw file",fileHandle:Xw(n.fileHandle)?null:n.fileHandle});case 4:return e.t0=e.sent,e.abrupt("return",{fileHandle:e.t0});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Hg=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n){var r;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ng({description:"Excalidraw files"});case 2:return r=e.sent,e.t0=Zw,e.next=6,uE(r);case 6:return e.t1=e.sent,e.t2=t,e.t3=n,e.t4=r.handle,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Wg=function(e){return(null===e||void 0===e?void 0:e.type)===Na.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"==typeof e.appState))},Xg=function(e){return"object"==typeof e&&e&&e.type===Na.excalidrawLibrary&&(1===e.version||2===e.version)},Vg=function(e){var t={type:Na.excalidrawLibrary,version:oi.excalidrawLibrary,source:Fa,libraryItems:e};return JSON.stringify(t,null,2)},Gg=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vg(t),e.next=3,Fg(new Blob([n],{type:La.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yg=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},Zg=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i,o;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIds,r=t.files,a=t.imageCache,i=new Map,o=new Map,e.next=4,Promise.all(n.reduce((function(e,t){var n=r[t];return n&&!i.has(t)?(i.set(t,!0),e.concat((0,u.default)((0,c.default)().mark((function e(){var r,i,l;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.mimeType!==La.binary){e.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=Yg(n.dataURL),i={image:r,mimeType:n.mimeType},a.set(t,i),e.next=7,r;case 7:l=e.sent,a.set(t,(0,v.default)((0,v.default)({},i),{},{image:l})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o.set(t,!0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))())):e}),[]));case 4:return e.abrupt("return",{imageCache:a,updatedFiles:i,erroredFiles:o});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kg=function(e){return e.filter((function(e){return Yl(e)}))},qg=function(e){var t,n,r=(new DOMParser).parseFromString(e,La.svg),a=r.querySelector("svg");if(r.querySelector("parsererror")||!function(e){return"svg"===(null===e||void 0===e?void 0:e.nodeName.toLowerCase())}(a))throw new Error("Invalid SVG");a.hasAttribute("xmlns")||a.setAttribute("xmlns",ii);var i=a.getAttribute("width"),o=a.getAttribute("height");(null!==(t=i)&&void 0!==t&&t.includes("%")||"auto"===i)&&(i=null),((null===(n=o)||void 0===n?void 0:n.includes("%"))||"auto"===o)&&(o=null);var l=a.getAttribute("viewBox");if(!i||!o){if(i=i||"50",o=o||"50",l){var s,c,u=l.match(/\d+ +\d+ +(\d+(?:\.\d+)?) +(\d+(?:\.\d+)?)/);u&&(s=u,i=(c=(0,f.default)(s,3))[1],o=c[2])}a.setAttribute("width",i),a.setAttribute("height",o)}return l||a.setAttribute("viewBox","0 0 ".concat(i," ").concat(o)),a.outerHTML},$g=document.createElement("img");$g.src="data:".concat(La.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var Qg=document.createElement("img");Qg.src="data:".concat(La.svg,", ").concat(encodeURIComponent('<svg  xmlns="http://www.w3.org/2000/svg"  width="16"  height="16"  viewBox="0 0 24 24"  fill="none"  stroke="#1971c2"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-big-right-line"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 9v-3.586a1 1 0 0 1 1.707 -.707l6.586 6.586a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1 -1.707 -.707v-3.586h-6v-6h6z" /><path d="M3 9v6" /></svg>'));var Jg,eb=function(e,t,n){var r=(0,f.default)(e,4),a=r[0],i=r[1],o=r[2],l=r[3],s=14/n.zoom.value,c=14/n.zoom.value,u=14/n.zoom.value,d=(a+o)/2,h=(i+l)/2,p=6/(2*n.zoom.value),v=4/n.zoom.value,U=oo(to(o+v-p+s/2,i-v-u+p+c/2),to(d,h),t),m=(0,f.default)(U,2);return[m[0]-s/2,m[1]-c/2,s,c]},tb=function(e,t,n,r){var a=(0,f.default)(r,2),i=a[0],o=a[1],l=4/n.zoom.value,s=_p(e,t),c=(0,f.default)(s,4),u=c[0],d=c[1],h=c[2],p=c[3],v=eb([u,d,h,p],e.angle,n),U=(0,f.default)(v,4),m=U[0],g=U[1],b=U[2],y=U[3];return i>m-l&&i<m+l+b&&o>g-l&&o<g+y+l},nb=function(e,t,n,r,a){var i=(0,f.default)(r,2),o=i[0],l=i[1];return!(!e.link||n.selectedElementIds[e.id])&&(!(a||!n.viewModeEnabled||!ih(o,l,e,t))||tb(e,t,n,to(o,l)))},rb=function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),a&&e.stroke()},ab=function(e,t){return[e.width/t,e.height/t]},ib=function(e){var t=e.canvas,n=e.scale,r=e.normalizedWidth,a=e.normalizedHeight,i=e.theme,o=e.isExporting,l=e.viewBackgroundColor,s=t.getContext("2d");return s.setTransform(1,0,0,1,0,0),s.scale(n,n),o&&i===ya.DARK&&(s.filter=Ya),"string"==typeof l?(("transparent"===l||5===l.length||9===l.length||/(hsla|rgba)\(/.test(l))&&s.clearRect(0,0,r,a),s.save(),s.fillStyle=l,s.fillRect(0,0,r,a),s.restore()):s.clearRect(0,0,r,a),s},ob=function(e,t){var n=window.location.href;try{var r=new URL(n);return r.searchParams.set(Ci,e),cm(r.toString())}catch(r){console.error(r)}return cm(n)},lb=function(e,t){if(e.length>0&&sb(e)){if(1===e.length)return{id:e[0].id,type:"element"};if(e.length>1){var n=Object.keys(t.selectedGroupIds)[0];return n?{id:n,type:"group"}:{id:e[0].groupIds[0],type:"group"}}}return null},sb=function(e){return!!(1===e.length||e.length>1&&fU(e))},cb=function(e){try{var t=new URL(e);return t.searchParams.has(Ci)&&t.host===window.location.host}catch(n){return!1}},ub=function(e){try{var t=new URL(e).searchParams;if(t.has(Ci))return t.get(Ci)}catch(n){}return null},db="#dddddd",fb="#e5e5e5",hb=function(e,t,n,r){t.translate(e.x+r.scrollX,e.y+r.scrollY),t.beginPath(),t.roundRect?t.roundRect(0,0,e.width,e.height,xa.radius/r.zoom.value):t.rect(0,0,e.width,e.height),t.clip(),t.translate(-(e.x+r.scrollX),-(e.y+r.scrollY))},pb={regularLink:null,elementLink:null},vb=function(e,t,n,r){if(e.link&&!n.selectedElementIds[e.id]){var a=_p(e,r),i=(0,f.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],u=eb([o,l,s,c],e.angle,n),d=(0,f.default)(u,4),h=d[0],p=d[1],v=d[2],U=d[3],m=h+v/2,g=p+U/2;t.save(),t.translate(n.scrollX+m,n.scrollY+g),t.rotate(e.angle);var b=cb(e.link)?"elementLink":"regularLink",y=pb[b];if(!y||y.zoom!==n.zoom.value){(y=Object.assign(document.createElement("canvas"),{zoom:n.zoom.value})).width=v*window.devicePixelRatio*n.zoom.value,y.height=U*window.devicePixelRatio*n.zoom.value,pb[b]=y;var x=y.getContext("2d");x.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),x.fillStyle="#fff",x.fillRect(0,0,v,U),"elementLink"===b?x.drawImage(Qg,0,0,v,U):x.drawImage($g,0,0,v,U),x.restore()}t.drawImage(y,h-m,p-g,v,U),t.restore()}},Ub=function(e){var t,n=e.canvas,r=e.rc,a=e.elementsMap,i=e.allElementsMap,o=e.visibleElements,l=e.scale,s=e.appState,c=e.renderConfig;if(null!==n){var u=c.renderGrid,d=void 0===u||u,h=c.isExporting,p=ab(n,l),v=(0,f.default)(p,2),U=v[0],m=v[1],g=ib({canvas:n,scale:l,normalizedWidth:U,normalizedHeight:m,theme:s.theme,isExporting:h,viewBackgroundColor:s.viewBackgroundColor});g.scale(s.zoom.value,s.zoom.value),d&&function(e,t,n,r,a,i,o,l){var s=r%t-t,c=a%t-t,u=t*i.value,d=1/i.value;e.save(),1===i.value&&e.translate(s%1?0:.5,c%1?0:.5);for(var f=s;f<s+o+2*t;f+=t){var h=n>1&&Math.round(f-r)%(n*t)===0;if(h||!(u<10)){var p=Math.min(1/i.value,h?4:1);e.lineWidth=p;var v=[3*p,d+(p+d)];e.beginPath(),e.setLineDash(h?[]:v),e.strokeStyle=h?db:fb,e.moveTo(f,c-t),e.lineTo(f,Math.ceil(c+l+2*t)),e.stroke()}}for(var U=c;U<c+l+2*t;U+=t){var m=n>1&&Math.round(U-a)%(n*t)===0;if(m||!(u<10)){var g=Math.min(1/i.value,m?4:1);e.lineWidth=g;var b=[3*g,d+(g+d)];e.beginPath(),e.setLineDash(m?[]:b),e.strokeStyle=m?db:fb,e.moveTo(s-t,U),e.lineTo(Math.ceil(s+o+2*t),U),e.stroke()}}e.restore()}(g,s.gridSize,s.gridStep,s.scrollX,s.scrollY,s.zoom,U/s.zoom.value,m/s.zoom.value);var b=new Set;o.forEach((function(e){e.groupIds.length>0&&s.frameToHighlight&&s.selectedElementIds[e.id]&&(lx(e,s.frameToHighlight,a)||e.groupIds.find((function(e){return b.has(e)})))&&e.groupIds.forEach((function(e){return b.add(e)}))}));var y=new Map;o.filter((function(e){return!$l(e)})).forEach((function(e){try{var t,n=e.frameId||(null===(t=s.frameToHighlight)||void 0===t?void 0:t.id);if(Ql(e)&&e.containerId&&a.has(e.containerId))return;if(g.save(),n&&s.frameRendering.enabled&&s.frameRendering.clip){var o=kx(e,a,s);o&&Mx(e,o,s,a,y)&&hb(o,g,0,s),$h(e,a,i,r,g,c,s)}else $h(e,a,i,r,g,c,s);var l=qU(e,a);l&&$h(l,a,i,r,g,c,s),g.restore(),h||vb(e,g,s,a)}catch(n){console.error(n,e.id,e.x,e.y,e.width,e.height)}})),o.filter((function(e){return $l(e)})).forEach((function(e){try{var t,n=function(){if($h(e,a,i,r,g,c,s),$l(e)&&(h||Kl(e)&&!0!==c.embedsValidationStatus.get(e.id))&&e.width&&e.height){var t=jg(e);$h(t,a,i,r,g,c,s)}h||vb(e,g,s,a)};if((e.frameId||null!==(t=s.frameToHighlight)&&void 0!==t&&t.id)&&s.frameRendering.enabled&&s.frameRendering.clip){g.save();var o=kx(e,a,s);o&&Mx(e,o,s,a,y)&&hb(o,g,0,s),n(),g.restore()}else n()}catch(n){console.error(n)}})),null===(t=c.pendingFlowchartNodes)||void 0===t||t.forEach((function(e){try{$h(e,a,i,r,g,c,s)}catch(t){console.error(t)}}))}},mb=Wo((function(e){Ub(e)}),{trailing:!0}),gb=function(e,t){t?mb(e):Ub(e)},bb=function(e,t){if(e.width<=t)return e;var n=document.createElement("canvas").getContext("2d");n.font=Bo({fontFamily:e.fontFamily,fontSize:e.fontSize});var r=e.text;if(n.measureText(r).width>t)for(var a=r.length;a>0;a--){var i="".concat(r.slice(0,a),"...");if(n.measureText(i).width<=t){r=i;break}}return Xx(e,{text:r,width:t})},yb=function(e,t){return t=t||Ai().frameRendering,{enabled:!!e||t.enabled,outline:!e&&t.outline,name:!e&&t.name,clip:!!e||t.clip}},xb=function(e){var t,n=e.elements,r=e.exportingFrame,a=e.frameRendering,i=e.exportWithDarkMode;return t=r?Ix(n,r):a.enabled&&a.name?function(e,t){var n,r=[],a=(0,d.default)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(ts(i)){var o=_m({x:i.x,y:i.y-xa.nameOffsetY,fontFamily:ma.Helvetica,fontSize:xa.nameFontSize,lineHeight:xa.nameLineHeight,strokeColor:t.exportWithDarkMode?xa.nameColorDarkTheme:xa.nameColorLightTheme,text:Cx(i)});o.y-=o.height,o=bb(o,i.width),r.push(o)}r.push(i)}}catch(Be){a.e(Be)}finally{a.f()}return r}(n,{exportWithDarkMode:i}):n,t},wb=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n,r,a){var i,o,l,s,d,h,p,U,m,g,b,y,x,w,E,k,S,M,C,I,j,T,A,D=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.exportBackground,l=a.exportPadding,s=void 0===l?ni:l,d=a.viewBackgroundColor,h=a.exportingFrame,p=D.length>4&&void 0!==D[4]?D[4]:function(e,t){var r=document.createElement("canvas");return r.width=e*n.exportScale,r.height=t*n.exportScale,{canvas:r,scale:n.exportScale}},U=D.length>5&&void 0!==D[5]?D[5]:(0,u.default)((0,c.default)().mark((function e(){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Of.loadElementsFonts(t);case 2:case"end":return e.stop()}}),e)}))),e.next=5,U();case 5:return m=yb(null!==h&&void 0!==h?h:null,null!==(i=n.frameRendering)&&void 0!==i?i:null),h&&(m.clip=!1),g=xb({elements:t,exportingFrame:h,exportWithDarkMode:n.exportWithDarkMode,frameRendering:m}),h&&(s=0),b=Cb(h?[h]:fx(g),s),y=(0,f.default)(b,4),x=y[0],w=y[1],E=y[2],k=y[3],S=p(E,k),M=S.canvas,C=S.scale,I=void 0===C?1:C,j=Ai(),e.next=22,Zg({imageCache:new Map,fileIds:Kg(g).map((function(e){return e.fileId})),files:r});case 22:return T=e.sent,A=T.imageCache,e.abrupt("return",(gb({canvas:M,rc:Tn.A.canvas(M),elementsMap:Bl(pl(g)),allElementsMap:Bl(pl(Km(t))),visibleElements:g,scale:I,appState:(0,v.default)((0,v.default)({},n),{},{frameRendering:m,viewBackgroundColor:o?d:null,scrollX:-x+s,scrollY:-w+s,zoom:j.zoom,shouldCacheIgnoreZoom:!1,theme:n.exportWithDarkMode?ya.DARK:ya.LIGHT}),renderConfig:{canvasBackgroundColor:d,imageCache:A,renderGrid:!1,isExporting:!0,embedsValidationStatus:new Map,elementsPendingErasure:new Set,pendingFlowchartNodes:null}}),M));case 25:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Eb=function(e){return document.createComment(" ".concat(e," "))},kb=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n,r,a){var i,o,l,s,u,h,p,v,U,m,g,b,y,x,w,E,k,S,M,C,I,j,T,A,D,_,L,R,P,N,F,O,z,B,H,W,X,V,G,Y,Z,K,q,$,Q,J,ee,te;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=yb(null!==(i=null===a||void 0===a?void 0:a.exportingFrame)&&void 0!==i?i:null,null!==(o=n.frameRendering)&&void 0!==o?o:null),h=n.exportPadding,p=void 0===h?ni:h,v=n.exportWithDarkMode,U=void 0!==v&&v,m=n.viewBackgroundColor,g=n.exportScale,b=void 0===g?1:g,y=n.exportEmbedScene,x=(a||{}).exportingFrame,E=xb({elements:t,exportingFrame:w=void 0===x?null:x,exportWithDarkMode:U,frameRendering:u}),w&&(p=0),k=Cb(w?[w]:fx(E),p),S=(0,f.default)(k,4),M=S[0],C=S[1],I=S[2],j=S[3],T=-M+p,A=-C+p,(D=document.createElementNS(ii,"svg")).setAttribute("version","1.1"),D.setAttribute("xmlns",ii),D.setAttribute("viewBox","0 0 ".concat(I," ").concat(j)),D.setAttribute("width","".concat(I*b)),D.setAttribute("height","".concat(j*b)),U&&D.setAttribute("filter",Ya),_=D.ownerDocument.createElementNS(ii,"defs"),L=D.ownerDocument.createElementNS(ii,"metadata"),D.appendChild(Eb("svg-source:excalidraw")),D.appendChild(L),D.appendChild(_),y)try{Sb({metadataElement:L,payload:zg(t,n,r||{},"local")})}catch(P){console.error(P)}if((R=dx(t)).length){P=pl(t),N=(0,d.default)(R);try{for(N.s();!(F=N.n()).done;)O=F.value,(z=D.ownerDocument.createElementNS(ii,"clipPath")).setAttribute("id",O.id),B=_p(O,P),H=(0,f.default)(B,4),W=H[0],X=H[1],V=H[2],G=H[3],Y=(V-W)/2-(O.x-W),Z=(G-X)/2-(O.y-X),(K=D.ownerDocument.createElementNS(ii,"rect")).setAttribute("transform","translate(".concat(O.x+T," ").concat(O.y+A,") rotate(").concat(O.angle," ").concat(Y," ").concat(Z,")")),K.setAttribute("width","".concat(O.width)),K.setAttribute("height","".concat(O.height)),w||(K.setAttribute("rx","".concat(xa.radius)),K.setAttribute("ry","".concat(xa.radius))),z.appendChild(K),_.appendChild(z)}catch(Be){N.e(Be)}finally{N.f()}}if(null===a||void 0===a||!a.skipInliningFonts){e.next=12;break}e.t0=[],e.next=15;break;case 12:return e.next=14,Of.generateFontFaceDeclarations(t);case 14:e.t0=e.sent;case 15:return q=e.t0,$="\n      ",(Q=D.ownerDocument.createElementNS(ii,"style")).classList.add("style-fonts"),Q.appendChild(document.createTextNode("".concat($).concat(q.join($)))),_.appendChild(Q),n.exportBackground&&m&&((J=D.ownerDocument.createElementNS(ii,"rect")).setAttribute("x","0"),J.setAttribute("y","0"),J.setAttribute("width","".concat(I)),J.setAttribute("height","".concat(j)),J.setAttribute("fill",m),D.appendChild(J)),ee=Tn.A.svg(D),te=null!==(l=null===a||void 0===a?void 0:a.renderEmbeddables)&&void 0!==l&&l,e.abrupt("return",(Pg(E,Bl(pl(E)),ee,D,r||{},{offsetX:T,offsetY:A,isExporting:!0,exportWithDarkMode:U,renderEmbeddables:te,frameRendering:u,canvasBackgroundColor:m,embedsValidationStatus:te?new Map(E.filter((function(e){return ts(e)})).map((function(e){return[e.id,!0]}))):new Map,reuseImages:null===(s=null===a||void 0===a?void 0:a.reuseImages)||void 0===s||s}),D));case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Sb=function(e){var t=e.payload,n=e.metadataElement,r=vE(JSON.stringify(mE({text:t})),!0);n.appendChild(Eb("payload-type:".concat(La.excalidraw))),n.appendChild(Eb("payload-version:2")),n.appendChild(Eb("payload-start")),n.appendChild(document.createTextNode(r)),n.appendChild(Eb("payload-end"))},Mb=function(e){var t=e.svg;if(t.includes("payload-type:".concat(La.excalidraw))){var n,r=t.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/);if(!r)throw new Error("INVALID");var a="1"!==((null===(n=t.match(/<!-- payload-version:(\d+) -->/))||void 0===n?void 0:n[1])||"1");try{var i=UE(r[1],a),o=JSON.parse(i);if(!("encoded"in o)){if("type"in o&&o.type===Na.excalidraw)return i;throw new Error("FAILED")}return gE(o)}catch(i){throw console.error(i),new Error("FAILED")}}throw new Error("INVALID")},Cb=function(e,t){var n=Xp(e),r=(0,f.default)(n,4),a=r[0],i=r[1],o=r[2],l=r[3];return[a,i,Zo(a,o)+2*t,Zo(i,l)+2*t]},Ib=function(e,t,n){var r=Cb(e,t).map((function(e){return Math.trunc(e*n)})),a=(0,f.default)(r,4);return[a[2],a[3]]},jb=function(){return(0,s.default)((function e(t){(0,l.default)(this,e),this.scoreFunction=t,(0,m.d)(this,"content",[])}),[{key:"sinkDown",value:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}}},{key:"bubbleUp",value:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var a=e+1<<1,i=a-1,o=null,l=0;if(i<t){var s=this.content[i];(l=this.scoreFunction(s))<r&&(o=i)}if(a<t){var c=this.content[a];this.scoreFunction(c)<(null===o?r:l)&&(o=a)}if(null===o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}}},{key:"push",value:function(e){this.content.push(e),this.sinkDown(this.content.length-1)}},{key:"pop",value:function(){if(0===this.content.length)return null;var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e}},{key:"remove",value:function(e){if(0!==this.content.length){var t=this.content.indexOf(e),n=this.content.pop();t<this.content.length&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))}}},{key:"size",value:function(){return this.content.length}},{key:"rescoreElement",value:function(e){this.sinkDown(this.content.indexOf(e))}}])}(),Tb=40,Ab=1e6,Db=function(e,t,n,r){var a,i,l,s,c,u,h,p,m,g,b,y,x,w,E,k,S,M,C,I,j,T,A,D,_,L,R,P,N,F,O;if(e.points.length<2)return{points:null!==(a=n.points)&&void 0!==a?a:e.points};(e.x<-1e6||e.x>Ab||e.y<-1e6||e.y>Ab||e.x+(null!==(i=null===n||void 0===n||null===(l=n.points)||void 0===l||null===(l=l[(null===n||void 0===n||null===(s=n.points)||void 0===s?void 0:s.length)-1])||void 0===l?void 0:l[0])&&void 0!==i?i:0)<-1e6||e.x+(null!==(c=null===n||void 0===n||null===(u=n.points)||void 0===u||null===(u=u[(null===n||void 0===n||null===(h=n.points)||void 0===h?void 0:h.length)-1])||void 0===u?void 0:u[0])&&void 0!==c?c:0)>Ab||e.y+(null!==(p=null===n||void 0===n||null===(m=n.points)||void 0===m||null===(m=m[(null===n||void 0===n||null===(g=n.points)||void 0===g?void 0:g.length)-1])||void 0===m?void 0:m[1])&&void 0!==p?p:0)<-1e6||e.y+(null!==(b=null===n||void 0===n||null===(y=n.points)||void 0===y||null===(y=y[(null===n||void 0===n||null===(x=n.points)||void 0===x?void 0:x.length)-1])||void 0===y?void 0:y[1])&&void 0!==b?b:0)>Ab||e.x+(null!==(w=null===e||void 0===e||null===(E=e.points)||void 0===E||null===(E=E[(null===e||void 0===e||null===(k=e.points)||void 0===k?void 0:k.length)-1])||void 0===E?void 0:E[0])&&void 0!==w?w:0)<-1e6||e.x+(null!==(S=null===e||void 0===e||null===(M=e.points)||void 0===M||null===(M=M[(null===e||void 0===e||null===(C=e.points)||void 0===C?void 0:C.length)-1])||void 0===M?void 0:M[0])&&void 0!==S?S:0)>Ab||e.y+(null!==(I=null===e||void 0===e||null===(j=e.points)||void 0===j||null===(j=j[(null===e||void 0===e||null===(T=e.points)||void 0===T?void 0:T.length)-1])||void 0===j?void 0:j[1])&&void 0!==I?I:0)<-1e6||e.y+(null!==(A=null===e||void 0===e||null===(D=e.points)||void 0===D||null===(D=D[(null===e||void 0===e||null===(_=e.points)||void 0===_?void 0:_.length)-1])||void 0===D?void 0:D[1])&&void 0!==A?A:0)>Ab)&&console.error("Elbow arrow (or update) is outside reasonable bounds (> 1e6)",{arrow:e,updates:n}),e.x=Fi(e.x,-1e6,Ab),e.y=Fi(e.y,-1e6,Ab),n.points&&(n.points=n.points.map((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];return to(Fi(n,-1e6,Ab),Fi(r,-1e6,Ab))}))),U.a.PROD||(jl(!n.points||n.points.length>=2,"Updated point array length must match the arrow point length, contain exactly the new start and end points or not be specified at all (i.e. you can't add new points between start and end manually to elbow arrows)"),jl(!e.fixedSegments||e.fixedSegments.map((function(e){return e.start[0]===e.end[0]||e.start[1]===e.end[1]})).every(Boolean),"Fixed segments must be either horizontal or vertical"),jl(!n.fixedSegments||n.fixedSegments.map((function(e){return e.start[0]===e.end[0]||e.start[1]===e.end[1]})).every(Boolean),"Updates to fixed segments must be either horizontal or vertical"),jl(e.points.slice(1).map((function(t,n){return t[0]===e.points[n][0]||t[1]===e.points[n][1]})),"Elbow arrow segments must be either horizontal or vertical"));var z=n.points?n.points&&2===n.points.length?e.points.map((function(t,r){return 0===r?n.points[0]:r===e.points.length-1?n.points[1]:t})):n.points.slice():e.points.slice(),B=typeof n.startBinding<"u"?n.startBinding:e.startBinding,H=typeof n.endBinding<"u"?n.endBinding:e.endBinding,W=B&&Yb(B.elementId,t),X=H&&Yb(H.elementId,t);if(0===t.size&&ny(z)||(null===W||void 0===W?void 0:W.id)!==(null===B||void 0===B?void 0:B.elementId)||(null===X||void 0===X?void 0:X.id)!==(null===H||void 0===H?void 0:H.elementId))return Zb(z.map((function(t){return to(e.x+t[0],e.y+t[1])})),e.fixedSegments,e.startIsSpecial,e.endIsSpecial);var V=_b({x:e.x,y:e.y,startBinding:B,endBinding:H,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead,points:e.points},t,z,W,X,r),G=V.startHeading,Y=V.endHeading,Z=V.startGlobalPoint,K=V.endGlobalPoint,q=V.hoveredStartElement,$=V.hoveredEndElement,Q=(0,o.default)(V,Tr),J=null!==(L=null!==(R=n.fixedSegments)&&void 0!==R?R:e.fixedSegments)&&void 0!==L?L:[];return n.points||n.fixedSegments||n.startBinding||n.endBinding?n.startBinding===e.startBinding&&n.endBinding===e.endBinding&&(null!==(P=n.points)&&void 0!==P?P:[]).every((function(t,n){var r;return io(t,null!==(r=e.points[n])&&void 0!==r?r:to(1/0,1/0))}))?{}:0===J.length?Zb(Kb(qb(null!==(N=Lb(e,(0,v.default)({startHeading:G,endHeading:Y,startGlobalPoint:Z,endGlobalPoint:K,hoveredStartElement:q,hoveredEndElement:$},Q)))&&void 0!==N?N:[])),J,null,null):(null!==(F=null===(O=e.fixedSegments)||void 0===O?void 0:O.length)&&void 0!==F?F:0)>J.length?function(e,t,n){var r,a,i,l,s,c,u,d,f=t.map((function(e){return e.index})),h=(null!==(r=null===(a=e.fixedSegments)||void 0===a?void 0:a.map((function(e){return e.index})))&&void 0!==r?r:[]).findIndex((function(e){return!f.includes(e)}));if(-1===h||null===(i=e.fixedSegments)||void 0===i||!i[h])return{points:e.points};var p=e.fixedSegments[h].index,U=e.fixedSegments[h-1],m=e.fixedSegments[h+1],g=e.x+(U?U.end[0]:0),b=e.y+(U?U.end[1]:0),y=U?null:e.startBinding,x=m?null:e.endBinding,w=_b({x:g,y:b,startBinding:y,endBinding:x,startArrowhead:null,endArrowhead:null,points:e.points},n,[to(0,0),to(e.x+(null!==(l=null===m||void 0===m?void 0:m.start[0])&&void 0!==l?l:e.points[e.points.length-1][0])-g,e.y+(null!==(s=null===m||void 0===m?void 0:m.start[1])&&void 0!==s?s:e.points[e.points.length-1][1])-b)],y&&Yb(y.elementId,n),x&&Yb(x.elementId,n),{isDragging:!1}),E=w.startHeading,k=w.endHeading,S=w.startGlobalPoint,M=w.endGlobalPoint,C=w.hoveredStartElement,I=w.hoveredEndElement,j=(0,o.default)(w,jr),T=Zb(Kb(qb(null!==(c=Lb(e,(0,v.default)({startHeading:E,endHeading:k,startGlobalPoint:S,endGlobalPoint:M,hoveredStartElement:C,hoveredEndElement:I},j)))&&void 0!==c?c:[])),t,null,null).points,A=[];if(U)for(var D=0;D<U.index;D++)A.push(to(e.x+e.points[D][0],e.y+e.points[D][1]));if(T.forEach((function(t){A.push(to(e.x+(U?U.end[0]:0)+t[0],e.y+(U?U.end[1]:0)+t[1]))})),m)for(var _=m.index;_<e.points.length;_++)A.push(to(e.x+e.points[_][0],e.y+e.points[_][1]));var L=(null!==(u=null===m||void 0===m?void 0:m.index)&&void 0!==u?u:e.points.length)-(null!==(d=null===U||void 0===U?void 0:U.index)&&void 0!==d?d:0)-1,R=t.map((function(e){return e.index>p?(0,v.default)((0,v.default)({},e),{},{index:e.index-L+(T.length-1)}):e})),P=A.flatMap((function(e,t){var n=A[t-1],r=A[t+1];if(n&&r){var a=vp(e,n),i=vp(r,e);if(mp(a,i))return R.forEach((function(e){e.index>t&&(e.index-=1)})),[];if(mp(a,yp(i)))return R.forEach((function(e){e.index>t&&(e.index+=1)})),[e,e]}return[e]}));return Zb(P,R,!1,!1)}(e,J,t):n.points?n.points&&n.fixedSegments?n:function(e,t,n,r,a,i,o,l,s){for(var c,u,f=null!==(c=e.startIsSpecial)&&void 0!==c?c:null,h=null!==(u=e.endIsSpecial)&&void 0!==u?u:null,p=t.map((function(n,r){return 0===r||r===t.length-1?to(e.x+n[0],e.y+n[1]):to(e.x+e.points[r][0],e.y+e.points[r][1])})),U=n.map((function(n){return(0,v.default)((0,v.default)({},n),{},{start:to(e.x+(n.start[0]-t[0][0]),e.y+(n.start[1]-t[0][1])),end:to(e.x+(n.end[0]-t[0][0]),e.y+(n.end[1]-t[0][1]))})})),m=[],g=2+(f?1:0),b=2+(h?1:0);m.length+g<p.length-b;)m.push(p[m.length+g]);var y=p[f?2:1],x=p[f?3:2],w=gp(r),E=gp(pp(Zi(y,x)));if(l&&w===E){var k=mp(r,w?cp:up);if(m.unshift(to(E?i[0]+(k?Tb:-40):x[0],E?x[1]:i[1]+(k?Tb:-40))),m.unshift(to(w?i[0]+(k?Tb:-40):i[0],w?i[1]:i[1]+(k?Tb:-40))),!f){f=!0;var S,M=(0,d.default)(U);try{for(M.s();!(S=M.n()).done;){var C=S.value;C.index>1&&(C.index+=1)}}catch(Be){M.e(Be)}finally{M.f()}}}else if(m.unshift(to(E?i[0]:y[0],E?y[1]:i[1])),f){f=!1;var I,j=(0,d.default)(U);try{for(j.s();!(I=j.n()).done;){var T=I.value;T.index>1&&(T.index-=1)}}catch(Be){j.e(Be)}finally{j.f()}}m.unshift(i);var A=p[p.length-(h?3:2)],D=p[p.length-(h?4:3)],_=gp(a),L=Up(D,A);if(s&&_===L){var R=mp(a,_?cp:up);m.push(to(L?o[0]+(R?Tb:-40):D[0],L?D[1]:o[1]+(R?Tb:-40))),m.push(to(_?o[0]+(R?Tb:-40):o[0],_?o[1]:o[1]+(R?Tb:-40))),h||(h=!0)}else m.push(to(L?o[0]:A[0],L?A[1]:o[1])),h&&(h=!1);return m.push(o),Zb(m,U.map((function(e){var t=e.index;return{index:t,start:m[t-1],end:m[t]}})).map((function(e){return(0,v.default)((0,v.default)({},e),{},{start:to(e.start[0]-i[0],e.start[1]-i[1]),end:to(e.end[0]-i[0],e.end[1]-i[1])})})),f,h)}(e,z,J,G,Y,Z,K,q,$):function(e,t,n,r,a,i){var o,l,s,c,u=t.map((function(t,n){return null==e.fixedSegments||void 0===e.fixedSegments[n]||e.fixedSegments[n].index!==t.index||(t.start[0]!==e.fixedSegments[n].start[0]&&t.end[0]!==e.fixedSegments[n].end[0])!=(t.start[1]!==e.fixedSegments[n].start[1]&&t.end[1]!==e.fixedSegments[n].end[1])?n:null})).filter((function(e){return null!==e})).shift();if(null==u)return{points:e.points};var f=null!==(o=null===(l=e.fixedSegments)||void 0===l?void 0:l.findIndex((function(e){return 1===e.index})))&&void 0!==o?o:-1,h=null!==(s=null===(c=e.fixedSegments)||void 0===c?void 0:c.findIndex((function(t){return t.index===e.points.length-1})))&&void 0!==s?s:-1,p=co(t[u].start,t[u].end),U=p<45;if(-1===f&&1===t[u].index&&a){var m=gp(n),g=mp(n,m?cp:up)?U?p/2:Tb:U?-p/2:-40;t[u].start=to(t[u].start[0]+(m?g:0),t[u].start[1]+(m?0:g))}if(-1===h&&t[u].index===e.points.length-1&&i){var b=gp(r),y=mp(r,b?cp:up)?U?p/2:Tb:U?-p/2:-40;t[u].end=to(t[u].end[0]+(b?y:0),t[u].end[1]+(b?0:y))}var x=t.map((function(t){return(0,v.default)((0,v.default)({},t),{},{start:to(e.x+t.start[0],e.y+t.start[1]),end:to(e.x+t.end[0],e.y+t.end[1])})})),w=e.points.map((function(t,n){return to(e.x+t[0],e.y+t[1])})),E=x[u].index-1,k=x[u].index,S=x[u].start,M=x[u].end,C=w[E-1]&&!io(w[E],w[E-1])?Up(w[E-1],w[E]):void 0,I=w[k+1]&&!io(w[k],w[k+1])?Up(w[k+1],w[k]):void 0;if(void 0!==C){var j=C?1:0;w[E-1][j]=S[j]}if(w[E]=S,w[k]=M,void 0!==I){var T=I?1:0;w[k+1][T]=M[T]}var A=x.findIndex((function(e){return e.index===E}));if(-1!==A){var D=Up(x[A].end,x[A].start)?1:0;x[A].start[D]=S[D],x[A].end=S}var _=x.findIndex((function(e){return e.index===k+1}));if(-1!==_){var L=Up(x[_].end,x[_].start)?1:0;x[_].end[L]=M[L],x[_].start=M}if(-1===f&&0===E){var R=a?gp(n):Up(w[1],w[0]);w.unshift(to(R?S[0]:e.x+e.points[0][0],R?e.y+e.points[0][1]:S[1])),a&&w.unshift(to(e.x+e.points[0][0],e.y+e.points[0][1]));var P,N=(0,d.default)(x);try{for(N.s();!(P=N.n()).done;)P.value.index+=a?2:1}catch(Be){N.e(Be)}finally{N.f()}}if(-1===h&&k===e.points.length-1){var F=gp(r);w.push(to(F?M[0]:e.x+e.points[e.points.length-1][0],F?e.y+e.points[e.points.length-1][1]:M[1])),i&&w.push(to(e.x+e.points[e.points.length-1][0],e.y+e.points[e.points.length-1][1]))}return Zb(w,x.map((function(t){return(0,v.default)((0,v.default)({},t),{},{start:to(t.start[0]-e.x,t.start[1]-e.y),end:to(t.end[0]-e.x,t.end[1]-e.y)})})),!1,!1)}(e,J,G,Y,q,$):function(e,t){var n=e.fixedSegments?e.fixedSegments.slice():null;if(n){var r,a=[];e.points.map((function(t){return to(e.x+t[0],e.y+t[1])})).forEach((function(t,r,i){if(r<2)return a.push(t);var o=vp(t,i[r-1]),l=vp(i[r-1],i[r-2]);if(mp(o,l)){var s,c,u=null!==(s=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===r-1})))&&void 0!==s?s:-1,d=null!==(c=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===r})))&&void 0!==c?c:-1;-1!==d&&(n[d].start=to(i[r-2][0]-e.x,i[r-2][1]-e.y)),-1!==u&&n.splice(u,1),a.splice(-1,1),n.forEach((function(e){e.index>r-1&&(e.index-=1)}))}return a.push(t)}));var i=[];a.forEach((function(e,t,r){if(t<3)return i.push(e);if(co(r[t-2],r[t-1])<1){var a,o,l=null!==(a=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===t-2})))&&void 0!==a?a:-1,s=null!==(o=null===n||void 0===n?void 0:n.findIndex((function(e){return e.index===t-1})))&&void 0!==o?o:-1;-1!==s&&n.splice(s,1),-1!==l&&n.splice(l,1),i.splice(-2,2),n.forEach((function(e){e.index>t-2&&(e.index-=2)}));var c=Up(e,r[t-1]);return i.push(to(c?e[0]:r[t-2][0],c?r[t-2][1]:e[1]))}i.push(e)}));var o=n.filter((function(e){return 1!==e.index&&e.index!==i.length-1}));return 0===o.length?Zb(Kb(qb(null!==(r=Lb(e,_b(e,t,i.map((function(t){return to(t[0]-e.x,t[1]-e.y)})),e.startBinding&&Yb(e.startBinding.elementId,t),e.endBinding&&Yb(e.endBinding.elementId,t))))&&void 0!==r?r:[])),o,null,null):(U.a.DEV&&jl(ny(i),"Invalid elbow points with fixed segments"),Zb(i,o,e.startIsSpecial,e.endIsSpecial))}return{x:e.x,y:e.y,points:e.points,fixedSegments:e.fixedSegments,startIsSpecial:e.startIsSpecial,endIsSpecial:e.endIsSpecial}}(e,t)},_b=function(e,t,n,r,a,i){var o,l,s=lo(n[0],Yi(e.x,e.y)),c=lo(n[n.length-1],Yi(e.x,e.y)),u=r,d=a;if(null!==i&&void 0!==i&&i.isDragging){var f=Array.from(t.values());u=ey(s,t,f,null===i||void 0===i?void 0:i.zoom)||r,d=ey(c,t,f,null===i||void 0===i?void 0:i.zoom)||a}var h=Qb((0,v.default)((0,v.default)({},e),{},{elbowed:!0,points:n}),"start",null===(o=e.startBinding)||void 0===o?void 0:o.fixedPoint,s,r,u,null===i||void 0===i?void 0:i.isDragging),p=Qb((0,v.default)((0,v.default)({},e),{},{elbowed:!0,points:n}),"end",null===(l=e.endBinding)||void 0===l?void 0:l.fixedPoint,c,a,d,null===i||void 0===i?void 0:i.isDragging),U=Jb(h,p,t,u,s),m=Jb(p,h,t,d,c),g=[h[0]-2,h[1]-2,h[0]+2,h[1]+2],b=[p[0]-2,p[1]-2,p[0]+2,p[1]+2],y=u?Ch(u,Rb(U,e.startArrowhead?30:10,1)):g,x=d?Ch(d,Rb(m,e.endArrowhead?30:10,1)):b,w=Ih(h,d?Ch(d,Rb(m,Tb,Tb)):b)||Ih(p,u?Ch(u,Rb(U,Tb,Tb)):g),E=Gb(w?[g,b]:[y,x]),k=Ob(w?g:y,w?b:x,E,w?Rb(U,u||d?Tb:0,0):Rb(U,u||d?Tb-(e.startArrowhead?30:10):0,Tb),w?Rb(m,u||d?Tb:0,0):Rb(m,u||d?Tb-(e.endArrowhead?30:10):0,Tb),w,u&&Ch(u),d&&Ch(d));return{dynamicAABBs:k,startDonglePosition:Bb(k[0],U,h),startGlobalPoint:h,startHeading:U,endDonglePosition:Bb(k[1],m,p),endGlobalPoint:p,endHeading:m,commonBounds:E,hoveredStartElement:u,hoveredEndElement:d,boundsOverlap:w,startElementBounds:y,endElementBounds:x}},Lb=function(e,t){var n=t.dynamicAABBs,r=t.startDonglePosition,a=t.startGlobalPoint,i=t.startHeading,o=t.endDonglePosition,l=t.endGlobalPoint,s=t.endHeading,c=t.commonBounds,u=t.hoveredEndElement,d=zb(n,r||a,i,o||l,s,c),f=r&&Vb(r,d),h=o&&Vb(o,d),p=Vb(l,d);p&&u&&(p.closed=!0);var v=Vb(a,d);v&&e.startBinding&&(v.closed=!0);var U=f&&h&&(Ih(f.pos,n[1])||Ih(h.pos,n[0])),m=Pb(f||v,h||p,d,i||cp,s||cp,U?[]:n);if(m){var g=m.map((function(e){return[e.pos[0],e.pos[1]]}));return f&&g.unshift(a),h&&g.push(l),g}return null},Rb=function(e,t,n){switch(e){case fp:return[t,n,n,n];case cp:return[n,t,n,n];case up:return[n,n,t,n]}return[n,n,n,t]},Pb=function(e,t,n,r,a,i){var o=Fb(e.pos,t.pos),l=new jb((function(e){return e.f}));for(l.push(e);l.size()>0;){var s=l.pop();if(s&&!s.closed){if(s===t)return Nb(e,s);s.closed=!0;for(var c=Wb(s.addr,n),u=function(){var n=c[d];if(!n||n.closed)return 0;var u=fo(n.pos,s.pos,.5);if(Wl.apply(void 0,(0,h.default)(i.map((function(e){return Ih(u,e)})))))return 0;var f=$b(d),p=s.parent?pp(Zi(s.pos,s.parent.pos)):r,v=yp(p);if(mp(v,f)||ty(e.addr,n.addr)&&mp(f,r)||ty(t.addr,n.addr)&&mp(f,a))return 0;var U=p!==f,m=s.g+Fb(n.pos,s.pos)+(U?Math.pow(o,3):0),g=n.visited;if(!g||m<n.g){var b=Hb(n,t,f,a);n.visited=!0,n.parent=s,n.h=Fb(t.pos,n.pos)+b*Math.pow(o,2),n.g=m,n.f=n.g+n.h,g?l.rescoreElement(n):l.push(n)}},d=0;d<4;d++)u()}}return null},Nb=function(e,t){for(var n=t,r=[];n.parent;)r.unshift(n),n=n.parent;return r.unshift(e),r},Fb=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])},Ob=function(e,t,n,r,a,i,o,l){var s=null!==o&&void 0!==o?o:e,c=null!==l&&void 0!==l?l:t,u=null!==r&&void 0!==r?r:[0,0,0,0],d=(0,f.default)(u,4),h=d[0],p=d[1],v=d[2],U=d[3],m=null!==a&&void 0!==a?a:[0,0,0,0],g=(0,f.default)(m,4),b=g[0],y=g[1],x=g[2],w=g[3],E=[e[0]>t[2]?e[1]>t[3]||e[3]<t[1]?Math.min((s[0]+c[2])/2,e[0]-U):(s[0]+c[2])/2:e[0]>t[0]?e[0]-U:n[0]-U,e[1]>t[3]?e[0]>t[2]||e[2]<t[0]?Math.min((s[1]+c[3])/2,e[1]-h):(s[1]+c[3])/2:e[1]>t[1]?e[1]-h:n[1]-h,e[2]<t[0]?e[1]>t[3]||e[3]<t[1]?Math.max((s[2]+c[0])/2,e[2]+p):(s[2]+c[0])/2:e[2]<t[2]?e[2]+p:n[2]+p,e[3]<t[1]?e[0]>t[2]||e[2]<t[0]?Math.max((s[3]+c[1])/2,e[3]+v):(s[3]+c[1])/2:e[3]<t[3]?e[3]+v:n[3]+v],k=[t[0]>e[2]?t[1]>e[3]||t[3]<e[1]?Math.min((c[0]+s[2])/2,t[0]-w):(c[0]+s[2])/2:t[0]>e[0]?t[0]-w:n[0]-w,t[1]>e[3]?t[0]>e[2]||t[2]<e[0]?Math.min((c[1]+s[3])/2,t[1]-b):(c[1]+s[3])/2:t[1]>e[1]?t[1]-b:n[1]-b,t[2]<e[0]?t[1]>e[3]||t[3]<e[1]?Math.max((c[2]+s[0])/2,t[2]+y):(c[2]+s[0])/2:t[2]<e[2]?t[2]+y:n[2]+y,t[3]<e[1]?t[0]>e[2]||t[2]<e[0]?Math.max((c[3]+s[1])/2,t[3]+x):(c[3]+s[1])/2:t[3]<e[3]?t[3]+x:n[3]+x],S=Gb([E,k]);if(!i&&E[2]-E[0]+k[2]-k[0]>S[2]-S[0]+1e-11&&E[3]-E[1]+k[3]-k[1]>S[3]-S[1]+1e-11){var M=(k[0]+k[2])/2,C=(k[1]+k[3])/2;if(t[0]>e[2]&&e[1]>t[3]){var I=E[2]+(k[0]-E[2])/2,j=k[3]+(E[1]-k[3])/2;return Ki(Yi(e[2]-M,e[1]-C),Yi(e[0]-M,e[3]-C))>0?[[E[0],E[1],I,E[3]],[I,k[1],k[2],k[3]]]:[[E[0],j,E[2],E[3]],[k[0],k[1],k[2],j]]}if(e[2]<t[0]&&e[3]<t[1]){var T=E[2]+(k[0]-E[2])/2,A=E[3]+(k[1]-E[3])/2;return Ki(Yi(e[0]-M,e[1]-C),Yi(e[2]-M,e[3]-C))>0?[[E[0],E[1],E[2],A],[k[0],A,k[2],k[3]]]:[[E[0],E[1],T,E[3]],[T,k[1],k[2],k[3]]]}if(e[0]>t[2]&&e[3]<t[1]){var D=k[2]+(E[0]-k[2])/2,_=E[3]+(k[1]-E[3])/2;return Ki(Yi(e[2]-M,e[1]-C),Yi(e[0]-M,e[3]-C))>0?[[D,E[1],E[2],E[3]],[k[0],k[1],D,k[3]]]:[[E[0],E[1],E[2],_],[k[0],_,k[2],k[3]]]}if(e[0]>t[2]&&e[1]>t[3]){var L=k[2]+(E[0]-k[2])/2,R=k[3]+(E[1]-k[3])/2;return Ki(Yi(e[0]-M,e[1]-C),Yi(e[2]-M,e[3]-C))>0?[[L,E[1],E[2],E[3]],[k[0],k[1],L,k[3]]]:[[E[0],R,E[2],E[3]],[k[0],k[1],k[2],R]]}}return[E,k]},zb=function(e,t,n,r,a,i){var o=new Set,l=new Set;n===dp||n===cp?l.add(t[1]):o.add(t[0]),a===dp||a===cp?l.add(r[1]):o.add(r[0]),e.forEach((function(e){o.add(e[0]),o.add(e[2]),l.add(e[1]),l.add(e[3])})),o.add(i[0]),o.add(i[2]),l.add(i[1]),l.add(i[3]);var s=Array.from(l).sort((function(e,t){return e-t})),c=Array.from(o).sort((function(e,t){return e-t}));return{row:s.length,col:c.length,data:s.flatMap((function(e,t){return c.map((function(n,r){return{f:0,g:0,h:0,closed:!1,visited:!1,parent:null,addr:[r,t],pos:[n,e]}}))}))}},Bb=function(e,t,n){switch(t){case fp:return to(n[0],e[1]);case cp:return to(e[2],n[1]);case up:return to(n[0],e[3])}return to(e[0],n[1])},Hb=function(e,t,n,r){if(r===cp)switch(n){case cp:return e.pos[0]>=t.pos[0]?4:e.pos[1]===t.pos[1]?0:2;case fp:return e.pos[1]>t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case up:return e.pos[1]<t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case dp:return e.pos[1]===t.pos[1]?4:2}else if(r===dp)switch(n){case cp:return e.pos[1]===t.pos[1]?4:2;case fp:return e.pos[1]>t.pos[1]&&e.pos[0]>t.pos[0]?1:3;case up:return e.pos[1]<t.pos[1]&&e.pos[0]>t.pos[0]?1:3;case dp:return e.pos[0]<=t.pos[0]?4:e.pos[1]===t.pos[1]?0:2}else if(r===fp)switch(n){case cp:return e.pos[1]>t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case fp:return e.pos[1]>=t.pos[1]?4:e.pos[0]===t.pos[0]?0:2;case up:return e.pos[0]===t.pos[0]?4:2;case dp:return e.pos[1]>t.pos[1]&&e.pos[0]>t.pos[0]?1:3}else if(r===up)switch(n){case cp:return e.pos[1]<t.pos[1]&&e.pos[0]<t.pos[0]?1:3;case fp:return e.pos[0]===t.pos[0]?4:2;case up:return e.pos[1]<=t.pos[1]?4:e.pos[0]===t.pos[0]?0:2;case dp:return e.pos[1]<t.pos[1]&&e.pos[0]>t.pos[0]?1:3}return 0},Wb=function(e,t){var n=(0,f.default)(e,2),r=n[0],a=n[1];return[Xb([r,a-1],t),Xb([r+1,a],t),Xb([r,a+1],t),Xb([r-1,a],t)]},Xb=function(e,t){var n,r=(0,f.default)(e,2),a=r[0],i=r[1];return a<0||a>=t.col||i<0||i>=t.row?null:null!==(n=t.data[i*t.col+a])&&void 0!==n?n:null},Vb=function(e,t){for(var n=0;n<t.col;n++)for(var r=0;r<t.row;r++){var a=Xb([n,r],t);if(a&&e[0]===a.pos[0]&&e[1]===a.pos[1])return a}return null},Gb=function(e){return[Math.min.apply(Math,(0,h.default)(e.map((function(e){return e[0]})))),Math.min.apply(Math,(0,h.default)(e.map((function(e){return e[1]})))),Math.max.apply(Math,(0,h.default)(e.map((function(e){return e[2]})))),Math.max.apply(Math,(0,h.default)(e.map((function(e){return e[3]}))))]},Yb=function(e,t){var n=t.get(e);return n&&us(n)?n:null},Zb=function(e,t,n,r){var a,i=e[0][0],o=e[0][1],l=e.map((function(t){return lo(t,Ji(Zi(e[0]),-1))}));return(i<-1e6||i>Ab||o<-1e6||o>Ab||i+l[l.length-1][0]<-1e6||o+l[l.length-1][0]>Ab||i+l[l.length-1][1]<-1e6||o+l[l.length-1][1]>Ab)&&console.error("Elbow arrow normalization is outside reasonable bounds (> 1e6)",(0,v.default)({x:i,y:o,points:l},jp(l))),l=l.map((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];return to(Fi(n,-1e6,1e6),Fi(r,-1e6,1e6))})),(0,v.default)((0,v.default)({points:l,x:Fi(i,-1e6,1e6),y:Fi(o,-1e6,1e6),fixedSegments:(null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0)>0?t:null},jp(l)),{},{startIsSpecial:n,endIsSpecial:r})},Kb=function(e){if(e.length>1){var t=Math.abs(e[0][1]-e[1][1])<Math.abs(e[0][0]-e[1][0]);return e.filter((function(n,r){if(0===r||r===e.length-1)return!0;var a=e[r+1],i=Math.abs(n[1]-a[1])<Math.abs(n[0]-a[0]);return t===i?(t=i,!1):(t=i,!0)}))}return e},qb=function(e){return e.length>=4?e.filter((function(t,n){return 0===n||n===e.length-1||co(e[n-1],t)>1})):e},$b=function(e){switch(e){case 0:return fp;case 1:return cp;case 2:return up}return dp},Qb=function(e,t,n,r,a,i,o){if(o)return i?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05,r=e.x,a=e.y,i=e.width,o=e.height,l=e.angle,s=to(r+i/2-.1,a+o/2-.1),c=oo(t,s,-l),u=Fi(n*o,5,80),d=Fi(n*i,5,80);return c[0]<=r+i/2&&c[1]>s[1]-u&&c[1]<s[1]+u?oo(to(r-5,s[1]),s,l):c[1]<=a+o/2&&c[0]>s[0]-d&&c[0]<s[0]+d?oo(to(s[0],a-5),s,l):c[0]>=r+i/2&&c[1]>s[1]-u&&c[1]<s[1]+u?oo(to(r+i+5,s[1]),s,l):c[1]>=a+o/2&&c[0]>s[0]-d&&c[0]<s[0]+d?oo(to(s[0],a+o+5),s,l):t}(i,kv(e,i,t)):r;if(a){var l=Vv(n||[0,0],a);return Math.abs($p(a,l)-5)>.01?kv(e,a,t):l}return r},Jb=function(e,t,n,r,a){return function(e,t,n,r,a,i,o){var l=pp(Zi(t,e));return n&&r?Ev(i,n,a,o)?bp(n,r,e):pp(Zi(e,to(n.x+n.width/2,n.y+n.height/2))):l}(e,t,r,r&&Ch(r,Array(4).fill($p(r,e))),n,a)},ey=function(e,t,n,r){return Uv(nl(e),n,t,r,!0,!0)},ty=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ny=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.slice(1).map((function(n,r){return Math.abs(n[0]-e[r][0])<t||Math.abs(n[1]-e[r][1])<t})).every(Boolean)},ry={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1,magicframe:!1},ay=function(e,t){var n;if(!t)return null;var r=t.focus||0;return os(e)?ys(t)?(0,v.default)((0,v.default)({},t),{},{focus:r,fixedPoint:Yv(null!==(n=t.fixedPoint)&&void 0!==n?n:[0,0])}):null:(0,v.default)((0,v.default)({},t),{},{focus:r})},iy=function(e,t){var n,r,a,i,o,l,s,c,u,d,f,h,p,U,m,g={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,index:null!==(r=e.index)&&void 0!==r?r:null,isDeleted:null!==(a=e.isDeleted)&&void 0!==a&&a,id:e.id||Sm(),fillStyle:e.fillStyle||vi.fillStyle,strokeWidth:e.strokeWidth||vi.strokeWidth,strokeStyle:null!==(i=e.strokeStyle)&&void 0!==i?i:vi.strokeStyle,roughness:null!==(o=e.roughness)&&void 0!==o?o:vi.roughness,opacity:null==e.opacity?vi.opacity:e.opacity,angle:e.angle||0,x:null!==(l=null!==(s=t.x)&&void 0!==s?s:e.x)&&void 0!==l?l:0,y:null!==(c=null!==(u=t.y)&&void 0!==u?u:e.y)&&void 0!==c?c:0,strokeColor:e.strokeColor||vi.strokeColor,backgroundColor:e.backgroundColor||vi.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(d=e.seed)&&void 0!==d?d:1,groupIds:null!==(f=e.groupIds)&&void 0!==f?f:[],frameId:null!==(h=e.frameId)&&void 0!==h?h:null,roundness:e.roundness?e.roundness:"round"===e.strokeSharpness?{type:Us(e.type)?di.LEGACY:di.PROPORTIONAL_RADIUS}:null,boundElements:e.boundElementIds?e.boundElementIds.map((function(e){return{type:"arrow",id:e}})):null!==(p=e.boundElements)&&void 0!==p?p:[],updated:null!==(U=e.updated)&&void 0!==U?U:hl(),link:e.link?cm(e.link):null,locked:null!==(m=e.locked)&&void 0!==m&&m};return("customData"in e||"customData"in t)&&(g.customData="customData"in t?t.customData:e.customData),(0,v.default)((0,v.default)((0,v.default)((0,v.default)({},e),g),$x(g)),t)},oy=function(e){var t,n,r,a,i;switch((e=(0,v.default)({},e)).type){case"text":delete e.rawText;var o=e.fontSize,l=e.fontFamily;if("font"in e){var s=e.font.split(" "),c=(0,f.default)(s,2),u=c[0],d=c[1];o=parseFloat(u),l=function(e){return Object.keys(ma).includes(e)?ma[e]:Ea}(d)}var h="string"==typeof e.text&&e.text||"",p=e.lineHeight||(e.height?function(e){var t=Cs(e.text).length;return e.height/t/e.fontSize}(e):Bf(e.fontFamily));return e=iy(e,{fontSize:o,fontFamily:l,text:h,textAlign:e.textAlign||ka,verticalAlign:e.verticalAlign||Sa,containerId:null!==(t=e.containerId)&&void 0!==t?t:null,originalText:e.originalText||h,autoResize:null===(n=e.autoResize)||void 0===n||n,lineHeight:p}),!h&&!e.isDeleted&&(e=(0,v.default)((0,v.default)({},e),{},{originalText:h,isDeleted:!0}),e=Vx(e)),e;case"freedraw":return iy(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return iy(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1],crop:null!==(r=e.crop)&&void 0!==r?r:null});case"line":case"draw":var U=e,m=U.startArrowhead,g=void 0===m?null:m,b=U.endArrowhead,y=void 0===b?null:b,x=e.x,w=e.y,E=!Array.isArray(e.points)||e.points.length<2?[to(0,0),to(e.width,e.height)]:e.points;return(0!==E[0][0]||0!==E[0][1])&&(E=(a=OU.getNormalizedPoints(e)).points,x=a.x,w=a.y),iy(e,(0,v.default)({type:"draw"===e.type?"line":e.type,startBinding:ay(e,e.startBinding),endBinding:ay(e,e.endBinding),lastCommittedPoint:null,startArrowhead:g,endArrowhead:y,points:E,x:x,y:w},jp(E)));case"arrow":var k,S=e,M=S.startArrowhead,C=void 0===M?null:M,I=S.endArrowhead,j=void 0===I?"arrow":I,T=e.x,A=e.y,D=!Array.isArray(e.points)||e.points.length<2?[to(0,0),to(e.width,e.height)]:e.points;(0!==D[0][0]||0!==D[0][1])&&(D=(k=OU.getNormalizedPoints(e)).points,T=k.x,A=k.y);var _=(0,v.default)({type:e.type,startBinding:ay(e,e.startBinding),endBinding:ay(e,e.endBinding),lastCommittedPoint:null,startArrowhead:C,endArrowhead:j,points:D,x:T,y:A,elbowed:e.elbowed},jp(D));return os(e)?iy(e,(0,v.default)((0,v.default)({},_),{},{elbowed:!0,startBinding:ay(e,e.startBinding),endBinding:ay(e,e.endBinding),fixedSegments:e.fixedSegments,startIsSpecial:e.startIsSpecial,endIsSpecial:e.endIsSpecial})):iy(e,_);case"ellipse":case"rectangle":case"diamond":case"iframe":case"embeddable":return iy(e,{});case"magicframe":case"frame":return iy(e,{name:null!==(i=e.name)&&void 0!==i?i:null})}return null},ly=function(e,t){if(e.boundElements){var n=e.boundElements.slice(),r=new Set;e.boundElements=n.reduce((function(n,a){var i=t.get(a.id);if(i&&!r.has(a.id)){if(r.add(a.id),i.isDeleted)return n;n.push(a),Ql(i)&&!i.containerId&&(i.containerId=e.id)}return n}),[])}},sy=function(e,t){var n=e.containerId?t.get(e.containerId):null;if(n){if(!e.isDeleted&&n.boundElements&&!n.boundElements.find((function(t){return t.id===e.id}))){var r=(n.boundElements||(n.boundElements=[])).slice();r.push({type:"text",id:e.id}),n.boundElements=r}}else e.containerId=null},cy=function(e,t){e.frameId&&(t.get(e.frameId)||(e.frameId=null))},uy=function(e,t,n){var r=new Set,a=t?pl(t):null,i=Km((e||[]).reduce((function(e,t){if("selection"!==t.type&&!Gx(t)){var n=oy(t);if(n){var i=null===a||void 0===a?void 0:a.get(t.id);i&&i.version>n.version&&(n=Vx(n,i.version)),r.has(n.id)&&(n=(0,v.default)((0,v.default)({},n),{},{id:Sm()})),r.add(n.id),e.push(n)}}return e}),[]));if(null===n||void 0===n||!n.repairBindings)return i;var o,l=pl(i),s=(0,d.default)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.frameId&&cy(c,l),Ql(c)&&c.containerId?sy(c,l):c.boundElements&&ly(c,l),n.refreshDimensions&&Ql(c)&&Object.assign(c,Rm(c,$U(c,l),l)),as(c)&&(c.startBinding&&(!l.has(c.startBinding.elementId)||!is(c))&&(c.startBinding=null),c.endBinding&&(!l.has(c.endBinding.elementId)||!is(c))&&(c.endBinding=null))}}catch(Be){s.e(Be)}finally{s.f()}return i.map((function(e){if(os(e)&&null==e.startBinding&&null==e.endBinding&&!ny(e.points))return(0,v.default)((0,v.default)((0,v.default)({},e),Db(e,l,{points:[to(0,0),e.points[e.points.length-1]]})),{},{index:e.index});if(os(e)&&e.startBinding&&e.endBinding&&e.startBinding.elementId===e.endBinding.elementId&&e.points.length>1&&e.points.some((function(e){var t=(0,f.default)(e,2),n=t[0],r=t[1];return Math.abs(n)>1e6||Math.abs(r)>1e6}))){console.error("Fixing self-bound elbow arrow",e.id);var t=l.get(e.startBinding.elementId);return t?(0,v.default)((0,v.default)({},e),{},{x:t.x+t.width/2,y:t.y-5,width:t.width,height:t.height,points:[to(0,0),to(0,-10),to(t.width/2+5,-10),to(t.width/2+5,t.height/2+5)]}):(console.error("Bound element not found",e.startBinding.elementId),e)}return e}))},dy=function(e,t,n){var r=t[e];return void 0!==r?r:n[e]},fy={isSidebarDocked:function(e,t){var n;return["defaultSidebarDockedPreference",null!==(n=e.isSidebarDocked)&&void 0!==n?n:dy("defaultSidebarDockedPreference",e,t)]}},hy=function(e,t){var n,r,a,i,o;e=e||{};for(var l=Ai(),s={},c=0,u=Object.keys(fy);c<u.length;c++){var d=u[c];if(d in e){var h=fy[d](e,l),p=(0,f.default)(h,2),U=p[0],m=p[1];s[U]=m}}for(var g=0,b=Object.entries(l);g<b.length;g++){var y=(0,f.default)(b[g],2),x=y[0],w=y[1],E=e[x],k=t?t[x]:void 0;s[x]=void 0!==E?E:void 0!==k?k:w}return(0,v.default)((0,v.default)({},s),{},{cursorButton:(null===t||void 0===t?void 0:t.cursorButton)||"up",penDetected:null!==(n=null===t||void 0===t?void 0:t.penDetected)&&void 0!==n?n:!!e.penMode&&(null!==(r=e.penDetected)&&void 0!==r&&r),activeTool:(0,v.default)((0,v.default)({},Ko(l,s.activeTool.type&&ry[s.activeTool.type]?s.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:null!==(a=s.activeTool.locked)&&void 0!==a&&a}),zoom:{value:qv(Hi(e.zoom)?e.zoom:null!==(i=null===(o=e.zoom)||void 0===o?void 0:o.value)&&void 0!==i?i:l.zoom.value)},openSidebar:"string"==typeof e.openSidebar?{name:gi.name}:s.openSidebar,gridSize:$v(Hi(e.gridSize)?e.gridSize:Da),gridStep:Qv(Hi(e.gridStep)?e.gridStep:5),editingFrame:null})},py=function(e,t,n,r){return{elements:uy(null===e||void 0===e?void 0:e.elements,n,r),appState:hy(null===e||void 0===e?void 0:e.appState,t||null),files:(null===e||void 0===e?void 0:e.files)||{}}},vy=function(e){var t=uy(Pw(e.elements),null);return t.length?(0,v.default)((0,v.default)({},e),{},{elements:t}):null},Uy=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[],a=(0,d.default)(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(Array.isArray(i)){var o=vy({status:n,elements:i,id:Sm(),created:Date.now()});o&&r.push(o)}else{var l=i,s=vy((0,v.default)((0,v.default)({},l),{},{id:l.id||Sm(),status:l.status||n,created:l.created||Date.now()}));s&&r.push(s)}}}catch(Be){a.e(Be)}finally{a.f()}return r},my=32,gy=12,by=256,yy="NOT_SPREADSHEET",xy="VALID_SPREADSHEET",wy=function(e){var t=/^([-+]?)[$\u20ac\xa3\xa5\u20a9]?([-+]?)([\d.,]+)[%]?$/.exec(e);return t?parseFloat("".concat((t[1]||t[2])+t[3]).replace(/,/g,"")):null},Ey=function(e,t){return e.slice(1).every((function(e){return null!==wy(e[t])}))},ky=function(e){var t=e[0].length;if(t>2)return{type:yy,reason:"More than 2 columns"};if(1===t){if(!Ey(e,0))return{type:yy,reason:"Value is not numeric"};var n=null===wy(e[0][0]),r=(n?e.slice(1):e).map((function(e){return wy(e[0])}));return r.length<2?{type:yy,reason:"Less than two rows"}:{type:xy,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var a=Ey(e,0),i=Ey(e,1);if(!a&&!i)return{type:yy,reason:"Value is not numeric"};var o=i?[0,1]:[1,0],l=(0,f.default)(o,2),s=l[0],c=l[1],u=null===wy(e[0][c]),d=u?e.slice(1):e;return d.length<2?{type:yy,reason:"Less than 2 rows"}:{type:xy,spreadsheet:{title:u?e[0][c]:null,labels:d.map((function(e){return e[s]})),values:d.map((function(e){return wy(e[c])}))}}},Sy=(Jg=4,[Or.cyan[Jg],Or.blue[Jg],Or.violet[Jg],Or.grape[Jg],Or.pink[Jg],Or.green[Jg],Or.teal[Jg],Or.yellow[Jg],Or.orange[Jg],Or.red[Jg]]),My={fillStyle:"hachure",fontFamily:Ea,fontSize:wa,opacity:100,roughness:1,strokeColor:Or.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:si.MIDDLE,locked:!1},Cy=function(e){return{chartWidth:44*e.values.length+gy,chartHeight:280}},Iy=function(e,t,n,r,a,i){var o=Cy(e),l=o.chartWidth,s=o.chartHeight,c=e.title?_m((0,v.default)((0,v.default)({backgroundColor:a,groupIds:[r]},My),{},{text:e.title,x:t+l/2,y:n-by-24-wa,roundness:null,textAlign:"center"})):null,u=i?Cm((0,v.default)((0,v.default)({backgroundColor:a,groupIds:[r]},My),{},{type:"rectangle",x:t,y:n-s,width:l,height:s,strokeColor:Or.black,fillStyle:"solid",opacity:6})):null;return[].concat((0,h.default)(u?[u]:[]),(0,h.default)(c?[c]:[]),(0,h.default)(function(e,t,n,r,a){var i;return(null===(i=e.labels)||void 0===i?void 0:i.map((function(e,i){return _m((0,v.default)((0,v.default)({groupIds:[r],backgroundColor:a},My),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*i+24,y:n+6,width:my,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,r,a)),(0,h.default)(function(e,t,n,r,a){var i=_m((0,v.default)((0,v.default)({groupIds:[r],backgroundColor:a},My),{},{x:t-gy,y:n-gy,text:"0",textAlign:"right"}));return[i,_m((0,v.default)((0,v.default)({groupIds:[r],backgroundColor:a},My),{},{x:t-gy,y:n-by-i.height/2,text:Math.max.apply(Math,(0,h.default)(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,r,a)),(0,h.default)(function(e,t,n,r,a){var i=Cy(e),o=i.chartWidth,l=i.chartHeight;return[Nm((0,v.default)((0,v.default)({backgroundColor:a,groupIds:[r]},My),{},{type:"line",x:t,y:n,width:o,points:[to(0,0),to(o,0)]})),Nm((0,v.default)((0,v.default)({backgroundColor:a,groupIds:[r]},My),{},{type:"line",x:t,y:n,height:l,points:[to(0,0),to(0,-l)]})),Nm((0,v.default)((0,v.default)({backgroundColor:a,groupIds:[r]},My),{},{type:"line",x:t,y:n-by-gy,strokeStyle:"dotted",width:o,opacity:50,points:[to(0,0),to(o,0)]}))]}(e,t,n,r,a)))},jy=function(e,t,n,r){return"line"===e?function(e,t,n){var r,a=Math.max.apply(Math,(0,h.default)(e.values)),i=Sm(),o=Sy[Math.floor(Math.random()*Sy.length)],l=0,s=[],c=(0,d.default)(e.values);try{for(c.s();!(r=c.n()).done;){var u=r.value,f=44*l,p=-u/a*by;s.push([f,p]),l++}}catch(Be){c.e(Be)}finally{c.f()}var m=Math.max.apply(Math,(0,h.default)(s.map((function(e){return e[0]})))),g=Math.max.apply(Math,(0,h.default)(s.map((function(e){return e[1]})))),b=Math.min.apply(Math,(0,h.default)(s.map((function(e){return e[0]})))),y=Math.min.apply(Math,(0,h.default)(s.map((function(e){return e[1]})))),x=Nm((0,v.default)((0,v.default)({backgroundColor:o,groupIds:[i]},My),{},{type:"line",x:t+gy+16,y:n-gy,height:g-y,width:m-b,strokeWidth:2,points:s})),w=e.values.map((function(e,r){var l=44*r+6,s=-e/a*by+6;return Cm((0,v.default)((0,v.default)({backgroundColor:o,groupIds:[i]},My),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+l+16,y:n+s-24,width:gy,height:gy}))})),E=e.values.map((function(e,r){var l=44*r+6,s=e/a*by+6+gy;return Nm((0,v.default)((0,v.default)({backgroundColor:o,groupIds:[i]},My),{},{type:"line",x:t+l+16+6,y:n-s,height:s,strokeStyle:"dotted",opacity:50,points:[to(0,0),to(0,s)]}))}));return[].concat((0,h.default)(Iy(e,t,n,i,o,U.a.DEV)),[x],(0,h.default)(E),(0,h.default)(w))}(t,n,r):function(e,t,n){var r=Math.max.apply(Math,(0,h.default)(e.values)),a=Sm(),i=Sy[Math.floor(Math.random()*Sy.length)];return[].concat((0,h.default)(e.values.map((function(e,o){var l=e/r*by;return Cm((0,v.default)((0,v.default)({backgroundColor:i,groupIds:[a]},My),{},{type:"rectangle",x:t+44*o+gy,y:n-l-gy,width:my,height:l}))}))),(0,h.default)(Iy(e,t,n,a,i,U.a.DEV)))}(t,n,r)},Ty=("clipboard"in navigator&&navigator.clipboard,"clipboard"in navigator&&"writeText"in navigator.clipboard),Ay="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Dy=function(e){return!(![Na.excalidraw,Na.excalidrawClipboard,Na.excalidrawClipboardWithAPI].includes(null===e||void 0===e?void 0:e.type)||!Array.isArray(e.elements))},_y=function(e){var t=e.types,n=e.files;!t&&!n&&console.warn("createPasteEvent: no types or files provided");var r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(t)for(var a=0,i=Object.entries(t);a<i.length;a++){var o=(0,f.default)(i[a],2),l=o[0],s=o[1];if("string"==typeof s)try{var c,u;if(null!==(c=r.clipboardData)&&void 0!==c&&c.setData(l,s),(null===(u=r.clipboardData)||void 0===u?void 0:u.getData(l))!==s)throw new Error('Failed to set "'.concat(l,'" as clipboardData item'))}catch(b){throw new Error(b.message)}else(n=n||[]).push(s)}if(n){var h,p=-1,v=(0,d.default)(n);try{for(v.s();!(h=v.n()).done;){var U=h.value;p++;try{var m,g;if(null!==(m=r.clipboardData)&&void 0!==m&&m.items.add(U),(null===(g=r.clipboardData)||void 0===g?void 0:g.files[p])!==U)throw new Error('Failed to set file "'.concat(U.name,'" as clipboardData item'))}catch(b){throw new Error(b.message)}}}catch(Be){v.e(Be)}finally{v.f()}}return r},Ly=function(e){var t=e.elements,n=e.files,r=pl(t),a=new Set(t.filter((function(e){return ts(e)}))),i=!1,o=t.reduce((function(e,t){return Yl(t)&&(i=!0,n&&n[t.fileId]&&(e[t.fileId]=n[t.fileId])),e}),{});i&&!n&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var l={type:Na.excalidrawClipboard,elements:t.map((function(e){if(Ux(e,r)&&!a.has(Ux(e,r))){var t=Bm(e);return Wx(t,{frameId:null}),t}return e})),files:n?o:void 0};return JSON.stringify(l)},Ry=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n,r){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wy(Ly({elements:t,files:n}),r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Py=function(e){var t=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:yy,reason:"No values"};var n=t[0].length;if(!t.every((function(e){return e.length===n})))return{type:yy,reason:"All rows don't have same number of columns"};var r=ky(t);if(r.type!==xy){var a=ky(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],a=0;a<e.length;a++)r.push(e[a][n]);t.push(r)}return t}(t));if(a.type===xy)return a}return r}(e);return t.type===xy?{spreadsheet:t.spreadsheet}:null};function Ny(e){var t,n=[],r=(0,d.default)(e.childNodes);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(3===a.nodeType){var i,o=null===(i=a.textContent)||void 0===i?void 0:i.trim();o&&n.push({type:"text",value:o})}else if(a instanceof HTMLImageElement){var l=a.getAttribute("src");l&&l.startsWith("http")&&n.push({type:"imageUrl",value:l})}else n=n.concat(Ny(a))}}catch(Be){r.e(Be)}finally{r.f()}return n}var Fy=function(e){var t,n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData(La.html);if(!n)return null;try{var r,a=Ny((new DOMParser).parseFromString(n,La.html).body);if(a.length)return{type:"mixedContent",value:a}}catch(r){console.error("error in parseHTMLFromPaste: ".concat(r.message))}return null},Oy=function(){var e=(0,u.default)((0,c.default)().mark((function e(){var t,n,r,a,i,o,l,s,u,f,h,v,U,m,g;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,null===(r=navigator.clipboard)||void 0===r?void 0:r.read();case 4:n=e.sent,e.next=29;break;case 7:if(e.prev=7,e.t0=e.catch(1),e.prev=9,null===(a=navigator.clipboard)||void 0===a||!a.readText){e.next=17;break}return console.warn("navigator.clipboard.readText() failed (".concat(e.t0.message,"). Failling back to navigator.clipboard.read()")),e.next=14,null===(i=navigator.clipboard)||void 0===i?void 0:i.readText();case 14:if(!(o=e.sent)){e.next=17;break}return e.abrupt("return",(0,p.default)({},La.text,o));case 17:e.next=28;break;case 19:if(e.prev=19,e.t1=e.catch(9),null===(l=navigator.clipboard)||void 0===l||!l.read){e.next=25;break}console.warn("navigator.clipboard.readText() failed (".concat(e.t1.message,"). Failling back to navigator.clipboard.read()")),e.next=28;break;case 25:if("DataError"!==e.t1.name){e.next=27;break}return e.abrupt("return",(console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(e.t1.message)),t));case 27:throw e.t1;case 28:throw e.t0;case 29:s=(0,d.default)(n),e.prev=30,s.s();case 32:if((u=s.n()).done){e.next=75;break}f=u.value,h=(0,d.default)(f.types),e.prev=35,h.s();case 37:if((v=h.n()).done){e.next=65;break}if(U=v.value,!Al(Ra,U)){e.next=63;break}if(e.prev=40,U!==La.text&&U!==La.html){e.next=49;break}return e.next=44,f.getType(U);case 44:return e.next=46,e.sent.text();case 46:t[U]=e.sent,e.next=58;break;case 49:if(!Vw(U)){e.next=57;break}return e.next=52,f.getType(U);case 52:m=e.sent,g=cE(m,U,void 0),t[U]=g,e.next=58;break;case 57:throw new vf("Unsupported clipboard type: ".concat(U));case 58:e.next=63;break;case 60:e.prev=60,e.t2=e.catch(40),console.warn(e.t2 instanceof vf?e.t2.message:"Cannot retrieve ".concat(U," from clipboardItem: ").concat(e.t2.message));case 63:e.next=37;break;case 65:e.next=70;break;case 67:e.prev=67,e.t3=e.catch(35),h.e(e.t3);case 70:return e.prev=70,h.f(),e.finish(70);case 73:e.next=32;break;case 75:e.next=80;break;case 77:e.prev=77,e.t4=e.catch(30),s.e(e.t4);case 80:return e.prev=80,s.f(),e.finish(80);case 83:return e.abrupt("return",(0===Object.keys(t).length&&console.warn("No clipboard data found from clipboard.read()."),t));case 84:case"end":return e.stop()}}),e,null,[[1,7],[9,19],[30,77,80,83],[35,67,70,73],[40,60]])})));return function(){return e.apply(this,arguments)}}(),zy=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i,o=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.prev=1,i=!n&&t&&Fy(t),e.abrupt("return",i?i.value.every((function(e){return"text"===e.type}))?{type:"text",value:(null===(r=t.clipboardData)||void 0===r?void 0:r.getData(La.text))||i.value.map((function(e){return e.value})).join("\n").trim()}:i:{type:"text",value:((null===(a=t.clipboardData)||void 0===a?void 0:a.getData(La.text))||"").trim()});case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{type:"text",value:""});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),By=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i,o,l=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],e.next=3,zy(t,n);case 3:if("mixedContent"!==(r=e.sent).type){e.next=6;break}return e.abrupt("return",{mixedContent:r.value});case 6:if(e.prev=6,!(a=!n&&Py(r.value))){e.next=10;break}return e.abrupt("return",a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:if(e.prev=15,i=JSON.parse(r.value),o=i.type===Na.excalidrawClipboardWithAPI,!Dy(i)){e.next=19;break}return e.abrupt("return",{elements:i.elements,files:i.files,text:n?JSON.stringify(i.elements,null,2):void 0,programmaticAPI:o});case 19:e.next=23;break;case 21:e.prev=21,e.t1=e.catch(15);case 23:return e.abrupt("return",{text:r.value});case 24:case"end":return e.stop()}}),e,null,[[6,12],[15,21]])})));return function(t){return e.apply(this,arguments)}}(),Hy=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new window.ClipboardItem((0,p.default)({},La.png,t))]);case 3:case 21:e.next=24;break;case 5:if(e.prev=5,e.t0=e.catch(0),!El(t)){e.next=23;break}return e.t1=navigator.clipboard,e.t2=window.ClipboardItem,e.t3=p.default,e.t4={},e.t5=La.png,e.next=15,t;case 15:return e.t6=e.sent,e.t7=(0,e.t3)(e.t4,e.t5,e.t6),e.t8=new e.t2(e.t7),e.t9=[e.t8],e.next=21,e.t1.write.call(e.t1,e.t9);case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Wy=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n){var r,a;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ty){e.next=10;break}return e.prev=1,e.next=4,navigator.clipboard.writeText(t||"");case 4:return e.abrupt("return");case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:if(e.prev=10,!n){e.next=15;break}if(null!==(r=n.clipboardData)&&void 0!==r&&r.setData(La.text,t||""),(null===(a=n.clipboardData)||void 0===a?void 0:a.getData(La.text))===t){e.next=14;break}throw new Error("Failed to setData on clipboardEvent");case 14:return e.abrupt("return");case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.error(e.t1);case 20:if(Xy(t)){e.next=22;break}throw new Error("Error copying to clipboard.");case 22:case"end":return e.stop()}}),e,null,[[1,7],[10,17]])})));return function(t,n){return e.apply(this,arguments)}}(),Xy=function(e){e||(e=" ");var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var a=!1;try{n.select(),n.setSelectionRange(0,n.value.length),a=document.execCommand("copy")}catch(i){console.error(i)}return n.remove(),a},Vy=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.maxWidthOrHeight,i=e.getDimensions,o=e.exportPadding,l=e.exportingFrame,s=py({elements:t,appState:n},null,null),c=s.elements,u=s.appState,d=u.exportBackground,f=u.viewBackgroundColor;return wb(c,(0,v.default)((0,v.default)({},u),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:d,exportPadding:o,viewBackgroundColor:f,exportingFrame:l},(function(e,t){var r,o=document.createElement("canvas");if(a){var l;"function"==typeof i&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var s=Math.max(e,t),c=a<s?a/s:null!==(l=null===n||void 0===n?void 0:n.exportScale)&&void 0!==l?l:1;return o.width=e*c,o.height=t*c,{canvas:o,scale:c}}var u=(null===i||void 0===i?void 0:i(e,t))||{width:e,height:t};return o.width=u.width,o.height=u.height,{canvas:o,scale:null!==(r=u.scale)&&void 0!==r?r:1}}))},Gy=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i,o,l,s,u,d,f,h,p,U,m;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,r=t.appState,a=void 0===r?Ai():r,i=t.files,o=void 0===i?{}:i,l=t.exportPadding,s=t.renderEmbeddables,u=t.exportingFrame,d=t.skipInliningFonts,f=t.reuseImages,h=py({elements:n,appState:a},null,null),p=h.elements,U=h.appState,m=(0,v.default)((0,v.default)({},U),{},{exportPadding:l}),e.abrupt("return",kb(p,m,o,{exportingFrame:u,renderEmbeddables:s,skipInliningFonts:d,reuseImages:f}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yy=function(e){return as(e)||ns(e)?e.points:function(e){return"diamond"===e.type?[to(e.width/2,0),to(e.width,e.height/2),to(e.width/2,e.height),to(0,e.height/2)]:[to(0,0),to(0+e.width,0),to(0+e.width,e.height),to(0,e.height)]}(e)},Zy=function(e){var t=e.reduce((function(e,t){var n=(0,f.default)(t,2),r=n[0],a=n[1];return e.minY=Math.min(e.minY,a),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,a),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return t.cx=(t.maxX+t.minX)/2,t.cy=(t.maxY+t.minY)/2,t},Ky=function(e){var t=Yy(e),n=Zy(t),r=to(n.cx,n.cy),a=t.map((function(t){return oo(t,r,e.angle)})),i=Zy(a),o=i.minX,l=i.minY,s=i.maxX,c=i.maxY;return[o+e.x,l+e.y,s+e.x,c+e.y]},qy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ky(e),a=t[0]<=r[0]&&t[2]>=r[2]&&t[1]<=r[1]&&t[3]>=r[3];return n?!!a||r[0]<=t[0]&&r[2]>=t[2]&&r[1]<=t[1]&&r[3]>=t[3]:a},$y=function(e,t){var n=Ky(e);return(Do(n[0],jo(t[0],t[2]))||Do(t[0],jo(n[0],n[2])))&&(Do(n[1],jo(t[1],t[3]))||Do(t[1],jo(n[1],n[3])))};function Qy(e){return[Math.min(e[0][0],e[1][0]),Math.min(e[0][1],e[1][1]),Math.max(e[0][0],e[1][0]),Math.max(e[0][1],e[1][1])]}function Jy(e,t){var n=Ki(Zi(e[1],e[0]),Zi(t,e[0]));return Math.abs(n)<1e-6}function ex(e,t){return Ki(Zi(e[1],e[0]),Zi(t,e[0]))<0}function tx(e,t){return Jy(e,t[0])||Jy(e,t[1])||(ex(e,t[0])?!ex(e,t[1]):ex(e,t[1]))}var nx=function(e,t,n){var r,a=pl(e),i=(0,d.default)(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.frameId){var l=n.get(o.id),s=n.get(o.frameId);if(l){var c=a.get(l);c&&Wx(c,{frameId:null!==s&&void 0!==s?s:o.frameId},!1)}}}}catch(Be){i.e(Be)}finally{i.f()}};function rx(e,t,n){var r=Lp(t,n),a=Lp(e,n);return r.some((function(e){return a.some((function(t){return function(e,t){return function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}(Qy(e),Qy(t))&&tx(e,t)&&tx(t,e)}(e,t)}))}))}var ax=function(e,t,n){return Ex(Ax(e,t,n,!1)).filter((function(e){return!ts(e)&&!e.frameId||e.frameId===t.id}))},ix=function(e,t,n){return Ax([t],e,n).some((function(e){return e.id===t.id}))},ox=function(e,t,n){var r=_p(t,n),a=(0,f.default)(r,4),i=a[0],o=a[1],l=a[2],s=a[3],c=Xp(e),u=(0,f.default)(c,4),d=u[0],h=u[1],p=u[2],v=u[3];return i<=d&&o<=h&&l>=p&&s>=v},lx=function(e,t,n){return ox([e],t,n)||rx(e,t,n)||ix(e,t,n)},sx=function(e,t,n){var r=_p(t,n),a=(0,f.default)(r,4),i=a[0],o=a[1],l=a[2],s=a[3];return ho(to(i,o),to(e.x,e.y),to(l,s))},cx=function(e){var t,n=new Map,r=(0,d.default)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=ts(a)?a.id:a.frameId;i&&!n.has(i)&&n.set(i,ux(e,i))}}catch(Be){r.e(Be)}finally{r.f()}return n},ux=function(e,t){var n,r=[],a=(0,d.default)(e.values());try{for(a.s();!(n=a.n()).done;){var i=n.value;i.frameId===t&&r.push(i)}}catch(Be){a.e(Be)}finally{a.f()}return r},dx=function(e){return e.filter((function(e){return ts(e)}))},fx=function(e){var t=pl(dx(e));return e.filter((function(e){return t.has(e.id)||!e.frameId||!t.has(e.frameId)}))},hx=function(e,t,n,r){var a,i=ux(e,t.id),o=new Set(i),l=new Set([].concat((0,h.default)(ax(e,t,r)),(0,h.default)(i.filter((function(e){return ix(e,t,r)}))))),s=i.filter((function(e){return!l.has(e)})),c=new Set(Array.from(l).flatMap((function(e){return e.groupIds}))),u=(0,d.default)(s);try{for(u.s();!(a=u.n()).done;){var p=a.value;if(rx(p,t,r)){if(p.groupIds.length>0){var v,U=(0,d.default)(p.groupIds);try{for(U.s();!(v=U.n()).done;){var m=v.value;c.add(m)}}catch(Be){U.e(Be)}finally{U.f()}}}else 0===p.groupIds.length&&o.delete(p)}}catch(Be){u.e(Be)}finally{u.f()}var g,b=(0,d.default)(s);try{for(b.s();!(g=b.n()).done;){var y=g.value;if(y.groupIds.length>0){var x,w=!0,E=(0,d.default)(y.groupIds);try{for(E.s();!(x=E.n()).done;){var k=x.value;c.has(k)&&(w=!1)}}catch(Be){E.e(Be)}finally{E.f()}w&&o.delete(y)}}}catch(Be){b.e(Be)}finally{b.f()}var S,M=Array.from(l).filter((function(e){return 0===e.groupIds.length})),C=(0,d.default)(M);try{for(C.s();!(S=C.n()).done;){var I=S.value;o.add(I)}}catch(Be){C.e(Be)}finally{C.f()}for(var j=Array.from(l).filter((function(e){return e.groupIds.length>0})),T=aU(j,n),A=0,D=Object.entries(T);A<D.length;A++){var _=(0,f.default)(D[A],2),L=_[0];if(_[1]){var R=lU(e,L);if(ox(R,t,r)){var P,N=(0,d.default)(R);try{for(N.s();!(P=N.n()).done;){var F=P.value;o.add(F)}}catch(Be){N.e(Be)}finally{N.f()}}}}return(0,h.default)(o).filter((function(e){return!(Ql(e)&&e.containerId)}))},px=function(e,t,n){return vx(Ex(e,ax(e,t,n)),t,n)},vx=function(e,t,n){var r,a=[],i=new Map,o=(0,d.default)(e);try{var l=function(){var e=r.value,o=!1;if(e.groupIds.length>0){if(e.groupIds.some((function(e){return i.get(e)})))o=!0;else{var l=new Set(e.groupIds.flatMap((function(e){return lU(n,e)})));o=!ox(Array.from(l),t,n)}e.groupIds.forEach((function(e){i.set(e,o)}))}o||a.push(e)};for(o.s();!(r=o.n()).done;)l()}catch(Be){o.e(Be)}finally{o.f()}return a},Ux=function(e,t){return e.frameId&&t.get(e.frameId)||null},mx=function(e,t){var n=new Set,r=pl(e);e=Ex(e);var a,i=(0,d.default)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;ts(o)&&o.id!==t.id&&n.add(o.id)}}catch(Be){i.e(Be)}finally{i.f()}var l,s=new Set,c=[],u=(0,d.default)(e);try{for(u.s();!(l=u.n()).done;){var f=l.value;if(!(ts(f)||f.frameId&&n.has(f.frameId)))if(f.groupIds.length){var h=f.groupIds.at(-1);if(!s.has(h)){s.add(h);var p=lU(e,h);if(p.some((function(e){return lx(e,t,r)}))){var v,U=(0,d.default)(p);try{for(U.s();!(v=U.n()).done;){var m=v.value;c.push(m)}}catch(Be){U.e(Be)}finally{U.f()}}}}else lx(f,t,r)&&c.push(f)}}catch(Be){u.e(Be)}finally{u.f()}return c},gx=function(e,t,n,r){var a,i=pl(e),o=new Map,l=(0,d.default)(e.values());try{for(l.s();!(a=l.n()).done;){var s=a.value;s.frameId===n.id&&o.set(s.id,!0)}}catch(Be){l.e(Be)}finally{l.f()}var c,u=new Set(t.map((function(e){return e.id}))),f=[],h=new Set,p=(0,d.default)(t);try{for(p.s();!(c=p.n()).done;){var v=c.value;ts(v)&&v.id!==n.id&&h.add(v.id)}}catch(Be){p.e(Be)}finally{p.f()}var U,m=(0,d.default)(Ex(e,t));try{for(m.s();!(U=m.n()).done;){var g=U.value;if(!(ts(g)||g.frameId&&h.has(g.frameId)||g.frameId&&r.selectedElementIds[g.id]&&r.selectedElementIds[g.frameId])){o.has(g.id)||f.push(g);var b=qU(g,i);b&&!u.has(b.id)&&!o.has(b.id)&&f.push(b)}}}catch(Be){m.e(Be)}finally{m.f()}for(var y=0,x=f;y<x.length;y++){var w=x[y];Wx(w,{frameId:n.id},!1)}return e},bx=function(e,t){var n,r=new Map,a=new Map,i=(0,d.default)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.frameId){r.set(o.id,o);var l=a.get(o.frameId)||[];l.push(o);var s=qU(o,t);s&&(r.set(s.id,s),l.push(s)),a.set(o.frameId,l)}}}catch(Be){i.e(Be)}finally{i.f()}var c,u=(0,d.default)(r);try{for(u.s();!(c=u.n()).done;){var h=(0,f.default)(c.value,2)[1];Wx(h,{frameId:null},!1)}}catch(Be){u.e(Be)}finally{u.f()}},yx=function(e,t){var n=ux(e,t.id);return bx(n,pl(e)),e},xx=function(e,t,n,r){return gx(yx(e,n),t,n,r.state).slice()},wx=function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,elements:e}),a=new Set(r);if(t.editingGroupId){var i,o=(0,d.default)(r);try{for(o.s();!(i=o.n()).done;){var l=i.value;0===l.groupIds.length?a.add(l):l.groupIds.flatMap((function(t){return lU(e,t)})).forEach((function(e){return a.add(e)}))}}catch(Be){o.e(Be)}finally{o.f()}}var s=new Set,c=pl(e);return a.forEach((function(e){e.frameId&&!ts(e)&&!Sx(e,c,t)&&s.add(e)})),s.size>0&&bx(s,c),e},Ex=function(e,t){var n,r=new Set,a=t||e,i=(0,d.default)(a.values());try{for(i.s();!(n=i.n()).done;){var o=n.value,l=o.groupIds[o.groupIds.length-1];l&&r.add(l)}}catch(Be){i.e(Be)}finally{i.f()}var s,c=new Set,u=(0,d.default)(r);try{for(u.s();!(s=u.n()).done;){var f=s.value;lU(e,f).some((function(e){return ts(e)}))&&c.add(f)}}catch(Be){u.e(Be)}finally{u.f()}var h,p=[],v=(0,d.default)(a.values());try{for(v.s();!(h=v.n()).done;){var U=h.value;c.has(U.groupIds[U.groupIds.length-1])||p.push(U)}}catch(Be){v.e(Be)}finally{v.f()}return p},kx=function(e,t,n){var r=Ql(e)&&$U(e,t)||e;return r.frameId&&n.selectedElementIds[r.id]&&n.selectedElementIds[r.frameId]?Ux(r,t):n.selectedElementIds[r.id]&&n.selectedElementsAreBeingDragged?n.frameToHighlight:Ux(r,t)},Sx=function(e,t,n,r){var a,i=null!==(a=null===r||void 0===r?void 0:r.targetFrame)&&void 0!==a?a:kx(e,t,n);if(!i)return!1;var o=Ql(e)&&$U(e,t)||e,l=function(e){(null===r||void 0===r?void 0:r.checkedGroups)&&o.groupIds.forEach((function(t){var n;null===(n=r.checkedGroups)||void 0===n||n.set(t,e)}))};if(!n.selectedElementIds[o.id]||!n.selectedElementsAreBeingDragged||n.selectedElementIds[o.id]&&n.selectedElementIds[i.id])return!0;if(0===o.groupIds.length)return lx(o,i,t);var s,c=(0,d.default)(o.groupIds);try{for(c.s();!(s=c.n()).done;){var u,f=s.value;if(null!==r&&void 0!==r&&null!==(u=r.checkedGroups)&&void 0!==u&&u.has(f))return r.checkedGroups.get(f)}}catch(Be){c.e(Be)}finally{c.f()}var h=new Set(o.groupIds.filter((function(e){return null===r||void 0===r||!r.checkedGroups||!r.checkedGroups.has(e)})).flatMap((function(e){return lU(t,e)})));if(n.editingGroupId&&n.selectedElementsAreBeingDragged){var p=new Set(Rx(t,n));if(null!==n.frameToHighlight)return!0;p.forEach((function(e){h.delete(e)}))}var v,U=(0,d.default)(h);try{for(U.s();!(v=U.n()).done;){var m=v.value;if(ts(m))return l(!1),!1}}catch(Be){U.e(Be)}finally{U.f()}var g,b=(0,d.default)(h);try{for(b.s();!(g=b.n()).done;){var y=g.value;if(lx(y,i,t))return l(!0),!0}}catch(Be){b.e(Be)}finally{b.f()}return!1},Mx=function(e,t,n,r,a){if(!n.frameRendering||!n.frameRendering.clip)return!1;var i=rx(e,t,r)||ix(e,t,r);if(i){var o,l=(0,d.default)(e.groupIds);try{for(l.s();!(o=l.n()).done;){var s=o.value;null===a||void 0===a||a.set(s,!0)}}catch(Be){l.e(Be)}finally{l.f()}return!0}if(!i&&e.groupIds.length>0&&!ox([e],t,r)){var c=!1;if(n.selectedElementsAreBeingDragged)c=Sx(e,r,n,{targetFrame:t,checkedGroups:a});else{c=e.frameId===t.id;var u,f=(0,d.default)(e.groupIds);try{for(f.s();!(u=f.n()).done;){var h=u.value;null===a||void 0===a||a.set(h,c)}}catch(Be){f.e(Be)}finally{f.f()}}var p,v=(0,d.default)(e.groupIds);try{for(v.s();!(p=v.n()).done;){var U=p.value;null===a||void 0===a||a.set(U,c)}}catch(Be){v.e(Be)}finally{v.f()}return c}return!1},Cx=function(e){return null===e.name?Jl(e)?"Frame":"AI Frame":e.name},Ix=function(e,t){return function(e){var t=e.elements,n=e.bounds,r=e.type,a=e.errorMargin,i=void 0===a?0:a;fs(n)&&(n=Wp(n,pl(t)));var o,l=[n[0]-i,n[1]-i,n[2]+i,n[3]+i],s=new Set,c=(0,d.default)(t);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!s.has(u.id)&&("overlap"===r?$y(u,l):"inside"===r?qy(u,l):qy(u,l,!0))){var f;if(s.add(u.id),u.boundElements){var h,p=(0,d.default)(u.boundElements);try{for(p.s();!(h=p.n()).done;){var v=h.value;s.add(v.id)}}catch(Be){p.e(Be)}finally{p.f()}}Ql(u)&&u.containerId&&s.add(u.containerId),is(u)&&(u.startBinding&&s.add(u.startBinding.elementId),u.endBinding&&s.add(null===(f=u.endBinding)||void 0===f?void 0:f.elementId))}}}catch(Be){c.e(Be)}finally{c.f()}return t.filter((function(e){return s.has(e.id)}))}({elements:e,bounds:t,type:"overlap"}).filter((function(e){return!e.frameId||e.frameId===t.id}))},jx=function(e){var t=pl(e);return e.length>1&&e.some((function(e){return e.frameId&&t.has(e.frameId)}))},Tx=function(e){var t=new Set;return e.forEach((function(e){ts(e)&&t.add(e.id)})),e.filter((function(e){return!(e.frameId&&t.has(e.frameId))}))},Ax=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=_p(t,n),i=(0,f.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],u=e.filter((function(e){var t=Wp(e,n),r=(0,f.default)(t,4),a=r[0],i=r[1],u=r[2],d=r[3],h=Ux(e,n);if(h){var p=Wp(h,n),v=(0,f.default)(p,4),U=v[0],m=v[1],g=v[2],b=v[3];a=Math.max(U,a),i=Math.max(m,i),u=Math.min(g,u),d=Math.min(b,d)}return!1===e.locked&&"selection"!==e.type&&!vs(e)&&o<=a&&l<=i&&s>=u&&c>=d}));return u=(u=r?Tx(u):u).filter((function(e){var t=Ux(e,n);return!t||lx(e,t,n)})),u},Dx=function(e,t,n,r){var a=new Set(t.map((function(e){return e.id})));return e.filter((function(e){var t=Yx(e,n.width,n.height,n,r);return!a.has(e.id)&&t}))},_x=function(){var e=null,t=null,n=null,r=function(r,a){return null!=n&&r===e&&a.selectedElementIds===t||(n=r.some((function(e){return a.selectedElementIds[e.id]})),e=r,t=a.selectedElementIds),n};return r.clearCache=function(){e=null,t=null,n=null},r}(),Lx=function(e,t,n){var r=Array.from(new Set(Rx(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null},Rx=function(e,t,n){var r,a=new Set,i=[],o=(0,d.default)(e.values());try{for(o.s();!(r=o.n()).done;){var l=r.value;t.selectedElementIds[l.id]?(i.push(l),a.add(l.id)):null!==n&&void 0!==n&&n.includeBoundTextElement&&vs(l)&&t.selectedElementIds[null===l||void 0===l?void 0:l.containerId]&&(i.push(l),a.add(l.id))}}catch(Be){o.e(Be)}finally{o.f()}if(null!==n&&void 0!==n&&n.includeElementsInFrames){var s=[];return i.forEach((function(t){ts(t)&&ux(e,t.id).forEach((function(e){return!a.has(e.id)&&s.push(e)})),s.push(t)})),s}return i},Px=function(e,t){return t.editingTextElement?[t.editingTextElement]:t.newElement?[t.newElement]:Rx(e,t,{includeBoundTextElement:!0})},Nx=function(e,t){return Ml(t.selectedElementIds,e)?t.selectedElementIds:e},Fx=function(e){var t,n=new Map,r=[],a=(0,d.default)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.isDeleted||(r.push(i),n.set(i.id,i))}}catch(Be){a.e(Be)}finally{a.f()}return{elementsMap:n,elements:r}},Ox=In((function(e){var t;(U.a.DEV||U.a.MODE===ha.TEST||(null===(t=window)||void 0===t?void 0:t.DEBUG_FRACTIONAL_INDICES))&&Gm(e,{shouldThrow:U.a.DEV||U.a.MODE===ha.TEST,includeBoundTextValidation:!0})}),6e4,{leading:!0,trailing:!1}),zx=function(e){return"string"==typeof e},Bx=function(){function e(){var t=this;(0,l.default)(this,e),(0,m.d)(this,"callbacks",new Set),(0,m.d)(this,"nonDeletedElements",[]),(0,m.d)(this,"nonDeletedElementsMap",Bl(new Map)),(0,m.d)(this,"elements",[]),(0,m.d)(this,"nonDeletedFramesLikes",[]),(0,m.d)(this,"frames",[]),(0,m.d)(this,"elementsMap",Bl(new Map)),(0,m.d)(this,"selectedElementsCache",{selectedElementIds:null,elements:null,cache:new Map}),(0,m.d)(this,"sceneNonce"),(0,m.d)(this,"insertElement",(function(e){var n=e.frameId?t.getElementIndex(e.frameId):t.elements.length;t.insertElementAtIndex(e,n)})),(0,m.d)(this,"insertElements",(function(e){var n;if(e.length){var r=null!==(n=e[0])&&void 0!==n&&n.frameId?t.getElementIndex(e[0].frameId):t.elements.length;t.insertElementsAtIndex(e,r)}})),(0,m.d)(this,"getContainerElement",(function(e){return e&&e.containerId&&t.getElement(e.containerId)||null})),(0,m.d)(this,"getElementsFromId",(function(e){var n=t.getNonDeletedElementsMap(),r=n.get(e);return r?[r]:lU(n,e)}))}return(0,s.default)(e,[{key:"getSceneNonce",value:function(){return this.sceneNonce}},{key:"getNonDeletedElementsMap",value:function(){return this.nonDeletedElementsMap}},{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElementsMapIncludingDeleted",value:function(){return this.elementsMap}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(e){var t=function(e){for(var t="",n=0,r=["includeBoundTextElement","includeElementsInFrames"];n<r.length;n++){var a=r[n];t+="".concat(a,":").concat(e[a]?"1":"0")}return t}(e),n=(null===e||void 0===e?void 0:e.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===n&&this.selectedElementsCache.selectedElementIds===e.selectedElementIds){var r=this.selectedElementsCache.cache.get(t);if(r)return r}else null==(null===e||void 0===e?void 0:e.elements)&&this.selectedElementsCache.cache.clear();var a=Rx(n,{selectedElementIds:e.selectedElementIds},e);return null==(null===e||void 0===e?void 0:e.elements)&&(this.selectedElementsCache.selectedElementIds=e.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(t,a)),a}},{key:"getNonDeletedFramesLikes",value:function(){return this.nonDeletedFramesLikes}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&Nw(t)?t:null}},{key:"mapElements",value:function(e){var t=!1,n=this.elements.map((function(n){var r=e(n);return r!==n&&(t=!0),r}));return t&&this.replaceAllElements(n),t}},{key:"replaceAllElements",value:function(t){var n=this,r=t instanceof Array?t:Array.from(t.values()),a=[];Ox(r),this.elements=Km(r),this.elementsMap.clear(),this.elements.forEach((function(t){ts(t)&&a.push(t),n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)}));var i=Fx(this.elements);this.nonDeletedElements=i.elements,this.nonDeletedElementsMap=i.elementsMap,this.frames=a,this.nonDeletedFramesLikes=Fx(this.frames).elements,this.triggerUpdate()}},{key:"triggerUpdate",value:function(){this.sceneNonce=km();for(var e=0,t=Array.from(this.callbacks);e<t.length;e++){(0,t[e])()}}},{key:"onUpdate",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;this.elements=[],this.nonDeletedElements=[],this.nonDeletedFramesLikes=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(e,t){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,h.default)(this.elements.slice(0,t)),[e],(0,h.default)(this.elements.slice(t)));Zm(n,pl([e])),this.replaceAllElements(n)}},{key:"insertElementsAtIndex",value:function(e,t){if(e.length){if(!Number.isFinite(t)||t<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var n=[].concat((0,h.default)(this.elements.slice(0,t)),(0,h.default)(e),(0,h.default)(this.elements.slice(t)));Zm(n,pl(e)),this.replaceAllElements(n)}}},{key:"getElementIndex",value:function(e){return this.elements.findIndex((function(t){return t.id===e}))}}],[{key:"mapElementToScene",value:function(e,t){zx(e)?this.sceneMapById.set(e,t):(this.sceneMapByElement.set(e,t),this.sceneMapById.set(e.id,t))}},{key:"getScene",value:function(e){return zx(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}])}();(0,m.d)(Bx,"sceneMapByElement",new WeakMap),(0,m.d)(Bx,"sceneMapById",new Map);var Hx=Bx,Wx=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3?arguments[3]:void 0,i=!1,o=t,l=o.points,s=o.fixedSegments,c=o.fileId,u=o.startBinding,d=o.endBinding;if(os(e)&&(0===Object.keys(t).length||typeof l<"u"||typeof s<"u"||typeof u<"u"||typeof d<"u")){var f,h,p=Bl(null!==(f=null===(h=Hx.getScene(e))||void 0===h?void 0:h.getNonDeletedElementsMap())&&void 0!==f?f:new Map);t=(0,v.default)((0,v.default)({},t),{},{angle:0},Db((0,v.default)((0,v.default)({},e),{},{x:t.x||e.x,y:t.y||e.y}),p,{fixedSegments:s,points:l,startBinding:u,endBinding:d},{isDragging:null===a||void 0===a?void 0:a.isDragging}))}else typeof l<"u"&&(t=(0,v.default)((0,v.default)({},jp(l)),t));for(var U in t){var m=t[U];if(typeof m<"u"){if(e[U]===m&&("object"!=typeof m||null===m||"groupIds"===U||"scale"===U))continue;if("scale"===U){var g=e[U],b=m;if(g[0]===b[0]&&g[1]===b[1])continue}else if("points"===U){var y=e[U],x=m;if(y.length===x.length){for(var w=!1,E=y.length;--E;){var k=y[E],S=x[E];if(k[0]!==S[0]||k[1]!==S[1]){w=!0;break}}if(!w)continue}}e[U]=m,i=!0}}return i&&((typeof t.height<"u"||typeof t.width<"u"||typeof c<"u"||typeof l<"u")&&nc.delete(e),e.version++,e.versionNonce=km(),e.updated=hl(),r&&null!==(n=Hx.getScene(e))&&void 0!==n&&n.triggerUpdate()),e},Xx=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1;for(var a in t){var i=t[a];if(typeof i<"u"){if(e[a]===i&&("object"!=typeof i||null===i))continue;r=!0}}return r||n?(0,v.default)((0,v.default)((0,v.default)({},e),t),{},{updated:hl(),version:e.version+1,versionNonce:km()}):e},Vx=function(e,t){return e.version=(null!==t&&void 0!==t?t:e.version)+1,e.versionNonce=km(),e.updated=hl(),e},Gx=function(e){return as(e)||ns(e)?e.points.length<2:0===e.width&&0===e.height},Yx=function(e,t,n,r,a){var i=Wp(e,a),o=(0,f.default)(i,4),l=o[0],s=o[1],c=o[2],u=o[3],d=$o({clientX:r.offsetLeft,clientY:r.offsetTop},r),h=$o({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return d.x<=c&&d.y<=u&&h.x>=l&&h.y>=s},Zx=function(e,t,n,r,a,i){var o=Xp(e,a),l=(0,f.default)(o,4),s=l[0],c=l[1],u=l[2],d=l[3],h=$o({clientX:r.offsetLeft+((null===i||void 0===i?void 0:i.left)||0),clientY:r.offsetTop+((null===i||void 0===i?void 0:i.top)||0)},r),p=$o({clientX:r.offsetLeft+t-((null===i||void 0===i?void 0:i.right)||0),clientY:r.offsetTop+n-((null===i||void 0===i?void 0:i.bottom)||0)},r);return s>=h.x&&c>=h.y&&u<=p.x&&d<=p.y},Kx=function(e,t,n){var r=Math.abs(t),a=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var i=Math.round(Math.atan(a/r)/la)*la;0===i?n=0:i===Math.PI/2?t=0:n=r*Math.tan(i)*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},qx=function(e,t,n,r){var a=n-e,i=r-t,o=Math.round(Math.atan(i/a)/la)*la;if(0===o)i=0;else if(o===Math.PI/2)a=0;else{var l=Math.tan(o),s=t-l*e,c=-1/l,u=r-c*n;a=(-1*u- -1*s)/(-1*l- -1*c)-e,i=(s*c-u*l)/(-1*l- -1*c)-t}return{width:a,height:i}},$x=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t},Qx={mouse:8,pen:16,touch:28},Jx={e:!0,s:!0,n:!0,w:!0},ew={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},tw={e:!0,s:!0,n:!0,w:!0},nw=function(e,t,n,r,a,i,o){var l=oo(to(e+n/2,t+r/2),to(a,i),o),s=(0,f.default)(l,2);return[s[0]-n/2,s[1]-r/2,n,r]},rw=function(e){return!(e.viewport.isMobile||e.isTouchScreen&&(Kr||Qr))},aw=function(e){return rw(e)?Jx:{}},iw=function(e,t,n,r){var a=(0,f.default)(e,6),i=a[0],o=a[1],l=a[2],s=a[3],c=a[4],u=a[5],d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:4,p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ma,v=Qx[r],U=v/n.value,m=v/n.value,g=v/n.value,b=v/n.value,y=l-i,x=s-o,w=h/n.value,E=(v-2*p)/(2*n.value),k={nw:d.nw?void 0:nw(i-w-g+E,o-w-b+E,U,m,c,u,t),ne:d.ne?void 0:nw(l+w-E,o-w-b+E,U,m,c,u,t),sw:d.sw?void 0:nw(i-w-g+E,s+w-E,U,m,c,u,t),se:d.se?void 0:nw(l+w-E,s+w-E,U,m,c,u,t),rotation:d.rotation?void 0:nw(i+y/2-U/2,o-w-b+E-16/n.value,U,m,c,u,t)},S=5*Qx.mouse/n.value;return Math.abs(y)>S&&(d.n||(k.n=nw(i+y/2-U/2,o-w-b+E,U,m,c,u,t)),d.s||(k.s=nw(i+y/2-U/2,s+w-E,U,m,c,u,t))),Math.abs(x)>S&&(d.w||(k.w=nw(i-w-g+E,o+x/2-m/2,U,m,c,u,t)),d.e||(k.e=nw(l+w-E,o+x/2-m/2,U,m,c,u,t))),k},ow=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mouse",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jx;if(e.locked||os(e))return{};if("freedraw"===e.type||as(e)){if(2===e.points.length){var i=(0,f.default)(e.points,2)[1];0===i[0]||0===i[1]?a=tw:i[0]>0&&i[1]<0?a=ew:i[0]>0&&i[1]>0?a=tw:i[0]<0&&i[1]>0?a=ew:i[0]<0&&i[1]<0&&(a=tw)}}else ts(e)&&(a=(0,v.default)((0,v.default)({},a),{},{rotation:!0}));var o=as(e)?Ma+8:Zl(e)?0:Ma;return iw(_p(e,n,!0),e.angle,t,r,a,o,Zl(e)?0:void 0)},lw=function(e,t){if(t.editingLinearElement)return!1;if(e.length>1)return!0;var n=e[0];return!os(n)&&(!as(n)||n.points.length>2)},sw=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},cw=function(e,t,n,r,a,i,l,s){return e.reduce((function(e,c){if(e)return e;var u=function(e,t,n,r,a,i,l,s){if(!n.selectedElementIds[e.id])return!1;var c=ow(e,i,t,l,aw(s)),u=c.rotation,d=(0,o.default)(c,Ar);if(u&&sw(u,r,a))return"rotation";var h=Object.keys(d).filter((function(e){var t=d[e];return!!t&&sw(t,r,a)}));if(h.length>0)return h[0];if(rw(s)){var p=_p(e,t),v=(0,f.default)(p,6),U=v[0],m=v[1],g=v[2],b=v[3],y=v[4],x=v[5];if(!(as(e)&&e.points.length<=2))for(var w=Zl(e)?0:Ca/i.value,E=Ca/i.value,k=hw(to(U-w,m-w),to(g+w,b+w),to(y,x),e.angle),S=0,M=Object.entries(k);S<M.length;S++){var C=(0,f.default)(M[S],2),I=C[0],j=C[1];if(Uo(to(r,a),j,E))return I}}return!1}(c,l,t,n,r,a,i,s);return u?{element:c,transformHandleType:u}:null}),null)},uw=function(e,t,n,r,a,i){var o=(0,f.default)(e,4),l=o[0],s=o[1],c=o[2],u=o[3],d=iw([l,s,c,u,(l+c)/2,(s+u)/2],0,r,a,aw(i)),h=Object.keys(d).find((function(e){var r=d[e];return r&&sw(r,t,n)}));if(h)return h;if(rw(i))for(var p=(l+c)/2,v=(s+u)/2,U=Ca/r.value,m=hw(to(l-U,s-U),to(c+U,u+U),to(p,v),0),g=0,b=Object.entries(m);g<b.length;g++){var y=(0,f.default)(b[g],2),x=y[0],w=y[1];if(Uo(to(t,n),w,U))return x}return!1},dw=["ns","nesw","ew","nwse"],fw=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)===-1,a=null;switch(n){case"n":case"s":a="ns";break;case"w":case"e":a="ew";break;case"nw":case"se":a=r?"nesw":"nwse";break;case"ne":case"sw":a=r?"nwse":"nesw";break;case"rotation":return"grab"}return a&&t&&(a=function(e,t){var n=dw.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=dw[(n+r)%dw.length]}return e}(a,t.angle)),a?"".concat(a,"-resize"):""},hw=function(e,t,n,r){var a=(0,f.default)(e,2),i=a[0],o=a[1],l=(0,f.default)(t,2),s=l[0],c=l[1],u=oo(to(i,o),n,r),d=oo(to(s,o),n,r),h=oo(to(i,c),n,r),p=oo(to(s,c),n,r);return{n:[u,d],e:[d,p],s:[p,h],w:[h,u]}},pw=function(e,t,n,r,a,i,o,l,s,c,u,d){if(1===n.length){var h=(0,f.default)(n,1)[0];if("rotation"===t)os(h)||(vw(h,r,a,s,c,i),yv(h,r));else{if(Ql(h)&&t)return gw(e,h,r,t,o,s,c),yv(h,r),!0;if(t){var p=n[0].id,v=r.get(p),U=e.get(p);if(v&&U){var m=Ew(v,U,r,e,t,s,c,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:o}),g=m.nextWidth,b=m.nextHeight;ww(g,b,v,U,r,e,t,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:o})}}}return!0}if(n.length>1){if("rotation"===t)return bw(e,n,r,a,s,c,i,u,d),!0;if(t){var y=kw(n,e,r,t,s,c,{shouldMaintainAspectRatio:l,shouldResizeFromCenter:o}),x=y.nextWidth,w=y.nextHeight,E=y.flipByX,k=y.flipByY,S=y.originalBoundingBox;return Sw(n,r,t,a,e,{shouldResizeFromCenter:o,shouldMaintainAspectRatio:l,flipByX:E,flipByY:k,nextWidth:x,nextHeight:w,originalBoundingBox:S}),!0}}return!1},vw=function(e,t,n,r,a,i){var o,l=_p(e,t),s=(0,f.default)(l,4),c=s[0],u=s[1],d=(c+s[2])/2,h=(u+s[3])/2;ts(e)?o=0:(o=5*Math.PI/2+Math.atan2(a-h,r-d),i&&(o+=la/2,o-=o%la),o=Xi(o));var p=KU(e);if(Wx(e,{angle:o}),p){var v=n.getElement(p);v&&!is(e)&&Wx(v,{angle:o})}},Uw=function(e,t,n,r){return as(e)||ns(e)?{points:Tp(0,t,Tp(1,n,e.points,r),r)}:{}},mw=function(e,t,n){var r=e.width;if(vs(e)){var a=$U(e,t);a&&(r=om(a,e))}var i=e.fontSize*(n/r);return i<1?null:{size:i}},gw=function(e,t,n,r,a,i,o){var l=_p(t,n),s=(0,f.default)(l,6),c=s[0],u=s[1],d=s[2],p=s[3],v=s[4],U=s[5],m=oo(to(i,o),to(v,U),-t.angle),g=(0,f.default)(m,2),b=g[0],y=g[1],x=0,w=0;"e"!==r&&"w"!==r&&(r.includes("e")&&(x=(b-c)/(d-c)),r.includes("w")&&(x=(d-b)/(d-c)),r.includes("n")&&(w=(p-y)/(p-u)),r.includes("s")&&(w=(y-u)/(p-u)));var E=Math.max(x,w);if(E>0){var k=t.width*E,S=t.height*E,M=mw(t,n,k);if(null===M)return;var C=[c,u],I=[d,p],j=[v,U],T=to(c,u);if(["n","w","nw"].includes(r)&&(T=to(I[0]-Math.abs(k),I[1]-Math.abs(S))),"ne"===r){var A=[C[0],I[1]];T=to(A[0],A[1]-Math.abs(S))}if("sw"===r){var D=[I[0],C[1]];T=to(D[0]-Math.abs(k),D[1])}["s","n"].includes(r)&&(T[0]=j[0]-k/2),["e","w"].includes(r)&&(T[1]=j[1]-S/2),a&&(T[0]=j[0]-Math.abs(k)/2,T[1]=j[1]-Math.abs(S)/2);var _=t.angle,L=oo(T,to(v,U),_),R=oo(to(T[0]+Math.abs(k)/2,T[1]+Math.abs(S)/2),to(v,U),_),P=T=oo(L,R,-_),N=(0,f.default)(P,2),F=N[0],O=N[1];Wx(t,{fontSize:M.size,width:k,height:S,x:F,y:O})}if("e"===r||"w"===r){var z=e.get(t.id),B=Gp(z,z.width,z.height,!0),H=(0,f.default)(B,4),W=H[0],X=H[1],V=H[2],G=H[3],Y=to(W,X),Z=to(V,G),K=so(Y,Z),q=oo(to(i,o),K,-z.angle),$=Gp(t,t.width,t.height,!0),Q=(0,f.default)($,3),J=Q[0],ee=Q[2]-J,te=Z[0]-Y[0],ne=ks(Bo({fontSize:t.fontSize,fontFamily:t.fontFamily}),t.lineHeight),re=te/ee;r.includes("e")&&(re=(q[0]-Y[0])/ee),r.includes("w")&&(re=(Z[0]-q[0])/ee);var ae=t.width*re<ne?ne:t.width*re,ie=Ks(t.originalText,Bo(t),Math.abs(ae)),oe=xs(ie,Bo(t),t.lineHeight),le=oe.height,se=Gp(z,ae,le,!0),ce=(0,f.default)(se,4),ue=ce[0],de=ce[1],fe=ce[2]-ue,he=ce[3]-de,pe=(0,h.default)(Y);["n","w","nw"].includes(r)&&(pe=[Z[0]-Math.abs(fe),Y[1]]);var ve=z.angle,Ue=oo(pe,K,ve),me=oo(to(pe[0]+Math.abs(fe)/2,pe[1]+Math.abs(he)/2),K,ve);pe=oo(Ue,me,-ve);var ge={width:Math.abs(ae),height:Math.abs(oe.height),x:pe[0],y:pe[1],text:ie,autoResize:!1};Wx(t,ge)}},bw=function(e,t,n,r,a,i,o,l,s){var c=5*Math.PI/2+Math.atan2(i-s,a-l);o&&(c+=la/2,c-=c%la);var u,h=(0,d.default)(t);try{for(h.s();!(u=h.n()).done;){var p=u.value;if(!ts(p)){var v,U,m=_p(p,n),g=(0,f.default)(m,4),b=g[0],y=g[1],x=g[2],w=g[3],E=(b+x)/2,k=(y+w)/2,S=null!==(v=null===(U=e.get(p.id))||void 0===U?void 0:U.angle)&&void 0!==v?v:p.angle,M=oo(to(E,k),to(l,s),c+S-p.angle),C=(0,f.default)(M,2),I=C[0],j=C[1];os(p)?Wx(p,{points:Gv(p,n)}):Wx(p,{x:p.x+(I-E),y:p.y+(j-k),angle:Xi(c+S)},!1),yv(p,n,{simultaneouslyUpdated:t});var T=qU(p,n);T&&!is(p)&&Wx(T,{x:T.x+(I-E),y:T.y+(j-k),angle:Xi(c+S)},!1)}}}catch(Be){h.e(Be)}finally{h.f()}r.triggerUpdate()},yw=function(e,t,n,r,a){var i,o,l=1===t.length?_p(t[0],n):Xp(t),s=(0,f.default)(l,4),c=s[0],u=s[1],d=s[2],h=s[3],p=(c+d)/2,v=(u+h)/2,U=1===t.length?t[0].angle:0;switch(i=oo(to(r,a),to(p,v),-U),r=(o=(0,f.default)(i,2))[0],a=o[1],e){case"n":return oo(to(r-(c+d)/2,a-u),to(0,0),U);case"s":return oo(to(r-(c+d)/2,a-h),to(0,0),U);case"w":return oo(to(r-c,a-(u+h)/2),to(0,0),U);case"e":return oo(to(r-d,a-(u+h)/2),to(0,0),U);case"nw":return oo(to(r-c,a-u),to(0,0),U);case"ne":return oo(to(r-d,a-u),to(0,0),U);case"sw":return oo(to(r-c,a-h),to(0,0),U);case"se":return oo(to(r-d,a-h),to(0,0),U);default:return[0,0]}},xw=function(e,t){var n=(0,f.default)(t.points,2),r=(0,f.default)(n[1],2),a=r[0],i=r[1];return"nw"===e&&(a<0||i<0)||"ne"===e&&a>=0||"sw"===e&&a<=0||"se"===e&&(a>0||i>0)?"end":"origin"},ww=function(e,t,n,r,a,i,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=l.shouldInformMutation,c=void 0===s||s,u=l.shouldMaintainAspectRatio,d=void 0!==u&&u,h=l.shouldResizeFromCenter,p=void 0!==h&&h,U={},m=qU(n,a);if(m){var g=i.get(m.id);if(g&&(U={fontSize:g.fontSize}),d){var b=(0,v.default)((0,v.default)({},n),{},{width:e,height:t}),y=mw(m,a,om(b,m));if(null===y)return;U={fontSize:y.size}}else{var x=Es(Bo(m),m.lineHeight),w=js(m.fontSize,m.lineHeight);e=Math.max(e,x),t=Math.max(t,w)}}var E=Uw(r,e,t,!0),k=to(r.x,r.y);if(as(r)){var S=Wp(r,i),M=(0,f.default)(S,2);k=to(M[0],M[1])}var C=function(e,t,n,r,a,i,o,l,s){var c=function(e,t,n){if(n)return"center";if(t)switch(e){case"n":return"south-side";case"e":return"west-side";case"s":return"north-side";case"w":return"east-side";case"ne":return"bottom-left";case"nw":return"bottom-right";case"se":return"top-left";case"sw":return"top-right"}return["e","se","s"].includes(e)?"top-left":["n","nw","w"].includes(e)?"bottom-right":"ne"===e?"bottom-left":"top-right"}(o,l,s),u=(0,f.default)(e,2),d=u[0],h=u[1];switch(c){case"top-left":return{x:d+(t-r)/2+(r-t)/2*Math.cos(i)+(n-a)/2*Math.sin(i),y:h+(n-a)/2+(r-t)/2*Math.sin(i)+(a-n)/2*Math.cos(i)};case"top-right":return{x:d+(t-r)/2*(Math.cos(i)+1)+(n-a)/2*Math.sin(i),y:h+(n-a)/2+(t-r)/2*Math.sin(i)+(a-n)/2*Math.cos(i)};case"bottom-left":return{x:d+(t-r)/2*(1-Math.cos(i))+(a-n)/2*Math.sin(i),y:h+(n-a)/2*(Math.cos(i)+1)+(r-t)/2*Math.sin(i)};case"bottom-right":return{x:d+(t-r)/2*(Math.cos(i)+1)+(a-n)/2*Math.sin(i),y:h+(n-a)/2*(Math.cos(i)+1)+(t-r)/2*Math.sin(i)};case"center":return{x:d-(r-t)/2,y:h-(a-n)/2};case"east-side":return{x:d+(t-r)/2*(Math.cos(i)+1),y:h+(t-r)/2*Math.sin(i)+(n-a)/2};case"west-side":return{x:d+(t-r)/2*(1-Math.cos(i)),y:h+(r-t)/2*Math.sin(i)+(n-a)/2};case"north-side":return{x:d+(t-r)/2+(n-a)/2*Math.sin(i),y:h+(a-n)/2*(Math.cos(i)-1)};case"south-side":return{x:d+(t-r)/2+(a-n)/2*Math.sin(i),y:h+(n-a)/2*(Math.cos(i)+1)}}}(k,r.width,r.height,e,t,r.angle,o,d,p);if(as(r)&&E.points){var I=r.x-k[0],j=r.y-k[1];C.x+=I,C.y+=j;var T=E.points[0][0],A=E.points[0][1];C.x+=T,C.y+=A,E.points=E.points.map((function(e){return to(e[0]-T,e[1]-A)}))}if(e<0&&(C.x=C.x+e),t<0&&(C.y=C.y+t),"scale"in n&&"scale"in r&&Wx(n,{scale:[(Math.sign(e)||r.scale[0])*r.scale[0],(Math.sign(t)||r.scale[1])*r.scale[1]]}),is(n)&&m&&d){var D=e/n.width*m.fontSize;if(D<1)return;U.fontSize=D}if(0!==e&&0!==t&&Number.isFinite(C.x)&&Number.isFinite(C.y)){var _=(0,v.default)((0,v.default)({},C),{},{width:Math.abs(e),height:Math.abs(t)},E);Wx(n,_,c),yv(n,a,{newSize:{width:e,height:t}}),m&&null!=U&&Wx(m,{fontSize:U.fontSize}),YU(n,a,o,d)}},Ew=function(e,t,n,r,a,i,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=l.shouldMaintainAspectRatio,c=void 0!==s&&s,u=l.shouldResizeFromCenter,d=void 0!==u&&u,h=Gp(t,t.width,t.height,!0),p=(0,f.default)(h,4),v=p[0],U=p[1],m=p[2],g=p[3],b=to(v,U),y=to(m,g),x=so(b,y),w=oo(to(i,o),x,-t.angle),E=Gp(e,e.width,e.height,!0),k=(0,f.default)(E,4),S=k[0],M=k[1],C=k[2]-S,I=k[3]-M,j=(y[0]-b[0])/C,T=(y[1]-b[1])/I;a.includes("e")&&(j=(w[0]-b[0])/C),a.includes("s")&&(T=(w[1]-b[1])/I),a.includes("w")&&(j=(y[0]-w[0])/C),a.includes("n")&&(T=(y[1]-w[1])/I);var A=e.width*j,D=e.height*T;if(d&&(A=2*A-t.width,D=2*D-t.height),c){var _=Math.abs(A)/t.width,L=Math.abs(D)/t.height;if(1===a.length&&(D*=_,A*=L),2===a.length){var R=Math.max(_,L);A=t.width*R*Math.sign(A),D=t.height*R*Math.sign(D)}}return{nextWidth:A,nextHeight:D}},kw=function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=o.shouldMaintainAspectRatio,s=void 0!==l&&l,c=o.shouldResizeFromCenter,u=void 0!==c&&c,d=e.map((function(e){return t.get(e.id)})),p=d.reduce((function(e,r){var a;if(!as(r))return e;var i=KU(r);if(!i)return e;var o=null!==(a=t.get(i))&&void 0!==a?a:null;return vs(o)?[].concat((0,h.default)(e),[(0,v.default)((0,v.default)({},o),OU.getBoundTextElementPosition(r,o,n))]):e}),[]),U=Zp(d.map((function(e){return e})).concat(p)),m=U.minX,g=U.minY,b=U.maxX,y=U.maxY,x=U.midX,w=U.midY,E=b-m,k=y-g,S=u?[x,w]:{ne:[m,y],se:[m,g],sw:[b,g],nw:[b,y],e:[m,g+k/2],w:[b,g+k/2],n:[m+E/2,y],s:[m+E/2,g]}[r],M=(0,f.default)(S,2),C=M[0],I=M[1],j=u?2:1,T=Math.max(Math.abs(a-C)/E||0,Math.abs(i-I)/k||0)*j,A=r.includes("e")||r.includes("w")?Math.abs(a-C)*j:E,D=r.includes("n")||r.includes("s")?Math.abs(i-I)*j:k;s&&(A=E*T*Math.sign(a-C),D=k*T*Math.sign(i-I));var _={ne:[a<C,i>I],se:[a<C,i<I],sw:[a>C,i<I],nw:[a>C,i>I],e:[a<C,!1],w:[a>C,!1],n:[!1,i>I],s:[!1,i<I]}[r].map((function(e){return e})),L=(0,f.default)(_,2);return{originalBoundingBox:U,nextWidth:A,nextHeight:D,flipByX:L[0],flipByY:L[1]}},Sw=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=i.shouldMaintainAspectRatio,s=void 0!==l&&l,c=i.shouldResizeFromCenter,u=void 0!==c&&c,p=i.flipByX,U=void 0!==p&&p,m=i.flipByY,g=void 0!==m&&m,b=i.nextHeight,y=i.nextWidth,x=i.originalBoundingBox;if((void 0!==y||void 0!==b||void 0!==U||void 0!==g)&&0!==b&&0!==y){a||(a=t);var w,E=e.reduce((function(e,t){var n=a.get(t.id);return n&&e.push({orig:n,latest:t}),e}),[]);if(x)w=x;else{var k=E.reduce((function(e,n){var r,i=n.orig;if(!as(i))return e;var o=KU(i);if(!o)return e;var l=null!==(r=a.get(o))&&void 0!==r?r:null;return vs(l)?[].concat((0,h.default)(e),[(0,v.default)((0,v.default)({},l),OU.getBoundTextElementPosition(i,l,t))]):e}),[]);w=Zp(E.map((function(e){return e.orig})).concat(k))}var S=w,M=S.minX,C=S.minY,I=S.maxX,j=S.maxY,T=S.midX,A=S.midY,D=I-M,_=j-C;if(void 0===y&&void 0===b&&(y=D,b=_),s&&(void 0===y?y=b*(D/_):void 0===b?b=y*(_/D):Math.abs(y/b-D/_)>.001&&(y=b*(D/_))),y&&b){var L,R=n.includes("e")||n.includes("w")?Math.abs(y)/D:1,P=n.includes("n")||n.includes("s")?Math.abs(b)/_:1;L=1===n.length?n.includes("e")||n.includes("w")?R:P:Math.max(Math.abs(y)/D||0,Math.abs(b)/_||0);var N=u?[T,A]:{ne:[M,j],se:[M,C],sw:[I,C],nw:[I,j],e:[M,C+_/2],w:[I,C+_/2],n:[M+D/2,j],s:[M+D/2,C]}[n],F=(0,f.default)(N,2),O=F[0],z=F[1],B=s||E.some((function(e){return 0!==e.latest.angle||Ql(e.latest)||hU(e.latest)}));B&&(R=L,P=L);var H,W=U?-1:1,X=g?-1:1,V=[],G=(0,d.default)(E);try{var Y,Z=function(){var e,n=H.value,r=n.orig,i=n.latest;if(Ql(r)&&vs(r))return 0;var o=r.width*R,l=r.height*P,s=Xi(r.angle*W*X),c=as(r)||ns(r),u=r.x-O,d=r.y-z,f=O+W*(u*R+(U&&!c?o:0)),h=z+X*(d*P+(g&&!c?l:0)),p=Uw(r,o*W,l*X,!1),m=(0,v.default)({x:f,y:h,width:o,height:l,angle:s},p);if(os(r)&&(r.startBinding&&(m.startBinding=(0,v.default)((0,v.default)({},r.startBinding),{},{fixedPoint:[U?1-r.startBinding.fixedPoint[0]:r.startBinding.fixedPoint[0],g?1-r.startBinding.fixedPoint[1]:r.startBinding.fixedPoint[1]]})),r.endBinding&&(m.endBinding=(0,v.default)((0,v.default)({},r.endBinding),{},{fixedPoint:[U?1-r.endBinding.fixedPoint[0]:r.endBinding.fixedPoint[0],g?1-r.endBinding.fixedPoint[1]:r.endBinding.fixedPoint[1]]})),r.fixedSegments&&p.points&&(m.fixedSegments=r.fixedSegments.map((function(e){return(0,v.default)((0,v.default)({},e),{},{start:p.points[e.index-1],end:p.points[e.index]})})))),Zl(r)&&(m.scale=[r.scale[0]*W,r.scale[1]*X]),Ql(r)){var b=mw(r,t,o);if(!b)return{v:void 0};m.fontSize=b.size}var y=a.get(null!==(e=KU(r))&&void 0!==e?e:"");if(y)if(B){var x=y.fontSize*L;if(x<1)return{v:void 0};m.boundTextFontSize=x}else m.boundTextFontSize=y.fontSize;V.push({element:i,update:m})};for(G.s();!(H=G.n()).done;)if(0!==(Y=Z())&&Y)return Y.v}catch(Be){G.e(Be)}finally{G.f()}for(var K=V.map((function(e){return e.element})),q=0,$=V;q<$.length;q++){var Q=$[q],J=Q.element,ee=Q.update,te=ee.boundTextFontSize,ne=(0,o.default)(ee,Dr),re=ne.width,ae=ne.height,ie=ne.angle;Wx(J,ne,!1,{isDragging:!0}),yv(J,t,{simultaneouslyUpdated:K,newSize:{width:re,height:ae}});var oe=qU(J,t);oe&&te&&(Wx(oe,{fontSize:te,angle:as(J)?void 0:ie},!1),YU(J,t,n,!0))}r.triggerUpdate()}}},Mw=function(e,t,n,r,a,i){if(1!==t.length||!os(t[0])||!t[0].startBinding&&!t[0].endBinding){var o=t.filter((function(e){if(os(e)&&e.startBinding&&e.endBinding){var n=t.find((function(t){var n;return t.id===(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)})),r=t.find((function(t){var n;return t.id===(null===(n=e.endBinding)||void 0===n?void 0:n.elementId)}));return n&&r}return!0})),l=new Set(o),s=o.filter((function(e){return ts(e)})).map((function(e){return e.id}));if(s.length>0){var c,u=(0,d.default)(r.getNonDeletedElements());try{for(u.s();!(c=u.n()).done;){var f=c.value;null!==f.frameId&&s.includes(f.frameId)&&l.add(f)}}catch(Be){u.e(Be)}finally{u.f()}}var h=Xp(Array.from(l).map((function(t){var n;return null!==(n=e.originalElements.get(t.id))&&void 0!==n?n:t}))),p=Cw(h,n,a,i);l.forEach((function(t){if(Iw(e,t,p),!is(t)){var n=qU(t,r.getNonDeletedElementsMap());n&&Iw(e,n,p),yv(t,r.getElementsMapIncludingDeleted(),{simultaneouslyUpdated:Array.from(l)})}}))}},Cw=function(e,t,n,r){var a=(0,f.default)(e,2),i=a[0],o=a[1],l=i+t.x+n.x,s=o+t.y+n.y;if(0===n.x||0===n.y){var c=LU(i+t.x,o+t.y,r),u=(0,f.default)(c,2),d=u[0],h=u[1];0===n.x&&(l=d),0===n.y&&(s=h)}return{x:l-i,y:s-o}},Iw=function(e,t,n){var r,a=null!==(r=e.originalElements.get(t.id))&&void 0!==r?r:t,i=a.x+n.x,o=a.y+n.y;Wx(t,{x:i,y:o})},jw=function(e,t,n){var r=Xp(e),a=(0,f.default)(r,2);return[t-a[0],n-a[1]]},Tw=function(e){var t,n,r=e.newElement,a=e.elementType,i=e.originX,o=e.originY,l=e.x,s=e.y,c=e.width,u=e.height,d=e.shouldMaintainAspectRatio,f=e.shouldResizeFromCenter,h=e.zoom,p=e.widthAspectRatio,U=void 0===p?null:p,m=e.originOffset,g=void 0===m?null:m,b=e.informMutation,y=void 0===b||b;d&&"selection"!==r.type&&(U?u=c/U:(Math.abs(s-o)>Math.abs(l-i)?(c=(t=Kx(a,u,l<i?-c:c)).width,u=t.height):(c=(n=Kx(a,c,s<o?-u:u)).width,u=n.height),u<0&&(u=-u)));var x=l<i?i-c:i,w=s<o?o-u:o;f&&(x=i-(c+=c)/2,w=o-(u+=u)/2);var E=null;if(Ql(r)){u=r.height;var k=ks(Bo({fontSize:r.fontSize,fontFamily:r.fontFamily}),r.lineHeight);c=Math.max(c,k),Math.abs(l-i)>36/h&&(E={autoResize:!1}),w=o,f&&(x=i-c/2)}if(0!==c&&0!==u){var S,M,C=null;Zl(r)&&(C={initialWidth:c,initialHeight:u}),Wx(r,(0,v.default)((0,v.default)({x:x+(null!==(S=null===g||void 0===g?void 0:g.x)&&void 0!==S?S:0),y:w+(null!==(M=null===g||void 0===g?void 0:g.y)&&void 0!==M?M:0),width:c,height:u},E),C),y)}},Aw=function(e,t){var n;return!(e.viewModeEnabled||"elementLinkSelector"===(null===(n=e.openDialog)||void 0===n?void 0:n.name)||!("custom"!==e.activeTool.type&&(e.editingTextElement||"selection"!==e.activeTool.type&&"eraser"!==e.activeTool.type&&"hand"!==e.activeTool.type&&"laser"!==e.activeTool.type)||Rx(t,e).length))},Dw=function(e){return e.reduce((function(e,t){return e+t.version}),0)},_w=function(e){for(var t=5381,n=0;n<e.length;n++)t=(t<<5)+t+e[n].versionNonce;return t>>>0},Lw=function(e){for(var t=5381,n=0;n<e.length;n++){t=(t<<5)+t+e.charCodeAt(n)}return t>>>0},Rw=function(e){return e.filter((function(e){return!e.isDeleted&&!Gx(e)}))},Pw=function(e){return e.filter((function(e){return!e.isDeleted}))},Nw=function(e){return!e.isDeleted},Fw=function(e){return Pw(e).map((function(e){return ls(e.type)?(0,v.default)((0,v.default)({},e),{},{lastCommittedPoint:null}):e}))},Ow=function(e){return Fw(e)},zw=function(e){return Fw(e)},Bw=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var r;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==La.png){e.next=14;break}return e.prev=1,e.next=4,n.e(9352).then(n.bind(n,79352));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),"INVALID"===e.t0.message?new df("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):new df("Error: cannot restore image");case 12:e.next=31;break;case 14:if(!("text"in Blob)){e.next=20;break}return e.next=17,t.text();case 17:r=e.sent,e.next=23;break;case 20:return e.next=22,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 22:r=e.sent;case 23:if(t.type!==La.svg){e.next=31;break}return e.prev=24,e.abrupt("return",Mb({svg:r}));case 28:throw e.prev=28,e.t1=e.catch(24),"INVALID"===e.t1.message?new df("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):new df("Error: cannot restore image");case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}}),e,null,[[1,9],[24,28]])})));return function(t){return e.apply(this,arguments)}}(),Hw=function(e){var t;return e&&(null===(t=e.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===t?void 0:t[1])||null},Ww=function(e){return"png"===e||"svg"===e},Xw=function(e){var t=Hw(e);return"png"===t||"svg"===t},Vw=function(e){return!!e&&Object.values(_a).includes(e)},Gw=function(e){var t=(e||{}).type;return Vw(t)},Yw=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n,r,a){var i,o;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bw(t);case 2:i=e.sent,e.prev=3,e.prev=4,o=JSON.parse(i),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(4),Gw(t)?new df("Image doesn't contain scene","IMAGE_NOT_CONTAINS_SCENE_DATA"):e.t0;case 11:if(!Wg(o)){e.next=13;break}return e.abrupt("return",{type:La.excalidraw,data:py({elements:zw(o.elements||[]),appState:(0,v.default)((0,v.default)({theme:null===n||void 0===n?void 0:n.theme,fileHandle:a||t.handle||null},Li(o.appState||{})),n?Kv(o.elements||[],n):{}),files:o.files},n,r,{repairBindings:!0,refreshDimensions:!1})});case 13:if(!Xg(o)){e.next=15;break}return e.abrupt("return",{type:La.excalidrawlib,data:o});case 15:throw new Error("Error: invalid file");case 18:throw e.prev=18,e.t1=e.catch(3),e.t1 instanceof df?e.t1:new Error("Error: invalid file");case 21:case"end":return e.stop()}}),e,null,[[3,18],[4,8]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Zw=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,n,r,a){var i;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yw(t,n,r,a);case 2:if((i=e.sent).type===La.excalidraw){e.next=5;break}throw new Error("Error: invalid file");case 5:return e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Kw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unpublished",n=JSON.parse(e);if(!Xg(n))throw new Error("Invalid library");var r=n.libraryItems||n.library;return Uy(r,t)},qw=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"unpublished",e.t0=Kw,e.next=4,Bw(t);case 4:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$w=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,u.default)((0,c.default)().mark((function e(n,r){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=El(t),!e.t0){e.next=6;break}return e.next=5,t;case 5:t=e.sent;case 6:t.toBlob((function(e){if(!e)return r(new cf("Error: Canvas too big","CANVAS_POSSIBLY_TOO_BIG"));n(e)})),e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),r(e.t1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qw=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,dE(t);case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-1",e.t1);case 7:return n=e.sent,e.abrupt("return",fl(new Uint8Array(n)));case 11:return e.prev=11,e.t2=e.catch(0),e.abrupt("return",(console.error(e.t2),(0,Cn.Ak)(40)));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Jw=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eE=function(e,t){return"data:".concat(t,";base64,").concat(vE(fE(e),!0))},tE=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),a=e.slice(0,n).split(":")[1].split(";")[0],i=new ArrayBuffer(r.length),o=new Uint8Array(i),l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return new File([i],t,{type:a})},nE=function(e){return UE(e.slice(e.indexOf(",")+1))},rE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t,r){var a,i,o,l,s,u;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==La.svg){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.all([n.e(9094).then(n.t.bind(n,89094,19)).then((function(e){return e.default})),n.e(7587).then(n.bind(n,77587)).then((function(e){return e.default}))]);case 4:if(a=e.sent,i=(0,f.default)(a,2),o=i[0],l=i[1],s=l({pica:o({features:["js","wasm"]})}),r.outputType&&(u=r.outputType,s._create_blob=function(e){return this.pica.toBlob(e.out_canvas,u,.8).then((function(t){return e.out_blob=t,e}))}),Gw(t)){e.next=12;break}throw new Error("Error: unsupported file type",{cause:"UNSUPPORTED"});case 12:return e.t0=File,e.next=15,s.toBlob(t,{max:r.maxWidthOrHeight,alpha:!0});case 15:return e.t1=e.sent,e.t2=[e.t1],e.t3=t.name,e.t4={type:r.outputType||t.type},e.abrupt("return",new e.t0(e.t2,e.t3,e.t4));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),aE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([(new TextEncoder).encode(e)],t,{type:La.svg})},iE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i,o=arguments;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",e.prev=1,e.next=4,fetch(t);case 4:r=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Error: failed to fetch image",{cause:"FETCH_ERROR"});case 10:if(r.ok){e.next=12;break}throw new Error("Error: failed to fetch image",{cause:"FETCH_ERROR"});case 12:return e.next=14,r.blob();case 14:if(!(a=e.sent).type||!Gw(a)){e.next=18;break}return i=n||a.name||"",e.abrupt("return",new File([a],i,{type:a.type}));case 18:throw new Error("Error: unsupported file type",{cause:"UNSUPPORTED"});case 19:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),oE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataTransfer.files.item(0),e.next=3,lE(t);case 3:if(r=e.sent,!n){e.next=10;break}return e.next=7,uE(n);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:return e.t1=e.t0,e.t2=r,e.abrupt("return",{file:e.t1,fileHandle:e.t2});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vr){e.next=13;break}return e.prev=1,e.next=4,t.dataTransfer.items[0].getAsFileSystemHandle();case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=null;case 7:return e.abrupt("return",e.t0);case 10:return e.prev=10,e.t1=e.catch(1),e.abrupt("return",(console.warn(e.t1.name,e.t1.message),null));case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),sE=function(e){var t=null,n="".concat((0,h.default)(new Uint8Array(e).slice(0,8)).join(" ")," "),r="255 216 255 ",a="71 73 70 56 57 97 ";return n==="137 80 78 71 13 10 26 10 "?t=La.png:n.startsWith(r)?t=La.jpg:n.startsWith(a)&&(t=La.gif),t},cE=function(e,t,n){return new File([e],n||"",{type:t})},uE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i,o,l;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.type){e.next=9;break}if(!Gw(t)){e.next=7;break}return e.next=4,dE(t);case 4:a=e.sent,(i=sE(a))&&i!==t.type&&(t=cE(a,i,t.name));case 7:e.next=34;break;case 9:if(null===(n=t)||void 0===n||null===(n=n.name)||void 0===n||!n.endsWith(".excalidrawlib")){e.next=19;break}return e.t0=cE,e.next=13,dE(t);case 13:e.t1=e.sent,e.t2=La.excalidrawlib,e.t3=t.name,t=(0,e.t0)(e.t1,e.t2,e.t3),e.next=34;break;case 19:if(null===(r=t)||void 0===r||null===(r=r.name)||void 0===r||!r.endsWith(".excalidraw")){e.next=29;break}return e.t4=cE,e.next=23,dE(t);case 23:e.t5=e.sent,e.t6=La.excalidraw,e.t7=t.name,t=(0,e.t4)(e.t5,e.t6,e.t7),e.next=34;break;case 29:return e.next=31,dE(t);case 31:o=e.sent,(l=sE(o))&&(t=cE(o,l,t.name));case 34:return e.abrupt("return",t);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dE=function(e){return"arrayBuffer"in e?e.arrayBuffer():new Promise((function(t,n){var r=new FileReader;r.onload=function(e){var r;if(null===(r=e.target)||void 0===r||!r.result)return n(new Error("Couldn't convert blob to ArrayBuffer"));t(e.target.result)},r.readAsArrayBuffer(e)}))},fE=function(e){var t,n="string"==typeof e?(new TextEncoder).encode(e):e instanceof Uint8Array?e:new Uint8Array(e),r="",a=(0,d.default)(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;r+=String.fromCharCode(i)}}catch(Be){a.e(Be)}finally{a.f()}return r},hE=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,a=e.length;r<a;r++)n[r]=e.charCodeAt(r);return t},pE=function(e){return new TextDecoder("utf-8").decode(hE(e))},vE=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?window.btoa(e):window.btoa(fE(e))},UE=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?window.atob(e):pE(window.atob(e))},mE=function(e){var t,n=e.text;if(!1!==e.compress)try{t=fE(kn(n))}catch(r){console.error("encode: cannot deflate",r)}return{version:"1",encoding:"bstring",compressed:!!t,encoded:t||fE(n)}},gE=function(e){var t;if("bstring"!==e.encoding)throw new Error('decode: unknown encoding "'.concat(e.encoding,'"'));return t=e.compressed?e.encoded:pE(e.encoded),e.compressed?Sn(new Uint8Array(hE(t)),{to:"string"}):t},bE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.t1=Uint8Array,e.next=4,dE(t);case 4:return e.t2=e.sent,e.t3=new e.t1(e.t2),n=(0,e.t0)(e.t3).find((function(e){return"tEXt"===e.name})),e.abrupt("return",n?b.decode(n.data):null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r,a,i;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.blob,r=t.metadata,e.t0=g,e.t1=Uint8Array,e.next=5,dE(n);case 5:return e.t2=e.sent,e.t3=new e.t1(e.t2),a=(0,e.t0)(e.t3),i=b.encode(La.excalidraw,JSON.stringify(mE({text:r,compress:!0}))),e.abrupt("return",(a.splice(-1,0,i),new Blob([y(a)],{type:La.png})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xE=function(){var e=(0,u.default)((0,c.default)().mark((function e(t){var n,r;return(0,c.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bE(t);case 2:if((null===(n=e.sent)||void 0===n?void 0:n.keyword)!==La.excalidraw){e.next=16;break}if(e.prev=4,"encoded"in(r=JSON.parse(n.text))){e.next=10;break}if(!("type"in r)||r.type!==Na.excalidraw){e.next=9;break}return e.abrupt("return",n.text);case 9:throw new Error("FAILED");case 10:return e.abrupt("return",gE(r));case 13:throw e.prev=13,e.t0=e.catch(4),console.error(e.t0),new Error("FAILED");case 16:throw new Error("INVALID");case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},63137:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var r={VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_AI_BACKEND:"https://oss-ai.excalidraw.com",VITE_APP_WS_SERVER_URL:"https://oss-collab.excalidraw.com",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_ENABLE_TRACKING:"false",VITE_APP_PLUS_EXPORT_PUBLIC_KEY:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApQ0jM9Qz8TdFLzcuAZZX\n/WvuKSOJxiw6AR/ZcE3eFQWM/mbFdhQgyK8eHGkKQifKzH1xUZjCxyXcxW6ZO02t\nkPOPxhz+nxUrIoWCD/V4NGmUA1lxwHuO21HN1gzKrN3xHg5EGjyouR9vibT9VDGF\ngq6+4Ic/kJX+AD2MM7Yre2+FsOdysrmuW2Fu3ahuC1uQE7pOe1j0k7auNP0y1q53\nPrB8Ts2LUpepWC1l7zIXFm4ViDULuyWXTEpUcHSsEH8vpd1tckjypxCwkipfZsXx\niPszy0o0Dx2iArPfWMXlFAI9mvyFCyFC3+nSvfyAUb2C4uZgCwAuyFh/ydPF4DEE\nPQIDAQAB",VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX:"false",VITE_APP_COLLAPSE_OVERLAY:"false",VITE_APP_ENABLE_ESLINT:"false",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.18.0",PROD:!0}},91618:function(e,t,n){"use strict";n.d(t,{a:function(){return i},b:function(){return o},c:function(){return l},d:function(){return s}});var r,a=Object.defineProperty,i=(r=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:function(e,t){return(typeof require<"u"?require:e)[t]}}):r),o=function(e){return function(t){var n=e[t];if(n)return n();throw new Error("Module not found in bundle: "+t)}},l=function(e,t){for(var n in t)a(e,n,{get:t[n],enumerable:!0})},s=function(e,t,n){return function(e,t,n){t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n}},98718:function(e,t,n){"use strict";n.d(t,{a:function(){return r},b:function(){return a},c:function(){return i}});var r=100,a=36,i={"ar-SA":94,"az-AZ":17,"bg-BG":71,"bn-BD":52,"ca-ES":83,"cs-CZ":86,"da-DK":61,"de-DE":100,"el-GR":80,en:r,"es-ES":96,"eu-ES":97,"fa-IR":84,"fi-FI":76,"fr-FR":99,"gl-ES":86,"he-IL":77,"hi-IN":76,"hu-HU":76,"id-ID":91,"it-IT":98,"ja-JP":90,kaa:a,"kab-KAB":76,"kk-KZ":18,"km-KH":83,"ko-KR":100,"ku-TR":87,"lt-LT":48,"lv-LV":77,"mr-IN":98,"my-MM":35,"nb-NO":93,"nl-NL":75,"nn-NO":67,"oc-FR":92,"pa-IN":78,"pl-PL":99,"pt-BR":91,"pt-PT":83,"ro-RO":99,"ru-RU":92,"si-LK":7,"sk-SK":100,"sl-SI":100,"sv-SE":100,"ta-IN":81,"th-TH":44,"tr-TR":87,"uk-UA":93,"vi-VN":49,"zh-CN":100,"zh-HK":22,"zh-TW":100}},64059:function(e,t,n){"use strict";n.d(t,{y5:function(){return v.Wg},Td:function(){return Kv},zU:function(){return If},Ho:function(){return v.mk},J2:function(){return v.Sj},Wh:function(){return Zv},PF:function(){return v.lh},Mp:function(){return v.jh},jL:function(){return vc}});var r=n(39874),a=n(85501),i=n(23029),o=n(92901),l=n(64467),s=n(89379),c=n(24765),u=n(80045),d=n(5544),f=n(36755),h=n(10467),p=n(60436),v=n(57885),U=n(63137),m=n(89023),g=n(98718),b=n(91618),y=n(9950),x=n.t(y,2),w=0;function E(e,t){var n="atom".concat(++w),r={toString:function(){return this.debugLabel?n+":"+this.debugLabel:n}};return"function"===typeof e?r.read=e:(r.init=e,r.read=k,r.write=S),t&&(r.write=t),r}function k(e){return e(this)}function S(e,t,n){return t(this,"function"===typeof n?n(e(this)):n)}var M,C=function(e,t){return e.unstable_is?e.unstable_is(t):t===e},I=function(e){return"init"in e},j=function(e){return!!e.write},T=new WeakMap,A=function(e){var t;return D(e)&&!(null==(t=T.get(e))?void 0:t[1])},D=function(e){return"function"===typeof(null==e?void 0:e.then)},_=function(e){return"v"in e||"e"in e},L=function(e){if("e"in e)throw e.e;if(!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},R=function(e,t,n){n.p.has(e)||(n.p.add(e),t.then((function(){n.p.delete(e)}),(function(){n.p.delete(e)})))},P=function(e,t,n,r,a){var i;if(r===t)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,a.n),A(n.v)&&R(t,n.v,a),null==(i=a.m)||i.t.add(t),e&&z(e,r,t)},N=function(){return{D:new Map,H:new Set,M:new Set,L:new Set}},F=function(e,t,n){e[t].add(n)},O=function(e,t,n){e.D.has(t)||(e.D.set(t,new Set),F(e,"M",(function(){var t;null==(t=n.m)||t.l.forEach((function(t){return F(e,"M",t)}))})))},z=function(e,t,n){var r=e.D.get(t);r&&r.add(n)},B=function(e){for(var t,n=!1,r=function(e){try{e()}catch(Ma){n||(t=Ma,n=!0)}};e.H.size||e.M.size||e.L.size;)e.D.clear(),e.H.forEach(r),e.H.clear(),e.M.forEach(r),e.M.clear(),e.L.forEach(r),e.L.clear();if(n)throw t},H=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3],l=function(e,t,n){var a="v"in t,i=t.v,o=A(t.v)?t.v:null;if(D(n)){!function(e){if(!T.has(e)){var t=[new Set,!1];T.set(e,t);var n=function(){t[1]=!0};e.then(n,n),e.onCancel=function(e){t[0].add(e)}}}(n);var l,s=(0,c.default)(t.d.keys());try{for(s.s();!(l=s.n()).done;){var u=l.value;R(e,n,r(u))}}catch(d){s.e(d)}finally{s.f()}t.v=n}else t.v=n;delete t.e,delete t.x,a&&Object.is(i,t.v)||(++t.n,o&&function(e,t){var n=T.get(e);if(!n)throw new Error("[Bug] cancelable promise not found");n[1]=!0,n[0].forEach((function(e){return e(t)}))}(o,n))},s=function(e,t){var n,i=r(t);if(_(i)){if(i.m&&!i.x)return i;if(Array.from(i.d).every((function(t){var n=(0,d.default)(t,2),r=n[0],a=n[1];return s(e,r).n===a})))return i}i.d.clear();var o,c,u=!0,f={get signal(){return o||(o=new AbortController),o.signal},get setSelf(){return j(t)||console.warn("setSelf function cannot be used with read-only atom"),!c&&j(t)&&(c=function(){if(u&&console.warn("setSelf function cannot be called in sync"),!u){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return h.apply(void 0,[t].concat(n))}}),c}};try{var p=a(t,(function(n){if(C(t,n)){var a=r(n);if(!_(a)){if(!I(n))throw new Error("no atom init");l(n,a,n.init)}return L(a)}var o=s(e,n);try{return L(o)}finally{if(u)P(e,t,i,n,o);else{var c=N();P(c,t,i,n,o),v(c,t,i),B(c)}}}),f);if(l(t,i,p),D(p)){null==(n=p.onCancel)||n.call(p,(function(){return null==o?void 0:o.abort()}));var U=function(){if(i.m){var e=N();v(e,t,i),B(e)}};p.then(U,U)}return i}catch(m){return delete i.v,i.e=m,delete i.x,++i.n,i}finally{u=!1}},u=function(e,t,n){var a,i,o,l=new Map,s=(0,c.default)((null==(a=n.m)?void 0:a.t)||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value,d=r(u);d.m&&l.set(u,d)}}catch(v){s.e(v)}finally{s.f()}var f,h=(0,c.default)(n.p);try{for(h.s();!(f=h.n()).done;){var p=f.value;l.set(p,r(p))}}catch(v){h.e(v)}finally{h.f()}return null==(i=function(e,t){return e.D.get(t)}(e,t))||i.forEach((function(e){l.set(e,r(e))})),l},f=function(e,t){var n=!0;try{for(var a=arguments.length,o=new Array(a>2?a-2:0),h=2;h<a;h++)o[h-2]=arguments[h];return i.apply(void 0,[t,function(t){return L(s(e,t))},function(a){var i=r(a);try{for(var o=arguments.length,h=new Array(o>1?o-1:0),p=1;p<o;p++)h[p-1]=arguments[p];if(C(t,a)){if(!I(a))throw new Error("atom not writable");var U=i.n,m=h[0];return l(a,i,m),v(e,a,i),void(U!==i.n&&(O(e,a,i),function(e,t,n){for(var r=[],a=new Set,i=new Set,o=[[t,n]];o.length>0;){var l=(0,d.default)(o[o.length-1],2),f=l[0],h=l[1];if(i.has(f))o.pop();else if(a.has(f))r.push([f,h,h.n]),i.add(f),h.x=!0,o.pop();else{a.add(f);var p,U=(0,c.default)(u(e,f,h));try{for(U.s();!(p=U.n()).done;){var m=(0,d.default)(p.value,2),g=m[0],b=m[1];f===g||a.has(g)||o.push([g,b])}}catch(y){U.e(y)}finally{U.f()}}}F(e,"H",(function(){for(var n=new Set([t]),a=r.length-1;a>=0;--a){var i,o=(0,d.default)(r[a],3),l=o[0],u=o[1],f=o[2],h=!1,p=(0,c.default)(u.d.keys());try{for(p.s();!(i=p.n()).done;){var U=i.value;if(U!==l&&n.has(U)){h=!0;break}}}catch(y){p.e(y)}finally{p.f()}h&&(s(e,l),v(e,l,u),f!==u.n&&(O(e,l,u),n.add(l))),delete u.x}}))}(e,a,i)))}return f.apply(void 0,[e,a].concat(h))}finally{n||B(e)}}].concat(o))}finally{n=!1}},h=function(e){var t=N();try{for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return f.apply(void 0,[t,e].concat(r))}finally{B(t)}},v=function(e,t,n){if(n.m&&!A(n.v)){var a,i=(0,c.default)(n.d.keys());try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!n.m.d.has(o))U(e,o,r(o)).t.add(t),n.m.d.add(o)}}catch(f){i.e(f)}finally{i.f()}var l,s=(0,c.default)(n.m.d||[]);try{for(s.s();!(l=s.n()).done;){var u=l.value;if(!n.d.has(u)){n.m.d.delete(u);var d=m(e,u,r(u));null==d||d.t.delete(t)}}}catch(f){s.e(f)}finally{s.f()}}},U=function(e,t,n){if(!n.m){s(e,t);var a,i=(0,c.default)(n.d.keys());try{for(i.s();!(a=i.n()).done;){var l=a.value;U(e,l,r(l)).t.add(t)}}catch(p){i.e(p)}finally{i.f()}if(n.m={l:new Set,d:new Set(n.d.keys()),t:new Set},j(t)){var u,d=n.m,h=function(e,n){var r=!0;u=function(){try{for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return f.apply(void 0,[e,t].concat(a))}finally{r||B(e)}};try{return n()}finally{r=!1}};F(e,"L",(function(){var n=h(e,(function(){return o(t,(function(){return u.apply(void 0,arguments)}))}));n&&(d.u=function(e){return h(e,n)})}))}}return n.m},m=function(e,t,n){if(!n.m||n.m.l.size||Array.from(n.m.t).some((function(e){var n;return null==(n=r(e).m)?void 0:n.d.has(t)})))return n.m;var a=n.m.u;a&&F(e,"L",(function(){return a(e)})),delete n.m;var i,o=(0,c.default)(n.d.keys());try{for(o.s();!(i=o.n()).done;){var l=i.value,s=m(e,l,r(l));null==s||s.t.delete(t)}}catch(u){o.e(u)}finally{o.f()}};return{get:function(e){return L(s(void 0,e))},set:h,sub:function(e,t){var n=N(),a=r(e),i=U(n,e,a).l;return i.add(t),B(n),function(){i.delete(t);var n=N();m(n,e,a),B(n)}},unstable_derive:function(e){return H.apply(void 0,(0,p.default)(e(r,a,i,o)))}}},W=function(){var e=new WeakMap,t=H((function(t){if(!t)throw new Error("Atom is undefined or null");var n=e.get(t);return n||(n={d:new Map,p:new Set,n:0},e.set(t,n)),n}),(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.read.apply(e,n)}),(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.write.apply(e,n)}),(function(e){for(var t,n,r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return null==(n=e.onMount)?void 0:(t=n).call.apply(t,[e].concat(a))}));return function(e){var t,n=new WeakMap,r=new Set,a=0,i=e.unstable_derive((function(e,i,o,l){return t=e,[function(t){var a=n.get(t);if(!a){var i=e(t);a=new Proxy(i,{set:function(e,n,a){return"m"===n&&r.add(t),Reflect.set(e,n,a)},deleteProperty:function(e,n){return"m"===n&&r.delete(t),Reflect.deleteProperty(e,n)}}),n.set(t,a)}return a},i,function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),l=3;l<r;l++)i[l-3]=arguments[l];return a?n.apply(void 0,[e].concat(i)):o.apply(void 0,[e,t,n].concat(i))},l]})),o=i.set,l={dev4_get_internal_weak_map:function(){return{get:function(e){var n=t(e);if(0!==n.n)return n}}},dev4_get_mounted_atoms:function(){return r},dev4_restore_atoms:function(e){var t={read:function(){return null},write:function(t,n){++a;try{var r,i=(0,c.default)(e);try{for(i.s();!(r=i.n()).done;){var o=(0,d.default)(r.value,2),l=o[0],s=o[1];I(l)&&n(l,s)}}catch(u){i.e(u)}finally{i.f()}}finally{--a}}};o(t)}};return Object.assign(i,l)}(t)},X=n(44414),V=(0,y.createContext)(void 0),G=function(e){var t=(0,y.useContext)(V);return(null==e?void 0:e.store)||t||(M||(M=W(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=M),globalThis.__JOTAI_DEFAULT_STORE__!==M&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),M)},Y=function(e){return"function"===typeof(null==e?void 0:e.then)},Z=function(e){e.status="pending",e.then((function(t){e.status="fulfilled",e.value=t}),(function(t){e.status="rejected",e.reason=t}))},K=y.use||function(e){if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(Z(e),e)},q=new WeakMap,$=function(e){var t=q.get(e);return t||(t=new Promise((function(n,r){var a=e,i=function(e){return function(t){a===e&&n(t)}},o=function(e){return function(t){a===e&&r(t)}},l=function(e){"onCancel"in e&&"function"===typeof e.onCancel&&e.onCancel((function(r){if(r===e)throw new Error("[Bug] p is not updated even after cancelation");Y(r)?(q.set(r,t),a=r,r.then(i(r),o(r)),l(r)):n(r)}))};e.then(i(e),o(e)),l(e)})),q.set(e,t)),t};function Q(e,t){var n=G(t),r=(0,y.useReducer)((function(t){var r=n.get(e);return Object.is(t[0],r)&&t[1]===n&&t[2]===e?t:[r,n,e]}),void 0,(function(){return[n.get(e),n,e]})),a=(0,d.default)(r,2),i=(0,d.default)(a[0],3),o=i[0],l=i[1],s=i[2],c=a[1],u=o;l===n&&s===e||(c(),u=n.get(e));var f=null==t?void 0:t.delay;if((0,y.useEffect)((function(){var t=n.sub(e,(function(){if("number"===typeof f){var t=n.get(e);return Y(t)&&Z($(t)),void setTimeout(c,f)}c()}));return c(),t}),[n,e,f]),(0,y.useDebugValue)(u),Y(u)){var h=$(u);return K(h)}return u}function J(e,t){var n=G(t),r=(0,y.useCallback)((function(){if(!("write"in e))throw new Error("not writable atom");for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n.set.apply(n,[e].concat(r))}),[n,e]);return r}var ee=new WeakMap;var te=function(e){var t=ee.get(e);return t||(t=new WeakSet,ee.set(e,t)),t};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(){var e=(0,y.createContext)(null);var t=function(t){var n=(0,y.useContext)(e);if(!n)throw new Error("Missing Provider from createIsolation");return G(ne({store:n},t))};return{Provider:function(t){var n=t.store,r=t.initialValues,a=void 0===r?[]:r,i=t.children,o=(0,y.useRef)(n);return o.current||(o.current=W()),function(e,t){var n,r=G(t),a=te(r),i=(0,c.default)(e);try{for(i.s();!(n=i.n()).done;){var o=(0,d.default)(n.value,2),l=o[0],s=o[1];a.has(l)&&!(null==t?void 0:t.dangerouslyForceHydrate)||(a.add(l),r.set(l,s))}}catch(u){i.e(u)}finally{i.f()}}(a,{store:o.current}),(0,X.jsx)(e.Provider,{value:o.current,children:i})},useStore:t,useAtom:function(e,n){return function(e,t){return[Q(e,t),J(e,t)]}(e,ne({store:t()},n))},useAtomValue:function(e,n){return Q(e,ne({store:t()},n))},useSetAtom:function(e,n){return J(e,ne({store:t()},n))}}}var ae=E(null);ae.read,ae.write;(0,y.createContext)({scope:void 0,baseStore:void 0});var ie=n(2803),oe=n(17119),le=n(49095),se=n(96772);function ce(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}function ue(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function de(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!1,r=t.map((function(t){var r=ue(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return function(){for(var e=0;e<r.length;e++){var n=r[e];"function"==typeof n?n():ue(t[e],null)}}}}function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useCallback(de.apply(void 0,t),t)}var he=["scope","children"];function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];var r=function(){var t=n.map((function(e){return y.createContext(e)}));return function(n){var r=(null===n||void 0===n?void 0:n[e])||t;return y.useMemo((function(){return(0,l.default)({},"__scope".concat(e),(0,s.default)((0,s.default)({},n),{},(0,l.default)({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var a=y.createContext(r),i=n.length;n=[].concat((0,p.default)(n),[r]);var o=function(t){var n,r=t.scope,o=t.children,l=(0,u.default)(t,he),s=(null===r||void 0===r||null===(n=r[e])||void 0===n?void 0:n[i])||a,c=y.useMemo((function(){return l}),Object.values(l));return(0,X.jsx)(s.Provider,{value:c,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var l,s=(null===o||void 0===o||null===(l=o[e])||void 0===l?void 0:l[i])||a,c=y.useContext(s);if(c)return c;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},ve.apply(void 0,[r].concat((0,p.default)(t)))]}function ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,a=n.scopeName,i=r(t)["__scope".concat(a)];return(0,s.default)((0,s.default)({},e),i)}),{});return y.useMemo((function(){return(0,l.default)({},"__scope".concat(r.scopeName),n)}),[n])}};return a.scopeName=r.scopeName,a}var Ue=["children"],me=["children"],ge=y.forwardRef((function(e,t){var n=e.children,r=(0,u.default)(e,Ue),a=y.Children.toArray(n),i=a.find(xe);if(i){var o=i.props.children,l=a.map((function(e){return e===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:e}));return(0,X.jsx)(be,(0,s.default)((0,s.default)({},r),{},{ref:t,children:y.isValidElement(o)?y.cloneElement(o,void 0,l):null}))}return(0,X.jsx)(be,(0,s.default)((0,s.default)({},r),{},{ref:t,children:n}))}));ge.displayName="Slot";var be=y.forwardRef((function(e,t){var n=e.children,r=(0,u.default)(e,me);if(y.isValidElement(n)){var a=function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){var n=(0,s.default)({},t),r=function(){var r=e[a],i=t[a];/^on[A-Z]/.test(a)?r&&i?n[a]=function(){i.apply(void 0,arguments),r.apply(void 0,arguments)}:r&&(n[a]=r):"style"===a?n[a]=(0,s.default)((0,s.default)({},r),i):"className"===a&&(n[a]=[r,i].filter(Boolean).join(" "))};for(var a in t)r();return(0,s.default)((0,s.default)({},e),n)}(r,n.props);return n.type!==y.Fragment&&(i.ref=t?de(t,a):a),y.cloneElement(n,i)}return y.Children.count(n)>1?y.Children.only(null):null}));be.displayName="SlotClone";var ye=function(e){var t=e.children;return(0,X.jsx)(X.Fragment,{children:t})};function xe(e){return y.isValidElement(e)&&e.type===ye}var we=["asChild"],Ee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=y.forwardRef((function(e,n){var r=e.asChild,a=(0,u.default)(e,we),i=r?ge:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,X.jsx)(i,(0,s.default)((0,s.default)({},a),{},{ref:n}))}));return n.displayName="Primitive.".concat(t),(0,s.default)((0,s.default)({},e),{},(0,l.default)({},t,n))}),{});function ke(e){var t=y.useRef(e);return y.useEffect((function(){t.current=e})),y.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}var Se,Me=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"],Ce="dismissableLayer.update",Ie="dismissableLayer.pointerDownOutside",je="dismissableLayer.focusOutside",Te=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ae=y.forwardRef((function(e,t){var n,r=e.disableOutsidePointerEvents,a=void 0!==r&&r,i=e.onEscapeKeyDown,o=e.onPointerDownOutside,l=e.onFocusOutside,c=e.onInteractOutside,f=e.onDismiss,h=(0,u.default)(e,Me),v=y.useContext(Te),U=y.useState(null),m=(0,d.default)(U,2),g=m[0],b=m[1],x=null!==(n=null===g||void 0===g?void 0:g.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,w=y.useState({}),E=(0,d.default)(w,2)[1],k=fe(t,(function(e){return b(e)})),S=Array.from(v.layers),M=(0,p.default)(v.layersWithOutsidePointerEventsDisabled).slice(-1),C=(0,d.default)(M,1)[0],I=S.indexOf(C),j=g?S.indexOf(g):-1,T=v.layersWithOutsidePointerEventsDisabled.size>0,A=j>=I,D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=ke(e),r=y.useRef(!1),a=y.useRef((function(){}));return y.useEffect((function(){var e=function(e){if(e.target&&!r.current){var i=function(){Le(Ie,n,o,{discrete:!0})},o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=i,t.addEventListener("click",a.current,{once:!0})):i()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout((function(){t.addEventListener("pointerdown",e)}),0);return function(){window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}}),[t,n]),{onPointerDownCapture:function(){return r.current=!0}}}((function(e){var t=e.target,n=(0,p.default)(v.branches).some((function(e){return e.contains(t)}));A&&!n&&(null===o||void 0===o||o(e),null===c||void 0===c||c(e),e.defaultPrevented||null===f||void 0===f||f())}),x),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=ke(e),r=y.useRef(!1);return y.useEffect((function(){var e=function(e){e.target&&!r.current&&Le(je,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),function(){return t.removeEventListener("focusin",e)}}),[t,n]),{onFocusCapture:function(){return r.current=!0},onBlurCapture:function(){return r.current=!1}}}((function(e){var t=e.target;(0,p.default)(v.branches).some((function(e){return e.contains(t)}))||(null===l||void 0===l||l(e),null===c||void 0===c||c(e),e.defaultPrevented||null===f||void 0===f||f())}),x);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document,n=ke(e);y.useEffect((function(){var e=function(e){"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),function(){return t.removeEventListener("keydown",e,{capture:!0})}}),[n,t])}((function(e){j===v.layers.size-1&&(null===i||void 0===i||i(e),!e.defaultPrevented&&f&&(e.preventDefault(),f()))}),x),y.useEffect((function(){if(g)return a&&(0===v.layersWithOutsidePointerEventsDisabled.size&&(Se=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(g)),v.layers.add(g),_e(),function(){a&&1===v.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=Se)}}),[g,x,a,v]),y.useEffect((function(){return function(){g&&(v.layers.delete(g),v.layersWithOutsidePointerEventsDisabled.delete(g),_e())}}),[g,v]),y.useEffect((function(){var e=function(){return E({})};return document.addEventListener(Ce,e),function(){return document.removeEventListener(Ce,e)}}),[]),(0,X.jsx)(Ee.div,(0,s.default)((0,s.default)({},h),{},{ref:k,style:(0,s.default)({pointerEvents:T?A?"auto":"none":void 0},e.style),onFocusCapture:ce(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,D.onPointerDownCapture)}))}));Ae.displayName="DismissableLayer";var De=y.forwardRef((function(e,t){var n=y.useContext(Te),r=y.useRef(null),a=fe(t,r);return y.useEffect((function(){var e=r.current;if(e)return n.branches.add(e),function(){n.branches.delete(e)}}),[n.branches]),(0,X.jsx)(Ee.div,(0,s.default)((0,s.default)({},e),{},{ref:a}))}));function _e(){var e=new CustomEvent(Ce);document.dispatchEvent(e)}function Le(e,t,n,r){var a=r.discrete,i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),a?function(e,t){e&&oe.flushSync((function(){return e.dispatchEvent(t)}))}(i,o):i.dispatchEvent(o)}De.displayName="DismissableLayerBranch";var Re=0;function Pe(){y.useEffect((function(){var e,t,n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:Ne()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:Ne()),Re++,function(){1===Re&&document.querySelectorAll("[data-radix-focus-guard]").forEach((function(e){return e.remove()})),Re--}}),[])}function Ne(){var e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fe=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"],Oe="focusScope.autoFocusOnMount",ze="focusScope.autoFocusOnUnmount",Be={bubbles:!1,cancelable:!0},He=y.forwardRef((function(e,t){var n=e.loop,r=void 0!==n&&n,a=e.trapped,i=void 0!==a&&a,o=e.onMountAutoFocus,l=e.onUnmountAutoFocus,f=(0,u.default)(e,Fe),h=y.useState(null),p=(0,d.default)(h,2),v=p[0],U=p[1],m=ke(o),g=ke(l),b=y.useRef(null),x=fe(t,(function(e){return U(e)})),w=y.useRef({paused:!1,pause:function(){this.paused=!0},resume:function(){this.paused=!1}}).current;y.useEffect((function(){if(i){var e=function(e){if(!w.paused&&v){var t=e.target;v.contains(t)?b.current=t:Ge(b.current,{select:!0})}},t=function(e){if(!w.paused&&v){var t=e.relatedTarget;null!==t&&(v.contains(t)||Ge(b.current,{select:!0}))}},n=function(e){if(document.activeElement===document.body){var t,n=(0,c.default)(e);try{for(n.s();!(t=n.n()).done;){t.value.removedNodes.length>0&&Ge(v)}}catch(r){n.e(r)}finally{n.f()}}};document.addEventListener("focusin",e),document.addEventListener("focusout",t);var r=new MutationObserver(n);return v&&r.observe(v,{childList:!0,subtree:!0}),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[i,v,w.paused]),y.useEffect((function(){if(v){Ye.add(w);var e=document.activeElement;if(!v.contains(e)){var t=new CustomEvent(Oe,Be);v.addEventListener(Oe,m),v.dispatchEvent(t),t.defaultPrevented||(!function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.select,a=void 0!==r&&r,i=document.activeElement,o=(0,c.default)(e);try{for(o.s();!(t=o.n()).done;){if(Ge(t.value,{select:a}),document.activeElement!==i)return}}catch(l){o.e(l)}finally{o.f()}}((n=We(v),n.filter((function(e){return"A"!==e.tagName}))),{select:!0}),document.activeElement===e&&Ge(v))}return function(){v.removeEventListener(Oe,m),setTimeout((function(){var t=new CustomEvent(ze,Be);v.addEventListener(ze,g),v.dispatchEvent(t),t.defaultPrevented||Ge(null!==e&&void 0!==e?e:document.body,{select:!0}),v.removeEventListener(ze,g),Ye.remove(w)}),0)}}var n}),[v,m,g,w]);var E=y.useCallback((function(e){if((r||i)&&!w.paused){var t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var a=e.currentTarget,o=function(e){var t=We(e),n=Xe(t,e),r=Xe(t.reverse(),e);return[n,r]}(a),l=(0,d.default)(o,2),s=l[0],c=l[1];s&&c?e.shiftKey||n!==c?e.shiftKey&&n===s&&(e.preventDefault(),r&&Ge(c,{select:!0})):(e.preventDefault(),r&&Ge(s,{select:!0})):n===a&&e.preventDefault()}}}),[r,i,w.paused]);return(0,X.jsx)(Ee.div,(0,s.default)((0,s.default)({tabIndex:-1},f),{},{ref:x,onKeyDown:E}))}));function We(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){var t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode();)t.push(n.currentNode);return t}function Xe(e,t){var n,r=(0,c.default)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!Ve(a,{upTo:t}))return a}}catch(i){r.e(i)}finally{r.f()}}function Ve(e,t){var n=t.upTo;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Ge(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).select,n=void 0!==t&&t;if(e&&e.focus){var r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&n&&e.select()}}He.displayName="FocusScope";var Ye=function(){var e=[];return{add:function(t){var n=e[0];t!==n&&(null===n||void 0===n||n.pause()),(e=Ze(e,t)).unshift(t)},remove:function(t){var n;null===(n=(e=Ze(e,t))[0])||void 0===n||n.resume()}}}();function Ze(e,t){var n=(0,p.default)(e),r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Ke=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?y.useLayoutEffect:function(){},qe=x["useId".toString()]||function(){},$e=0;function Qe(e){var t=y.useState(qe()),n=(0,d.default)(t,2),r=n[0],a=n[1];return Ke((function(){e||a((function(e){return null!==e&&void 0!==e?e:String($e++)}))}),[e]),e||(r?"radix-".concat(r):"")}var Je=n(32910),et="undefined"!==typeof document?y.useLayoutEffect:y.useEffect;function tt(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var n,r,a;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!==r--;)if(!tt(e[r],t[r]))return!1;return!0}if((n=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!==r--;){var i=a[r];if(("_owner"!==i||!e.$$typeof)&&!tt(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function nt(e){return"undefined"===typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rt(e,t){var n=nt(e);return Math.round(t*n)/n}function at(e){var t=y.useRef(e);return et((function(){t.current=e})),t}var it=function(e,t){return(0,s.default)((0,s.default)({},(0,Je.BN)(e)),{},{options:[e,t]})},ot=function(e,t){return(0,s.default)((0,s.default)({},(0,Je.ER)(e)),{},{options:[e,t]})},lt=function(e,t){return(0,s.default)((0,s.default)({},(0,Je.UU)(e)),{},{options:[e,t]})},st=function(e,t){return(0,s.default)((0,s.default)({},(0,Je.Ej)(e)),{},{options:[e,t]})},ct=function(e,t){return(0,s.default)((0,s.default)({},(0,Je.jD)(e)),{},{options:[e,t]})},ut=function(e,t){return(0,s.default)((0,s.default)({},function(e){return{name:"arrow",options:e,fn:function(t){var n,r="function"===typeof e?e(t):e,a=r.element,i=r.padding;return a&&(n=a,{}.hasOwnProperty.call(n,"current"))?null!=a.current?(0,Je.UE)({element:a.current,padding:i}).fn(t):{}:a?(0,Je.UE)({element:a,padding:i}).fn(t):{}}}}(e)),{},{options:[e,t]})},dt=["children","width","height"],ft=y.forwardRef((function(e,t){var n=e.children,r=e.width,a=void 0===r?10:r,i=e.height,o=void 0===i?5:i,l=(0,u.default)(e,dt);return(0,X.jsx)(Ee.svg,(0,s.default)((0,s.default)({},l),{},{ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,X.jsx)("polygon",{points:"0,0 30,0 15,10"})}))}));ft.displayName="Arrow";var ht=ft;var pt=["__scopePopper","virtualRef"],vt=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],Ut=["__scopePopper"],mt="Popper",gt=pe(mt),bt=(0,d.default)(gt,2),yt=bt[0],xt=bt[1],wt=yt(mt),Et=(0,d.default)(wt,2),kt=Et[0],St=Et[1],Mt=function(e){var t=e.__scopePopper,n=e.children,r=y.useState(null),a=(0,d.default)(r,2),i=a[0],o=a[1];return(0,X.jsx)(kt,{scope:t,anchor:i,onAnchorChange:o,children:n})};Mt.displayName=mt;var Ct="PopperAnchor",It=y.forwardRef((function(e,t){var n=e.__scopePopper,r=e.virtualRef,a=(0,u.default)(e,pt),i=St(Ct,n),o=y.useRef(null),l=fe(t,o);return y.useEffect((function(){i.onAnchorChange((null===r||void 0===r?void 0:r.current)||o.current)})),r?null:(0,X.jsx)(Ee.div,(0,s.default)((0,s.default)({},a),{},{ref:l}))}));It.displayName=Ct;var jt="PopperContent",Tt=yt(jt),At=(0,d.default)(Tt,2),Dt=At[0],_t=At[1],Lt=y.forwardRef((function(e,t){var n,r,a,i,o,c,f,h,p,v,U=e.__scopePopper,m=e.side,g=void 0===m?"bottom":m,b=e.sideOffset,x=void 0===b?0:b,w=e.align,E=void 0===w?"center":w,k=e.alignOffset,S=void 0===k?0:k,M=e.arrowPadding,C=void 0===M?0:M,I=e.avoidCollisions,j=void 0===I||I,T=e.collisionBoundary,A=void 0===T?[]:T,D=e.collisionPadding,_=void 0===D?0:D,L=e.sticky,R=void 0===L?"partial":L,P=e.hideWhenDetached,N=void 0!==P&&P,F=e.updatePositionStrategy,O=void 0===F?"optimized":F,z=e.onPlaced,B=(0,u.default)(e,vt),H=St(jt,U),W=y.useState(null),V=(0,d.default)(W,2),G=V[0],Y=V[1],Z=fe(t,(function(e){return Y(e)})),K=y.useState(null),q=(0,d.default)(K,2),$=q[0],Q=q[1],J=function(e){var t=y.useState(void 0),n=(0,d.default)(t,2),r=n[0],a=n[1];return Ke((function(){if(e){a({width:e.offsetWidth,height:e.offsetHeight});var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,r,i=t[0];if("borderBoxSize"in i){var o=i.borderBoxSize,l=Array.isArray(o)?o[0]:o;n=l.inlineSize,r=l.blockSize}else n=e.offsetWidth,r=e.offsetHeight;a({width:n,height:r})}}));return t.observe(e,{box:"border-box"}),function(){return t.unobserve(e)}}a(void 0)}),[e]),r}($),ee=null!==(n=null===J||void 0===J?void 0:J.width)&&void 0!==n?n:0,te=null!==(r=null===J||void 0===J?void 0:J.height)&&void 0!==r?r:0,ne=g+("center"!==E?"-"+E:""),re="number"===typeof _?_:(0,s.default)({top:0,right:0,bottom:0,left:0},_),ae=Array.isArray(A)?A:[A],ie=ae.length>0,le={padding:re,boundary:ae.filter(Ft),altBoundary:ie},se=function(e){void 0===e&&(e={});var t=e,n=t.placement,r=void 0===n?"bottom":n,a=t.strategy,i=void 0===a?"absolute":a,o=t.middleware,l=void 0===o?[]:o,c=t.platform,u=t.elements,f=void 0===u?{}:u,h=f.reference,p=f.floating,v=t.transform,U=void 0===v||v,m=t.whileElementsMounted,g=t.open,b=y.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),x=(0,d.default)(b,2),w=x[0],E=x[1],k=y.useState(l),S=(0,d.default)(k,2),M=S[0],C=S[1];tt(M,l)||C(l);var I=y.useState(null),j=(0,d.default)(I,2),T=j[0],A=j[1],D=y.useState(null),_=(0,d.default)(D,2),L=_[0],R=_[1],P=y.useCallback((function(e){e!==z.current&&(z.current=e,A(e))}),[]),N=y.useCallback((function(e){e!==B.current&&(B.current=e,R(e))}),[]),F=h||T,O=p||L,z=y.useRef(null),B=y.useRef(null),H=y.useRef(w),W=null!=m,X=at(m),V=at(c),G=at(g),Y=y.useCallback((function(){if(z.current&&B.current){var e={placement:r,strategy:i,middleware:M};V.current&&(e.platform=V.current),(0,Je.rD)(z.current,B.current,e).then((function(e){var t=(0,s.default)((0,s.default)({},e),{},{isPositioned:!1!==G.current});Z.current&&!tt(H.current,t)&&(H.current=t,oe.flushSync((function(){E(t)})))}))}}),[M,r,i,V,G]);et((function(){!1===g&&H.current.isPositioned&&(H.current.isPositioned=!1,E((function(e){return(0,s.default)((0,s.default)({},e),{},{isPositioned:!1})})))}),[g]);var Z=y.useRef(!1);et((function(){return Z.current=!0,function(){Z.current=!1}}),[]),et((function(){if(F&&(z.current=F),O&&(B.current=O),F&&O){if(X.current)return X.current(F,O,Y);Y()}}),[F,O,Y,X,W]);var K=y.useMemo((function(){return{reference:z,floating:B,setReference:P,setFloating:N}}),[P,N]),q=y.useMemo((function(){return{reference:F,floating:O}}),[F,O]),$=y.useMemo((function(){var e={position:i,left:0,top:0};if(!q.floating)return e;var t=rt(q.floating,w.x),n=rt(q.floating,w.y);return U?(0,s.default)((0,s.default)({},e),{},{transform:"translate("+t+"px, "+n+"px)"},nt(q.floating)>=1.5&&{willChange:"transform"}):{position:i,left:t,top:n}}),[i,U,q.floating,w.x,w.y]);return y.useMemo((function(){return(0,s.default)((0,s.default)({},w),{},{update:Y,refs:K,elements:q,floatingStyles:$})}),[w,Y,K,q,$])}({strategy:"fixed",placement:ne,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Je.ll.apply(void 0,t.concat([{animationFrame:"always"===O}]))},elements:{reference:H.anchor},middleware:[(p={mainAxis:x+te,alignmentAxis:S},(0,s.default)((0,s.default)({},(0,Je.cY)(p)),{},{options:[p,v]})),j&&it((0,s.default)({mainAxis:!0,crossAxis:!1,limiter:"partial"===R?ot():void 0},le)),j&&lt((0,s.default)({},le)),st((0,s.default)((0,s.default)({},le),{},{apply:function(e){var t=e.elements,n=e.rects,r=e.availableWidth,a=e.availableHeight,i=n.reference,o=i.width,l=i.height,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(r,"px")),s.setProperty("--radix-popper-available-height","".concat(a,"px")),s.setProperty("--radix-popper-anchor-width","".concat(o,"px")),s.setProperty("--radix-popper-anchor-height","".concat(l,"px"))}})),$&&ut({element:$,padding:C}),Ot({arrowWidth:ee,arrowHeight:te}),N&&ct((0,s.default)({strategy:"referenceHidden"},le))]}),ce=se.refs,ue=se.floatingStyles,de=se.placement,he=se.isPositioned,pe=se.middlewareData,ve=zt(de),Ue=(0,d.default)(ve,2),me=Ue[0],ge=Ue[1],be=ke(z);Ke((function(){he&&(null===be||void 0===be||be())}),[he,be]);var ye=null===(a=pe.arrow)||void 0===a?void 0:a.x,xe=null===(i=pe.arrow)||void 0===i?void 0:i.y,we=0!==(null===(o=pe.arrow)||void 0===o?void 0:o.centerOffset),Se=y.useState(),Me=(0,d.default)(Se,2),Ce=Me[0],Ie=Me[1];return Ke((function(){G&&Ie(window.getComputedStyle(G).zIndex)}),[G]),(0,X.jsx)("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:(0,s.default)((0,s.default)({},ue),{},(0,l.default)({transform:he?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce},"--radix-popper-transform-origin",[null===(c=pe.transformOrigin)||void 0===c?void 0:c.x,null===(f=pe.transformOrigin)||void 0===f?void 0:f.y].join(" ")),(null===(h=pe.hide)||void 0===h?void 0:h.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,X.jsx)(Dt,{scope:U,placedSide:me,onArrowChange:Q,arrowX:ye,arrowY:xe,shouldHideArrow:we,children:(0,X.jsx)(Ee.div,(0,s.default)((0,s.default)({"data-side":me,"data-align":ge},B),{},{ref:Z,style:(0,s.default)((0,s.default)({},B.style),{},{animation:he?void 0:"none"})}))})})}));Lt.displayName=jt;var Rt="PopperArrow",Pt={top:"bottom",right:"left",bottom:"top",left:"right"},Nt=y.forwardRef((function(e,t){var n=e.__scopePopper,r=(0,u.default)(e,Ut),a=_t(Rt,n),i=Pt[a.placedSide];return(0,X.jsx)("span",{ref:a.onArrowChange,style:(0,l.default)((0,l.default)((0,l.default)((0,l.default)({position:"absolute",left:a.arrowX,top:a.arrowY},i,0),"transformOrigin",{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide]),"transform",{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide]),"visibility",a.shouldHideArrow?"hidden":void 0),children:(0,X.jsx)(ht,(0,s.default)((0,s.default)({},r),{},{ref:t,style:(0,s.default)((0,s.default)({},r.style),{},{display:"block"})}))})}));function Ft(e){return null!==e}Nt.displayName=Rt;var Ot=function(e){return{name:"transformOrigin",options:e,fn:function(t){var n,r,a,i,o,l=t.placement,s=t.rects,c=t.middlewareData,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),f=u?0:e.arrowWidth,h=u?0:e.arrowHeight,p=zt(l),v=(0,d.default)(p,2),U=v[0],m={start:"0%",center:"50%",end:"100%"}[v[1]],g=(null!==(r=null===(a=c.arrow)||void 0===a?void 0:a.x)&&void 0!==r?r:0)+f/2,b=(null!==(i=null===(o=c.arrow)||void 0===o?void 0:o.y)&&void 0!==i?i:0)+h/2,y="",x="";return"bottom"===U?(y=u?m:"".concat(g,"px"),x="".concat(-h,"px")):"top"===U?(y=u?m:"".concat(g,"px"),x="".concat(s.floating.height+h,"px")):"right"===U?(y="".concat(-h,"px"),x=u?m:"".concat(b,"px")):"left"===U&&(y="".concat(s.floating.width+h,"px"),x=u?m:"".concat(b,"px")),{data:{x:y,y:x}}}}};function zt(e){var t=e.split("-"),n=(0,d.default)(t,2),r=n[0],a=n[1];return[r,void 0===a?"center":a]}var Bt=Mt,Ht=It,Wt=Lt,Xt=Nt,Vt=["container"],Gt=y.forwardRef((function(e,t){var n,r=e.container,a=(0,u.default)(e,Vt),i=y.useState(!1),o=(0,d.default)(i,2),l=o[0],c=o[1];Ke((function(){return c(!0)}),[]);var f=r||l&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return f?oe.createPortal((0,X.jsx)(Ee.div,(0,s.default)((0,s.default)({},a),{},{ref:t})),f):null}));Gt.displayName="Portal";var Yt=function(e){var t=e.present,n=e.children,r=function(e){var t=y.useState(),n=(0,d.default)(t,2),r=n[0],a=n[1],i=y.useRef({}),o=y.useRef(e),l=y.useRef("none"),s=e?"mounted":"unmounted",c=function(e,t){return y.useReducer((function(e,n){var r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=(0,d.default)(c,2),f=u[0],h=u[1];return y.useEffect((function(){var e=Zt(i.current);l.current="mounted"===f?e:"none"}),[f]),Ke((function(){var t=i.current,n=o.current;if(n!==e){var r=l.current,a=Zt(t);if(e)h("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))h("UNMOUNT");else{h(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,h]),Ke((function(){if(r){var e,t,n=null!==(e=r.ownerDocument.defaultView)&&void 0!==e?e:window,a=function(e){var a=Zt(i.current).includes(e.animationName);if(e.target===r&&a&&(h("ANIMATION_END"),!o.current)){var l=r.style.animationFillMode;r.style.animationFillMode="forwards",t=n.setTimeout((function(){"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=l)}))}},s=function(e){e.target===r&&(l.current=Zt(i.current))};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",a),r.addEventListener("animationend",a),function(){n.clearTimeout(t),r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",a),r.removeEventListener("animationend",a)}}h("ANIMATION_END")}),[r,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:y.useCallback((function(e){e&&(i.current=getComputedStyle(e)),a(e)}),[])}}(t),a="function"===typeof n?n({present:r.isPresent}):y.Children.only(n),i=fe(r.ref,function(e){var t,n,r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,a=r&&"isReactWarning"in r&&r.isReactWarning;if(a)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,a=r&&"isReactWarning"in r&&r.isReactWarning)return e.props.ref;return e.props.ref||e.ref}(a));return"function"===typeof n||r.isPresent?y.cloneElement(a,{ref:i}):null};function Zt(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}function Kt(e){var t=e.prop,n=e.defaultProp,r=e.onChange,a=void 0===r?function(){}:r,i=function(e){var t=e.defaultProp,n=e.onChange,r=y.useState(t),a=(0,d.default)(r,1)[0],i=y.useRef(a),o=ke(n);return y.useEffect((function(){i.current!==a&&(o(a),i.current=a)}),[a,i,o]),r}({defaultProp:n,onChange:a}),o=(0,d.default)(i,2),l=o[0],s=o[1],c=void 0!==t,u=c?t:l,f=ke(a);return[u,y.useCallback((function(e){if(c){var n="function"===typeof e?e(t):e;n!==t&&f(n)}else s(e)}),[c,t,s,f])]}Yt.displayName="Presence";var qt=n(28159),$t=n(86325),Qt=["__scopePopover"],Jt=["__scopePopover"],en=["forceMount"],tn=["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"],nn=["__scopePopover"],rn=["__scopePopover"],an="Popover",on=pe(an,[xt]),ln=(0,d.default)(on,2),sn=ln[0],cn=(ln[1],xt()),un=sn(an),dn=(0,d.default)(un,2),fn=dn[0],hn=dn[1],pn=function(e){var t=e.__scopePopover,n=e.children,r=e.open,a=e.defaultOpen,i=e.onOpenChange,o=e.modal,l=void 0!==o&&o,c=cn(t),u=y.useRef(null),f=y.useState(!1),h=(0,d.default)(f,2),p=h[0],v=h[1],U=Kt({prop:r,defaultProp:a,onChange:i}),m=(0,d.default)(U,2),g=m[0],b=void 0!==g&&g,x=m[1];return(0,X.jsx)(Bt,(0,s.default)((0,s.default)({},c),{},{children:(0,X.jsx)(fn,{scope:t,contentId:Qe(),triggerRef:u,open:b,onOpenChange:x,onOpenToggle:y.useCallback((function(){return x((function(e){return!e}))}),[x]),hasCustomAnchor:p,onCustomAnchorAdd:y.useCallback((function(){return v(!0)}),[]),onCustomAnchorRemove:y.useCallback((function(){return v(!1)}),[]),modal:l,children:n})}))};pn.displayName=an;var vn="PopoverAnchor",Un=y.forwardRef((function(e,t){var n=e.__scopePopover,r=(0,u.default)(e,Qt),a=hn(vn,n),i=cn(n),o=a.onCustomAnchorAdd,l=a.onCustomAnchorRemove;return y.useEffect((function(){return o(),function(){return l()}}),[o,l]),(0,X.jsx)(Ht,(0,s.default)((0,s.default)((0,s.default)({},i),r),{},{ref:t}))}));Un.displayName=vn;var mn="PopoverTrigger",gn=y.forwardRef((function(e,t){var n=e.__scopePopover,r=(0,u.default)(e,Jt),a=hn(mn,n),i=cn(n),o=fe(t,a.triggerRef),l=(0,X.jsx)(Ee.button,(0,s.default)((0,s.default)({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_n(a.open)},r),{},{ref:o,onClick:ce(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:(0,X.jsx)(Ht,(0,s.default)((0,s.default)({asChild:!0},i),{},{children:l}))}));gn.displayName=mn;var bn="PopoverPortal",yn=sn(bn,{forceMount:void 0}),xn=(0,d.default)(yn,2),wn=xn[0],En=xn[1],kn=function(e){var t=e.__scopePopover,n=e.forceMount,r=e.children,a=e.container,i=hn(bn,t);return(0,X.jsx)(wn,{scope:t,forceMount:n,children:(0,X.jsx)(Yt,{present:n||i.open,children:(0,X.jsx)(Gt,{asChild:!0,container:a,children:r})})})};kn.displayName=bn;var Sn="PopoverContent",Mn=y.forwardRef((function(e,t){var n=En(Sn,e.__scopePopover),r=e.forceMount,a=void 0===r?n.forceMount:r,i=(0,u.default)(e,en),o=hn(Sn,e.__scopePopover);return(0,X.jsx)(Yt,{present:a||o.open,children:o.modal?(0,X.jsx)(Cn,(0,s.default)((0,s.default)({},i),{},{ref:t})):(0,X.jsx)(In,(0,s.default)((0,s.default)({},i),{},{ref:t}))})}));Mn.displayName=Sn;var Cn=y.forwardRef((function(e,t){var n=hn(Sn,e.__scopePopover),r=y.useRef(null),a=fe(t,r),i=y.useRef(!1);return y.useEffect((function(){var e=r.current;if(e)return(0,qt.hideOthers)(e)}),[]),(0,X.jsx)($t.A,{as:ge,allowPinchZoom:!0,children:(0,X.jsx)(jn,(0,s.default)((0,s.default)({},e),{},{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,(function(e){var t;e.preventDefault(),i.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:ce(e.onPointerDownOutside,(function(e){var t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;i.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:ce(e.onFocusOutside,(function(e){return e.preventDefault()}),{checkForDefaultPrevented:!1})}))})})),In=y.forwardRef((function(e,t){var n=hn(Sn,e.__scopePopover),r=y.useRef(!1),a=y.useRef(!1);return(0,X.jsx)(jn,(0,s.default)((0,s.default)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:function(t){var i,o;(null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented)||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault());r.current=!1,a.current=!1},onInteractOutside:function(t){var i,o;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));var l=t.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}}))})),jn=y.forwardRef((function(e,t){var n=e.__scopePopover,r=e.trapFocus,a=e.onOpenAutoFocus,i=e.onCloseAutoFocus,o=e.disableOutsidePointerEvents,l=e.onEscapeKeyDown,c=e.onPointerDownOutside,d=e.onFocusOutside,f=e.onInteractOutside,h=(0,u.default)(e,tn),p=hn(Sn,n),v=cn(n);return Pe(),(0,X.jsx)(He,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:(0,X.jsx)(Ae,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:function(){return p.onOpenChange(!1)},children:(0,X.jsx)(Wt,(0,s.default)((0,s.default)((0,s.default)({"data-state":_n(p.open),role:"dialog",id:p.contentId},v),h),{},{ref:t,style:(0,s.default)((0,s.default)({},h.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})})),Tn="PopoverClose",An=y.forwardRef((function(e,t){var n=e.__scopePopover,r=(0,u.default)(e,nn),a=hn(Tn,n);return(0,X.jsx)(Ee.button,(0,s.default)((0,s.default)({type:"button"},r),{},{ref:t,onClick:ce(e.onClick,(function(){return a.onOpenChange(!1)}))}))}));An.displayName=Tn;var Dn=y.forwardRef((function(e,t){var n=e.__scopePopover,r=(0,u.default)(e,rn),a=cn(n);return(0,X.jsx)(Xt,(0,s.default)((0,s.default)((0,s.default)({},a),r),{},{ref:t}))}));function _n(e){return e?"open":"closed"}Dn.displayName="PopoverArrow";var Ln=pn,Rn=gn,Pn=kn,Nn=Mn,Fn=Dn,On=n(90782),zn=n(43088),Bn=n(19469),Hn=function(e){var t,n=new Set,r=function(e,r){var a="function"===typeof e?e(t):e;if(!Object.is(a,t)){var i=t;t=(null!=r?r:"object"!==typeof a||null===a)?a:Object.assign({},t,a),n.forEach((function(e){return e(t,i)}))}},a=function(){return t},i={setState:r,getState:a,getInitialState:function(){return o},subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},o=t=e(r,a,i);return i},Wn=function(e){return e?Hn(e):Hn},Xn=n(53044),Vn=y.useDebugValue,Gn=Xn.useSyncExternalStoreWithSelector,Yn=!1,Zn=function(e){return e};var Kn,qn,$n=function(e){"function"!==typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");var t="function"===typeof e?Wn(e):e,n=function(e,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zn,n=arguments.length>2?arguments[2]:void 0;n&&!Yn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Yn=!0);var r=Gn(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vn(r),r}(t,e,n)};return Object.assign(n,t),n},Qn=function(e){return e?$n(e):$n},Jn="undefined"!==typeof window&&(null!=(Kn=window.document)&&Kn.createElement||"ReactNative"===(null==(qn=window.navigator)?void 0:qn.product))?y.useLayoutEffect:y.useEffect;function er(){var e=Qn((function(e){return{current:new Array,version:0,set:e}}));return{In:function(t){var n=t.children,r=e((function(e){return e.set})),a=e((function(e){return e.version}));return Jn((function(){r((function(e){return{version:e.version+1}}))}),[]),Jn((function(){return r((function(e){var t=e.current;return{current:[].concat((0,p.default)(t),[n])}})),function(){return r((function(e){return{current:e.current.filter((function(e){return e!==n}))}}))}}),[n,a]),null},Out:function(){var t=e((function(e){return e.current}));return y.createElement(y.Fragment,null,t)}}}var tr=n(58168);function nr(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkForDefaultPrevented,r=void 0===n||n;return function(n){if(null===e||void 0===e||e(n),!1===r||!n.defaultPrevented)return null===t||void 0===t?void 0:t(n)}}var rr=["scope","children"];function ar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];var r=function(){var t=n.map((function(e){return(0,y.createContext)(e)}));return function(n){var r=(null===n||void 0===n?void 0:n[e])||t;return(0,y.useMemo)((function(){return(0,l.default)({},"__scope".concat(e),(0,s.default)((0,s.default)({},n),{},(0,l.default)({},e,r)))}),[n,r])}};return r.scopeName=e,[function(t,r){var a=(0,y.createContext)(r),i=n.length;function o(t){var n=t.scope,r=t.children,o=(0,u.default)(t,rr),l=(null===n||void 0===n?void 0:n[e][i])||a,s=(0,y.useMemo)((function(){return o}),Object.values(o));return(0,y.createElement)(l.Provider,{value:s},r)}return n=[].concat((0,p.default)(n),[r]),o.displayName=t+"Provider",[o,function(n,o){var l=(null===o||void 0===o?void 0:o[e][i])||a,s=(0,y.useContext)(l);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},ir.apply(void 0,[r].concat((0,p.default)(t)))]}function ir(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if(1===t.length)return r;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,a=n.scopeName,i=r(t)["__scope".concat(a)];return(0,s.default)((0,s.default)({},e),i)}),{});return(0,y.useMemo)((function(){return(0,l.default)({},"__scope".concat(r.scopeName),n)}),[n])}};return a.scopeName=r.scopeName,a}function or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(t,e)}))}}function lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,y.useCallback)(or.apply(void 0,t),t)}var sr=["children"],cr=["children"],ur=(0,y.forwardRef)((function(e,t){var n=e.children,r=(0,u.default)(e,sr),a=y.Children.toArray(n),i=a.find(hr);if(i){var o=i.props.children,l=a.map((function(e){return e===i?y.Children.count(o)>1?y.Children.only(null):(0,y.isValidElement)(o)?o.props.children:null:e}));return(0,y.createElement)(dr,(0,tr.A)({},r,{ref:t}),(0,y.isValidElement)(o)?(0,y.cloneElement)(o,void 0,l):null)}return(0,y.createElement)(dr,(0,tr.A)({},r,{ref:t}),n)}));ur.displayName="Slot";var dr=(0,y.forwardRef)((function(e,t){var n=e.children,r=(0,u.default)(e,cr);return(0,y.isValidElement)(n)?(0,y.cloneElement)(n,(0,s.default)((0,s.default)({},function(e,t){var n=(0,s.default)({},t),r=function(){var r=e[a],i=t[a];/^on[A-Z]/.test(a)?r&&i?n[a]=function(){i.apply(void 0,arguments),r.apply(void 0,arguments)}:r&&(n[a]=r):"style"===a?n[a]=(0,s.default)((0,s.default)({},r),i):"className"===a&&(n[a]=[r,i].filter(Boolean).join(" "))};for(var a in t)r();return(0,s.default)((0,s.default)({},e),n)}(r,n.props)),{},{ref:or(t,n.ref)})):y.Children.count(n)>1?y.Children.only(null):null}));dr.displayName="SlotClone";var fr=function(e){var t=e.children;return(0,y.createElement)(y.Fragment,null,t)};function hr(e){return(0,y.isValidElement)(e)&&e.type===fr}var pr=["scope","children"];var vr=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?y.useLayoutEffect:function(){},Ur=x["useId".toString()]||function(){},mr=0;function gr(e){var t=y.useState(Ur()),n=(0,d.default)(t,2),r=n[0],a=n[1];return vr((function(){e||a((function(e){return null!==e&&void 0!==e?e:String(mr++)}))}),[e]),e||(r?"radix-".concat(r):"")}var br=["asChild"],yr=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){var n=(0,y.forwardRef)((function(e,n){var r=e.asChild,a=(0,u.default)(e,br),i=r?ur:t;return(0,y.useEffect)((function(){window[Symbol.for("radix-ui")]=!0}),[]),(0,y.createElement)(i,(0,tr.A)({},a,{ref:n}))}));return n.displayName="Primitive.".concat(t),(0,s.default)((0,s.default)({},e),{},(0,l.default)({},t,n))}),{});function xr(e){var t=(0,y.useRef)(e);return(0,y.useEffect)((function(){t.current=e})),(0,y.useMemo)((function(){return function(){for(var e,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(a))}}),[])}function wr(e){var t=e.prop,n=e.defaultProp,r=e.onChange,a=void 0===r?function(){}:r,i=function(e){var t=e.defaultProp,n=e.onChange,r=(0,y.useState)(t),a=(0,d.default)(r,1)[0],i=(0,y.useRef)(a),o=xr(n);return(0,y.useEffect)((function(){i.current!==a&&(o(a),i.current=a)}),[a,i,o]),r}({defaultProp:n,onChange:a}),o=(0,d.default)(i,2),l=o[0],s=o[1],c=void 0!==t,u=c?t:l,f=xr(a);return[u,(0,y.useCallback)((function(e){if(c){var n="function"===typeof e?e(t):e;n!==t&&f(n)}else s(e)}),[c,t,s,f])]}var Er=(0,y.createContext)(void 0);function kr(e){var t=(0,y.useContext)(Er);return e||t||"ltr"}var Sr=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus"],Mr=["__scopeRovingFocusGroup","focusable","active","tabStopId"],Cr="rovingFocusGroup.onEntryFocus",Ir={bubbles:!1,cancelable:!0},jr="RovingFocusGroup",Tr=function(e){var t=e+"CollectionProvider",n=ar(t),r=(0,d.default)(n,2),a=r[0],i=r[1],o=a(t,{collectionRef:{current:null},itemMap:new Map}),c=(0,d.default)(o,2),f=c[0],h=c[1],p=function(e){var t=e.scope,n=e.children,r=y.useRef(null),a=y.useRef(new Map).current;return y.createElement(f,{scope:t,itemMap:a,collectionRef:r},n)},v=e+"CollectionSlot",U=y.forwardRef((function(e,t){var n=e.scope,r=e.children,a=lr(t,h(v,n).collectionRef);return y.createElement(ur,{ref:a},r)})),m=e+"CollectionItemSlot",g="data-radix-collection-item",b=y.forwardRef((function(e,t){var n=e.scope,r=e.children,a=(0,u.default)(e,pr),i=y.useRef(null),o=lr(t,i),c=h(m,n);return y.useEffect((function(){return c.itemMap.set(i,(0,s.default)({ref:i},a)),function(){c.itemMap.delete(i)}})),y.createElement(ur,(0,l.default)((0,l.default)({},g,""),"ref",o),r)}));return[{Provider:p,Slot:U,ItemSlot:b},function(t){var n=h(e+"CollectionConsumer",t);return y.useCallback((function(){var e=n.collectionRef.current;if(!e)return[];var t=Array.from(e.querySelectorAll("[".concat(g,"]")));return Array.from(n.itemMap.values()).sort((function(e,n){return t.indexOf(e.ref.current)-t.indexOf(n.ref.current)}))}),[n.collectionRef,n.itemMap])},i]}(jr),Ar=(0,d.default)(Tr,3),Dr=Ar[0],_r=Ar[1],Lr=ar(jr,[Ar[2]]),Rr=(0,d.default)(Lr,2),Pr=Rr[0],Nr=Rr[1],Fr=Pr(jr),Or=(0,d.default)(Fr,2),zr=Or[0],Br=Or[1],Hr=(0,y.forwardRef)((function(e,t){return(0,y.createElement)(Dr.Provider,{scope:e.__scopeRovingFocusGroup},(0,y.createElement)(Dr.Slot,{scope:e.__scopeRovingFocusGroup},(0,y.createElement)(Wr,(0,tr.A)({},e,{ref:t}))))})),Wr=(0,y.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.orientation,a=e.loop,i=void 0!==a&&a,o=e.dir,l=e.currentTabStopId,c=e.defaultCurrentTabStopId,f=e.onCurrentTabStopIdChange,h=e.onEntryFocus,v=(0,u.default)(e,Sr),U=(0,y.useRef)(null),m=lr(t,U),g=kr(o),b=wr({prop:l,defaultProp:c,onChange:f}),x=(0,d.default)(b,2),w=x[0],E=void 0===w?null:w,k=x[1],S=(0,y.useState)(!1),M=(0,d.default)(S,2),C=M[0],I=M[1],j=xr(h),T=_r(n),A=(0,y.useRef)(!1),D=(0,y.useState)(0),_=(0,d.default)(D,2),L=_[0],R=_[1];return(0,y.useEffect)((function(){var e=U.current;if(e)return e.addEventListener(Cr,j),function(){return e.removeEventListener(Cr,j)}}),[j]),(0,y.createElement)(zr,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:E,onItemFocus:(0,y.useCallback)((function(e){return k(e)}),[k]),onItemShiftTab:(0,y.useCallback)((function(){return I(!0)}),[]),onFocusableItemAdd:(0,y.useCallback)((function(){return R((function(e){return e+1}))}),[]),onFocusableItemRemove:(0,y.useCallback)((function(){return R((function(e){return e-1}))}),[])},(0,y.createElement)(yr.div,(0,tr.A)({tabIndex:C||0===L?-1:0,"data-orientation":r},v,{ref:m,style:(0,s.default)({outline:"none"},e.style),onMouseDown:nr(e.onMouseDown,(function(){A.current=!0})),onFocus:nr(e.onFocus,(function(e){var t=!A.current;if(e.target===e.currentTarget&&t&&!C){var n=new CustomEvent(Cr,Ir);if(e.currentTarget.dispatchEvent(n),!n.defaultPrevented){var r=T().filter((function(e){return e.focusable}));Yr([r.find((function(e){return e.active})),r.find((function(e){return e.id===E}))].concat((0,p.default)(r)).filter(Boolean).map((function(e){return e.ref.current})))}}A.current=!1})),onBlur:nr(e.onBlur,(function(){return I(!1)}))})))})),Xr="RovingFocusGroupItem",Vr=(0,y.forwardRef)((function(e,t){var n=e.__scopeRovingFocusGroup,r=e.focusable,a=void 0===r||r,i=e.active,o=void 0!==i&&i,l=e.tabStopId,s=(0,u.default)(e,Mr),c=gr(),d=l||c,f=Br(Xr,n),h=f.currentTabStopId===d,p=_r(n),v=f.onFocusableItemAdd,U=f.onFocusableItemRemove;return(0,y.useEffect)((function(){if(a)return v(),function(){return U()}}),[a,v,U]),(0,y.createElement)(Dr.ItemSlot,{scope:n,id:d,focusable:a,active:o},(0,y.createElement)(yr.span,(0,tr.A)({tabIndex:h?0:-1,"data-orientation":f.orientation},s,{ref:t,onMouseDown:nr(e.onMouseDown,(function(e){a?f.onItemFocus(d):e.preventDefault()})),onFocus:nr(e.onFocus,(function(){return f.onItemFocus(d)})),onKeyDown:nr(e.onKeyDown,(function(e){if("Tab"===e.key&&e.shiftKey)f.onItemShiftTab();else if(e.target===e.currentTarget){var t,n,r=function(e,t,n){var r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Gr[r]}(e,f.orientation,f.dir);if(void 0!==r){e.preventDefault();var a=p().filter((function(e){return e.focusable})).map((function(e){return e.ref.current}));if("last"===r)a.reverse();else if("prev"===r||"next"===r){"prev"===r&&a.reverse();var i=a.indexOf(e.currentTarget);a=f.loop?(n=i+1,(t=a).map((function(e,r){return t[(n+r)%t.length]}))):a.slice(i+1)}setTimeout((function(){return Yr(a)}))}}}))})))})),Gr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yr(e){var t,n=document.activeElement,r=(0,c.default)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a===n)return;if(a.focus(),document.activeElement!==n)return}}catch(i){r.e(i)}finally{r.f()}}var Zr=Hr,Kr=Vr;var qr=function(e){var t=e.present,n=e.children,r=function(e){var t=(0,y.useState)(),n=(0,d.default)(t,2),r=n[0],a=n[1],i=(0,y.useRef)({}),o=(0,y.useRef)(e),l=(0,y.useRef)("none"),s=e?"mounted":"unmounted",c=function(e,t){return(0,y.useReducer)((function(e,n){var r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=(0,d.default)(c,2),f=u[0],h=u[1];return(0,y.useEffect)((function(){var e=$r(i.current);l.current="mounted"===f?e:"none"}),[f]),vr((function(){var t=i.current,n=o.current;if(n!==e){var r=l.current,a=$r(t);if(e)h("MOUNT");else if("none"===a||"none"===(null===t||void 0===t?void 0:t.display))h("UNMOUNT");else{h(n&&r!==a?"ANIMATION_OUT":"UNMOUNT")}o.current=e}}),[e,h]),vr((function(){if(r){var e=function(e){var t=$r(i.current).includes(e.animationName);e.target===r&&t&&(0,oe.flushSync)((function(){return h("ANIMATION_END")}))},t=function(e){e.target===r&&(l.current=$r(i.current))};return r.addEventListener("animationstart",t),r.addEventListener("animationcancel",e),r.addEventListener("animationend",e),function(){r.removeEventListener("animationstart",t),r.removeEventListener("animationcancel",e),r.removeEventListener("animationend",e)}}h("ANIMATION_END")}),[r,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:(0,y.useCallback)((function(e){e&&(i.current=getComputedStyle(e)),a(e)}),[])}}(t),a="function"===typeof n?n({present:r.isPresent}):y.Children.only(n),i=lr(r.ref,a.ref);return"function"===typeof n||r.isPresent?(0,y.cloneElement)(a,{ref:i}):null};function $r(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}qr.displayName="Presence";var Qr=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],Jr=["__scopeTabs","loop"],ea=["__scopeTabs","value","disabled"],ta=["__scopeTabs","value","forceMount","children"],na="Tabs",ra=ar(na,[Nr]),aa=(0,d.default)(ra,2),ia=aa[0],oa=(aa[1],Nr()),la=ia(na),sa=(0,d.default)(la,2),ca=sa[0],ua=sa[1],da=(0,y.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.value,a=e.onValueChange,i=e.defaultValue,o=e.orientation,l=void 0===o?"horizontal":o,s=e.dir,c=e.activationMode,f=void 0===c?"automatic":c,h=(0,u.default)(e,Qr),p=kr(s),v=wr({prop:r,onChange:a,defaultProp:i}),U=(0,d.default)(v,2),m=U[0],g=U[1];return(0,y.createElement)(ca,{scope:n,baseId:gr(),value:m,onValueChange:g,orientation:l,dir:p,activationMode:f},(0,y.createElement)(yr.div,(0,tr.A)({dir:p,"data-orientation":l},h,{ref:t})))})),fa="TabsList",ha=(0,y.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.loop,a=void 0===r||r,i=(0,u.default)(e,Jr),o=ua(fa,n),l=oa(n);return(0,y.createElement)(Zr,(0,tr.A)({asChild:!0},l,{orientation:o.orientation,dir:o.dir,loop:a}),(0,y.createElement)(yr.div,(0,tr.A)({role:"tablist","aria-orientation":o.orientation},i,{ref:t})))})),pa="TabsTrigger",va=(0,y.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.value,a=e.disabled,i=void 0!==a&&a,o=(0,u.default)(e,ea),l=ua(pa,n),s=oa(n),c=ga(l.baseId,r),d=ba(l.baseId,r),f=r===l.value;return(0,y.createElement)(Kr,(0,tr.A)({asChild:!0},s,{focusable:!i,active:f}),(0,y.createElement)(yr.button,(0,tr.A)({type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},o,{ref:t,onMouseDown:nr(e.onMouseDown,(function(e){i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(r)})),onKeyDown:nr(e.onKeyDown,(function(e){[" ","Enter"].includes(e.key)&&l.onValueChange(r)})),onFocus:nr(e.onFocus,(function(){var e="manual"!==l.activationMode;f||i||!e||l.onValueChange(r)}))})))})),Ua="TabsContent",ma=(0,y.forwardRef)((function(e,t){var n=e.__scopeTabs,r=e.value,a=e.forceMount,i=e.children,o=(0,u.default)(e,ta),l=ua(Ua,n),c=ga(l.baseId,r),d=ba(l.baseId,r),f=r===l.value,h=(0,y.useRef)(f);return(0,y.useEffect)((function(){var e=requestAnimationFrame((function(){return h.current=!1}));return function(){return cancelAnimationFrame(e)}}),[]),(0,y.createElement)(qr,{present:a||f},(function(n){var r=n.present;return(0,y.createElement)(yr.div,(0,tr.A)({"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:d,tabIndex:0},o,{ref:t,style:(0,s.default)((0,s.default)({},e.style),{},{animationDuration:h.current?"0s":void 0})}),r&&i)}))}));function ga(e,t){return"".concat(e,"-trigger-").concat(t)}function ba(e,t){return"".concat(e,"-content-").concat(t)}var ya,xa=da,wa=ha,Ea=va,ka=ma,Sa=n(64267);var Ma,Ca,Ia,ja;function Ta(e,t){var n=(0,d.default)(e,3),r=n[0],a=n[1],i=n[2],o=(0,d.default)(t,3);return[r+o[0],a+o[1],i+o[2]]}function Aa(e,t){var n=(0,d.default)(e,3),r=n[0],a=n[1],i=n[2],o=(0,d.default)(t,3);return[r-o[0],a-o[1],i-o[2]]}function Da(e,t){var n=(0,d.default)(e,3);return[n[0]*t,n[1]*t,n[2]*t]}function _a(e){var t=(0,d.default)(e,3),n=t[0],r=t[1],a=t[2];return[n/Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),r/Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),a]}function La(e,t){var n=(0,d.default)(e,3),r=n[0],a=n[1],i=n[2];return[Math.cos(t)*r-Math.sin(t)*a,Math.sin(t)*r+Math.cos(t)*a,i]}function Ra(e,t,n){return Math.atan2(n[1]-e[1],n[0]-e[0])-Math.atan2(t[1]-e[1],t[0]-e[0])}function Pa(e){return Math.atan2(Math.sin(e),Math.cos(e))}function Na(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function Fa(e,t){var n=(0,d.default)(e,2),r=n[0],a=n[1],i=(0,d.default)(t,2),o=i[0],l=i[1];return Math.sqrt(Math.pow(o-r,2)+Math.pow(l-a,2))}Ma={},Ca="LaserPointer",Ia=function(){return Ba},Object.defineProperty(Ma,Ca,{get:Ia,set:ja,enumerable:!0,configurable:!0});function Oa(e,t,n){var r=Fa(t,n);if(0===r)return Fa(e,t);var a=function(e,t,n){return Math.max(t,Math.min(n,e))}(((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/Math.pow(r,2),0,1);return Fa([t[0]+a*(n[0]-t[0]),t[1]+a*(n[1]-t[1]),e[2]],e)}function za(e,t){if(0===t)return e;if(e.length<=2)return e;var n=e[0],r=e[e.length-1],a=e.reduce((function(e,t,a){var i=(0,d.default)(e,2),o=i[0],l=i[1],s=Oa(t,n,r);return s>o?[s,a]:[o,l]}),[0,-1]),i=(0,d.default)(a,2),o=i[0],l=i[1];if(o>=t){var s=e[l];return[].concat((0,p.default)(za([n].concat((0,p.default)(e.slice(1,l)),[s]),t).slice(0,-1)),[s],(0,p.default)(za([s].concat((0,p.default)(e.slice(l,-1)),[r]),t).slice(1)))}return[n,r]}var Ba=function(){function e(t){(0,i.default)(this,e),this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},e.defaults,t)}return(0,o.default)(e,[{key:"lastPoint",get:function(){var e;return null!==(e=this.tailPoints[this.tailPoints.length-1])&&void 0!==e?e:this.stablePoints[this.stablePoints.length-1]}},{key:"addPoint",value:function(t){var n=this.originalPoints[this.originalPoints.length-1];if(!n||n[0]!==t[0]||n[1]!==t[1]){if(this.originalPoints.push(t),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(t);var r,a,i;this.options.streamline>0&&(r=this.lastPoint,a=t,i=1-this.options.streamline,t=Ta(r,Da(Aa(a,r),i))),this.tailPoints.push(t),function(e){if(e.length<2)return 0;for(var t=0,n=1;n<=e.length-1;n++)t+=Fa(e[n-1],e[n]);return t+Fa(e[e.length-2],e[e.length-1])}(this.tailPoints)>e.constants.maxTailLength&&this.stabilizeTail()}}},{key:"close",value:function(){this.stabilizeTail()}},{key:"stabilizeTail",value:function(){if(this.options.simplify>0&&"tail"==this.options.simplifyPhase)throw new Error("Not implemented yet");var e;(e=this.stablePoints).push.apply(e,(0,p.default)(this.tailPoints)),this.tailPoints=[]}},{key:"getSize",value:function(e,t,n,r,a){return(null!==e&&void 0!==e?e:this.options.size)*this.options.sizeMapping({pressure:t,runningLength:a,currentIndex:n,totalLength:r})}},{key:"getStrokeOutline",value:function(t){if(this.isFresh)return[];var n=[].concat((0,p.default)(this.stablePoints),(0,p.default)(this.tailPoints));this.options.simplify>0&&"input"===this.options.simplifyPhase&&(n=za(n,this.options.simplify));var r=n.length;if(0===r)return[];if(1===r){var a=n[0],i=this.getSize(t,a[2],0,r,0);if(i<.5)return[];for(var o=[],l=0;l<=2*Math.PI;l+=Math.PI/16)o.push(Ta(a,Da(La([1,0,0],l),i)));return o.push(Ta(a,Da([1,0,0],this.getSize(t,a[2],0,r,0)))),o}if(2===r){var s=n[0],c=n[1],u=this.getSize(t,s[2],0,r,0),d=this.getSize(t,c[2],0,r,0);if(u<.5||d<.5)return[];for(var f=[],h=Ra(s,[s[0],s[1]-100,s[2]],c),v=h;v<=Math.PI+h;v+=Math.PI/16)f.push(Ta(s,Da(La([1,0,0],v),u)));for(var U=Math.PI+h;U<=2*Math.PI+h;U+=Math.PI/16)f.push(Ta(c,Da(La([1,0,0],U),d)));return f.push(f[0]),f}for(var m=[],g=[],b=0,y=0,x=0,w=0,E=1;E<r-1;E++){var k=n[E-1],S=n[E],M=n[E+1],C=S[2],I=Fa(k,S);w+=I,b=y+.2*(I-y);var j=this.getSize(t,C,E,r,w);if(0!==j){var T=_a(Aa(k,S)),A=_a(Aa(M,S)),D=La(T,Math.PI/2),_=La(T,-Math.PI/2),L=La(A,Math.PI/2),R=La(A,-Math.PI/2),P=Ta(S,Da(D,j)),N=Ta(S,Da(_,j)),F=Ta(S,Da(L,j)),O=Ta(S,Da(R,j)),z=Ta(D,R),B=Ta(_,L),H=Ta(S,Da(0===Na(z)?T:_a(z),j)),W=Ta(S,Da(0===Na(B)?A:_a(B),j)),X=Pa(Ra(S,k,M)),V=e.constants.cornerDetectionMaxAngle/180*Math.PI*e.constants.cornerDetectionVariance(b);if(Math.abs(X)<V){var G=Math.abs(Pa(Math.PI-X));if(0===G)continue;if(X<0){g.push(N,W);for(var Y=0;Y<=G;Y+=G/4)m.push(Ta(S,La(Da(D,j),Y)));for(var Z=G;Z>=0;Z-=G/4)g.push(Ta(S,La(Da(D,j),Z)));g.push(W,F)}else{m.push(P,H);for(var K=0;K<=G;K+=G/4)g.push(Ta(S,La(Da(D,-j),-K)));for(var q=G;q>=0;q-=G/4)m.push(Ta(S,La(Da(D,-j),-q)));m.push(H,O)}}else m.push(H),g.push(W);y=b}else x=E+1}if(x>=r-2){if(this.options.keepHead){for(var $=n[r-1],Q=[],J=0;J<=2*Math.PI;J+=Math.PI/16)Q.push(Ta($,Da(La([1,0,0],J),this.options.size)));return Q.push(Ta($,Da([1,0,0],this.options.size))),Q}return[]}var ee=n[x],te=n[x+1],ne=n[r-2],re=n[r-1],ae=_a(Aa(te,ee)),ie=_a(Aa(ne,re)),oe=La(ae,-Math.PI/2),le=La(ie,Math.PI/2),se=this.getSize(t,ee[2],0,r,0),ce=[],ue=this.options.keepHead?this.options.size:this.getSize(t,ne[2],r-2,r,w),de=[];if(se>1){for(var fe=0;fe<=Math.PI;fe+=Math.PI/16)ce.unshift(Ta(ee,La(Da(oe,se),-fe)));ce.unshift(Ta(ee,Da(oe,-se)))}else ce.push(ee);for(var he=0;he<=3*Math.PI;he+=Math.PI/16)de.push(Ta(re,La(Da(le,-ue),-he)));var pe=[].concat(ce,m,(0,p.default)(de.reverse()),(0,p.default)(g.reverse()));return ce.length>0&&pe.push(ce[0]),this.options.simplify>0&&"output"===this.options.simplifyPhase?za(pe,this.options.simplify):pe}}])}();(ya=Ba).defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",keepHead:!1,sizeMapping:function(){return 1}},ya.constants={cornerDetectionMaxAngle:75,cornerDetectionVariance:function(e){return e>35?.5:1},maxTailLength:50};var Ha=["size","visible","className"],Wa=["icon","value","order","children","shortcut","className","hovered","selected","textStyle","onSelect","onClick"],Xa=["cachedElements","resetAll","resetContainers"],Va=["i18nKey","children"],Ga=["label","onClick","className","children","actionType","type","isLoading"],Ya=["onConfirm","onCancel","children","confirmText","cancelText","className"],Za=["className","children","onToggle","title"],Ka=["icon","shortcut","href","children","onSelect","className","selected","rel"],qa=["children","className","selected"],$a=["type","onSelect","selected","children","className"],Qa=["onChange","label","fullWidth","placeholder","readonly","selectOnRender","onKeyDown","isRedacted","icon","className"],Ja=["heading","children"],ei=["children"],ti=["children","tab","onSelect"],ni=["children"],ri=["tab","children"],ai=["name","children","onDock","docked","className"],ii=["children","className","onDock","docked"],oi=["children"],li=["children","tab","onSelect"],si=["tab","children"],ci=["tab"],ui=["children","columns","heading","style"],di=["children","order","style"],fi=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],hi=["canvas","appState"],pi=["canvas","appState"],vi=["onSelect","children","icon","shortcut","className"],Ui=["children","href","icon","shortcut","className"],mi=["isCollaborating","onSelect"],gi=["initialData","UIOptions"],bi=["initialData","UIOptions"],yi=(0,f.default)().mark(Pd),xi=re(),wi=xi.useAtom,Ei=xi.useSetAtom,ki=xi.useAtomValue,Si=(xi.useStore,xi.Provider),Mi=W(),Ci=(0,b.b)({"./locales/ar-SA.json":function(){return n.e(3503).then(n.bind(n,13503))},"./locales/az-AZ.json":function(){return n.e(9316).then(n.bind(n,99316))},"./locales/bg-BG.json":function(){return n.e(1999).then(n.bind(n,21999))},"./locales/bn-BD.json":function(){return n.e(1876).then(n.bind(n,1876))},"./locales/ca-ES.json":function(){return n.e(8585).then(n.bind(n,78585))},"./locales/cs-CZ.json":function(){return n.e(2415).then(n.bind(n,32415))},"./locales/da-DK.json":function(){return n.e(1017).then(n.bind(n,61017))},"./locales/de-DE.json":function(){return n.e(3651).then(n.bind(n,13651))},"./locales/el-GR.json":function(){return n.e(4601).then(n.bind(n,34601))},"./locales/en.json":function(){return n.e(3205).then(n.bind(n,43205))},"./locales/es-ES.json":function(){return n.e(3805).then(n.bind(n,33805))},"./locales/eu-ES.json":function(){return n.e(5167).then(n.bind(n,37548))},"./locales/fa-IR.json":function(){return n.e(4237).then(n.bind(n,64237))},"./locales/fi-FI.json":function(){return n.e(7780).then(n.bind(n,47780))},"./locales/fr-FR.json":function(){return n.e(9036).then(n.bind(n,49036))},"./locales/gl-ES.json":function(){return n.e(9512).then(n.bind(n,49512))},"./locales/he-IL.json":function(){return n.e(3134).then(n.bind(n,93134))},"./locales/hi-IN.json":function(){return n.e(8711).then(n.bind(n,8711))},"./locales/hu-HU.json":function(){return n.e(1164).then(n.bind(n,21164))},"./locales/id-ID.json":function(){return n.e(7954).then(n.bind(n,27954))},"./locales/it-IT.json":function(){return n.e(5871).then(n.bind(n,5871))},"./locales/ja-JP.json":function(){return n.e(1404).then(n.bind(n,71404))},"./locales/kaa.json":function(){return n.e(8604).then(n.bind(n,8604))},"./locales/kab-KAB.json":function(){return n.e(1568).then(n.bind(n,91568))},"./locales/kk-KZ.json":function(){return n.e(6068).then(n.bind(n,66068))},"./locales/km-KH.json":function(){return n.e(7473).then(n.bind(n,67473))},"./locales/ko-KR.json":function(){return n.e(2613).then(n.bind(n,12613))},"./locales/ku-TR.json":function(){return n.e(1398).then(n.bind(n,31398))},"./locales/lt-LT.json":function(){return n.e(1753).then(n.bind(n,61753))},"./locales/lv-LV.json":function(){return n.e(4493).then(n.bind(n,74493))},"./locales/mr-IN.json":function(){return n.e(5697).then(n.bind(n,95697))},"./locales/my-MM.json":function(){return n.e(786).then(n.bind(n,80786))},"./locales/nb-NO.json":function(){return n.e(2402).then(n.bind(n,82402))},"./locales/nl-NL.json":function(){return n.e(8387).then(n.bind(n,98387))},"./locales/nn-NO.json":function(){return n.e(3217).then(n.bind(n,73217))},"./locales/oc-FR.json":function(){return n.e(7734).then(n.bind(n,47734))},"./locales/pa-IN.json":function(){return n.e(9052).then(n.bind(n,99052))},"./locales/percentages.json":function(){return n.e(7371).then(n.bind(n,67371))},"./locales/pl-PL.json":function(){return n.e(4886).then(n.bind(n,74886))},"./locales/pt-BR.json":function(){return n.e(2921).then(n.bind(n,32921))},"./locales/pt-PT.json":function(){return n.e(3201).then(n.bind(n,33201))},"./locales/ro-RO.json":function(){return n.e(4844).then(n.bind(n,84844))},"./locales/ru-RU.json":function(){return n.e(4020).then(n.bind(n,14020))},"./locales/si-LK.json":function(){return n.e(2301).then(n.bind(n,62301))},"./locales/sk-SK.json":function(){return n.e(7220).then(n.bind(n,97220))},"./locales/sl-SI.json":function(){return n.e(6525).then(n.bind(n,46525))},"./locales/sv-SE.json":function(){return n.e(7370).then(n.bind(n,27370))},"./locales/ta-IN.json":function(){return n.e(1693).then(n.bind(n,31693))},"./locales/th-TH.json":function(){return n.e(4584).then(n.bind(n,74584))},"./locales/tr-TR.json":function(){return n.e(7129).then(n.bind(n,87129))},"./locales/uk-UA.json":function(){return n.e(3539).then(n.bind(n,53539))},"./locales/vi-VN.json":function(){return n.e(7177).then(n.bind(n,87177))},"./locales/zh-CN.json":function(){return n.e(2218).then(n.bind(n,52218))},"./locales/zh-HK.json":function(){return n.e(7795).then(n.bind(n,17795))},"./locales/zh-TW.json":function(){return n.e(6587).then(n.bind(n,26587))}}),Ii={code:"en",label:"English"},ji=[Ii].concat((0,p.default)([{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"cs-CZ",label:"\u010cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"ku-TR",label:"Kurd\xee"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Sloven\u0161\u010dina"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"},{code:"vi-VN",label:"Ti\u1ebfng Vi\u1ec7t"},{code:"mr-IN",label:"\u092e\u0930\u093e\u0920\u0940"}].filter((function(e){return g.c[e.code]>=85})).sort((function(e,t){return e.label>t.label?1:-1})))),Ti="__test__";U.a.DEV&&ji.unshift({code:Ti,label:"test language"},{code:"".concat(Ti,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var Ai=Ii,Di={},_i=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ai=t,document.documentElement.dir=Ai.rtl?"rtl":"ltr",document.documentElement.lang=Ai.code,!t.code.startsWith(Ti)){e.next=4;break}Di={},e.next=13;break;case 4:return e.prev=4,e.next=7,Ci("./locales/".concat(Ai.code,".json"));case 7:Di=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error("Failed to load language ".concat(t.code,":"),e.t0.message),Di=m.J;case 13:Mi.set(Ni,t.code);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),Li=function(){return Ai},Ri=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},Pi=function(e,t,n){if(Ai.code.startsWith(Ti))return"\u202a[[".concat(t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e,"]]\u202c");var r=e.split("."),a=Ri(Di,r)||Ri(m.J,r)||n;if(void 0===a){var i="Can't find translation for ".concat(e);if(U.a.PROD)return console.warn(i),"";throw new Error(i)}if(t)for(var o in t)a=a.replace("{{".concat(o,"}}"),String(t[o]));return a},Ni=E(Ii.code),Fi=function(){var e=ki(Ni);return{t:Pi,langCode:e}},Oi=function(e){var t=e.size,n=void 0===t?"1em":t,r=e.circleWidth,a=void 0===r?8:r,i=e.synchronized,o=void 0!==i&&i,l=e.className,s=void 0===l?"":l,c=-y.useRef(Date.now()).current%1600;return(0,X.jsx)("div",{className:"Spinner ".concat(s),children:(0,X.jsx)("svg",{viewBox:"0 0 100 100",style:{width:n,height:n,"--spinner-delay":o?"".concat(c,"ms"):0},children:(0,X.jsx)("circle",{cx:"50",cy:"50",r:50-a/2,strokeWidth:a,fill:"none",strokeMiterlimit:"10"})})})},zi=function(e){var t=e.delay,n=e.theme,r=(0,y.useState)(!!t),a=(0,d.default)(r,2),i=a[0],o=a[1];return(0,y.useEffect)((function(){if(t){var e=setTimeout((function(){o(!1)}),t);return function(){return clearTimeout(e)}}}),[t]),i?null:(0,X.jsxs)("div",{className:(0,ie.A)("LoadingMessage",{"LoadingMessage--dark":n===v.G.DARK}),children:[(0,X.jsx)("div",{children:(0,X.jsx)(Oi,{})}),(0,X.jsx)("div",{className:"LoadingMessage-text",children:Pi("labels.loadingScene")})]})},Bi=function(e){var t=(0,y.useState)(!0),n=(0,d.default)(t,2),r=n[0],a=n[1];return(0,y.useEffect)((function(){var t=function(){var e=(0,h.default)((0,f.default)().mark((function e(){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i(n);case 2:a(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=ji.find((function(t){return t.code===e.langCode}))||Ii;t()}),[e.langCode]),r?(0,X.jsx)(zi,{theme:e.theme}):e.children},Hi=y.forwardRef((function(e,t){var n=e.size,r=void 0===n?"medium":n,a=e.visible,i=void 0===a||a,o=e.className,l=void 0===o?"":o,s=(0,u.default)(e,Ha),c=iv().id,p=y.useRef(null);y.useImperativeHandle(t,(function(){return p.current}));var U="ToolIcon_size_".concat(r),m=(0,y.useState)(!1),g=(0,d.default)(m,2),b=g[0],x=g[1],w=(0,y.useRef)(!0),E=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="onClick"in s&&(null===(n=s.onClick)||void 0===n?void 0:n.call(s,t)),!(0,v.Fb)(r)){e.next=18;break}return e.prev=2,x(!0),e.next=6,r;case 6:e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(2),!(e.t0 instanceof v.tc)){e.next=14;break}console.warn(e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.prev=15,w.current&&x(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,8,15,18]])})));return function(t){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){return w.current=!0,function(){w.current=!1}}),[]);var k=(0,y.useRef)(null);if("button"===s.type||"icon"===s.type||"submit"===s.type){var S="icon"===s.type?"button":s.type;return(0,X.jsxs)("button",{className:(0,ie.A)("ToolIcon_type_button",U,l,i&&!s.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!s.hidden,"ToolIcon--selected":s.selected,"ToolIcon--plain":"icon"===s.type}),style:s.style,"data-testid":s["data-testid"],hidden:s.hidden,title:s.title,"aria-label":s["aria-label"],type:S,onClick:E,ref:p,disabled:b||s.isLoading||!!s.disabled,children:[(s.icon||s.label)&&(0,X.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true","aria-disabled":!!s.disabled,children:[s.icon||s.label,s.keyBindingLabel&&(0,X.jsx)("span",{className:"ToolIcon__keybinding",children:s.keyBindingLabel}),s.isLoading&&(0,X.jsx)(Oi,{})]}),s.showAriaLabel&&(0,X.jsxs)("div",{className:"ToolIcon__label",children:[s["aria-label"]," ",b&&(0,X.jsx)(Oi,{})]}),s.children]})}return(0,X.jsxs)("label",{className:(0,ie.A)("ToolIcon",l),title:s.title,onPointerDown:function(e){var t;k.current=e.pointerType||null,null===(t=s.onPointerDown)||void 0===t||t.call(s,{pointerType:e.pointerType||null})},onPointerUp:function(){requestAnimationFrame((function(){k.current=null}))},children:[(0,X.jsx)("input",{className:"ToolIcon_type_radio ".concat(U),type:"radio",name:s.name,"aria-label":s["aria-label"],"aria-keyshortcuts":s["aria-keyshortcuts"],"data-testid":s["data-testid"],id:"".concat(c,"-").concat(s.id),onChange:function(){var e;null===(e=s.onChange)||void 0===e||e.call(s,{pointerType:k.current})},checked:s.checked,ref:p}),(0,X.jsxs)("div",{className:"ToolIcon__icon",children:[s.icon,s.keyBindingLabel&&(0,X.jsx)("span",{className:"ToolIcon__keybinding",children:s.keyBindingLabel})]})]})}));Hi.displayName="ToolButton";var Wi=function(e,t){if(e.editingGroupId){var n=(0,v.Qc)((0,v.pk)(t),e.editingGroupId);if(n.length)return(0,s.default)((0,s.default)({},e),{},{selectedElementIds:(0,l.default)({},n[0].id,!0)})}return e},Xi=(0,v.$c)({name:"deleteSelectedElements",label:"labels.delete",icon:v.ud,trackEvent:{category:"element",action:"delete"},perform:function(e,t,n,r){if(t.editingLinearElement){var a=t.editingLinearElement,i=a.elementId,o=a.selectedPointsIndices,l=a.startBindingElement,u=a.endBindingElement,d=r.scene.getNonDeletedElementsMap(),f=v.pj.getElement(i,d);if(!f||null==o)return!1;if(f.points.length<2){var h=e.map((function(e){return e.id===f.id?(0,v.Qj)(e,{isDeleted:!0}):e})),p=Wi(t,h);return{elements:h,appState:(0,s.default)((0,s.default)({},p),{},{editingLinearElement:null}),captureUpdate:v.Wg.IMMEDIATELY}}var U={startBindingElement:null!==o&&void 0!==o&&o.includes(0)?null:l,endBindingElement:null!==o&&void 0!==o&&o.includes(f.points.length-1)?null:u};return v.pj.deletePoints(f,o),{elements:e,appState:(0,s.default)((0,s.default)({},t),{},{editingLinearElement:(0,s.default)((0,s.default)((0,s.default)({},t.editingLinearElement),U),{},{selectedPointsIndices:(null===o||void 0===o?void 0:o[0])>0?[o[0]-1]:[0]})}),captureUpdate:v.Wg.IMMEDIATELY}}var m=function(e,t,n){var r,a=new Set((0,v.vk)(e.filter((function(e){return(0,v.bc)(e)})),t).map((function(e){return e.id}))),i={},o=n.scene.getNonDeletedElementsMap(),l=new Set,u=(0,c.default)(a);try{for(u.s();!(r=u.n()).done;){var d,f=r.value,h=(0,v.Bi)(e,f),p=(0,c.default)(h);try{for(p.s();!(d=p.n()).done;){var U=d.value;if(!l.has(U.id)){if((0,v.nc)(U)){var m=(0,v.Aj)(U,o);m&&(i[m.id]=!0)}else i[U.id]=!0;l.add(U.id)}}}catch(M){p.e(M)}finally{p.f()}}}catch(M){u.e(M)}finally{u.f()}var g=!0,b=e.map((function(e){if(t.selectedElementIds[e.id]){var r=(0,v.nc)(e)?(0,v.Aj)(e,o):null;return e.frameId&&a.has(e.frameId)?(g=!1,i[e.id]=!0,e):null!==r&&void 0!==r&&r.frameId&&a.has(null===r||void 0===r?void 0:r.frameId)?e:(e.boundElements&&e.boundElements.forEach((function(t){var r,a,i=n.scene.getNonDeletedElementsMap().get(t.id);i&&(0,v.ec)(i)&&((0,v.Pj)(i,{startBinding:e.id===(null===(r=i.startBinding)||void 0===r?void 0:r.elementId)?null:i.startBinding,endBinding:e.id===(null===(a=i.endBinding)||void 0===a?void 0:a.elementId)?null:i.endBinding}),(0,v.Pj)(i,{points:i.points}))})),(0,v.Qj)(e,{isDeleted:!0}))}return e.frameId&&a.has(e.frameId)?(g=!1,(0,v.nc)(e)||(i[e.id]=!0),(0,v.Qj)(e,{frameId:null})):(0,v.nc)(e)&&t.selectedElementIds[e.containerId]?(0,v.Qj)(e,{isDeleted:!0}):e})),y=t.editingGroupId;if(g&&t.editingGroupId){var x=(0,v.Qc)(b,t.editingGroupId).filter((function(e){return!e.isDeleted}));if(x.length>1)x[0]&&(i[x[0].id]=!0);else{y=null,x[0]&&(i[x[0].id]=!0);var w=x[0];if(w){var E=w.groupIds.findIndex((function(e){return e===t.editingGroupId})),k=w.groupIds[E+1];if(k){var S=(0,v.Qc)(b,k).filter((function(e){return!e.isDeleted}));S.length>1&&(y=k,S.forEach((function(e){i[e.id]=!0})))}}}}return{elements:b,appState:(0,s.default)((0,s.default)({},t),(0,v.Jc)({selectedElementIds:i,editingGroupId:y},b,t,null))}}(e,t,r),g=m.elements,b=m.appState;return(0,v.Tg)(g,g.filter((function(e){return e.isDeleted}))),b=Wi(b,g),{elements:g,appState:(0,s.default)((0,s.default)({},b),{},{activeTool:(0,v.jb)(t,{type:"selection"}),multiElement:null,activeEmbeddable:null}),captureUpdate:(0,v.tk)((0,v.pk)(e),t)?v.Wg.IMMEDIATELY:v.Wg.EVENTUALLY}},keyTest:function(e,t,n){return(e.key===v.hg.BACKSPACE||e.key===v.hg.DELETE)&&!e[v.hg.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsx)(Hi,{type:"button",icon:v.ud,title:Pi("labels.delete"),"aria-label":Pi("labels.delete"),onClick:function(){return r(null)},visible:(0,v.tk)((0,v.pk)(t),n)})}}),Vi=function(e,t){return e.frameId===t||e.id===t},Gi=function(e,t,n){for(var r=[],a=[],i=null,o=-1,l=(0,v.xb)(n||(0,v.vk)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++o<e.length;){var s=e[o];l.get(s.id)?(a.length&&(r=r.concat(a),a=[]),r.push(o),i=o+1):s.isDeleted&&i===o?(i=o+1,a.push(o)):a=[]}return r},Yi=function(e,t,n){if("containerId"in e&&e.containerId){var r=v.Oj.getScene(e).getElement(e.containerId);if(r)return"left"===n?Math.min(t.indexOf(r),t.indexOf(e)):Math.max(t.indexOf(r),t.indexOf(e))}else{var a,i=null===(a=e.boundElements)||void 0===a||null===(a=a.find((function(e){return"arrow"!==e.type})))||void 0===a?void 0:a.id;if(i){var o=v.Oj.getScene(e).getElement(i);if(o)return"left"===n?Math.min(t.indexOf(o),t.indexOf(e)):Math.max(t.indexOf(o),t.indexOf(e))}}},Zi=function(e,t,n,r,a){var i,o=t[n],l=function(t){return!t.isDeleted&&(a?t.frameId===a:!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},s="left"===r?(0,v.rb)(t,(function(e){return l(e)}),Math.max(0,n-1)):(0,v.qb)(t,(function(e){return l(e)}),n+1),c=t[s];if(!c)return-1;if(e.editingGroupId){var u;if((null===o||void 0===o?void 0:o.groupIds.join(""))===(null===c||void 0===c?void 0:c.groupIds.join("")))return null!==(u=Yi(c,t,r))&&void 0!==u?u:s;if(null===c||void 0===c||!c.groupIds.includes(e.editingGroupId))return-1}if(!a&&(c.frameId||(0,v.bc)(c))){var d=function(e,t){var n=-1,r=-1;return e.forEach((function(e,a){Vi(e,t)&&(-1===n&&(n=a),r=a)})),-1===n?[]:e.slice(n,r+1)}(t,c.frameId||c.id);return"left"===r?t.indexOf(d[0]):t.indexOf(d[d.length-1])}if(!c.groupIds.length)return null!==(i=Yi(c,t,r))&&void 0!==i?i:s;var f=e.editingGroupId?c.groupIds[c.groupIds.indexOf(e.editingGroupId)-1]:c.groupIds[c.groupIds.length-1],h=(0,v.Qc)(t,f);return h.length?"left"===r?t.indexOf(h[0]):t.indexOf(h[h.length-1]):s},Ki=function(e,t){return t.reduce((function(t,n){var r=e[n];return t.set(r.id,r),t}),new Map)},qi=function(e,t,n){var r=Gi(e,t),a=Ki(e,r),i=function(e){var t=0;return e.reduce((function(n,r,a){return a>0&&e[a-1]!==r-1&&(t=++t),(n[t]||(n[t]=[])).push(r),n}),[])}(r);"right"===n&&(i=i.reverse());var o=new Set(r.filter((function(t){return(0,v.bc)(e[t])})).map((function(t){return e[t].id})));return i.forEach((function(r,a){var i,l=r[0],s=r[r.length-1],c="left"===n?l:s,u=r.some((function(t){var n=e[t];return n.frameId&&o.has(n.frameId)}))?null:null===(i=e[c])||void 0===i?void 0:i.frameId,d=Zi(t,e,c,n,u);if(-1!==d&&c!==d){var f="left"===n?e.slice(0,d):e.slice(0,l),h=e.slice(l,s+1),v="left"===n?e.slice(d,l):e.slice(s+1,d+1),U="left"===n?e.slice(s+1):e.slice(d+1);e="left"===n?[].concat((0,p.default)(f),(0,p.default)(h),(0,p.default)(v),(0,p.default)(U)):[].concat((0,p.default)(f),(0,p.default)(v),(0,p.default)(h),(0,p.default)(U))}})),(0,v.Mj)(e,a),e},$i=function(e,t,n,r,a){var i,o,l=Gi(e,t,a),s=Ki(e,l),c=[];if("left"===n){if(r)i=(0,v.qb)(e,(function(e){return Vi(e,r)}));else if(t.editingGroupId){var u=(0,v.Qc)(e,t.editingGroupId);if(!u.length)return e;i=e.indexOf(u[0])}else i=0;o=l[l.length-1]}else{if(r)o=(0,v.rb)(e,(function(e){return Vi(e,r)}));else if(t.editingGroupId){var d=(0,v.Qc)(e,t.editingGroupId);if(!d.length)return e;o=e.indexOf(d[d.length-1])}else o=e.length-1;i=l[0]}-1===i&&(i=0);for(var f=i;f<o+1;f++)l.includes(f)||c.push(e[f]);var h=Array.from(s.values()),U=e.slice(0,i),m=e.slice(o+1),g="left"===n?[].concat((0,p.default)(U),h,c,(0,p.default)(m)):[].concat((0,p.default)(U),c,h,(0,p.default)(m));return(0,v.Mj)(g,s),g};function Qi(e,t,n,r){var a,i=(0,v.xb)((0,v.vk)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),o={regularElements:[],frameChildren:new Map},l=new Set,s=(0,c.default)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;i.has(u.id)&&(0,v.bc)(u)&&l.add(u.id)}}catch(x){s.e(x)}finally{s.f()}var f,h=(0,c.default)(e);try{for(h.s();!(f=h.n()).done;){var p=f.value;if(i.has(p.id))if((0,v.bc)(p)||p.frameId&&l.has(p.frameId))o.regularElements.push(p);else if(p.frameId){var U=o.frameChildren.get(p.frameId)||[];U.push(p),o.frameChildren.set(p.frameId,U)}else o.regularElements.push(p)}}catch(x){h.e(x)}finally{h.f()}for(var m=e,g=0,b=Array.from(o.frameChildren.entries());g<b.length;g++){var y=(0,d.default)(b[g],2);m=r(e,t,n,y[0],y[1])}return r(m,t,n,null,o.regularElements)}var Ji=function(e,t){return qi(e,t,"left")},eo=function(e,t){return qi(e,t,"right")},to=function(e,t){return Qi(e,t,"left",$i)},no=function(e,t){return Qi(e,t,"right",$i)},ro=(0,v.$c)({name:"sendBackward",label:"labels.sendBackward",keywords:["move down","zindex","layer"],icon:v.Wd,trackEvent:{category:"element"},perform:function(e,t){return{elements:Ji(e,t),appState:t,captureUpdate:v.Wg.IMMEDIATELY}},keyPriority:40,keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&!e.shiftKey&&e.code===v.gg.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,X.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Pi("labels.sendBackward")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+[")),children:v.Wd})}}),ao=(0,v.$c)({name:"bringForward",label:"labels.bringForward",keywords:["move up","zindex","layer"],icon:v.Vd,trackEvent:{category:"element"},perform:function(e,t){return{elements:eo(e,t),appState:t,captureUpdate:v.Wg.IMMEDIATELY}},keyPriority:40,keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&!e.shiftKey&&e.code===v.gg.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,X.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Pi("labels.bringForward")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+]")),children:v.Vd})}}),io=(0,v.$c)({name:"sendToBack",label:"labels.sendToBack",keywords:["move down","zindex","layer"],icon:v.Yd,trackEvent:{category:"element"},perform:function(e,t){return{elements:to(e,t),appState:t,captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return v.l?e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.BRACKET_LEFT:e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&e.code===v.gg.BRACKET_LEFT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,X.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(Pi("labels.sendToBack")," \u2014 ").concat(v.l?(0,v.kb)("CtrlOrCmd+Alt+["):(0,v.kb)("CtrlOrCmd+Shift+[")),children:v.Yd})}}),oo=(0,v.$c)({name:"bringToFront",label:"labels.bringToFront",keywords:["move up","zindex","layer"],icon:v.Xd,trackEvent:{category:"element"},perform:function(e,t){return{elements:no(e,t),appState:t,captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return v.l?e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.BRACKET_RIGHT:e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&e.code===v.gg.BRACKET_RIGHT},PanelComponent:function(e){var t=e.updateData;e.appState;return(0,X.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat(Pi("labels.bringToFront")," \u2014 ").concat(v.l?(0,v.kb)("CtrlOrCmd+Alt+]"):(0,v.kb)("CtrlOrCmd+Shift+]")),children:v.Xd})}}),lo=(0,v.$c)({name:"selectAll",label:"labels.selectAll",icon:v.uf,trackEvent:{category:"canvas"},viewMode:!1,perform:function(e,t,n,r){if(t.editingLinearElement)return!1;var a=e.filter((function(e){return!e.isDeleted&&!((0,v._b)(e)&&e.containerId)&&!e.locked})).reduce((function(e,t){return e[t.id]=!0,e}),{});return{appState:(0,s.default)((0,s.default)((0,s.default)({},t),(0,v.Jc)({editingGroupId:null,selectedElementIds:a},(0,v.pk)(e),t,r)),{},{selectedLinearElement:1===Object.keys(a).length&&(0,v.cc)(e[0])?new v.pj(e[0]):null}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.A}}),so=function(e){return function(e){var t=(0,v.yb)(e),n=e.slice(),r=new Set;return n.forEach((function(e,a){var i,o;e&&(null!==(i=e.boundElements)&&void 0!==i&&i.length?(r.add(e),n[a]=null,e.boundElements.forEach((function(e){var a=t.get(e.id);a&&"text"===e.type&&(r.add(a[0]),n[a[1]]=null)}))):"text"===e.type&&e.containerId&&(null===(o=t.get(e.containerId))||void 0===o||null===(o=o[0].boundElements)||void 0===o?void 0:o.find((function(t){return t.id===e.id})))||(r.add(e),n[a]=null))})),r.size!==e.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),e):(0,p.default)(r)}(function(e){var t=e.slice(),n=new Set,r=function(e){var t,n,a=null===(t=e[0])||void 0===t||null===(t=t.groupIds)||void 0===t?void 0:t.join(""),i=[e[0]],o=[],l=(0,c.default)(e.slice(1));try{for(l.s();!(n=l.n()).done;){var s,u=n.value;(null===(s=u.groupIds)||void 0===s?void 0:s.join(""))===a?i.push(u):o.push(u)}}catch(d){l.e(d)}finally{l.f()}return o.length?[].concat(i,(0,p.default)(r(o))):i},a=new Map;return t.forEach((function(e,i){var o;if(!a.has(e.id))if(null!==(o=e.groupIds)&&void 0!==o&&o.length){var l,s=e.groupIds[e.groupIds.length-1],u=t.slice(i).filter((function(e){var t,n=null===e||void 0===e||null===(t=e.groupIds)||void 0===t?void 0:t.some((function(e){return e===s}));return n&&a.set(e.id,!0),n})),d=(0,c.default)(r(u));try{for(d.s();!(l=d.n()).done;){var f=l.value;n.add(f)}}catch(h){d.e(h)}finally{d.f()}}else n.add(e)})),n.size!==e.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),e):(0,p.default)(n)}(e))},co=(0,v.$c)({name:"duplicateSelection",label:"labels.duplicateSelection",icon:v.wd,trackEvent:{category:"element"},perform:function(e,t,n,r){if(t.editingLinearElement)try{return{elements:e,appState:v.pj.duplicateSelectedPoints(t,r.scene.getNonDeletedElementsMap()),captureUpdate:v.Wg.IMMEDIATELY}}catch(o){return!1}var a=uo(e,t);if(r.props.onDuplicate&&a.elements){var i=r.props.onDuplicate(a.elements,e);i&&(a.elements=i)}return(0,s.default)((0,s.default)({},a),{},{captureUpdate:v.Wg.IMMEDIATELY})},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsx)(Hi,{type:"button",icon:v.wd,title:"".concat(Pi("labels.duplicateSelection")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+D")),"aria-label":Pi("labels.duplicateSelection"),onClick:function(){return r(null)},visible:(0,v.tk)((0,v.pk)(t),n)})}}),uo=function(e,t){var n=new Map,r=[],a=[],i=new Map,o=new Map,l=(0,v.xb)(e),u=function(e){var l=(0,v.Ub)(e).reduce((function(e,l){if(h.has(l.id))return e;h.set(l.id,!0);var s=(0,v.cg)(t.editingGroupId,n,l,{x:l.x+v.R/2,y:l.y+v.R/2});return h.set(s.id,!0),o.set(s.id,s),i.set(l.id,s.id),a.push(l),r.push(s),e.push(s),e}),[]);return Array.isArray(e)?l:l[0]||null};e=so(e);var d,f=(0,v.xb)((0,v.vk)(e,t,{includeBoundTextElement:!0,includeElementsInFrames:!0})),h=new Map,U=e.slice(),m=function(e,t){(0,v.Kb)(-1!==e,"targetIndex === -1 "),(Array.isArray(t)||t)&&U.splice.apply(U,[e+1,0].concat((0,p.default)((0,v.Ub)(t))))},g=new Set(e.filter((function(e){return f.has(e.id)&&(0,v.bc)(e)})).map((function(e){return e.id}))),b=(0,c.default)(e);try{var y=function(){var n=d.value;if(h.has(n.id)||!f.has(n.id))return 0;var r=(0,v.Lc)(t,n);if(r){var a=(0,v.Qc)(e,r).flatMap((function(t){return(0,v.bc)(t)?[].concat((0,p.default)((0,v.Bi)(e,t.id)),[t]):[t]})),i=(0,v.rb)(U,(function(e){var t;return null===(t=e.groupIds)||void 0===t?void 0:t.includes(r)}));return m(i,u(a)),0}if(!n.frameId||!g.has(n.frameId)){if((0,v.bc)(n)){var o=n.id,s=(0,v.Bi)(e,o),c=(0,v.rb)(U,(function(e){return e.frameId===o||e.id===o}));return m(c,u([].concat((0,p.default)(s),[n]))),0}if((0,v.mc)(n)){var b=(0,v.zj)(n,l),y=(0,v.rb)(U,(function(e){return e.id===n.id||"containerId"in e&&e.containerId===n.id}));return m(y,u(b?[n,b]:n)),0}if((0,v.nc)(n)){var x=(0,v.Aj)(n,l),w=(0,v.rb)(U,(function(e){return e.id===n.id||e.id===(null===x||void 0===x?void 0:x.id)}));return m(w,u(x?[x,n]:n)),0}m((0,v.rb)(U,(function(e){return e.id===n.id})),u(n))}};for(b.s();!(d=b.n()).done;)y()}catch(w){b.e(w)}finally{b.f()}(0,v.vj)(U,a,i),(0,v.Sg)(U,a,i),(0,v.wi)(U,a,i);var x=(0,v.rk)(r);return{elements:U,appState:(0,s.default)((0,s.default)({},t),(0,v.Jc)({editingGroupId:t.editingGroupId,selectedElementIds:x.reduce((function(e,t){return(0,v.nc)(t)||(e[t.id]=!0),e}),{})},(0,v.pk)(U),t,null))}},fo=new Set(["command_palette","export"]),ho=function(e,t,n,r){try{if(typeof window>"u"||U.a.VITE_WORKER_ID||"true"!==U.a.VITE_APP_ENABLE_TRACKING||!fo.has(e)||U.a.DEV)return;U.a.PROD||console.info("trackEvent",{category:e,action:t,label:n,value:r}),window.sa_event&&window.sa_event(t,{category:e,label:n,value:r})}catch(Ca){console.error("error during analytics",Ca)}},po=(0,y.forwardRef)((function(e,t){var n=e.title,r=e.className,a=e.testId,i=e.active,o=e.standalone,l=e.icon,s=e.onClick;return(0,X.jsx)("button",{type:"button",ref:t,title:n,"data-testid":a,className:(0,ie.A)(r,{standalone:o,active:i}),onClick:s,children:l},n)})),vo=function(e){return(0,X.jsx)("div",{className:"buttonList",children:e.options.map((function(t){var n;return"button"===e.type?(0,X.jsx)(po,{icon:t.icon,title:t.text,testId:t.testId,active:null!==(n=t.active)&&void 0!==n?n:e.value===t.value,onClick:function(n){return e.onClick(t.value,n)}},t.text):(0,X.jsxs)("label",{className:(0,ie.A)({active:e.value===t.value}),title:t.text,children:[(0,X.jsx)("input",{type:"radio",name:e.group,onChange:function(){return e.onChange(t.value)},checked:e.value===t.value,"data-testid":t.testId}),t.icon]},t.text)}))})},Uo=function(e){var t,n=e.onChange,r=e.type,a=e.activeColor,i=e.topPicks;return"elementStroke"===r&&(t=v.f),"elementBackground"===r&&(t=v.g),"canvasBackground"===r&&(t=v.h),i&&(t=i),t?(0,X.jsx)("div",{className:"color-picker__top-picks",children:t.map((function(e){return(0,X.jsx)("button",{className:(0,ie.A)("color-picker__button",{active:e===a,"is-transparent":"transparent"===e||!e}),style:{"--swatch-color":e},type:"button",title:e,onClick:function(){return n(e)},"data-testid":"color-top-pick-".concat(e),children:(0,X.jsx)("div",{className:"color-picker__button-outline"})},e)}))}):(console.error("Invalid type for TopPicks"),null)},mo=function(){return(0,X.jsx)("div",{style:{width:1,height:"1rem",backgroundColor:"var(--default-border-color)",margin:"0 auto"}})},go=function(e){for(var t=e.palette,n=e.color,r=0,a=Object.entries(t);r<a.length;r++){var i=(0,d.default)(a[r],2),o=i[0],l=i[1];if(Array.isArray(l)){var s=l.indexOf(n);if(s>-1)return{colorName:o,shade:s}}else if(l===n)return{colorName:o,shade:null}}return null},bo=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),yo=function(e){var t=e.color,n=e.palette;return!Object.values(n).flat().includes(t)},xo=E(null),wo=function(e,t,n){return(299*e+587*t+114*n)/1e3>=160?"black":"white"},Eo=function(e,t){if(t){var n=(new Option).style;if(n.color=e,n.color){var r=n.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),a=parseInt(r[0]),i=parseInt(r[1]),o=parseInt(r[2]);return wo(a,i,o)}}if("transparent"===e)return"black";var l=parseInt(e.substring(1,3),16),s=parseInt(e.substring(3,5),16),c=parseInt(e.substring(5,7),16);return wo(l,s,c)},ko=function(e){var t=e.color,n=e.keyLabel,r=e.isCustomColor,a=void 0!==r&&r,i=e.isShade,o=void 0!==i&&i;return(0,X.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:Eo(t,a)},children:[o&&"\u21e7",n]})},So=function(e){var t=e.hex,n=e.onChange,r=e.palette,a=go({color:t||"transparent",palette:r}),i=wi(xo),o=(0,d.default)(i,2),l=o[0],s=o[1],c=(0,y.useRef)(null);if((0,y.useEffect)((function(){c.current&&"shades"===l&&c.current.focus()}),[a,l]),a){var u=a.colorName,f=a.shade,h=r[u];if(Array.isArray(h))return(0,X.jsx)("div",{className:"color-picker-content--default shades",children:h.map((function(e,t){return(0,X.jsxs)("button",{ref:t===f&&"shades"===l?c:void 0,tabIndex:-1,type:"button",className:(0,ie.A)("color-picker__button color-picker__button--large",{active:t===f}),"aria-label":"Shade",title:"".concat(u," - ").concat(t+1),style:e?{"--swatch-color":e}:void 0,onClick:function(){n(e),s("shades")},children:[(0,X.jsx)("div",{className:"color-picker__button-outline"}),(0,X.jsx)(ko,{color:e,keyLabel:t+1,isShade:!0})]},t)}))})}return(0,X.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,X.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,X.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:Pi("colorPicker.noShades")})]})},Mo=function(e){var t=e.palette,n=e.color,r=e.onChange,a=(e.label,e.activeShade),i=go({color:n||"transparent",palette:t}),o=wi(xo),l=(0,d.default)(o,2),s=l[0],c=l[1],u=(0,y.useRef)(null);return(0,y.useEffect)((function(){u.current&&"baseColors"===s&&u.current.focus()}),[null===i||void 0===i?void 0:i.colorName,s]),(0,X.jsx)("div",{className:"color-picker-content--default",children:Object.entries(t).map((function(e,t){var n=(0,d.default)(e,2),o=n[0],l=n[1],s=(Array.isArray(l)?l[a]:l)||"transparent",f=bo[t],h=Pi("colors.".concat(o.replace(/\d+/,"")),null,"");return(0,X.jsxs)("button",{ref:(null===i||void 0===i?void 0:i.colorName)===o?u:void 0,tabIndex:-1,type:"button",className:(0,ie.A)("color-picker__button color-picker__button--large",{active:(null===i||void 0===i?void 0:i.colorName)===o,"is-transparent":"transparent"===s||!s}),onClick:function(){r(s),c("baseColors")},title:"".concat(h).concat(s.startsWith("#")?" ".concat(s):""," \u2014 ").concat(f),"aria-label":"".concat(h," \u2014 ").concat(f),style:s?{"--swatch-color":s}:void 0,"data-testid":"color-".concat(o),children:[(0,X.jsx)("div",{className:"color-picker__button-outline"}),(0,X.jsx)(ko,{color:s,keyLabel:f})]},o)}))})},Co=function(e){var t=e.colors,n=e.color,r=e.onChange,a=e.label,i=wi(xo),o=(0,d.default)(i,2),l=o[0],s=o[1],c=(0,y.useRef)(null);return(0,y.useEffect)((function(){c.current&&c.current.focus()}),[n,l]),(0,X.jsx)("div",{className:"color-picker-content--default",children:t.map((function(e,t){return(0,X.jsxs)("button",{ref:n===e?c:void 0,tabIndex:-1,type:"button",className:(0,ie.A)("color-picker__button color-picker__button--large",{active:n===e,"is-transparent":"transparent"===e||!e}),onClick:function(){r(e),s("custom")},title:e,"aria-label":a,style:{"--swatch-color":e},children:[(0,X.jsx)("div",{className:"color-picker__button-outline"}),(0,X.jsx)(ko,{color:e,keyLabel:t+1,isCustomColor:!0})]},t)}))})},Io=function(e,t,n){var r,a=Math.ceil(n/v.b);switch(t=null!==(r=t)&&void 0!==r?r:-1,e){case"ArrowLeft":var i=t-1;return i<0?n-1:i;case"ArrowRight":return(t+1)%n;case"ArrowDown":var o=t+v.b;return o>=n?t%v.b:o;case"ArrowUp":var l=t-v.b,s=l<0?v.b*a+l:l;return s>=n?void 0:s}},jo=function(e){var t=e.event,n=e.activeColorPickerSection,r=e.palette,a=e.color,i=e.onChange,o=e.customColors,l=e.setActiveColorPickerSection,s=(e.updateData,e.activeShade),c=e.onEyeDropperToggle,u=e.onEscape;if(t[v.hg.CTRL_OR_CMD])return!1;if(t.key===v.hg.ESCAPE)return u(t),!0;if(t.key===v.hg.ALT)return c(!0),!0;if(t.key===v.hg.I)return c(),!0;var f=go({color:a,palette:r});if(t.key===v.hg.TAB){var h={custom:!!o.length,baseColors:!0,shades:null!=(null===f||void 0===f?void 0:f.shade),hex:!0},p=Object.entries(h).reduce((function(e,t){var n=(0,d.default)(t,2),r=n[0];return n[1]&&e.push(r),e}),[]),U=p.indexOf(n),m=t.shiftKey?-1:1,g=p[U+m>p.length-1?0:U+m<0?p.length-1:U+m];return g&&l(g),"custom"===g?i(o[0]):"baseColors"===g&&(Object.entries(r).find((function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];return Array.isArray(r)?r.includes(a):r===a?n:null}))||i(v.e.black)),t.preventDefault(),t.stopPropagation(),!0}if(function(e){var t=e.e,n=e.colorObj,r=e.onChange,a=e.palette,i=e.customColors,o=e.setActiveColorPickerSection,l=e.activeShade;if(null!=(null===n||void 0===n?void 0:n.shade)&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(t.code)&&t.shiftKey){var s=Number(t.code.slice(-1))-1;return r(a[n.colorName][s]),o("shades"),!0}if(["1","2","3","4","5"].includes(t.key)&&i[Number(t.key)-1])return r(i[Number(t.key)-1]),o("custom"),!0;if(bo.includes(t.key)){var c=bo.indexOf(t.key),u=a[Object.keys(a)[c]];return r(Array.isArray(u)?u[l]:u),o("baseColors"),!0}return!1}({e:t,colorObj:f,onChange:i,palette:r,customColors:o,setActiveColorPickerSection:l,activeShade:s}))return!0;if("shades"===n&&f){var b=f.shade,y=Io(t.key,b,v.b);if(void 0!==y)return i(r[f.colorName][y]),!0}if("baseColors"===n&&f){var x=f.colorName,w=Object.keys(r),E=w.indexOf(x),k=Io(t.key,E,w.length);if(void 0!==k){var S=r[w[k]];return i(Array.isArray(S)?S[s]:S),!0}}if("custom"===n){var M=o.indexOf(a),C=Io(t.key,M,o.length);if(void 0!==C)return i(o[C]),!0}return!1},To=function(e){var t=e.children;return(0,X.jsx)("div",{className:"color-picker__heading",children:t})},Ao=function(e){var t,n=e.color,r=e.onChange,a=e.label,i=e.type,o=e.elements,l=e.palette,s=e.updateData,c=e.children,u=e.onEyeDropperToggle,f=e.onEscape,h=y.useState((function(){return"canvasBackground"===i?[]:function(e,t,n){var r={elementBackground:"backgroundColor",elementStroke:"strokeColor"},a=e.filter((function(e){if(e.isDeleted)return!1;var a=e[r[t]];return yo({color:a,palette:n})})),i=new Map;return a.forEach((function(e){var n=e[r[t]];i.has(n)?i.set(n,i.get(n)+1):i.set(n,1)})),(0,p.default)(i.entries()).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]})).slice(0,v.a)}(o,i,l)})),U=(0,d.default)(h,1)[0],m=wi(xo),g=(0,d.default)(m,2),b=g[0],x=g[1],w=go({color:n,palette:l});(0,y.useEffect)((function(){if(!b){var e=yo({color:n,palette:l}),t=e&&!U.includes(n);x(t?"hex":e?"custom":null!=(null===w||void 0===w?void 0:w.shade)?"shades":"baseColors")}}),[b,n,l,x,w,U]);var E=(0,y.useState)(null!==(t=null===w||void 0===w?void 0:w.shade)&&void 0!==t?t:"elementBackground"===i?v.d:v.c),k=(0,d.default)(E,2),S=k[0],M=k[1];(0,y.useEffect)((function(){null!=(null===w||void 0===w?void 0:w.shade)&&M(w.shade);var e=function(e){e.key===v.hg.ALT&&u(!1)};return document.addEventListener("keyup",e,{capture:!0}),function(){document.removeEventListener("keyup",e,{capture:!0})}}),[w,u]);var C=y.useRef(null);return(0,X.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":Pi("labels.colorPicker"),children:(0,X.jsxs)("div",{ref:C,onKeyDown:function(e){jo({event:e,activeColorPickerSection:b,palette:l,color:n,onChange:r,onEyeDropperToggle:u,customColors:U,setActiveColorPickerSection:x,updateData:s,activeShade:S,onEscape:f})&&(e.preventDefault(),e.stopPropagation())},className:"color-picker-content properties-content",tabIndex:-1,children:[!!U.length&&(0,X.jsxs)("div",{children:[(0,X.jsx)(To,{children:Pi("colorPicker.mostUsedCustomColors")}),(0,X.jsx)(Co,{colors:U,color:n,label:Pi("colorPicker.mostUsedCustomColors"),onChange:r})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(To,{children:Pi("colorPicker.colors")}),(0,X.jsx)(Mo,{color:n,label:a,palette:l,onChange:r,activeShade:S})]}),(0,X.jsxs)("div",{children:[(0,X.jsx)(To,{children:Pi("colorPicker.shades")}),(0,X.jsx)(So,{hex:n,onChange:r,palette:l})]}),c]})})},Do=y.createContext(null),_o=function(){return y.useContext(Do)},Lo=function(e){var t=(0,y.useState)(null),n=(0,d.default)(t,2),r=n[0],a=n[1],i=av(),o=_o().theme,l=iv().container;return(0,y.useLayoutEffect)((function(){var t,n;r&&(r.className="",(t=r.classList).add.apply(t,["excalidraw"].concat((0,p.default)((null===e||void 0===e||null===(n=e.className)||void 0===n?void 0:n.split(/\s+/))||[]))),r.classList.toggle("excalidraw--mobile",i.editor.isMobile),r.classList.toggle("theme--dark",o===v.G.DARK))}),[r,o,i.editor.isMobile,null===e||void 0===e?void 0:e.className]),(0,y.useLayoutEffect)((function(){var t=null!==e&&void 0!==e&&e.parentSelector?null===l||void 0===l?void 0:l.querySelector(e.parentSelector):document.body;if(t){var n=document.createElement("div");return t.appendChild(n),a(n),function(){t.removeChild(n)}}}),[l,null===e||void 0===e?void 0:e.parentSelector]),r};function Ro(e,t,n){(0,y.useEffect)((function(){function r(r){var a=r;if(e.current){var i=null===n||void 0===n?void 0:n(a,e.current);if(!0!==i)return!1===i?t(a):void(e.current.contains(a.target)||!document.documentElement.contains(a.target)||a.target.closest("[data-radix-portal]")||a.target===document.documentElement&&"none"===document.body.style.pointerEvents||a.target.closest("[data-prevent-outside-click]")||t(a))}}return document.addEventListener("pointerdown",r),document.addEventListener("touchstart",r),function(){document.removeEventListener("pointerdown",r),document.removeEventListener("touchstart",r)}}),[e,t,n])}var Po=function(e){var t=(0,y.useRef)(e);return Object.assign(t.current,e),t.current},No=E(null),Fo=function(e){var t=e.onCancel,n=e.onChange,r=e.onSelect,a=e.colorPickerType,i=Lo({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),o=_o(),l=ov(),s=nv(),c=(0,v.vk)(l,o),u=Po({app:s,onCancel:t,onChange:n,onSelect:r,selectedElements:c}),d=iv().container;(0,y.useEffect)((function(){var e=f.current;if(e&&s.canvas&&i){var t=!1,n=s.canvas.getContext("2d"),r=function(e){var t=e.clientX,r=e.clientY,a=n.getImageData((t-o.offsetLeft)*window.devicePixelRatio,(r-o.offsetTop)*window.devicePixelRatio,1,1).data;return(0,v.k)(a[0],a[1],a[2])},l=function(n){var i=n.clientX,o=n.clientY,l=n.altKey;e.style.top="".concat(o+20,"px"),e.style.left="".concat(i+20,"px");var s=r({clientX:i,clientY:o});t&&u.onChange(a,s,u.selectedElements,{altKey:l}),e.style.background=s},c=function(){u.onCancel()},h=function(e){t=!0,e.stopImmediatePropagation()},p=function(e){t=!1,null!==d&&void 0!==d&&d.focus(),e.stopImmediatePropagation(),e.preventDefault(),function(e,t){u.onSelect(e,t)}(r(e),e)},U=function(e){e.key===v.hg.ESCAPE&&(e.preventDefault(),e.stopImmediatePropagation(),c())};return i.tabIndex=-1,i.focus(),l({clientX:u.app.lastViewportPosition.x,clientY:u.app.lastViewportPosition.y,altKey:!1}),i.addEventListener("keydown",U),i.addEventListener("pointerdown",h),i.addEventListener("pointerup",p),window.addEventListener("pointermove",l,{passive:!0}),window.addEventListener("blur",c),function(){t=!1,i.removeEventListener("keydown",U),i.removeEventListener("pointerdown",h),i.removeEventListener("pointerup",p),window.removeEventListener("pointermove",l),window.removeEventListener("blur",c)}}}),[u,s.canvas,i,a,d,o.offsetLeft,o.offsetTop]);var f=(0,y.useRef)(null);return Ro(f,(function(){t()}),(function(e){return!!e.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")})),i?(0,oe.createPortal)((0,X.jsx)("div",{ref:f,className:"excalidraw-eye-dropper-preview"}),i):null},Oo=function(e){var t=e.color,n=e.onChange,r=e.label,a=e.colorPickerType,i=av(),o=(0,y.useState)(t),l=(0,d.default)(o,2),s=l[0],c=l[1],u=wi(xo),f=(0,d.default)(u,2),h=f[0],p=f[1];(0,y.useEffect)((function(){c(t)}),[t]);var U=(0,y.useCallback)((function(e){var t=e.toLowerCase(),r=Wo(t);r&&n(r),c(t)}),[n]),m=(0,y.useRef)(null),g=(0,y.useRef)(null);(0,y.useEffect)((function(){m.current&&m.current.focus()}),[h]);var b=wi(No),x=(0,d.default)(b,2),w=x[0],E=x[1];return(0,y.useEffect)((function(){return function(){E(null)}}),[E]),(0,X.jsxs)("div",{className:"color-picker__input-label",children:[(0,X.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,X.jsx)("input",{ref:"hex"===h?m:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":r,onChange:function(e){U(e.target.value)},value:(s||"").replace(/^#/,""),onBlur:function(){c(t)},tabIndex:-1,onFocus:function(){return p("hex")},onKeyDown:function(e){var t;e.key!==v.hg.TAB&&(e.key===v.hg.ESCAPE&&null!==(t=g.current)&&void 0!==t&&t.focus(),e.stopPropagation())}}),!i.editor.isMobile&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,X.jsx)("div",{ref:g,className:(0,ie.A)("excalidraw-eye-dropper-trigger",{selected:w}),onClick:function(){return E((function(e){return e?null:{keepOpenOnAlt:!1,onSelect:function(e){return n(e)},colorPickerType:a}}))},title:"".concat(Pi("labels.eyeDropper")," \u2014 ").concat(v.hg.I.toLocaleUpperCase()," or ").concat((0,v.kb)("Alt")," "),children:v.df})]})]})},zo=y.forwardRef((function(e,t){var n=e.children,r=e.padding,a=e.className,i=e.style;return(0,X.jsx)("div",{className:(0,ie.A)("Island",a),style:(0,s.default)({"--padding":r},i),ref:t,children:n})})),Bo=y.forwardRef((function(e,t){var n=e.className,r=e.container,a=e.children,i=e.style,o=e.onClose,l=e.onKeyDown,s=e.onFocusOutside,c=e.onPointerLeave,u=e.onPointerDownOutside,d=av();return(0,X.jsx)(Pn,{container:r,children:(0,X.jsxs)(Nn,{ref:t,className:(0,ie.A)("focus-visible-none",n),"data-prevent-outside-click":!0,side:d.editor.isMobile&&!d.viewport.isLandscape?"bottom":"right",align:d.editor.isMobile&&!d.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-popup)"},onPointerLeave:c,onKeyDown:l,onFocusOutside:s,onPointerDownOutside:u,onCloseAutoFocus:function(e){e.stopPropagation(),e.preventDefault(),r&&!(0,v.$a)(document.activeElement)&&r.focus(),o()},children:[(0,X.jsx)(zo,{padding:3,style:i,children:a}),(0,X.jsx)(Fn,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})})),Ho=function(e){var t=(new Option).style;return t.color=e,!!t.color},Wo=function(e){return(0,v.sb)(e)?e:Ho("#".concat(e))?"#".concat(e):Ho(e)?e:null},Xo=function(e){var t=e.type,n=e.color,r=e.onChange,a=e.label,i=e.elements,o=e.palette,l=void 0===o?v.e:o,s=e.updateData,c=iv().container,u=wi(xo),f=(0,d.default)(u,2)[1],h=wi(No),p=(0,d.default)(h,2),U=p[0],m=p[1],g=(0,X.jsxs)("div",{children:[(0,X.jsx)(To,{children:Pi("colorPicker.hexCode")}),(0,X.jsx)(Oo,{color:n,label:a,onChange:function(e){r(e)},colorPickerType:t})]}),b=(0,y.useRef)(null);return(0,X.jsx)(Bo,{container:c,style:{maxWidth:"13rem"},onFocusOutside:function(e){(function(){var e;null===(e=b.current)||void 0===e||null===(e=e.querySelector(".color-picker-content"))||void 0===e||e.focus()})(),e.preventDefault()},onPointerDownOutside:function(e){U&&e.preventDefault()},onClose:function(){s({openPopup:null}),f(null)},children:l?(0,X.jsx)(Ao,{palette:l,color:n,onChange:function(e){r(e)},onEyeDropperToggle:function(e){m((function(n){return e?((n=n||{keepOpenOnAlt:!0,onSelect:r,colorPickerType:t}).keepOpenOnAlt=!0,n):!1===e||n?null:{keepOpenOnAlt:!1,onSelect:r,colorPickerType:t}}))},onEscape:function(e){U?m(null):s({openPopup:null})},label:a,type:t,elements:i,updateData:s,children:g}):g})},Vo=function(e){var t=e.label,n=e.color,r=e.type;return(0,X.jsx)(Rn,{type:"button",className:(0,ie.A)("color-picker__button active-color properties-trigger",{"is-transparent":"transparent"===n||!n}),"aria-label":t,style:n?{"--swatch-color":n}:void 0,title:Pi("elementStroke"===r?"labels.showStroke":"labels.showBackground"),children:(0,X.jsx)("div",{className:"color-picker__button-outline"})})},Go=function(e){var t=e.type,n=e.color,r=e.onChange,a=e.label,i=e.elements,o=e.palette,l=void 0===o?v.e:o,s=e.topPicks,c=e.updateData,u=e.appState;return(0,X.jsx)("div",{children:(0,X.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,X.jsx)(Uo,{activeColor:n,onChange:r,type:t,topPicks:s}),(0,X.jsx)(mo,{}),(0,X.jsxs)(Ln,{open:u.openPopup===t,onOpenChange:function(e){c({openPopup:e?t:null})},children:[(0,X.jsx)(Vo,{color:n,label:a,type:t}),u.openPopup===t&&(0,X.jsx)(Xo,{type:t,color:n,onChange:r,label:a,elements:i,palette:l,updateData:c})]})]})})},Yo=function(e){var t=e.icon;return(0,X.jsx)("span",{style:{width:"1em",margin:"0 0.5ex 0 0.5ex",display:"inline-block",lineHeight:0,verticalAlign:"middle"},children:t})},Zo=function(e){var t=e.label,n=e.open,r=e.openTrigger,a=e.children,i=e.className;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},className:i,onClick:r,children:[t,(0,X.jsx)(Yo,{icon:n?v.Mf:v.Lf})]}),n&&(0,X.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:a})]})},Ko=E(!1);function qo(e){var t=e.options,n=e.value,r=e.label,a=e.onChange,i=e.onClose,o=e.numberOfOptionsToAlwaysShow,l=void 0===o?t.length:o,s=av(),c=wi(Ko),u=(0,d.default)(c,2),f=u[0],h=u[1],p=y.useMemo((function(){return t.slice(0,l)}),[t,l]),U=y.useMemo((function(){return t.slice(l)}),[t,l]);(0,y.useEffect)((function(){p.some((function(e){return e.value===n}))||h(!0)}),[n,p,h]);var m=function(e){return(0,X.jsx)("div",{className:"picker-content",children:e.map((function(e,t){return(0,X.jsxs)("button",{type:"button",className:(0,ie.A)("picker-option",{active:n===e.value}),onClick:function(t){a(e.value)},title:"".concat(e.text," ").concat(e.keyBinding&&"\u2014 ".concat(e.keyBinding.toUpperCase())),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding||void 0,ref:function(t){n===e.value&&setTimeout((function(){null===t||void 0===t||t.focus()}),0)},children:[e.icon,e.keyBinding&&(0,X.jsx)("span",{className:"picker-keybinding",children:e.keyBinding})]},e.text)}))})};return(0,X.jsx)(Nn,{side:s.editor.isMobile&&!s.viewport.isLandscape?"top":"bottom",align:"start",sideOffset:12,style:{zIndex:"var(--zIndex-popup)"},onKeyDown:function(e){var r=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!r)if(e.key===v.hg.TAB){var o=t.findIndex((function(e){return e.value===n})),s=e.shiftKey?(t.length+o-1)%t.length:(o+1)%t.length;a(t[s].value)}else if((0,v.jg)(e.key)){var c=Li().rtl,u=t.findIndex((function(e){return e.value===n}));if(-1!==u){var d=t.length,f=u;switch(e.key){case c?v.hg.ARROW_LEFT:v.hg.ARROW_RIGHT:f=(u+1)%d;break;case c?v.hg.ARROW_RIGHT:v.hg.ARROW_LEFT:f=(d+u-1)%d;break;case v.hg.ARROW_DOWN:f=(u+(null!==l&&void 0!==l?l:1))%d;break;case v.hg.ARROW_UP:f=(d+u-(null!==l&&void 0!==l?l:1))%d}a(t[f].value)}e.preventDefault()}else(e.key===v.hg.ESCAPE||e.key===v.hg.ENTER)&&(e.preventDefault(),i());else a(r.value),e.preventDefault();e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:(0,X.jsxs)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,children:[m(p),U.length>0&&(0,X.jsx)(Zo,{label:Pi("labels.more_options"),open:f,openTrigger:function(){h((function(e){return!e}))},className:"picker-collapsible",children:m(U)})]})})}function $o(e){var t,n=e.value,r=e.label,a=e.options,i=e.onChange,o=e.group,l=void 0===o?"":o,s=e.numberOfOptionsToAlwaysShow,c=y.useState(!1),u=(0,d.default)(c,2),f=u[0],h=u[1],p=y.useRef(null);return(0,X.jsx)("div",{children:(0,X.jsxs)(Ln,{open:f,onOpenChange:function(e){return h(e)},children:[(0,X.jsx)(Rn,{name:l,type:"button","aria-label":r,onClick:function(){return h(!f)},ref:p,className:f?"active":"",children:null===(t=a.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon}),f&&(0,X.jsx)(qo,{options:a,value:n,label:r,onChange:i,onClose:function(){h(!1)},numberOfOptionsToAlwaysShow:s})]})})}var Qo=y.forwardRef((function(e,t){var n=e.className,r=e.placeholder,a=e.onChange;return(0,X.jsxs)("div",{className:(0,ie.A)("QuickSearch__wrapper",n),children:[v.pf,(0,X.jsx)("input",{ref:t,className:"QuickSearch__input",type:"text",placeholder:r,onChange:function(e){return a(e.target.value.trim().toLowerCase())}})]})})),Jo=function(e){var t=e.className,n=e.placeholder,r=e.children,a=!y.Children.count(r);return(0,X.jsx)("div",{className:(0,ie.A)("ScrollableList__wrapper",t),role:"menu",children:a?(0,X.jsx)("div",{className:"empty",children:n}):r})},el=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=e.style,i=e.title;return(0,X.jsxs)("div",{className:"dropdown-menu-group ".concat(r),style:a,children:[i&&(0,X.jsx)("p",{className:"dropdown-menu-group-title",children:i}),t]})},tl=el;el.displayName="DropdownMenuGroup";var nl=y.createContext({}),rl=function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"dropdown-menu-item dropdown-menu-item-base ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","\n  ").concat(e?"dropdown-menu-item--selected":""," ").concat(t?"dropdown-menu-item--hovered":"").trim()},al=function(e,t){var n=(0,y.useContext)(nl);return(0,v.Ib)(e,(function(e){var r,a=new CustomEvent("menu.itemSelect",{bubbles:!0,cancelable:!0});null!==t&&void 0!==t&&t(a),a.defaultPrevented||null===(r=n.onSelect)||void 0===r||r.call(n,a)}))},il=function(e){var t=e.textStyle,n=e.icon,r=e.shortcut,a=e.children,i=av();return(0,X.jsxs)(X.Fragment,{children:[n&&(0,X.jsx)("div",{className:"dropdown-menu-item__icon",children:n}),(0,X.jsx)("div",{style:t,className:"dropdown-menu-item__text",children:a}),r&&!i.editor.isMobile&&(0,X.jsx)("div",{className:"dropdown-menu-item__shortcut",children:r})]})},ol=function(e){var t,n=e.icon,r=e.value,a=e.order,i=e.children,o=e.shortcut,l=e.className,c=e.hovered,d=e.selected,f=e.textStyle,h=e.onSelect,p=e.onClick,v=(0,u.default)(e,Wa),U=al(p,h),m=(0,y.useRef)(null);return(0,y.useEffect)((function(){var e,t;c&&(0===a?null===(e=m.current)||void 0===e||e.scrollIntoView({block:"end"}):null===(t=m.current)||void 0===t||t.scrollIntoView({block:"nearest"}))}),[c,a]),(0,X.jsx)("button",(0,s.default)((0,s.default)({},v),{},{ref:m,value:r,onClick:U,className:rl(l,d,c),title:null!==(t=v.title)&&void 0!==t?t:v["aria-label"],children:(0,X.jsx)(il,{textStyle:f,icon:n,shortcut:o,children:i})}))};ol.displayName="DropdownMenuItem";var ll="green",sl="red",cl="blue",ul=function(e){var t=e.type,n=void 0===t?cl:t,r=e.children,a={display:"inline-flex",marginLeft:"auto",padding:"2px 4px",borderRadius:6,fontSize:9,fontFamily:"Cascadia, monospace",border:lv().theme===v.G.LIGHT?"1.5px solid white":"none"};switch(n){case ll:Object.assign(a,{backgroundColor:"var(--background-color-badge)",color:"var(--color-badge)"});break;case sl:Object.assign(a,{backgroundColor:"pink",color:"darkred"});break;default:Object.assign(a,{background:"var(--color-promo)",color:"var(--color-surface-lowest)"})}return(0,X.jsx)("div",{className:"DropDownMenuItemBadge",style:a,children:r})};ul.displayName="DropdownMenuItemBadge",ol.Badge=ul;var dl=ol,fl=y.memo((function(e){var t=e.selectedFontFamily,n=e.hoveredFontFamily,r=e.onSelect,a=e.onHover,i=e.onLeave,o=e.onOpen,l=e.onClose,s=iv().container,c=nv().fonts,u=rv().showDeprecatedFonts,f=(0,y.useState)(""),h=(0,d.default)(f,2),U=h[0],m=h[1],g=(0,y.useRef)(null),b=(0,y.useMemo)((function(){return Array.from(v.Qf.registered.entries()).filter((function(e){var t=(0,d.default)(e,2),n=(t[0],t[1].metadata);return!n.serverSide&&!n.fallback})).map((function(e){var t,n,r,a=(0,d.default)(e,2),i=a[0],o=a[1],l=o.metadata,s=o.fontFaces,c={value:i,icon:null!==(t=l.icon)&&void 0!==t?t:v.Oe,text:null!==(n=null===(r=s[0])||void 0===r||null===(r=r.fontFace)||void 0===r?void 0:r.family)&&void 0!==n?n:"Unknown"};return l.deprecated&&Object.assign(c,{deprecated:l.deprecated,badge:{type:sl,placeholder:Pi("fontList.badge.old")}}),c})).sort((function(e,t){return e.text.toLowerCase()>t.text.toLowerCase()?1:-1}))}),[]),x=(0,y.useMemo)((function(){return new Set(c.getSceneFamilies())}),[t]),w=(0,y.useMemo)((function(){return b.filter((function(e){return x.has(e.value)}))}),[b,x]),E=(0,y.useMemo)((function(){return b.filter((function(e){return!x.has(e.value)&&(u||!e.deprecated)}))}),[b,x,u]),k=(0,y.useMemo)((function(){return(0,v.zb)([].concat((0,p.default)(w),(0,p.default)(E)).filter((function(e){var t;return null===(t=e.text)||void 0===t?void 0:t.toLowerCase().includes(U)})))}),[w,E,U]),S=(0,y.useMemo)((function(){var e,r;return n?r=k.find((function(e){return e.value===n})):t&&(r=k.find((function(e){return e.value===t}))),!r&&U&&(null!==(e=k[0])&&void 0!==e&&e.value?a(k[0].value):i()),r}),[n,t,U,k,a,i]),M=(0,y.useCallback)((function(e){(function(e){var t,n,r,a=e.event,i=e.inputRef,o=e.hoveredFont,l=e.filteredFonts,s=e.onClose,c=e.onSelect,u=e.onHover;return!a[v.hg.CTRL_OR_CMD]&&a.shiftKey&&a.key.toLowerCase()===v.hg.F?(null!==(t=i.current)&&void 0!==t&&t.focus(),!0):a.key===v.hg.ESCAPE?(s(),!0):a.key===v.hg.ENTER?(null!==o&&void 0!==o&&o.value&&c(o.value),!0):a.key===v.hg.ARROW_DOWN?(null!==o&&void 0!==o&&o.next?u(o.next.value):(null===(n=l[0])||void 0===n?void 0:n.value)&&u(l[0].value),!0):a.key===v.hg.ARROW_UP?(null!==o&&void 0!==o&&o.prev?u(o.prev.value):(null===(r=l[l.length-1])||void 0===r?void 0:r.value)&&u(l[l.length-1].value),!0):void 0})({event:e,inputRef:g,hoveredFont:S,filteredFonts:k,onSelect:r,onHover:a,onClose:l})&&(e.preventDefault(),e.stopPropagation())}),[S,k,r,a,l]);(0,y.useEffect)((function(){return o(),function(){l()}}),[]);var C=(0,y.useMemo)((function(){return k.filter((function(e){return x.has(e.value)}))}),[k,x]),I=(0,y.useMemo)((function(){return k.filter((function(e){return!x.has(e.value)}))}),[k,x]),j=function(e,n){return(0,X.jsxs)(dl,{icon:e.icon,value:e.value,order:n,textStyle:{fontFamily:(0,v.bb)({fontFamily:e.value})},hovered:e.value===(null===S||void 0===S?void 0:S.value),selected:e.value===t,tabIndex:e.value===t?0:-1,onClick:function(e){r(Number(e.currentTarget.value))},onMouseMove:function(){(null===S||void 0===S?void 0:S.value)!==e.value&&a(e.value)},children:[e.text,e.badge&&(0,X.jsx)(ul,{type:e.badge.type,children:e.badge.placeholder})]},e.value)},T=[];return C.length&&T.push((0,X.jsx)(tl,{title:Pi("fontList.sceneFonts"),children:C.map(j)},"group_1")),I.length&&T.push((0,X.jsx)(tl,{title:Pi("fontList.availableFonts"),children:I.map((function(e,t){return j(e,t+C.length)}))},"group_2")),(0,X.jsxs)(Bo,{className:"properties-content",container:s,style:{width:"15rem"},onClose:l,onPointerLeave:i,onKeyDown:M,children:[(0,X.jsx)(Qo,{ref:g,placeholder:Pi("quickSearch.placeholder"),onChange:(0,v.db)(m,20)}),(0,X.jsx)(Jo,{className:"dropdown-menu fonts manual-hover",placeholder:Pi("fontList.empty"),children:T.length?T:null})]})}),(function(e,t){return e.selectedFontFamily===t.selectedFontFamily&&e.hoveredFontFamily===t.hoveredFontFamily})),hl=function(e){var t=e.selectedFontFamily,n=(0,y.useMemo)((function(){return!(!t||Ul(t))}),[t]);return(0,X.jsx)(Rn,{asChild:!0,children:(0,X.jsx)("div",{children:(0,X.jsx)(po,{standalone:!0,icon:v.qd,title:Pi("labels.showFonts"),className:"properties-trigger",testId:"font-family-show-fonts",active:n,onClick:function(){}})})})},pl=[{value:v.F.Excalifont,icon:v.pd,text:Pi("labels.handDrawn"),testId:"font-family-hand-drawn"},{value:v.F.Nunito,icon:v.Oe,text:Pi("labels.normal"),testId:"font-family-normal"},{value:v.F["Comic Shanns"],icon:v.Pe,text:Pi("labels.code"),testId:"font-family-code"}],vl=new Set(pl.map((function(e){return e.value}))),Ul=function(e){return!!e&&vl.has(e)},ml=y.memo((function(e){var t=e.isOpened,n=e.selectedFontFamily,r=e.hoveredFontFamily,a=e.onSelect,i=e.onHover,o=e.onLeave,l=e.onPopupChange,s=(0,y.useMemo)((function(){return pl}),[]),c=(0,y.useCallback)((function(e){e&&a(e)}),[a]);return(0,X.jsxs)("div",{role:"dialog","aria-modal":"true",className:"FontPicker__container",children:[(0,X.jsx)(vo,{type:"button",options:s,value:n,onClick:c}),(0,X.jsx)(mo,{}),(0,X.jsxs)(Ln,{open:t,onOpenChange:l,children:[(0,X.jsx)(hl,{selectedFontFamily:n}),t&&(0,X.jsx)(fl,{selectedFontFamily:n,hoveredFontFamily:r,onSelect:c,onHover:i,onLeave:o,onOpen:function(){return l(!0)},onClose:function(){return l(!1)}})]})]})}),(function(e,t){return e.isOpened===t.isOpened&&e.selectedFontFamily===t.selectedFontFamily&&e.hoveredFontFamily===t.hoveredFontFamily})),gl=function(e){var t=e.updateData,n=e.appState,r=e.elements,a=e.testId,i=y.useRef(null),o=y.useRef(null),l=yl(r,n,(function(e){return e.opacity}),!0,n.currentItemOpacity);return(0,y.useEffect)((function(){if(i.current&&o.current){var e=i.current,t=o.current,n=e.offsetWidth,r=l/100*(n-15)+7.5;t.style.left="".concat(r,"px"),e.style.background="linear-gradient(to right, var(--color-slider-track) 0%, var(--color-slider-track) ".concat(l,"%, var(--button-bg) ").concat(l,"%, var(--button-bg) 100%)")}}),[l]),(0,X.jsxs)("label",{className:"control-label",children:[Pi("labels.opacity"),(0,X.jsxs)("div",{className:"range-wrapper",children:[(0,X.jsx)("input",{ref:i,type:"range",min:"0",max:"100",step:"10",onChange:function(e){t(+e.target.value)},value:l,className:"range-input","data-testid":a}),(0,X.jsx)("div",{className:"value-bubble",ref:o,children:0!==l?l:null}),(0,X.jsx)("div",{className:"zero-label",children:"0"})]})]})},bl=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,v.xb)((0,v.vk)(e,t,{includeBoundTextElement:r}));return e.map((function(e){var r;return a.get(e.id)||e.id===(null===(r=t.editingTextElement)||void 0===r?void 0:r.id)?n(e):e}))},yl=function(e,t,n,r,a){var i,o=t.editingTextElement,l=(0,v.pk)(e),s=null;return o&&(s=n(o)),s||(s=(0,v.tk)(l,t)?null!==(i=(0,v.uk)(!0===r?l:l.filter((function(e){return r(e)})),t,n))&&void 0!==i?i:"function"==typeof a?a(!0):a:"function"==typeof a?a(!1):a),s},xl=function(e,t,n,r,a){var i=new Set,o=bl(e,t,(function(e){if((0,v._b)(e)){var t=r(e);i.add(t);var a=(0,v.Qj)(e,{fontSize:t});return(0,v.uj)(a,n.scene.getContainerElement(e),n.scene.getNonDeletedElementsMap()),a=function(e,t){return(0,v.nc)(t)||!t.autoResize?t:(0,v.Pj)(t,{x:"left"===e.textAlign?e.x:e.x+(e.width-t.width)/("center"===e.textAlign?2:1),y:e.y+(e.height-t.height)/2},!1)}(e,a),a}return e}),!0),l=(0,v.xb)(o);return(0,v.vk)(e,t,{includeBoundTextElement:!0}).forEach((function(e){(0,v._b)(e)&&(0,v.Pg)(e,l)})),{elements:o,appState:(0,s.default)((0,s.default)({},t),{},{currentItemFontSize:1===i.size?(0,p.default)(i)[0]:null!==a&&void 0!==a?a:t.currentItemFontSize}),captureUpdate:v.Wg.IMMEDIATELY}},wl=((0,v.$c)({name:"changeStrokeColor",label:"labels.stroke",trackEvent:!1,perform:function(e,t,n){return(0,s.default)((0,s.default)({},n.currentItemStrokeColor&&{elements:bl(e,t,(function(e){return(0,v.Wi)(e.type)?(0,v.Qj)(e,{strokeColor:n.currentItemStrokeColor}):e}),!0)}),{},{appState:(0,s.default)((0,s.default)({},t),n),captureUpdate:n.currentItemStrokeColor?v.Wg.IMMEDIATELY:v.Wg.EVENTUALLY})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("h3",{"aria-hidden":"true",children:Pi("labels.stroke")}),(0,X.jsx)(Go,{topPicks:v.f,palette:v.i,type:"elementStroke",label:Pi("labels.stroke"),color:yl(t,n,(function(e){return e.strokeColor}),!0,n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},elements:t,appState:n,updateData:r})]})}}),(0,v.$c)({name:"changeBackgroundColor",label:"labels.changeBackground",trackEvent:!1,perform:function(e,t,n){return(0,s.default)((0,s.default)({},n.currentItemBackgroundColor&&{elements:bl(e,t,(function(e){return(0,v.Qj)(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:(0,s.default)((0,s.default)({},t),n),captureUpdate:n.currentItemBackgroundColor?v.Wg.IMMEDIATELY:v.Wg.EVENTUALLY})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("h3",{"aria-hidden":"true",children:Pi("labels.background")}),(0,X.jsx)(Go,{topPicks:v.g,palette:v.j,type:"elementBackground",label:Pi("labels.background"),color:yl(t,n,(function(e){return e.backgroundColor}),!0,n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},elements:t,appState:n,updateData:r})]})}}),(0,v.$c)({name:"changeFillStyle",label:"labels.fill",trackEvent:!1,perform:function(e,t,n,r){return ho("element","changeFillStyle","".concat(n," (").concat(r.device.editor.isMobile?"mobile":"desktop",")")),{elements:bl(e,t,(function(e){return(0,v.Qj)(e,{fillStyle:n})})),appState:(0,s.default)((0,s.default)({},t),{},{currentItemFillStyle:n}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,v.vk)(t,n),i=a.length>0&&a.every((function(e){return"zigzag"===e.fillStyle}));return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.fill")}),(0,X.jsx)(vo,{type:"button",options:[{value:"hachure",text:"".concat(Pi(i?"labels.zigzag":"labels.hachure")," (").concat((0,v.kb)("Alt-Click"),")"),icon:i?v.je:v.ke,active:!!i||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:Pi("labels.crossHatch"),icon:v.le,testId:"fill-cross-hatch"},{value:"solid",text:Pi("labels.solid"),icon:v.me,testId:"fill-solid"}],value:yl(t,n,(function(e){return e.fillStyle}),(function(e){return e.hasOwnProperty("fillStyle")}),(function(e){return e?null:n.currentItemFillStyle})),onClick:function(e,t){var n=t.altKey&&"hachure"===e&&a.every((function(e){return"hachure"===e.fillStyle}))?"zigzag":e;r(n)}})]})}}),(0,v.$c)({name:"changeStrokeWidth",label:"labels.strokeWidth",trackEvent:!1,perform:function(e,t,n){return{elements:bl(e,t,(function(e){return(0,v.Qj)(e,{strokeWidth:n})})),appState:(0,s.default)((0,s.default)({},t),{},{currentItemStrokeWidth:n}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.strokeWidth")}),(0,X.jsx)(vo,{group:"stroke-width",options:[{value:v.va.thin,text:Pi("labels.thin"),icon:v.ne,testId:"strokeWidth-thin"},{value:v.va.bold,text:Pi("labels.bold"),icon:v.oe,testId:"strokeWidth-bold"},{value:v.va.extraBold,text:Pi("labels.extraBold"),icon:v.pe,testId:"strokeWidth-extraBold"}],value:yl(t,n,(function(e){return e.strokeWidth}),(function(e){return e.hasOwnProperty("strokeWidth")}),(function(e){return e?null:n.currentItemStrokeWidth})),onChange:function(e){return r(e)}})]})}}),(0,v.$c)({name:"changeSloppiness",label:"labels.sloppiness",trackEvent:!1,perform:function(e,t,n){return{elements:bl(e,t,(function(e){return(0,v.Qj)(e,{seed:(0,v.rc)(),roughness:n})})),appState:(0,s.default)((0,s.default)({},t),{},{currentItemRoughness:n}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.sloppiness")}),(0,X.jsx)(vo,{group:"sloppiness",options:[{value:0,text:Pi("labels.architect"),icon:v.se},{value:1,text:Pi("labels.artist"),icon:v.te},{value:2,text:Pi("labels.cartoonist"),icon:v.ue}],value:yl(t,n,(function(e){return e.roughness}),(function(e){return e.hasOwnProperty("roughness")}),(function(e){return e?null:n.currentItemRoughness})),onChange:function(e){return r(e)}})]})}}),(0,v.$c)({name:"changeStrokeStyle",label:"labels.strokeStyle",trackEvent:!1,perform:function(e,t,n){return{elements:bl(e,t,(function(e){return(0,v.Qj)(e,{strokeStyle:n})})),appState:(0,s.default)((0,s.default)({},t),{},{currentItemStrokeStyle:n}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.strokeStyle")}),(0,X.jsx)(vo,{group:"strokeStyle",options:[{value:"solid",text:Pi("labels.strokeStyle_solid"),icon:v.ne},{value:"dashed",text:Pi("labels.strokeStyle_dashed"),icon:v.qe},{value:"dotted",text:Pi("labels.strokeStyle_dotted"),icon:v.re}],value:yl(t,n,(function(e){return e.strokeStyle}),(function(e){return e.hasOwnProperty("strokeStyle")}),(function(e){return e?null:n.currentItemStrokeStyle})),onChange:function(e){return r(e)}})]})}}),(0,v.$c)({name:"changeOpacity",label:"labels.opacity",trackEvent:!1,perform:function(e,t,n){return{elements:bl(e,t,(function(e){return(0,v.Qj)(e,{opacity:n})}),!0),appState:(0,s.default)((0,s.default)({},t),{},{currentItemOpacity:n}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsx)(gl,{updateData:r,elements:t,appState:n,testId:"opacity"})}}),(0,v.$c)({name:"changeFontSize",label:"labels.fontSize",trackEvent:!1,perform:function(e,t,n,r){return xl(e,t,r,(function(){return n}),n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.fontSize")}),(0,X.jsx)(vo,{group:"font-size",options:[{value:16,text:Pi("labels.small"),icon:v.Je,testId:"fontSize-small"},{value:20,text:Pi("labels.medium"),icon:v.Ke,testId:"fontSize-medium"},{value:28,text:Pi("labels.large"),icon:v.Le,testId:"fontSize-large"},{value:36,text:Pi("labels.veryLarge"),icon:v.Me,testId:"fontSize-veryLarge"}],value:yl(t,n,(function(e){if((0,v._b)(e))return e.fontSize;var t=(0,v.zj)(e,a.scene.getNonDeletedElementsMap());return t?t.fontSize:null}),(function(e){return(0,v._b)(e)||null!==(0,v.zj)(e,a.scene.getNonDeletedElementsMap())}),(function(e){return e?null:n.currentItemFontSize||v.I})),onChange:function(e){return r(e)}})]})}}),(0,v.$c)({name:"decreaseFontSize",label:"labels.decreaseFontSize",icon:v.Ne,trackEvent:!1,perform:function(e,t,n,r){return xl(e,t,r,(function(e){return Math.round(1/1.1*e.fontSize)}))},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&(e.key===v.hg.CHEVRON_LEFT||e.key===v.hg.COMMA)}})),El=(0,v.$c)({name:"increaseFontSize",label:"labels.increaseFontSize",icon:v.Ne,trackEvent:!1,perform:function(e,t,n,r){return xl(e,t,r,(function(e){return Math.round(1.1*e.fontSize)}))},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&(e.key===v.hg.CHEVRON_RIGHT||e.key===v.hg.PERIOD)}}),kl=((0,v.$c)({name:"changeFontFamily",label:"labels.fontFamily",trackEvent:!1,perform:function(e,t,n,r){var a=n.cachedElements,i=n.resetAll,o=n.resetContainers,l=(0,u.default)(n,Xa);if(i)return{elements:bl(e,t,(function(e){var t=null===a||void 0===a?void 0:a.get(e.id);return t?(0,v.Qj)(e,(0,s.default)({},t)):e}),!0),appState:(0,s.default)((0,s.default)({},t),l),captureUpdate:v.Wg.NEVER};var f,h=n.currentItemFontFamily,U=n.currentHoveredFontFamily,m=v.Wg.EVENTUALLY,g=!1;if(h)f=h,m=v.Wg.IMMEDIATELY;else if(U){f=U,m=v.Wg.EVENTUALLY;var b=(0,v.vk)(e,t,{includeBoundTextElement:!0}).filter((function(e){return(0,v._b)(e)}));if(b.length>200)g=!0;else{for(var y=0,x=0;y<b.length&&x<5e3;){var w=b[y];x+=(null===w||void 0===w?void 0:w.originalText.length)||0,y++}x>5e3&&(g=!0)}}var E={appState:(0,s.default)((0,s.default)({},t),l),captureUpdate:m};if(f&&!g){var k,S=new Map,M=new Set,C=!1,I=Array.from(v.Qf.loadedFontsCache.values()),j=null===(k=Object.entries(v.F).find((function(e){var t=(0,d.default)(e,2);t[0];return t[1]===f})))||void 0===k?void 0:k[0];U&&j&&I.some((function(e){return e.startsWith(j)}))&&(C=!0),Object.assign(E,{elements:bl(e,t,(function(e){if((0,v._b)(e)&&(e.fontFamily!==f||h)){var t=(0,v.Qj)(e,{fontFamily:f,lineHeight:(0,v.Rf)(f)}),n=(null===a||void 0===a?void 0:a.get(e.containerId||""))||{},i=r.scene.getContainerElement(e);return o&&i&&n&&(0,v.Pj)(i,(0,s.default)({},n),!1),C||(M=new Set([].concat((0,p.default)(M),(0,p.default)(Array.from(t.originalText))))),S.set(t,i),t}return e}),!0)});var T="10px ".concat((0,v.bb)({fontFamily:f})),A=Array.from(M.values()).join();if(C||window.document.fonts.check(T,A)){var D,_=(0,c.default)(S);try{for(_.s();!(D=_.n()).done;){var L=(0,d.default)(D.value,2),R=L[0],P=L[1];(0,v.uj)(R,P,r.scene.getNonDeletedElementsMap(),!1)}}catch(N){_.e(N)}finally{_.f()}}else window.document.fonts.load(T,A).then((function(e){var t,n=(0,c.default)(S);try{for(n.s();!(t=n.n()).done;){var a=(0,d.default)(t.value,2),i=a[0],o=a[1],l=r.scene.getElement(i.id),s=o?r.scene.getElement(o.id):null;l&&(0,v.uj)(l,s,r.scene.getNonDeletedElementsMap(),!1)}}catch(N){n.e(N)}finally{n.f()}r.fonts.onLoaded(e)}))}return E},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.app,a=e.updateData,i=(0,y.useRef)(new Map),o=(0,y.useRef)(null),l=(0,y.useState)({}),u=(0,d.default)(l,2),f=u[0],h=u[1],p=(0,y.useRef)(!0),U=(0,y.useMemo)((function(){var e,a,l=function(e,t){return yl(e,n,(function(e){if((0,v._b)(e))return e.fontFamily;var n=(0,v.zj)(e,t);return n?n.fontFamily:null}),(function(e){return(0,v._b)(e)||null!==(0,v.zj)(e,t)}),(function(e){return e?null:n.currentItemFontFamily||v.J}))};return"fontFamily"===f.openPopup&&"fontFamily"===n.openPopup?l(Array.from(null!==(e=null===(a=i.current)||void 0===a?void 0:a.values())&&void 0!==e?e:[]),i.current):f.openPopup||"fontFamily"===n.openPopup?o.current:l(t,r.scene.getNonDeletedElementsMap())}),[f.openPopup,n,t,r.scene]);return(0,y.useEffect)((function(){o.current=U}),[U]),(0,y.useEffect)((function(){Object.keys(f).length&&(a(f),h({}))}),[f]),(0,y.useEffect)((function(){return p.current=!1,function(){p.current=!0}}),[]),(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.fontFamily")}),(0,X.jsx)(ml,{isOpened:"fontFamily"===n.openPopup,selectedFontFamily:U,hoveredFontFamily:n.currentHoveredFontFamily,onSelect:function(e){h({openPopup:null,currentHoveredFontFamily:null,currentItemFontFamily:e}),i.current.clear()},onHover:function(e){h({currentHoveredFontFamily:e,cachedElements:new Map(i.current),resetContainers:!0})},onLeave:function(){h({currentHoveredFontFamily:null,cachedElements:new Map(i.current),resetAll:!0})},onPopupChange:function(e){if(e){i.current.clear();var o=n.editingTextElement;if("text"===(null===o||void 0===o?void 0:o.type)){var l=r.scene.getElement(o.id);i.current.set(o.id,(0,v.Qj)(l||o,{},!0))}else{var u,d=(0,v.vk)(t,n,{includeBoundTextElement:!0}),U=(0,c.default)(d);try{for(U.s();!(u=U.n()).done;){var m=u.value;i.current.set(m.id,(0,v.Qj)(m,{},!0))}}catch(b){U.e(b)}finally{U.f()}}h({openPopup:"fontFamily"})}else{var g={openPopup:null,currentHoveredFontFamily:null,cachedElements:new Map(i.current),resetAll:!0};p.current?a((0,s.default)((0,s.default)({},f),g)):h(g),i.current.clear()}}})]})}}),(0,v.$c)({name:"changeTextAlign",label:"Change text alignment",trackEvent:!1,perform:function(e,t,n,r){return{elements:bl(e,t,(function(e){if((0,v._b)(e)){var t=(0,v.Qj)(e,{textAlign:n});return(0,v.uj)(t,r.scene.getContainerElement(e),r.scene.getNonDeletedElementsMap()),t}return e}),!0),appState:(0,s.default)((0,s.default)({},t),{},{currentItemTextAlign:n}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app.scene.getNonDeletedElementsMap();return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.textAlign")}),(0,X.jsx)(vo,{group:"text-align",options:[{value:"left",text:Pi("labels.left"),icon:v.Qe,testId:"align-left"},{value:"center",text:Pi("labels.center"),icon:v.Re,testId:"align-horizontal-center"},{value:"right",text:Pi("labels.right"),icon:v.Se,testId:"align-right"}],value:yl(t,n,(function(e){if((0,v._b)(e))return e.textAlign;var t=(0,v.zj)(e,a);return t?t.textAlign:null}),(function(e){return(0,v._b)(e)||null!==(0,v.zj)(e,a)}),(function(e){return e?null:n.currentItemTextAlign})),onChange:function(e){return r(e)}})]})}}),(0,v.$c)({name:"changeVerticalAlign",label:"Change vertical alignment",trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:bl(e,t,(function(e){if((0,v._b)(e)){var t=(0,v.Qj)(e,{verticalAlign:n});return(0,v.uj)(t,r.scene.getContainerElement(e),r.scene.getNonDeletedElementsMap()),t}return e}),!0),appState:(0,s.default)({},t),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)("fieldset",{children:(0,X.jsx)(vo,{group:"text-align",options:[{value:v.sa.TOP,text:Pi("labels.alignTop"),icon:(0,X.jsx)(v.Te,{theme:n.theme}),testId:"align-top"},{value:v.sa.MIDDLE,text:Pi("labels.centerVertically"),icon:(0,X.jsx)(v.Ve,{theme:n.theme}),testId:"align-middle"},{value:v.sa.BOTTOM,text:Pi("labels.alignBottom"),icon:(0,X.jsx)(v.Ue,{theme:n.theme}),testId:"align-bottom"}],value:yl(t,n,(function(e){if((0,v._b)(e)&&e.containerId)return e.verticalAlign;var t=(0,v.zj)(e,a.scene.getNonDeletedElementsMap());return t?t.verticalAlign:null}),(function(e){return(0,v._b)(e)||null!==(0,v.zj)(e,a.scene.getNonDeletedElementsMap())}),(function(e){return e?null:v.sa.MIDDLE})),onChange:function(e){return r(e)}})})}}),(0,v.$c)({name:"changeRoundness",label:"Change edge roundness",trackEvent:!1,perform:function(e,t,n){return{elements:bl(e,t,(function(e){return(0,v.ec)(e)?e:(0,v.Qj)(e,{roundness:"round"===n?{type:(0,v.oc)(e.type)?v.ua.ADAPTIVE_RADIUS:v.ua.PROPORTIONAL_RADIUS}:null})})),appState:(0,s.default)((0,s.default)({},t),{},{currentItemRoundness:n}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,v.wk)((0,v.pk)(t),n).some((function(e){var t;return(null===(t=e.roundness)||void 0===t?void 0:t.type)===v.ua.LEGACY}));return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.edges")}),(0,X.jsx)(vo,{group:"edges",options:[{value:"sharp",text:Pi("labels.sharp"),icon:v.ve},{value:"round",text:Pi("labels.round"),icon:v.we}],value:yl(t,n,(function(e){return a?null:e.roundness?"round":"sharp"}),(function(e){return!(0,v.dc)(e)&&e.hasOwnProperty("roundness")}),(function(e){return e?null:n.currentItemRoundness})),onChange:function(e){return r(e)}})]})}}),function(e){return[{value:null,text:Pi("labels.arrowhead_none"),keyBinding:"q",icon:v.xe},{value:"arrow",text:Pi("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,X.jsx)(v.ye,{flip:e})},{value:"triangle",text:Pi("labels.arrowhead_triangle"),icon:(0,X.jsx)(v.Ce,{flip:e}),keyBinding:"e"},{value:"triangle_outline",text:Pi("labels.arrowhead_triangle_outline"),icon:(0,X.jsx)(v.De,{flip:e}),keyBinding:"r"},{value:"circle",text:Pi("labels.arrowhead_circle"),keyBinding:"a",icon:(0,X.jsx)(v.ze,{flip:e})},{value:"circle_outline",text:Pi("labels.arrowhead_circle_outline"),keyBinding:"s",icon:(0,X.jsx)(v.Ae,{flip:e})},{value:"diamond",text:Pi("labels.arrowhead_diamond"),icon:(0,X.jsx)(v.Ee,{flip:e}),keyBinding:"d"},{value:"diamond_outline",text:Pi("labels.arrowhead_diamond_outline"),icon:(0,X.jsx)(v.Fe,{flip:e}),keyBinding:"f"},{value:"bar",text:Pi("labels.arrowhead_bar"),keyBinding:"z",icon:(0,X.jsx)(v.Be,{flip:e})},{value:"crowfoot_one",text:Pi("labels.arrowhead_crowfoot_one"),icon:(0,X.jsx)(v.He,{flip:e}),keyBinding:"c"},{value:"crowfoot_many",text:Pi("labels.arrowhead_crowfoot_many"),icon:(0,X.jsx)(v.Ge,{flip:e}),keyBinding:"x"},{value:"crowfoot_one_or_many",text:Pi("labels.arrowhead_crowfoot_one_or_many"),icon:(0,X.jsx)(v.Ie,{flip:e}),keyBinding:"v"}]}),Sl=((0,v.$c)({name:"changeArrowhead",label:"Change arrowheads",trackEvent:!1,perform:function(e,t,n){return{elements:bl(e,t,(function(e){if((0,v.cc)(e)){var t=n.position,r=n.type;if("start"===t)return(0,v.Qj)(e,{startArrowhead:r});if("end"===t)return(0,v.Qj)(e,{endArrowhead:r})}return e})),appState:(0,s.default)((0,s.default)({},t),{},(0,l.default)({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=Li().rtl;return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.arrowheads")}),(0,X.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,X.jsx)($o,{label:"arrowhead_start",options:kl(!a),value:yl(t,n,(function(e){return(0,v.cc)(e)&&(0,v.$i)(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),!0,n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})},numberOfOptionsToAlwaysShow:4}),(0,X.jsx)($o,{label:"arrowhead_end",group:"arrowheads",options:kl(!!a),value:yl(t,n,(function(e){return(0,v.cc)(e)&&(0,v.$i)(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),!0,n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})},numberOfOptionsToAlwaysShow:4})]})]})}}),(0,v.$c)({name:"changeArrowType",label:"Change arrow types",trackEvent:!1,perform:function(e,t,n,r){var a,i=bl(e,t,(function(a){if(!(0,v.dc)(a))return a;var i=(0,v.Qj)(a,{roundness:n===v.Fa.round?{type:v.ua.PROPORTIONAL_RADIUS}:null,elbowed:n===v.Fa.elbow,points:n===v.Fa.elbow||a.elbowed?[a.points[0],a.points[a.points.length-1]]:a.points});if((0,v.ec)(i)){var o=r.scene.getNonDeletedElementsMap();r.dismissLinearEditor();var l=v.pj.getPointAtIndexGlobalCoordinates(i,0,o),c=v.pj.getPointAtIndexGlobalCoordinates(i,-1,o),u=!i.startBinding&&(0,v.Og)((0,v.ob)(l),e,o,t.zoom,!1,!0),d=!i.endBinding&&(0,v.Og)((0,v.ob)(c),e,o,t.zoom,!1,!0),f=u||i.startBinding&&o.get(i.startBinding.elementId),h=d||i.endBinding&&o.get(i.endBinding.elementId),p=u?(0,v.Qg)(i,u,"start"):l,U=d?(0,v.Qg)(i,d,"end"):c;u&&(0,v.Mg)(i,u,"start",o),d&&(0,v.Mg)(i,d,"end",o),(0,v.Pj)(i,(0,s.default)((0,s.default)({points:[p,U].map((function(e){return(0,v.Ua)(e[0]-i.x,e[1]-i.y)}))},f&&i.startBinding?{startBinding:(0,s.default)((0,s.default)({},i.startBinding),(0,v.Rg)(i,f,"start",o))}:{}),h&&i.endBinding?{endBinding:(0,s.default)((0,s.default)({},i.endBinding),(0,v.Rg)(i,h,"end",o))}:{})),v.pj.updateEditorMidPointsCache(i,o,r.state)}return i})),o=(0,s.default)((0,s.default)({},t),{},{currentItemArrowType:n}),l=null===(a=t.selectedLinearElement)||void 0===a?void 0:a.elementId;if(l){var c=i.find((function(e){return e.id===l}));c&&(o.selectedLinearElement=new v.pj(c))}return{elements:i,appState:o,captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.arrowtypes")}),(0,X.jsx)(vo,{group:"arrowtypes",options:[{value:v.Fa.sharp,text:Pi("labels.arrowtype_sharp"),icon:v.If,testId:"sharp-arrow"},{value:v.Fa.round,text:Pi("labels.arrowtype_round"),icon:v.Kf,testId:"round-arrow"},{value:v.Fa.elbow,text:Pi("labels.arrowtype_elbowed"),icon:v.Jf,testId:"elbow-arrow"}],value:yl(t,n,(function(e){return(0,v.dc)(e)?e.elbowed?v.Fa.elbow:e.roundness?v.Fa.round:v.Fa.sharp:null}),(function(e){return(0,v.dc)(e)}),(function(e){return e?null:n.currentItemArrowType})),onChange:function(e){return r(e)}})]})}}),function(e,t){var n=e.viewportX,r=e.viewportY,a=e.nextZoom,i=n-t.offsetLeft,o=r-t.offsetTop,l=t.zoom.value;return{scrollX:t.scrollX+(i-i/l)+-(i-i/a),scrollY:t.scrollY+(o-o/l)+-(o-o/a),zoom:{value:a}}}),Ml=function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t},Cl=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",a=e.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,l=t.left+t.width/2-a.width/2;l<0?l=5:l+a.width>=i&&(l=i-a.width-5),"bottom"===r?(n=t.top+t.height+5)+a.height>=o&&(n=t.top-a.height-5):(n=t.top-a.height-5)<0&&(n=t.top+t.height+5),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(l,"px")})},Il=function(e){var t=e.children,n=e.label,r=e.long,a=void 0!==r&&r,i=e.style,o=e.disabled;return(0,y.useEffect)((function(){return function(){return Ml().classList.remove("excalidraw-tooltip--visible")}}),[]),o?null:(0,X.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var a=e.getBoundingClientRect();Cl(t,a)}(e.currentTarget,Ml(),n,a)},onPointerLeave:function(){return Ml().classList.remove("excalidraw-tooltip--visible")},style:i,children:t})},jl=((0,v.$c)({name:"changeViewBackgroundColor",label:"labels.canvasBackground",paletteName:"Change canvas background color",trackEvent:!1,predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.changeViewBackgroundColor&&!t.viewModeEnabled},perform:function(e,t,n){return{appState:(0,s.default)((0,s.default)({},t),n),captureUpdate:n.viewBackgroundColor?v.Wg.IMMEDIATELY:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;e.appProps;return(0,X.jsx)(Go,{palette:null,topPicks:v.h,label:Pi("labels.canvasBackground"),type:"canvasBackground",color:n.viewBackgroundColor,onChange:function(e){return r({viewBackgroundColor:e})},"data-testid":"canvas-background-picker",elements:t,appState:n,updateData:r})}}),(0,v.$c)({name:"clearCanvas",label:"labels.clearCanvas",paletteName:"Clear canvas",icon:v.ud,trackEvent:{category:"canvas"},predicate:function(e,t,n,r){var a;return!!r.props.UIOptions.canvasActions.clearCanvas&&!t.viewModeEnabled&&"elementLinkSelector"!==(null===(a=t.openDialog)||void 0===a?void 0:a.name)},perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map((function(e){return(0,v.Qj)(e,{isDeleted:!0})})),appState:(0,s.default)((0,s.default)({},(0,v.Fc)()),{},{files:{},theme:t.theme,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,gridStep:t.gridStep,gridModeEnabled:t.gridModeEnabled,stats:t.stats,pasteDialog:t.pasteDialog,activeTool:"image"===t.activeTool.type?(0,s.default)((0,s.default)({},t.activeTool),{},{type:"selection"}):t.activeTool}),captureUpdate:v.Wg.IMMEDIATELY}}})),Tl=(0,v.$c)({name:"zoomIn",label:"buttons.zoomIn",viewMode:!0,icon:v.rd,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,s.default)((0,s.default)((0,s.default)({},t),Sl({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,v.Ak)(t.zoom.value+v.$)},t)),{},{userToFollow:null}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,X.jsx)(Hi,{type:"button",className:"zoom-in-button zoom-button",icon:v.rd,title:"".concat(Pi("buttons.zoomIn")," \u2014 ").concat((0,v.kb)("CtrlOrCmd++")),"aria-label":Pi("buttons.zoomIn"),disabled:n.zoom.value>=v.ba,onClick:function(){t(null)}})},keyTest:function(e){return(e.code===v.gg.EQUAL||e.code===v.gg.NUM_ADD)&&(e[v.hg.CTRL_OR_CMD]||e.shiftKey)}}),Al=(0,v.$c)({name:"zoomOut",label:"buttons.zoomOut",icon:v.sd,viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,s.default)((0,s.default)((0,s.default)({},t),Sl({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,v.Ak)(t.zoom.value-v.$)},t)),{},{userToFollow:null}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,X.jsx)(Hi,{type:"button",className:"zoom-out-button zoom-button",icon:v.sd,title:"".concat(Pi("buttons.zoomOut")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+-")),"aria-label":Pi("buttons.zoomOut"),disabled:n.zoom.value<=v.aa,onClick:function(){t(null)}})},keyTest:function(e){return(e.code===v.gg.MINUS||e.code===v.gg.NUM_SUBTRACT)&&(e[v.hg.CTRL_OR_CMD]||e.shiftKey)}}),Dl=(0,v.$c)({name:"resetZoom",label:"buttons.resetZoom",icon:v.td,viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return{appState:(0,s.default)((0,s.default)((0,s.default)({},t),Sl({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:(0,v.Ak)(1)},t)),{},{userToFollow:null}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,X.jsx)(Il,{label:Pi("buttons.resetZoom"),style:{height:"100%"},children:(0,X.jsxs)(Hi,{type:"button",className:"reset-zoom-button zoom-button",title:Pi("buttons.resetZoom"),"aria-label":Pi("buttons.resetZoom"),onClick:function(){t(null)},children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===v.gg.ZERO||e.code===v.gg.NUM_ZERO)&&(e[v.hg.CTRL_OR_CMD]||e.shiftKey)}}),_l=function(e){var t,n,r,a,i=e.bounds,o=e.appState,l=e.canvasOffsets,c=e.fitToViewport,u=void 0!==c&&c,f=e.viewportZoomFactor,h=void 0===f?1:f,p=e.minZoom,U=void 0===p?-1/0:p,m=e.maxZoom,g=void 0===m?1/0:m;h=(0,v.Ia)(h,v.aa,v.ba);var b,y=(0,d.default)(i,4),x=y[0],w=y[1],E=y[2],k=y[3],S=(x+E)/2,M=(w+k)/2,C=null!==(t=null===l||void 0===l?void 0:l.left)&&void 0!==t?t:0,I=null!==(n=null===l||void 0===l?void 0:l.top)&&void 0!==n?n:0,j=null!==(r=null===l||void 0===l?void 0:l.right)&&void 0!==r?r:0,T=null!==(a=null===l||void 0===l?void 0:l.bottom)&&void 0!==a?a:0,A=o.width-C-j,D=o.height-I-T;if(u){var _=E-x,L=k-w;b=Math.min(A/_,D/L)*h}else b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,d.default)(e,4),a=r[0],i=r[1],o=r[2],l=r[3],s=o-a,c=t.width/s,u=l-i,f=t.height/u,h=Math.min(c,f)*(0,v.Ia)(n,.1,1);return Math.min(h,1)}(i,{width:A,height:D},h);var R=(0,v.Ak)((0,v.Ia)((0,v.Ka)(b,v.$,"floor"),U,g)),P=(0,v.yk)({scenePoint:{x:S,y:M},viewportDimensions:{width:o.width,height:o.height},offsets:l,zoom:{value:R}});return{appState:(0,s.default)((0,s.default)({},o),{},{scrollX:P.scrollX,scrollY:P.scrollY,zoom:{value:R}}),captureUpdate:v.Wg.EVENTUALLY}},Ll=function(e){var t=e.canvasOffsets,n=e.targetElements,r=e.appState,a=e.fitToViewport,i=e.viewportZoomFactor,o=e.minZoom,l=e.maxZoom,s=(0,v.bj)((0,v.pk)(n));return _l({canvasOffsets:t,bounds:s,appState:r,fitToViewport:a,viewportZoomFactor:i,minZoom:o,maxZoom:l})},Rl=((0,v.$c)({name:"zoomToFitSelectionInViewport",label:"labels.zoomToFitViewport",icon:v.zf,trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return Ll({targetElements:a.length?a:e,appState:(0,s.default)((0,s.default)({},t),{},{userToFollow:null}),fitToViewport:!1,canvasOffsets:r.getEditorUIOffsets()})},keyTest:function(e){return e.code===v.gg.TWO&&e.shiftKey&&!e.altKey&&!e[v.hg.CTRL_OR_CMD]}}),(0,v.$c)({name:"zoomToFitSelection",label:"helpDialog.zoomToSelection",icon:v.zf,trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return Ll({targetElements:a.length?a:e,appState:(0,s.default)((0,s.default)({},t),{},{userToFollow:null}),fitToViewport:!0,canvasOffsets:r.getEditorUIOffsets()})},keyTest:function(e){return e.code===v.gg.THREE&&e.shiftKey&&!e.altKey&&!e[v.hg.CTRL_OR_CMD]}}),(0,v.$c)({name:"zoomToFit",label:"helpDialog.zoomToFit",icon:v.zf,viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n,r){return Ll({targetElements:e,appState:(0,s.default)((0,s.default)({},t),{},{userToFollow:null}),fitToViewport:!1,canvasOffsets:r.getEditorUIOffsets()})},keyTest:function(e){return e.code===v.gg.ONE&&e.shiftKey&&!e.altKey&&!e[v.hg.CTRL_OR_CMD]}}),(0,v.$c)({name:"toggleTheme",label:function(e,t){return t.theme===v.G.DARK?"buttons.lightMode":"buttons.darkMode"},keywords:["toggle","dark","light","mode","theme"],icon:function(e){return e.theme===v.G.LIGHT?v.xd:v.yd},viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t,n){return{appState:(0,s.default)((0,s.default)({},t),{},{theme:n||(t.theme===v.G.LIGHT?v.G.DARK:v.G.LIGHT)}),captureUpdate:v.Wg.EVENTUALLY}},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===v.gg.D},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.toggleTheme}})),Pl=((0,v.$c)({name:"toggleEraserTool",label:"toolBar.eraser",trackEvent:{category:"toolbar"},perform:function(e,t){var n;return n=(0,v.Gc)(t)?(0,v.jb)(t,(0,s.default)((0,s.default)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,v.jb)(t,{type:"eraser",lastActiveToolBeforeEraser:t.activeTool}),{appState:(0,s.default)((0,s.default)({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:n}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e.key===v.hg.E}}),(0,v.$c)({name:"toggleHandTool",label:"toolBar.hand",paletteName:"Toggle hand tool",trackEvent:{category:"toolbar"},icon:v.Ye,viewMode:!1,perform:function(e,t,n,r){var a;return(0,v.Hc)(t)?a=(0,v.jb)(t,(0,s.default)((0,s.default)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(a=(0,v.jb)(t,{type:"hand",lastActiveToolBeforeEraser:t.activeTool}),(0,v.bd)(r.interactiveCanvas,v.z.GRAB)),{appState:(0,s.default)((0,s.default)({},t),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:a}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return!e.altKey&&!e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.H}})),Nl=(0,v.$c)({name:"finalize",label:"",trackEvent:!1,perform:function(e,t,n,r){var a,i=r.interactiveCanvas,o=r.focusContainer,c=r.scene,u=c.getNonDeletedElementsMap();if(t.editingLinearElement){var f=t.editingLinearElement,h=f.elementId,p=f.startBindingElement,U=f.endBindingElement,m=v.pj.getElement(h,u);if(m)return(0,v.gc)(m)&&(0,v.Ig)(m,p,U,u,c),{elements:m.points.length<2||(0,v.Sj)(m)?e.filter((function(e){return e.id!==m.id})):void 0,appState:(0,s.default)((0,s.default)({},t),{},{cursorButton:"up",editingLinearElement:null}),captureUpdate:v.Wg.IMMEDIATELY}}var g=e,b=t.pendingImageElementId&&c.getElement(t.pendingImageElementId);b&&(0,v.Pj)(b,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&o();var y,x=t.multiElement?t.multiElement:"freedraw"===(null===(a=t.newElement)||void 0===a?void 0:a.type)?t.newElement:null;if(x){if("freedraw"!==x.type&&"touch"!==t.lastPointerDownWith){var w=x.points,E=x.lastCommittedPoint;(!E||w[w.length-1]!==E)&&(0,v.Pj)(x,{points:x.points.slice(0,-1)})}(0,v.Sj)(x)&&(g=g.filter((function(e){return e.id!==x.id})));var k=(0,v.xg)(x.points,t.zoom.value);if(("line"===x.type||"freedraw"===x.type)&&k){var S=x.points,M=S[0];(0,v.Pj)(x,{points:S.map((function(e,t){return t===S.length-1?(0,v.Ua)(M[0],M[1]):e}))})}if((0,v.gc)(x)&&!k&&x.points.length>1){var C=v.pj.getPointAtIndexGlobalCoordinates(x,-1,(0,v.xb)(e)),I=(0,d.default)(C,2),j=I[0],T=I[1];(0,v.Lg)(x,t,{x:j,y:T},u,e)}}return(!t.activeTool.locked&&"freedraw"!==t.activeTool.type||!x)&&(0,v.ad)(i),y="eraser"===t.activeTool.type?(0,v.jb)(t,(0,s.default)((0,s.default)({},t.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,v.jb)(t,{type:"selection"}),{elements:g,appState:(0,s.default)((0,s.default)({},t),{},{cursorButton:"up",activeTool:(t.activeTool.locked||"freedraw"===t.activeTool.type)&&x?t.activeTool:y,activeEmbeddable:null,newElement:null,selectionElement:null,multiElement:null,editingTextElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:x&&!t.activeTool.locked&&"freedraw"!==t.activeTool.type?(0,s.default)((0,s.default)({},t.selectedElementIds),{},(0,l.default)({},x.id,!0)):t.selectedElementIds,selectedLinearElement:x&&(0,v.cc)(x)?new v.pj(x):t.selectedLinearElement,pendingImageElementId:null}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e,t){return e.key===v.hg.ESCAPE&&(null!==t.editingLinearElement||!t.newElement&&null===t.multiElement)||(e.key===v.hg.ESCAPE||e.key===v.hg.ENTER)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data;return(0,X.jsx)(Hi,{type:"button",icon:v.Qd,title:Pi("buttons.done"),"aria-label":Pi("buttons.done"),onClick:n,visible:null!=t.multiElement,size:(null===r||void 0===r?void 0:r.size)||"medium",style:{pointerEvents:"all"}})}}),Fl=function(e){var t=iv().id,n=(0,y.useState)(e.value),r=(0,d.default)(n,2),a=r[0],i=r[1];return(0,X.jsxs)("div",{className:"ProjectName",children:[(0,X.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label,":")}),(0,X.jsx)("input",{type:"text",className:"TextInput",onBlur:function(t){e.ignoreFocus||(0,v.vb)(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if(e.key===v.hg.ENTER){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:a,onChange:function(e){return i(e.target.value)}})]})},Ol=function(e){var t=e.title||(e.value===v.G.DARK?Pi("buttons.lightMode"):Pi("buttons.darkMode"));return(0,X.jsx)(Hi,{type:"icon",icon:e.value===v.G.LIGHT?zl.MOON:zl.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===v.G.DARK?v.G.LIGHT:v.G.DARK)},"data-testid":"toggle-dark-mode"})},zl={SUN:(0,X.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,X.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,X.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,X.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},Bl=function(e,t,n){var r=t.selectedElementIds;e=(0,v.pk)(e);var a=n&&(0,v.tk)(e,{selectedElementIds:r}),i=null,o=a?(0,v.vk)(e,{selectedElementIds:r},{includeBoundTextElement:!0}):e;return a&&(1===o.length&&(0,v.bc)(o[0])?(i=o[0],o=(0,v.Pi)(e,i)):o.length>1&&(o=(0,v.vk)(e,{selectedElementIds:r},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:i,exportedElements:(0,v.Nb)(o)}},Hl=function(){var e=(0,h.default)((0,f.default)().mark((function e(t,r,a,i,o){var l,s,c,u,d,h,p,U,m,g,b,y,x,w,E;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=o.exportBackground,s=o.exportPadding,c=void 0===s?v.ma:s,u=o.viewBackgroundColor,d=o.name,h=void 0===d?a.name||v.Ca:d,p=o.fileHandle,U=void 0===p?null:p,m=o.exportingFrame,g=void 0===m?null:m,0!==r.length){e.next=3;break}throw new Error(Pi("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=20;break}if(b=(0,v.ei)(r,{exportBackground:l,exportWithDarkMode:a.exportWithDarkMode,viewBackgroundColor:u,exportPadding:c,exportScale:a.exportScale,exportEmbedScene:a.exportEmbedScene&&"svg"===t},i,{exportingFrame:g}),"svg"!==t){e.next=7;break}return e.abrupt("return",(0,v.gh)(b.then((function(e){return new Blob([e.outerHTML],{type:v.T.svg})})),{description:"Export to SVG",name:h,extension:a.exportEmbedScene?"excalidraw.svg":"svg",mimeTypes:[v.S.svg],fileHandle:U}));case 7:if("clipboard-svg"!==t){e.next=20;break}return e.next=10,b.then((function(e){return e.outerHTML}));case 10:return y=e.sent,e.prev=11,e.next=14,(0,v.oi)(y);case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(11),new Error(Pi("errors.copyToSystemClipboardFailed"));case 19:return e.abrupt("return");case 20:if(x=(0,v.di)(r,a,i,{exportBackground:l,viewBackgroundColor:u,exportPadding:c,exportingFrame:g}),"png"!==t){e.next=26;break}return w=(0,v.yh)(x),e.abrupt("return",(a.exportEmbedScene&&(w=w.then((function(e){return n.e(9352).then(n.bind(n,79352)).then((function(t){return(0,t.encodePngMetadata)({blob:e,metadata:(0,v.Jh)(r,a,i,"local")})}))}))),(0,v.gh)(w,{description:"Export to PNG",name:h,extension:a.exportEmbedScene?"excalidraw.png":"png",mimeTypes:[v.S.png],fileHandle:U})));case 26:if("clipboard"!==t){e.next=38;break}return e.prev=27,E=(0,v.yh)(x),e.next=31,(0,v.ni)(E);case 31:e.next=36;break;case 33:throw e.prev=33,e.t1=e.catch(27),console.warn(e.t1),"CANVAS_POSSIBLY_TOO_BIG"===e.t1.name?new Error(Pi("canvasError.canvasTooBig")):v.n&&"TypeError"===e.t1.name?new Error("".concat(Pi("alerts.couldNotCopyToClipboard"),"\n\n").concat(Pi("hints.firefox_clipboard_write"))):new Error(Pi("alerts.couldNotCopyToClipboard"));case 36:e.next=39;break;case 38:throw new Error("Unsupported export type");case 39:case"end":return e.stop()}}),e,null,[[11,16],[27,33]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Wl=function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i,o,l,c,u,d,h,p;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=n).exportBackground,l=i.viewBackgroundColor,c=i.fileHandle,u=(0,v.qh)(c),c&&(0,v.rh)(u)){e.next=3;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 3:return n=(0,s.default)((0,s.default)({},n),{},{exportEmbedScene:!0}),d=Bl(t,n,!1),h=d.exportedElements,p=d.exportingFrame,e.next=7,Hl(u,h,n,r,{exportBackground:o,viewBackgroundColor:l,name:a,fileHandle:c,exportingFrame:p});case 7:return e.abrupt("return",{fileHandle:c});case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Xl=function(e){var t=e.children,n=e.checked,r=e.onChange,a=e.className;return(0,X.jsxs)("div",{className:(0,ie.A)("Checkbox",a,{"is-checked":n}),onClick:function(e){r(!n,e),e.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,X.jsx)("button",{type:"button",className:"Checkbox-box",role:"checkbox","aria-checked":n,children:v.Hd}),(0,X.jsx)("div",{className:"Checkbox-label",children:t})]})},Vl=(0,v.$c)({name:"changeProjectName",label:"labels.fileTitle",trackEvent:!1,perform:function(e,t,n){return{appState:(0,s.default)((0,s.default)({},t),{},{name:n}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){e.appState;var t,n=e.updateData,r=(e.appProps,e.data),a=e.app;return(0,X.jsx)(Fl,{label:Pi("labels.fileTitle"),value:a.getName(),onChange:function(e){return n(e)},ignoreFocus:null!==(t=null===r||void 0===r?void 0:r.ignoreFocus)&&void 0!==t&&t})}}),Gl=(0,v.$c)({name:"changeExportScale",label:"imageExportDialog.scale",trackEvent:{category:"export",action:"scale"},perform:function(e,t,n){return{appState:(0,s.default)((0,s.default)({},t),{},{exportScale:n}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,v.pk)(t),i=(0,v.tk)(a,n)?(0,v.vk)(a,n):a;return(0,X.jsx)(X.Fragment,{children:v.la.map((function(e){var t=(0,v.fi)(i,v.ma,e),a=(0,d.default)(t,2),o=a[0],l=a[1],s="".concat(Pi("imageExportDialog.label.scale")," ").concat(e,"x (").concat(o,"x").concat(l,")");return(0,X.jsx)(Hi,{size:"small",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:s,"aria-label":s,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}},e)}))})}}),Yl=(0,v.$c)({name:"changeExportBackground",label:"imageExportDialog.label.withBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(e,t,n){return{appState:(0,s.default)((0,s.default)({},t),{},{exportBackground:n}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,X.jsx)(Xl,{checked:t.exportBackground,onChange:function(e){return n(e)},children:Pi("imageExportDialog.label.withBackground")})}}),Zl=(0,v.$c)({name:"changeExportEmbedScene",label:"imageExportDialog.tooltip.embedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(e,t,n){return{appState:(0,s.default)((0,s.default)({},t),{},{exportEmbedScene:n}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,X.jsxs)(Xl,{checked:t.exportEmbedScene,onChange:function(e){return n(e)},children:[Pi("imageExportDialog.label.embedScene"),(0,X.jsx)(Il,{label:Pi("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,X.jsx)("div",{className:"excalidraw-tooltip-icon",children:v.Td})})]})}}),Kl=(0,v.$c)({name:"saveToActiveFile",label:"buttons.save",icon:v.Ad,trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.saveToActiveFile&&!!t.fileHandle&&!t.viewModeEnabled},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i,o,l;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!!n.fileHandle,e.prev=1,!(0,v.sh)(n.fileHandle)){e.next=8;break}return e.next=5,Wl(t,n,a.files,a.getName());case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,v.Kh)(t,n,a.files,a.getName());case 10:e.t0=e.sent;case 11:return o=e.t0,l=o.fileHandle,e.abrupt("return",{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},n),{},{fileHandle:l,toast:i?{message:null!==l&&void 0!==l&&l.name?Pi("toast.fileSavedToFilename").replace("{filename}",'"'.concat(l.name,'"')):Pi("toast.fileSaved")}:null})});case 16:return e.prev=16,e.t1=e.catch(1),e.abrupt("return",("AbortError"!==(null===e.t1||void 0===e.t1?void 0:e.t1.name)?console.error(e.t1):console.warn(e.t1),{captureUpdate:v.Wg.EVENTUALLY}));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e.key===v.hg.S&&e[v.hg.CTRL_OR_CMD]&&!e.shiftKey}}),ql=(0,v.$c)({name:"saveFileToDisk",label:"exportDialog.disk_title",icon:v.Ad,viewMode:!0,trackEvent:{category:"export"},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i,o;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.Kh)(t,(0,s.default)((0,s.default)({},n),{},{fileHandle:null}),a.files,a.getName());case 3:return i=e.sent,o=i.fileHandle,e.abrupt("return",{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},n),{},{openDialog:null,fileHandle:o,toast:{message:Pi("toast.fileSaved")}})});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",("AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)?console.error(e.t0):console.warn(e.t0),{captureUpdate:v.Wg.EVENTUALLY}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e.key===v.hg.S&&e.shiftKey&&e[v.hg.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,X.jsx)(Hi,{type:"button",icon:v.Kd,title:Pi("buttons.saveAs"),"aria-label":Pi("buttons.saveAs"),showAriaLabel:av().editor.isMobile,hidden:!v.eh,onClick:function(){return t(null)},"data-testid":"save-as-button"})}}),$l=(0,v.$c)({name:"loadScene",label:"buttons.load",trackEvent:{category:"export"},predicate:function(e,t,n,r){return!!r.props.UIOptions.canvasActions.loadScene&&!t.viewModeEnabled},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i,o,l,c;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.Lh)(n,t);case 3:return i=e.sent,o=i.elements,l=i.appState,c=i.files,e.abrupt("return",{elements:o,appState:l,files:c,captureUpdate:v.Wg.IMMEDIATELY});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return","AbortError"===(null===e.t0||void 0===e.t0?void 0:e.t0.name)?(console.warn(e.t0),!1):{elements:t,appState:(0,s.default)((0,s.default)({},n),{},{errorMessage:e.t0.message}),files:a.files,captureUpdate:v.Wg.EVENTUALLY});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.O}}),Ql=(0,v.$c)({name:"exportWithDarkMode",label:"imageExportDialog.label.darkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(e,t,n){return{appState:(0,s.default)((0,s.default)({},t),{},{exportWithDarkMode:n}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,X.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,X.jsx)(Ol,{value:t.exportWithDarkMode?v.G.DARK:v.G.LIGHT,onChange:function(e){n(e===v.G.DARK)},title:Pi("imageExportDialog.label.darkMode")})})}}),Jl="{}",es=(0,v.$c)({name:"copyStyles",label:"labels.copyStyles",icon:v.yf,trackEvent:{category:"element"},perform:function(e,t,n,r){var a=[],i=e.find((function(e){return t.selectedElementIds[e.id]}));if(a.push(i),i&&(0,v.mc)(i)){var o=(0,v.zj)(i,r.scene.getNonDeletedElementsMap());a.push(o)}return i&&(Jl=JSON.stringify(a)),{appState:(0,s.default)((0,s.default)({},t),{},{toast:{message:Pi("toast.copyStyles")}}),captureUpdate:v.Wg.EVENTUALLY}},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.C}}),ts=(0,v.$c)({name:"pasteStyles",label:"labels.pasteStyles",icon:v.yf,trackEvent:{category:"element"},perform:function(e,t,n,r){var a=JSON.parse(Jl),i=a[0],o=a[1];if(!(0,v.kc)(i))return{elements:e,captureUpdate:v.Wg.EVENTUALLY};var l=(0,v.vk)(e,t,{includeBoundTextElement:!0}),s=l.map((function(e){return e.id}));return{elements:e.map((function(e){if(s.includes(e.id)){var t,n,a,c,u,d,f,h=i;if((0,v._b)(e)&&e.containerId&&(h=o),!h)return e;var p=(0,v.Qj)(e,{backgroundColor:null===(t=h)||void 0===t?void 0:t.backgroundColor,strokeWidth:null===(n=h)||void 0===n?void 0:n.strokeWidth,strokeColor:null===(a=h)||void 0===a?void 0:a.strokeColor,strokeStyle:null===(c=h)||void 0===c?void 0:c.strokeStyle,fillStyle:null===(u=h)||void 0===u?void 0:u.fillStyle,opacity:null===(d=h)||void 0===d?void 0:d.opacity,roughness:null===(f=h)||void 0===f?void 0:f.roughness,roundness:h.roundness?(0,v.pc)(h.roundness.type,e)?h.roundness:(0,v.qc)(e):null});if((0,v._b)(p)){var U=h.fontSize||v.I,m=h.fontFamily||v.J,g=null;(p=(0,v.Qj)(p,{fontSize:U,fontFamily:m,textAlign:h.textAlign||v.K,lineHeight:h.lineHeight||(0,v.Rf)(m)})).containerId&&(g=l.find((function(e){return(0,v._b)(p)&&e.id===p.containerId}))||null),(0,v.uj)(p,g,r.scene.getNonDeletedElementsMap())}return"arrow"===p.type&&(0,v.dc)(h)&&(p=(0,v.Qj)(p,{startArrowhead:h.startArrowhead,endArrowhead:h.endArrowhead})),(0,v.bc)(e)&&(p=(0,v.Qj)(p,{roundness:null,backgroundColor:"transparent"})),p}return e})),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.V}}),ns=((0,v.$c)({name:"toggleCanvasMenu",label:"buttons.menu",trackEvent:{category:"menu"},perform:function(e,t){return{appState:(0,s.default)((0,s.default)({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,X.jsx)(Hi,{type:"button",icon:v.zd,"aria-label":Pi("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),(0,v.$c)({name:"toggleEditMenu",label:"buttons.edit",trackEvent:{category:"menu"},perform:function(e,t){return{appState:(0,s.default)((0,s.default)({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsx)(Hi,{visible:(0,v.lk)(n,(0,v.pk)(t)),type:"button",icon:v.Md,"aria-label":Pi("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),(0,v.$c)({name:"toggleShortcuts",label:"welcomeScreen.defaults.helpHint",icon:v.Cd,viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(e,t,n,r){var a,i,o=r.focusContainer;return"help"===(null===(a=t.openDialog)||void 0===a?void 0:a.name)&&o(),{appState:(0,s.default)((0,s.default)({},t),{},{openDialog:"help"===(null===(i=t.openDialog)||void 0===i?void 0:i.name)?null:{name:"help"}}),captureUpdate:v.Wg.EVENTUALLY}},keyTest:function(e){return e.key===v.hg.QUESTION_MARK}})),rs=function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});return r.length>=2&&!function(e){if(e.length>=2){var t,n=e[0].groupIds,r=(0,c.default)(n);try{var a,i=function(){var n=t.value;if(e.reduce((function(e,t){return e&&(0,v.Pc)(t,n)}),!0))return{v:!0}};for(r.s();!(t=r.n()).done;)if(a=i())return a.v}catch(o){r.e(o)}finally{r.f()}}return!1}(r)&&!(0,v.Qi)(r)},as=(0,v.$c)({name:"group",label:"labels.group",icon:function(e){return(0,X.jsx)(v.he,{theme:e.theme})},trackEvent:{category:"element"},perform:function(e,t,n,r){var a=(0,v.Di)(r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0}));if(a.length<2)return{appState:t,elements:e,captureUpdate:v.Wg.EVENTUALLY};var i=(0,v.Mc)(t);if(1===i.length){var o=i[0],l=new Set((0,v.Qc)(e,o).map((function(e){return e.id}))),c=new Set(a.map((function(e){return e.id})));if(new Set([].concat((0,p.default)(Array.from(l)),(0,p.default)(Array.from(c)))).size===l.size)return{appState:t,elements:e,captureUpdate:v.Wg.EVENTUALLY}}var u=(0,p.default)(e);new Set(a.map((function(e){return e.frameId}))).size>1&&(0,v.Ai)(a).forEach((function(e,t){(0,v.Ji)(e,r.scene.getNonDeletedElementsMap())}));var d=(0,v.sc)(),f=(0,v.xb)(a);u=u.map((function(e){return f.get(e.id)?(0,v.Qj)(e,{groupIds:(0,v.Sc)(e.groupIds,d,t.editingGroupId)}):e}));var h=(0,v.Qc)(u,d),U=h[h.length-1],m=u.lastIndexOf(U),g=u.slice(m+1),b=u.slice(0,m).filter((function(e){return!(0,v.Pc)(e,d)})),y=(0,v.Mj)([].concat((0,p.default)(b),(0,p.default)(h),(0,p.default)(g)),(0,v.xb)(h));return{appState:(0,s.default)((0,s.default)({},t),(0,v.Ic)(d,(0,s.default)((0,s.default)({},t),{},{selectedGroupIds:{}}),(0,v.pk)(u))),elements:y,captureUpdate:v.Wg.IMMEDIATELY}},predicate:function(e,t,n,r){return rs(0,t,r)},keyTest:function(e){return!e.shiftKey&&e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.G},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!rs(0,n,a),type:"button",icon:(0,X.jsx)(v.he,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(Pi("labels.group")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+G")),"aria-label":Pi("labels.group"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),is=(0,v.$c)({name:"ungroup",label:"labels.ungroup",icon:function(e){return(0,X.jsx)(v.ie,{theme:e.theme})},trackEvent:{category:"element"},perform:function(e,t,n,r){var a=(0,v.Mc)(t),i=(0,v.xb)(e);if(0===a.length)return{appState:t,elements:e,captureUpdate:v.Wg.EVENTUALLY};var o=(0,p.default)(e),l=[];o=o.map((function(e){(0,v.nc)(e)&&l.push(e.id);var n=(0,v.Tc)(e.groupIds,t.selectedGroupIds);return n.length===e.groupIds.length?e:(0,v.Qj)(e,{groupIds:n})}));var c=(0,v.Jc)(t,(0,v.pk)(o),t,null),u=r.scene.getSelectedElements(t),f=new Set(u.filter((function(e){return e.frameId})).map((function(e){return e.frameId})));return(0,v.Ci)(e).filter((function(e){return f.has(e.id)})).forEach((function(e){e&&(o=(0,v.Li)(o,(0,v.Ei)(o,e,t,i),e,r))})),c.selectedElementIds=Object.entries(c.selectedElementIds).reduce((function(e,t){var n=(0,d.default)(t,2),r=n[0];return n[1]&&!l.includes(r)&&(e[r]=!0),e}),{}),{appState:(0,s.default)((0,s.default)({},t),c),elements:o,captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e.shiftKey&&e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.G.toUpperCase()},predicate:function(e,t){return(0,v.Mc)(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,X.jsx)(Hi,{type:"button",hidden:0===(0,v.Mc)(n).length,icon:(0,X.jsx)(v.ie,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(Pi("labels.ungroup")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+Shift+G")),"aria-label":Pi("labels.ungroup"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),os=function(e,t,n,r,a,i,o){e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+a-i),e.quadraticCurveTo(t+r,n+a,t+r-i,n+a),e.lineTo(t+i,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill(),o&&(e.strokeStyle=o),e.stroke()};var ls=function(e,t){return"hsl(".concat(Math.abs(function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n);return t}((null===t||void 0===t?void 0:t.id)||e))%37*10,", 100%, 83%)")},ss=function(e){var t=e.color,n=e.onClick,r=e.name,a=e.src,i=e.className,o=function(e){var t,n=null===e||void 0===e||null===(t=e.trim())||void 0===t?void 0:t.codePointAt(0);return(n?String.fromCodePoint(n):"?").toUpperCase()}(r),l=(0,y.useState)(!1),s=(0,d.default)(l,2),c=s[0],u=s[1],f=!c&&a,h=f?void 0:{background:t};return(0,X.jsx)("div",{className:(0,ie.A)("Avatar",i),style:h,onClick:n,children:f?(0,X.jsx)("img",{className:"Avatar-img",src:a,alt:o,referrerPolicy:"no-referrer",onError:function(){return u(!0)}}):o})},cs=((0,v.$c)({name:"goToCollaborator",label:"Go to a collaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(e,t,n){var r;return!n.socketId||(null===(r=t.userToFollow)||void 0===r?void 0:r.socketId)===n.socketId||n.isCurrentUser?{appState:(0,s.default)((0,s.default)({},t),{},{userToFollow:null}),captureUpdate:v.Wg.EVENTUALLY}:{appState:(0,s.default)((0,s.default)({},t),{},{userToFollow:{socketId:n.socketId,username:n.username||""},openMenu:"canvas"===t.openMenu?null:t.openMenu}),captureUpdate:v.Wg.EVENTUALLY}},PanelComponent:function(e){var t=e.updateData,n=e.data,r=(e.appState,n.socketId),a=n.collaborator,i=n.withName,o=n.isBeingFollowed,l=ls(r,a),s=(0,ie.A)({"is-followed":o,"is-current-user":!0===a.isCurrentUser,"is-speaking":a.isSpeaking,"is-in-call":a.isInCall,"is-muted":a.isMuted}),c=a.isInCall?a.isSpeaking?(0,X.jsxs)("div",{className:"UserList__collaborator-status-icon-speaking-indicator",title:Pi("userList.hint.isSpeaking"),children:[(0,X.jsx)("div",{}),(0,X.jsx)("div",{}),(0,X.jsx)("div",{})]}):a.isMuted?(0,X.jsx)("div",{className:"UserList__collaborator-status-icon-microphone-muted",title:Pi("userList.hint.micMuted"),children:v.sf}):(0,X.jsx)("div",{title:Pi("userList.hint.inCall"),children:v.rf}):null;return i?(0,X.jsxs)("div",{className:"dropdown-menu-item dropdown-menu-item-base UserList__collaborator ".concat(s),style:{"--avatar-size":"1.5rem"},onClick:function(){return t(a)},children:[(0,X.jsx)(ss,{color:l,onClick:function(){},name:a.username||"",src:a.avatarUrl,className:s}),(0,X.jsx)("div",{className:"UserList__collaborator-name",children:a.username}),(0,X.jsxs)("div",{className:"UserList__collaborator-status-icons","aria-hidden":!0,children:[o&&(0,X.jsx)("div",{className:"UserList__collaborator-status-icon-is-followed",title:Pi("userList.hint.followStatus"),children:v.lf}),c]})]}):(0,X.jsxs)("div",{className:"UserList__collaborator UserList__collaborator--avatar-only ".concat(s),children:[(0,X.jsx)(ss,{color:l,onClick:function(){t(a)},name:a.username||"",src:a.avatarUrl,className:s}),c&&(0,X.jsx)("div",{className:"UserList__collaborator-status-icon",children:c})]})}}),(0,v.$c)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(e,t,n,r){var a,i=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),o=(0,c.default)(v.za);try{var l,u=function(){var e=a.value;if(i.some((function(t){return t.type===e})))return{v:{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},t),{},{errorMessage:Pi("errors.libraryElementTypeError.".concat(e))})}}};for(o.s();!(a=o.n()).done;)if(l=u())return l.v}catch(d){o.e(d)}finally{o.f()}return r.library.getLatestLibrary().then((function(e){return r.library.setLibrary([{id:(0,v.sc)(),status:"unpublished",elements:i.map(v.bg),created:Date.now()}].concat((0,p.default)(e)))})).then((function(){return{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},t),{},{toast:{message:Pi("toast.addedToLibrary")}})}})).catch((function(e){return{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},t),{},{errorMessage:e.message})}}))},label:"labels.addToLibrary"})),us=function(e,t,n){var r=n.axis,a=n.position,i=(0,v.cj)(e),o="x"===r?["minX","maxX"]:["minY","maxY"],c=(0,d.default)(o,2),u=c[0],f=c[1],h={x:0,y:0};return"start"===a?(0,s.default)((0,s.default)({},h),{},(0,l.default)({},r,t[u]-i[u])):"end"===a?(0,s.default)((0,s.default)({},h),{},(0,l.default)({},r,t[f]-i[f])):(0,s.default)((0,s.default)({},h),{},(0,l.default)({},r,(t[u]+t[f])/2-(i[u]+i[f])/2))},ds=function(e,t){var n=t.scene.getSelectedElements(e);return n.length>1&&!n.some((function(e){return(0,v.bc)(e)}))},fs=function(e,t,n,r){var a=function(e,t,n,r){var a=(0,v.Uc)(e,t),i=(0,v.cj)(e);return a.flatMap((function(e){var t=us(e,i,n);return e.map((function(n){var a=(0,v.Pj)(n,{x:n.x+t.x,y:n.y+t.y});return(0,v.Pg)(n,r.getNonDeletedElementsMap(),{simultaneouslyUpdated:e}),a}))}))}(n.scene.getSelectedElements(t),(0,v.xb)(e),r,n.scene),i=(0,v.xb)(a);return(0,v.Mi)(e.map((function(e){return i.get(e.id)||e})),t,n)},hs=((0,v.$c)({name:"alignTop",label:"labels.alignTop",icon:v.Zd,trackEvent:{category:"element"},predicate:function(e,t,n,r){return ds(t,r)},perform:function(e,t,n,r){return{appState:t,elements:fs(e,t,r,{position:"start",axis:"y"}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===v.hg.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!ds(n,a),type:"button",icon:v.Zd,onClick:function(){return r(null)},title:"".concat(Pi("labels.alignTop")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+Shift+Up")),"aria-label":Pi("labels.alignTop"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),(0,v.$c)({name:"alignBottom",label:"labels.alignBottom",icon:v._d,trackEvent:{category:"element"},predicate:function(e,t,n,r){return ds(t,r)},perform:function(e,t,n,r){return{appState:t,elements:fs(e,t,r,{position:"end",axis:"y"}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===v.hg.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!ds(n,a),type:"button",icon:v._d,onClick:function(){return r(null)},title:"".concat(Pi("labels.alignBottom")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+Shift+Down")),"aria-label":Pi("labels.alignBottom"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),(0,v.$c)({name:"alignLeft",label:"labels.alignLeft",icon:v.$d,trackEvent:{category:"element"},predicate:function(e,t,n,r){return ds(t,r)},perform:function(e,t,n,r){return{appState:t,elements:fs(e,t,r,{position:"start",axis:"x"}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===v.hg.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!ds(n,a),type:"button",icon:v.$d,onClick:function(){return r(null)},title:"".concat(Pi("labels.alignLeft")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+Shift+Left")),"aria-label":Pi("labels.alignLeft"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),(0,v.$c)({name:"alignRight",label:"labels.alignRight",icon:v.ae,trackEvent:{category:"element"},predicate:function(e,t,n,r){return ds(t,r)},perform:function(e,t,n,r){return{appState:t,elements:fs(e,t,r,{position:"end",axis:"x"}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key===v.hg.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!ds(n,a),type:"button",icon:v.ae,onClick:function(){return r(null)},title:"".concat(Pi("labels.alignRight")," \u2014 ").concat((0,v.kb)("CtrlOrCmd+Shift+Right")),"aria-label":Pi("labels.alignRight"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),(0,v.$c)({name:"alignVerticallyCentered",label:"labels.centerVertically",icon:v.de,trackEvent:{category:"element"},predicate:function(e,t,n,r){return ds(t,r)},perform:function(e,t,n,r){return{appState:t,elements:fs(e,t,r,{position:"center",axis:"y"}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!ds(n,a),type:"button",icon:v.de,onClick:function(){return r(null)},title:Pi("labels.centerVertically"),"aria-label":Pi("labels.centerVertically"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),(0,v.$c)({name:"alignHorizontallyCentered",label:"labels.centerHorizontally",icon:v.ee,trackEvent:{category:"element"},predicate:function(e,t,n,r){return ds(t,r)},perform:function(e,t,n,r){return{appState:t,elements:fs(e,t,r,{position:"center",axis:"x"}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!ds(n,a),type:"button",icon:v.ee,onClick:function(){return r(null)},title:Pi("labels.centerHorizontally"),"aria-label":Pi("labels.centerHorizontally"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),function(e,t){var n=t.scene.getSelectedElements(e);return n.length>1&&!n.some((function(e){return(0,v.bc)(e)}))}),ps=function(e,t,n,r){var a=function(e,t,n){var r,a="x"===n.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],i=(0,d.default)(a,4),o=i[0],l=i[1],s=i[2],u=i[3],f=(0,v.cj)(e),h=(0,v.Uc)(e,t).map((function(e){return[e,(0,v.cj)(e)]})).sort((function(e,t){return e[1][l]-t[1][l]})),p=0,U=(0,c.default)(h);try{for(U.s();!(r=U.n()).done;)p+=r.value[1][u]}catch(E){U.e(E)}finally{U.f()}var m=(f[u]-p)/(h.length-1);if(m<0){var g=h.findIndex((function(e){return e[1][o]===f[o]})),b=h.findIndex((function(e){return e[1][s]===f[s]})),y=(h[b][1][l]-h[g][1][l])/(h.length-1),x=h[g][1][l];return h.flatMap((function(e,t){var r=(0,d.default)(e,2),a=r[0],i=r[1],o={x:0,y:0};return t!==g&&t!==b&&(x+=y,o[n.axis]=x-i[l]),a.map((function(e){return(0,v.Qj)(e,{x:e.x+o.x,y:e.y+o.y})}))}))}var w=f[o];return h.flatMap((function(e){var t=(0,d.default)(e,2),r=t[0],a=t[1],i={x:0,y:0};return i[n.axis]=w-a[o],w+=m,w+=a[u],r.map((function(e){return(0,v.Qj)(e,{x:e.x+i.x,y:e.y+i.y})}))}))}(n.scene.getSelectedElements(t),n.scene.getNonDeletedElementsMap(),r),i=(0,v.xb)(a);return(0,v.Mi)(e.map((function(e){return i.get(e.id)||e})),t,n)},vs=((0,v.$c)({name:"distributeHorizontally",label:"labels.distributeHorizontally",trackEvent:{category:"element"},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{space:"between",axis:"x"}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return!e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.H},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!hs(n,a),type:"button",icon:v.be,onClick:function(){return r(null)},title:"".concat(Pi("labels.distributeHorizontally")," \u2014 ").concat((0,v.kb)("Alt+H")),"aria-label":Pi("labels.distributeHorizontally"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),(0,v.$c)({name:"distributeVertically",label:"labels.distributeVertically",trackEvent:{category:"element"},perform:function(e,t,n,r){return{appState:t,elements:ps(e,t,r,{space:"between",axis:"y"}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return!e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.V},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=e.app;return(0,X.jsx)(Hi,{hidden:!hs(n,a),type:"button",icon:v.ce,onClick:function(){return r(null)},title:"".concat(Pi("labels.distributeVertically")," \u2014 ").concat((0,v.kb)("Alt+V")),"aria-label":Pi("labels.distributeVertically"),visible:(0,v.tk)((0,v.pk)(t),n)})}}),(0,v.$c)({name:"flipHorizontal",label:"labels.flipHorizontal",icon:v.xf,trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:(0,v.Mi)(ms(e,r.scene.getNonDeletedElementsMap(),t,"horizontal",r),t,r),appState:t,captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e.shiftKey&&e.code===v.gg.H}})),Us=(0,v.$c)({name:"flipVertical",label:"labels.flipVertical",icon:v.wf,trackEvent:{category:"element"},perform:function(e,t,n,r){return{elements:(0,v.Mi)(ms(e,r.scene.getNonDeletedElementsMap(),t,"vertical",r),t,r),appState:t,captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e){return e.shiftKey&&e.code===v.gg.V&&!e[v.hg.CTRL_OR_CMD]}}),ms=function(e,t,n,r,a){var i=(0,v.vk)((0,v.pk)(e),n,{includeBoundTextElement:!0,includeElementsInFrames:!0}),o=gs(i,t,n,r,a),l=(0,v.xb)(o);return e.map((function(e){return l.get(e.id)||e}))},gs=function(e,t,n,r,a){if(e.every((function(e){return(0,v.dc)(e)&&(e.startBinding||e.endBinding)})))return e.map((function(e){var t=e;return(0,v.Qj)(t,{startArrowhead:t.endArrowhead,endArrowhead:t.startArrowhead})}));var i=(0,v.cj)(e),o=i.midX,l=i.midY;(0,v.hk)(e,t,"nw",a.scene,new Map(Array.from(t.values()).map((function(e){return[e.id,(0,v.bg)(e)]}))),{flipByX:"horizontal"===r,flipByY:"vertical"===r,shouldResizeFromCenter:!0,shouldMaintainAspectRatio:!0}),(0,v.Jg)(e.filter(v.cc),t,a.scene.getNonDeletedElements(),a.scene,(0,v.Fg)(n),[],n.zoom);var c=e.reduce((function(e,t){return(0,v.ec)(t)?(0,s.default)((0,s.default)({},e),{},{elbowArrows:e.elbowArrows.concat(t)}):(0,s.default)((0,s.default)({},e),{},{otherElements:e.otherElements.concat(t)})}),{elbowArrows:[],otherElements:[]}),u=c.elbowArrows,d=c.otherElements,f=(0,v.cj)(e),h=f.midX,p=f.midY,U=o-h,m=l-p;return d.forEach((function(e){return(0,v.Pj)(e,{x:e.x+U,y:e.y+m})})),u.forEach((function(e){return(0,v.Pj)(e,{x:e.x+U,y:e.y+m})})),e},bs=(0,v.$c)({name:"copy",label:"labels.copy",icon:v.wd,trackEvent:{category:"element"},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),e.prev=1,e.next=4,(0,v.ki)(i,a.files,r);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},n),{},{errorMessage:e.t0.message})});case 9:return e.abrupt("return",{captureUpdate:v.Wg.EVENTUALLY});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:void 0}),ys=(0,v.$c)({name:"paste",label:"labels.paste",trackEvent:{category:"element"},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.li)();case 3:i=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","AbortError"!==e.t0.name&&"NotAllowedError"!==e.t0.name&&(console.error("actionPaste ".concat(e.t0.name,": ").concat(e.t0.message)),v.n?{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},n),{},{errorMessage:Pi("hints.firefox_clipboard_write")})}:{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},n),{},{errorMessage:Pi("errors.asyncPasteFailedOnRead")})}));case 9:e.prev=9,a.pasteFromClipboard((0,v.ji)({types:i})),e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(9),e.abrupt("return",(console.error(e.t1),{captureUpdate:v.Wg.EVENTUALLY,appState:(0,s.default)((0,s.default)({},n),{},{errorMessage:Pi("errors.asyncPasteFailedOnParse")})}));case 16:return e.abrupt("return",{captureUpdate:v.Wg.EVENTUALLY});case 17:case"end":return e.stop()}}),e,null,[[0,6],[9,13]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),keyTest:void 0}),xs=(0,v.$c)({name:"cut",label:"labels.cut",icon:v.$e,trackEvent:{category:"element"},perform:function(e,t,n,r){return bs.perform(e,t,n,r),Xi.perform(e,t,null,r)},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.X}}),ws=(0,v.$c)({name:"copyAsSvg",label:"labels.copyAsSvg",icon:v.Af,trackEvent:{category:"element"},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i,o,l,c;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{captureUpdate:v.Wg.EVENTUALLY});case 2:return i=Bl(t,n,!0),o=i.exportedElements,l=i.exportingFrame,e.prev=3,e.next=6,Hl("clipboard-svg",o,n,a.files,(0,s.default)((0,s.default)({},n),{},{exportingFrame:l,name:a.getName()}));case 6:return c=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),e.abrupt("return",{appState:{toast:{message:Pi("toast.copyToClipboardAsSvg",{exportSelection:c.length?Pi("toast.selection"):Pi("toast.canvas"),exportColorScheme:n.exportWithDarkMode?Pi("buttons.darkMode"):Pi("buttons.lightMode")})}},captureUpdate:v.Wg.EVENTUALLY});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",(console.error(e.t0),{appState:{errorMessage:e.t0.message},captureUpdate:v.Wg.EVENTUALLY}));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e){return v.hi&&e.length>0},keywords:["svg","clipboard","copy"]}),Es=(0,v.$c)({name:"copyAsPng",label:"labels.copyAsPng",icon:v.Bf,trackEvent:{category:"element"},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i,o,l,c;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.canvas){e.next=2;break}return e.abrupt("return",{captureUpdate:v.Wg.EVENTUALLY});case 2:return i=a.scene.getSelectedElements({selectedElementIds:n.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),o=Bl(t,n,!0),l=o.exportedElements,c=o.exportingFrame,e.prev=3,e.next=6,Hl("clipboard",l,n,a.files,(0,s.default)((0,s.default)({},n),{},{exportingFrame:c,name:a.getName()}));case 6:return e.abrupt("return",{appState:(0,s.default)((0,s.default)({},n),{},{toast:{message:Pi("toast.copyToClipboardAsPng",{exportSelection:i.length?Pi("toast.selection"):Pi("toast.canvas"),exportColorScheme:n.exportWithDarkMode?Pi("buttons.darkMode"):Pi("buttons.lightMode")})}}),captureUpdate:v.Wg.EVENTUALLY});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",(console.error(e.t0),{appState:(0,s.default)((0,s.default)({},n),{},{errorMessage:e.t0.message}),captureUpdate:v.Wg.EVENTUALLY}));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e){return v.ii&&e.length>0},keyTest:function(e){return e.code===v.gg.C&&e.altKey&&e.shiftKey},keywords:["png","clipboard","copy"]}),ks=(0,v.$c)({name:"copyText",label:"labels.copyText",trackEvent:{category:"element"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0});try{(0,v.oi)((0,v.Jj)(a))}catch(i){throw new Error(Pi("errors.copyToSystemClipboardFailed"))}return{captureUpdate:v.Wg.EVENTUALLY}},predicate:function(e,t,n,r){return v.hi&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0}).some(v._b)},keywords:["text","clipboard","copy"]}),Ss=(0,v.$c)({name:"gridMode",icon:v.Gf,keywords:["snap"],label:"labels.toggleGrid",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return e.gridModeEnabled}},perform:function(e,t){return{appState:(0,s.default)((0,s.default)({},t),{},{gridModeEnabled:!this.checked(t),objectsSnapModeEnabled:!1}),captureUpdate:v.Wg.EVENTUALLY}},checked:function(e){return e.gridModeEnabled},predicate:function(e,t,n){return void 0===n.gridModeEnabled},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.code===v.gg.QUOTE}}),Ms=(0,v.$c)({name:"zenMode",label:"buttons.zenMode",icon:v.Df,paletteName:"Toggle zen mode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.zenModeEnabled}},perform:function(e,t){return{appState:(0,s.default)((0,s.default)({},t),{},{zenModeEnabled:!this.checked(t)}),captureUpdate:v.Wg.EVENTUALLY}},checked:function(e){return e.zenModeEnabled},predicate:function(e,t,n){return typeof n.zenModeEnabled>"u"},keyTest:function(e){return!e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.Z}}),Cs=(0,v.$c)({name:"objectsSnapMode",label:"buttons.objectsSnapMode",icon:v.Cf,viewMode:!1,trackEvent:{category:"canvas",predicate:function(e){return!e.objectsSnapModeEnabled}},perform:function(e,t){return{appState:(0,s.default)((0,s.default)({},t),{},{objectsSnapModeEnabled:!this.checked(t),gridModeEnabled:!1}),captureUpdate:v.Wg.EVENTUALLY}},checked:function(e){return e.objectsSnapModeEnabled},predicate:function(e,t,n){return typeof n.objectsSnapModeEnabled>"u"},keyTest:function(e){return!e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.S}}),Is=(0,v.$c)({name:"stats",label:"stats.fullTitle",icon:v.vf,paletteName:"Toggle stats",viewMode:!0,trackEvent:{category:"menu"},keywords:["edit","attributes","customize"],perform:function(e,t){return{appState:(0,s.default)((0,s.default)({},t),{},{stats:(0,s.default)((0,s.default)({},t.stats),{},{open:!this.checked(t)})}),captureUpdate:v.Wg.EVENTUALLY}},checked:function(e){return e.stats.open},keyTest:function(e){return!e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.SLASH}}),js=(0,v.$c)({name:"unbindText",label:"labels.unbindText",trackEvent:{category:"element"},predicate:function(e,t,n,r){return r.scene.getSelectedElements(t).some((function(e){return(0,v.mc)(e)}))},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t),i=r.scene.getNonDeletedElementsMap();return a.forEach((function(e){var t=(0,v.zj)(e,i);if(t){var n,r=(0,v.vc)(t.originalText,(0,v.cb)(t),t.lineHeight),a=r.width,o=r.height,l=(0,v.tj)(e.id);(0,v.sj)(e.id);var s=(0,v.xj)(e,t,i),c=s.x,u=s.y;(0,v.Pj)(t,{containerId:null,width:a,height:o,text:t.originalText,x:c,y:u}),(0,v.Pj)(e,{boundElements:null===(n=e.boundElements)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id})),height:l||e.height})}})),{elements:e,appState:t,captureUpdate:v.Wg.IMMEDIATELY}}}),Ts=(0,v.$c)({name:"bindText",label:"labels.bindText",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);if(2===a.length){var i,o=(0,v._b)(a[0])||(0,v._b)(a[1]);if((0,v.jc)(a[0])?i=a[0]:(0,v.jc)(a[1])&&(i=a[1]),o&&i&&null===(0,v.zj)(i,r.scene.getNonDeletedElementsMap()))return!0}return!1},perform:function(e,t,n,r){var a,i,o=r.scene.getSelectedElements(t);(0,v._b)(o[0])&&(0,v.jc)(o[1])?(a=o[0],i=o[1]):(a=o[1],i=o[0]),(0,v.Pj)(a,{containerId:i.id,verticalAlign:v.sa.MIDDLE,textAlign:v.ta.CENTER,autoResize:!0}),(0,v.Pj)(i,{boundElements:(i.boundElements||[]).concat({type:"text",id:a.id})});var c=i.height;return(0,v.uj)(a,i,r.scene.getNonDeletedElementsMap()),(0,v.rj)(i.id,c),{elements:As(e,i,a),appState:(0,s.default)((0,s.default)({},t),{},{selectedElementIds:(0,l.default)({},i.id,!0)}),captureUpdate:v.Wg.IMMEDIATELY}}}),As=function(e,t,n){var r=e.slice(),a=r.findIndex((function(e){return e.id===n.id}));r.splice(a,1);var i=r.findIndex((function(e){return e.id===t.id}));return r.splice(i+1,0,n),(0,v.Mj)(r,(0,v.xb)([t,n])),r},Ds=(0,v.$c)({name:"wrapTextInContainer",label:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t),i=a.every((function(e){return(0,v._b)(e)}));return a.length>0&&i},perform:function(e,t,n,r){var a,i=r.scene.getSelectedElements(t),o=e.slice(),l={},u=(0,c.default)(i);try{var d=function(){var e=a.value;if((0,v._b)(e)){var n,i=(0,v.Sf)({type:"rectangle",backgroundColor:t.currentItemBackgroundColor,boundElements:[].concat((0,p.default)(e.boundElements||[]),[{id:e.id,type:"text"}]),angle:e.angle,fillStyle:t.currentItemFillStyle,strokeColor:t.currentItemStrokeColor,roughness:t.currentItemRoughness,strokeWidth:t.currentItemStrokeWidth,strokeStyle:t.currentItemStrokeStyle,roundness:"round"===t.currentItemRoundness?{type:(0,v.oc)("rectangle")?v.ua.ADAPTIVE_RADIUS:v.ua.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:e.x-v.ra,y:e.y-v.ra,width:(0,v.Gj)(e.width,"rectangle"),height:(0,v.Gj)(e.height,"rectangle"),groupIds:e.groupIds,frameId:e.frameId});if(null!==(n=e.boundElements)&&void 0!==n&&n.length){var c=e.boundElements.filter((function(e){return"arrow"===e.type})).map((function(e){return e.id}));o.filter((function(e){return c.includes(e.id)})).forEach((function(t){var n,r,a=t.startBinding,o=t.endBinding;(null===(n=a)||void 0===n?void 0:n.elementId)===e.id&&(a=(0,s.default)((0,s.default)({},a),{},{elementId:i.id})),(null===(r=o)||void 0===r?void 0:r.elementId)===e.id&&(o=(0,s.default)((0,s.default)({},o),{},{elementId:i.id})),(a||o)&&(0,v.Pj)(t,{startBinding:a,endBinding:o},!1)}))}(0,v.Pj)(e,{containerId:i.id,verticalAlign:v.sa.MIDDLE,boundElements:null,textAlign:v.ta.CENTER,autoResize:!0},!1),(0,v.uj)(e,i,r.scene.getNonDeletedElementsMap()),o=function(e,t,n){var r=e.slice(),a=r.findIndex((function(e){return e.id===t.id}));r.splice(a,1);var i=r.findIndex((function(e){return e.id===n.id}));return r.splice(i,0,t),(0,v.Mj)(r,(0,v.xb)([t,n])),r}([].concat((0,p.default)(o),[i]),i,e),l[i.id]=!0}};for(u.s();!(a=u.n()).done;)d()}catch(f){u.e(f)}finally{u.f()}return{elements:o,appState:(0,s.default)((0,s.default)({},t),{},{selectedElementIds:l}),captureUpdate:v.Wg.IMMEDIATELY}}}),_s=!1,Ls=new Map,Rs=function(e){var t=e.element,n=e.elementsMap,r=e.setAppState,a=e.onLinkOpen,i=e.setToast,o=e.updateEmbedValidationStatus,l=lv(),c=rv(),u=av(),f=t.link||"",h=(0,y.useState)(f),p=(0,d.default)(h,2),U=p[0],m=p[1],g=(0,y.useRef)(null),b="editor"===l.showHyperlinkPopup,x=(0,y.useCallback)((function(){if(g.current){var e=(0,v.Xc)(g.current.value)||null;if(!t.link&&e&&ho("hyperlink","create"),(0,v.Xb)(t)){var n;if((null===(n=l.activeEmbeddable)||void 0===n?void 0:n.element)===t&&r({activeEmbeddable:null}),!e)return(0,v.Pj)(t,{link:null}),void o(t,!1);if((0,v.$g)(e,c.validateEmbeddable)){var a=t.width,u=t.height,d=(0,v.Zg)(e);(null===d||void 0===d?void 0:d.error)instanceof URIError&&i({message:Pi("toast.unrecognizedLinkFormat"),closable:!0});var f=d?d.intrinsicSize.w/d.intrinsicSize.h:1,h=Ls.get(t.id)!==t.link;(0,v.Pj)(t,(0,s.default)((0,s.default)({},h?{width:"video"===(null===d||void 0===d?void 0:d.type)?a>u?a:u*f:a,height:"video"===(null===d||void 0===d?void 0:d.type)&&a>u?a/f:u}:{}),{},{link:e})),o(t,!0),Ls.has(t.id)&&Ls.delete(t.id)}else e&&i({message:Pi("toast.unableToEmbed"),closable:!0}),t.link&&Ls.set(t.id,t.link),(0,v.Pj)(t,{link:e}),o(t,!1)}else(0,v.Pj)(t,{link:e})}}),[t,i,c.validateEmbeddable,l.activeEmbeddable,r,o]);(0,y.useLayoutEffect)((function(){return function(){x()}}),[x]),(0,y.useEffect)((function(){b&&(null===g||void 0===g?void 0:g.current)&&!u.viewport.isMobile&&!u.isTouchScreen&&g.current.select()}),[b,u.viewport.isMobile,u.isTouchScreen]),(0,y.useEffect)((function(){var e=null,a=function(a){b||(e&&clearTimeout(e),Bs(t,n,l,(0,v.Ua)(a.clientX,a.clientY))&&(e=window.setTimeout((function(){r({showHyperlinkPopup:!1})}),500)))};return window.addEventListener("pointermove",a,!1),function(){window.removeEventListener("pointermove",a,!1),e&&clearTimeout(e)}}),[l,t,b,r,n]);var w=(0,y.useCallback)((function(){ho("hyperlink","delete"),(0,v.Pj)(t,{link:null}),r({showHyperlinkPopup:!1})}),[r,t]),E=Ps(t,l,n),k=E.x,S=E.y;return l.contextMenu||l.selectedElementsAreBeingDragged||l.resizingElement||l.isRotating||l.openMenu||l.viewModeEnabled?null:(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(S,"px"),left:"".concat(k,"px"),width:380,padding:5},children:[b?(0,X.jsx)("input",{className:(0,ie.A)("excalidraw-hyperlinkContainer-input"),placeholder:Pi("labels.link.hint"),ref:g,value:U,onChange:function(e){return m(e.target.value)},autoFocus:!0,onKeyDown:function(e){e.stopPropagation(),e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.K&&e.preventDefault(),(e.key===v.hg.ENTER||e.key===v.hg.ESCAPE)&&(x(),r({showHyperlinkPopup:"info"}))}}):t.link?(0,X.jsx)("a",{href:(0,v.Xc)(t.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,v.Yc)(t.link)?"_self":"_blank",onClick:function(e){if(t.link&&a){var n=(0,v.Cb)("excalidraw-link",e.nativeEvent);a((0,s.default)((0,s.default)({},t),{},{link:(0,v.Xc)(t.link)}),n),n.defaultPrevented&&e.preventDefault()}},rel:"noopener noreferrer",children:t.link}):(0,X.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:Pi("labels.link.empty")}),(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!b&&(0,X.jsx)(Hi,{type:"button",title:Pi("buttons.edit"),"aria-label":Pi("buttons.edit"),label:Pi("buttons.edit"),onClick:function(){ho("hyperlink","edit","popup-ui"),r({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:v.pd}),(0,X.jsx)(Hi,{type:"button",title:Pi("labels.linkToElement"),"aria-label":Pi("labels.linkToElement"),label:Pi("labels.linkToElement"),onClick:function(){r({openDialog:{name:"elementLinkSelector",sourceElementId:t.id}})},icon:v.Pf}),f&&!(0,v.Xb)(t)&&(0,X.jsx)(Hi,{type:"button",title:Pi("buttons.remove"),"aria-label":Pi("buttons.remove"),label:Pi("buttons.remove"),onClick:w,className:"excalidraw-hyperlinkContainer--remove",icon:v.ud})]})]})},Ps=function(e,t,n){var r=(0,v.aj)(e,n),a=(0,d.default)(r,2),i=a[0],o=a[1],l=(0,v.mb)({sceneX:i+e.width/2,sceneY:o},t),s=l.x,c=l.y;return{x:s-t.offsetLeft-190,y:c-t.offsetTop-85}},Ns=function(e,t){var n,r=(0,v.vk)(e,t);return(0,v.Xb)(r[0])?"labels.link.editEmbed":null!==(n=r[0])&&void 0!==n&&n.link?"labels.link.edit":"labels.link.create"},Fs=null,Os=function(e,t,n){if(e.link){var r=Ml();r.classList.add("excalidraw-tooltip--visible"),r.style.maxWidth="20rem",r.textContent=(0,v.$h)(e.link)?Pi("labels.link.goToElement"):e.link;var a=(0,v.aj)(e,n),i=(0,d.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],u=(0,v.Sh)([o,l,s,c],e.angle,t),f=(0,d.default)(u,4),h=f[0],p=f[1],U=f[2],m=f[3],g=(0,v.mb)({sceneX:h,sceneY:p},t);Cl(r,{left:g.x,top:g.y,width:U,height:m},"top"),ho("hyperlink","tooltip","link-icon"),_s=!0}},zs=function(){Fs&&clearTimeout(Fs),_s&&(_s=!1,Ml().classList.remove("excalidraw-tooltip--visible"))},Bs=function(e,t,n,r){var a=(0,d.default)(r,2),i=a[0],o=a[1],l=(0,v.lb)({clientX:i,clientY:o},n),s=l.x,c=l.y,u=15/n.zoom.value;if((0,v.og)(s,c,e,t))return!1;var f=(0,v.aj)(e,t),h=(0,d.default)(f,3),p=h[0],U=h[1],m=h[2];if(s>=p&&s<=m&&c>=U-85&&c<=U)return!1;var g=Ps(e,n,t),b=g.x,y=g.y;return!(i>=b-u&&i<=b+380+10+u&&o>=y-u&&o<=y+u+10+42)},Hs=(0,v.$c)({name:"hyperlink",label:function(e,t){return Ns(e,t)},icon:v.Id,perform:function(e,t){return"editor"!==t.showHyperlinkPopup&&{elements:e,appState:(0,s.default)((0,s.default)({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),captureUpdate:v.Wg.IMMEDIATELY}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.K},predicate:function(e,t){return 1===(0,v.vk)(e,t).length},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,a=(0,v.vk)(t,n);return(0,X.jsx)(Hi,{type:"button",icon:v.Id,"aria-label":Pi(Ns(t,n)),title:"".concat((0,v.Xb)(t[0])?Pi("labels.link.labelEmbed"):Pi("labels.link.label")," - ").concat((0,v.kb)("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:1===a.length&&!!a[0].link})}}),Ws=function(e){return e.every((function(e){return!e.locked}))},Xs=(0,v.$c)({name:"toggleElementLock",label:function(e,t,n){var r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1});return 1!==r.length||(0,v.bc)(r[0])?Ws(r)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll":r[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock"},icon:function(e,t){var n=(0,v.vk)(t,e);return Ws(n)?v.kd:v.jd},trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return a.length>0&&!a.some((function(e){return e.locked&&e.frameId}))},perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!a.length)return!1;var i=Ws(a),o=(0,v.xb)(a);return{elements:e.map((function(e){return o.has(e.id)?(0,v.Qj)(e,{locked:i}):e})),appState:(0,s.default)((0,s.default)({},t),{},{selectedLinearElement:i?null:t.selectedLinearElement}),captureUpdate:v.Wg.IMMEDIATELY}},keyTest:function(e,t,n,r){return e.key.toLocaleLowerCase()===v.hg.L&&e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1}).length>0}}),Vs=(0,v.$c)({name:"unlockAllElements",paletteName:"Unlock all elements",trackEvent:{category:"canvas"},viewMode:!1,icon:v.jd,predicate:function(e,t){return 0===(0,v.vk)(e,t).length&&e.some((function(e){return e.locked}))},perform:function(e,t){var n=e.filter((function(e){return e.locked}));return{elements:e.map((function(e){return e.locked?(0,v.Qj)(e,{locked:!1}):e})),appState:(0,s.default)((0,s.default)({},t),{},{selectedElementIds:Object.fromEntries(n.map((function(e){return[e.id,!0]})))}),captureUpdate:v.Wg.IMMEDIATELY}},label:"labels.elementLock.unlockAll"}),Gs=function(e){var t=e.closeOnClickOutside,n=void 0===t||t,r=Lo({className:"excalidraw-modal-container"}),a=(0,y.useRef)(document.body.classList.contains("excalidraw-animations-disabled"));if(!r)return null;return(0,oe.createPortal)((0,X.jsxs)("div",{className:(0,ie.A)("Modal",e.className,{"animations-disabled":a.current}),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===v.hg.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,"data-prevent-outside-click":!0,children:[(0,X.jsx)("div",{className:"Modal__background",onClick:n?e.onCloseRequest:void 0}),(0,X.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),r)},Ys=E(new Map),Zs=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.ri)({elements:t,appState:{exportBackground:!1,viewBackgroundColor:v.e.white},files:null,renderEmbeddables:!1,skipInliningFonts:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ks=function(){var e=wi(Ys),t=(0,d.default)(e,1)[0];return{clearLibraryCache:function(){return t.clear()},deleteItemsFromLibraryCache:function(e){e.forEach((function(e){return t.delete(e)}))},svgCache:t}},qs=function(){return(0,o.default)((function e(){(0,i.default)(this,e),(0,b.d)(this,"jobs",[]),(0,b.d)(this,"running",!1)}),[{key:"tick",value:function(){var e=this;if(!this.running){var t=this.jobs.shift();t?(this.running=!0,t.promise.resolve(v.Tb.apply(void 0,[t.jobFactory].concat((0,p.default)(t.args))).finally((function(){e.running=!1,e.tick()})))):this.running=!1}}},{key:"push",value:function(e){for(var t=(0,v.tb)(),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return this.jobs.push({jobFactory:e,promise:t,args:r}),this.tick(),t}}])}(),$s=["excalidraw.com","raw.githubusercontent.com/excalidraw/excalidraw-libraries"],Qs=new v.Vg,Js=E({status:"loaded",isInitialized:!1,libraryItems:[]}),ec=function(e){return(0,v.Nb)(e)},tc=function(e,t){return!e.find((function(e){return e.elements.length===t.elements.length&&e.elements.every((function(e,n){return e.id===t.elements[n].id&&e.versionNonce===t.elements[n].versionNonce}))}))},nc=function(e,t){var n,r=[],a=(0,c.default)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;tc(e,i)&&r.push(i)}}catch(o){a.e(o)}finally{a.f()}return[].concat(r,(0,p.default)(e))},rc=function(e,t){var n,r=(0,v.xb)(t),a={deletedItems:new Map,addedItems:new Map},i=(0,c.default)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.has(o.id)||a.deletedItems.set(o.id,o)}}catch(f){i.e(f)}finally{i.f()}var l,s=(0,v.xb)(e),u=(0,c.default)(t);try{for(u.s();!(l=u.n()).done;){var d=l.value;s.has(d.id)||a.addedItems.set(d.id,d)}}catch(f){u.e(f)}finally{u.f()}return a},ac=(0,o.default)((function e(t){var n=this;(0,i.default)(this,e),(0,b.d)(this,"currLibraryItems",[]),(0,b.d)(this,"prevLibraryItems",ec(this.currLibraryItems)),(0,b.d)(this,"app"),(0,b.d)(this,"updateQueue",[]),(0,b.d)(this,"getLastUpdateTask",(function(){return n.updateQueue[n.updateQueue.length-1]})),(0,b.d)(this,"notifyListeners",(function(){if(n.updateQueue.length>0)Mi.set(Js,(function(e){return{status:"loading",libraryItems:n.currLibraryItems,isInitialized:e.isInitialized}}));else{Mi.set(Js,{status:"loaded",libraryItems:n.currLibraryItems,isInitialized:!0});try{var e,r,a=n.prevLibraryItems;n.prevLibraryItems=ec(n.currLibraryItems);var i=ec(n.currLibraryItems);null!==(e=(r=n.app.props).onLibraryChange)&&void 0!==e&&e.call(r,i),Qs.trigger(rc(a,i),i)}catch(t){console.error(t)}}})),(0,b.d)(this,"destroy",(function(){n.updateQueue=[],n.currLibraryItems=[],Mi.set(Ys,new Map)})),(0,b.d)(this,"resetLibrary",(function(){return n.setLibrary([])})),(0,b.d)(this,"getLatestLibrary",(function(){return new Promise(function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var r;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getLastUpdateTask()||n.currLibraryItems;case 3:r=e.sent,n.updateQueue.length>0?t(n.getLatestLibrary()):t(ec(r)),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",t(n.currLibraryItems));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())})),(0,b.d)(this,"updateLibrary",function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var r,a,i,o,l,s,c,u,d;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.libraryItems,a=t.prompt,i=void 0!==a&&a,o=t.merge,l=void 0!==o&&o,s=t.openLibraryMenu,c=void 0!==s&&s,u=t.defaultStatus,d=void 0===u?"unpublished":u,e.abrupt("return",(c&&n.app.setState({openSidebar:{name:v.ya.name,tab:v.wa}}),n.setLibrary((function(){return new Promise(function(){var e=(0,h.default)((0,f.default)().mark((function e(t,a){var o,s;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,"function"!=typeof r||r instanceof Blob?r:r(n.currLibraryItems);case 3:if(!((o=e.sent)instanceof Blob)){e.next=10;break}return e.next=7,(0,v.xh)(o,d);case 7:s=e.sent,e.next=11;break;case 10:s=(0,v.mh)(o,d);case 11:!i||window.confirm(Pi("alerts.confirmAddLibrary",{numShapes:s.length}))?(i&&n.app.focusContainer(),t(l?nc(n.currLibraryItems,s):s)):a(new v.tc),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,b.d)(this,"setLibrary",(function(e){var t=new Promise(function(){var t=(0,h.default)((0,f.default)().mark((function t(r,a){return(0,f.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.getLastUpdateTask();case 3:return"function"==typeof e&&(e=e(n.currLibraryItems)),t.t0=ec,t.next=7,e;case 7:t.t1=t.sent,n.currLibraryItems=(0,t.t0)(t.t1),r(n.currLibraryItems),t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),a(t.t2);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()).catch((function(e){if("AbortError"===e.name)return console.warn("Library update aborted by user"),n.currLibraryItems;throw e})).finally((function(){n.updateQueue=n.updateQueue.filter((function(e){return e!==t})),n.notifyListeners()}));return n.updateQueue.push(t),n.notifyListeners(),t})),this.app=t})),ic=ac,oc=function(e){var t,n=Math.ceil(Math.sqrt(e.length)),r=[],a=0,i=0,o=0,l=0,u=0,d=0,f=0,h=(0,c.default)(e);try{var U=function(){var h=t.value;u&&u%n===0&&(i+=o+50,a=0,d=0,f++),0===d&&(o=function(t){return e.slice(t*n,t*n+n).reduce((function(e,t){var n=(0,v.cj)(t.elements).height;return Math.max(e,n)}),0)}(f)),l=function(t){var r,a=0,i=0,o=0,l=(0,c.default)(e);try{for(l.s();!(r=l.n()).done;){var s=r.value;if(a%n===0&&(i=0),i===t){var u=(0,v.cj)(s.elements).width;o=Math.max(o,u)}a++,i++}}catch(d){l.e(d)}finally{l.f()}return o}(d);var U=(0,v.cj)(h.elements),m=U.minX,g=U.minY,b=U.width,y=U.height,x=(l-b)/2,w=(o-y)/2;r.push.apply(r,(0,p.default)(h.elements.map((function(e){return(0,s.default)((0,s.default)({},e),{},{x:e.x+a+x-m,y:e.y+i+w-g})})))),a+=l+50,u++,d++};for(h.s();!(t=h.n()).done;)U()}catch(m){h.e(m)}finally{h.f()}return r},lc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$s;if("function"==typeof t?t(e):t.some((function(t){var n=new URL("https://".concat(t.replace(/^https?:\/\//,""))),r=new URL(e),a=r.hostname,i=r.pathname;return new RegExp("(^|\\.)".concat(n.hostname,"$")).test(a)&&new RegExp("^".concat(n.pathname.replace(/\/+$/,""),"(/+|$)")).test(i)})))return!0;throw new Error('Invalid or disallowed library URL: "'.concat(e,'"'))},sc=function(){var e=new URLSearchParams(window.location.hash.slice(1)).get(v.fa.addLibrary)||new URLSearchParams(window.location.search).get(v.ea.addLibrary),t=e?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return e?{libraryUrl:e,idToken:t}:null},cc=function(){function e(t){(0,i.default)(this,e),(0,b.d)(this,"adapter"),this.adapter=t}return(0,o.default)(e,[{key:"getLibraryItems",value:function(t){return e.getLibraryItems(this.adapter,t,!1)}}],[{key:"getLibraryItems",value:function(){var t=(0,h.default)((0,f.default)().mark((function t(n,r){var a,i,o=arguments;return(0,f.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!(o.length>2&&void 0!==o[2])||o[2],i=function(){return new Promise(function(){var e=(0,h.default)((0,f.default)().mark((function e(t,a){var i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.load({source:r});case 3:i=e.sent,t((0,v.mh)((null===i||void 0===i?void 0:i.libraryItems)||[],"published")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())},t.abrupt("return",a?e.queue.push(i):i());case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}])}();(0,b.d)(cc,"queue",new qs),(0,b.d)(cc,"run",function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n){var r;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new cc(t),e.abrupt("return",cc.queue.push((function(){return n(r)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var uc=cc,dc=0,fc=0,hc=function(e){return(0,v.ok)(e.map((function(e){return"".concat(e.id,":").concat((0,v.nk)(e.elements))})).sort().join())},pc=function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,fc++,e.next=4,uc.run(t,function(){var e=(0,h.default)((0,f.default)().mark((function e(r){var a,i,o,l,s,u,h,p,U,m,g,b,y;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v.xb,e.next=3,r.getLibraryItems("save");case 3:e.t1=e.sent,a=(0,e.t0)(e.t1),i=(0,c.default)(n.deletedItems);try{for(i.s();!(o=i.n()).done;)l=(0,d.default)(o.value,1),s=l[0],a.delete(s)}catch(f){i.e(f)}finally{i.f()}u=[],h=(0,c.default)(n.addedItems);try{for(h.s();!(p=h.n()).done;)U=(0,d.default)(p.value,2),m=U[0],g=U[1],a.has(m)?a.set(m,g):u.push(g)}catch(f){h.e(f)}finally{h.f()}if(b=u.concat(Array.from(a.values())),y=hc(b),e.t2=y!==dc,!e.t2){e.next=15;break}return e.next=15,t.save({libraryItems:b});case 15:return dc=y,e.abrupt("return",b);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,fc--,e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(t,n){return e.apply(this,arguments)}}(),vc=function(e){var t=e.excalidrawAPI,n=(0,y.useRef)(e);n.current=e;var r=(0,y.useRef)(!1);(0,y.useEffect)((function(){if(t){r.current=!1;var e=function(){var e=(0,h.default)((0,f.default)().mark((function e(r){var a,i,o,l,s,c;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.libraryUrl,i=r.idToken,o=new Promise(function(){var e=(0,h.default)((0,f.default)().mark((function e(t,r){var i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=decodeURIComponent(a),a=(0,v.Zc)(a),lc(a,n.current.validateLibraryUrl),e.next=4,fetch(a);case 4:return e.next=6,e.sent.blob();case 6:i=e.sent,t(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),l=i!==t.id,e.next=4,l&&document.hidden?new Promise((function(e){window.addEventListener("focus",(function(){return e()}),{once:!0})})):null;case 4:return e.prev=4,e.next=7,t.updateLibrary({libraryItems:o,prompt:l,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(4),t.updateScene({appState:{errorMessage:e.t0.message}}),e.t0;case 12:return e.prev=12,window.location.hash.includes(v.fa.addLibrary)?((s=new URLSearchParams(window.location.hash.slice(1))).delete(v.fa.addLibrary),window.history.replaceState({},v.s,"#".concat(s.toString()))):window.location.search.includes(v.ea.addLibrary)&&((c=new URLSearchParams(window.location.search)).delete(v.ea.addLibrary),window.history.replaceState({},v.s,"?".concat(c.toString()))),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[4,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),a=function(t){t.preventDefault();var n=sc();n&&(t.stopImmediatePropagation(),window.history.replaceState({},"",t.oldURL),e(n))},i=sc();if(i&&e(i),"getInitialLibraryItems"in n.current&&n.current.getInitialLibraryItems&&(console.warn("useHandleLibrar `opts.getInitialLibraryItems` is deprecated. Use `opts.adapter` instead."),Promise.resolve(n.current.getInitialLibraryItems()).then((function(e){t.updateLibrary({libraryItems:e,merge:!0})})).catch((function(e){console.error("UseHandeLibrary getInitialLibraryItems failed: ".concat(null===e||void 0===e?void 0:e.message))}))),"adapter"in n.current&&n.current.adapter){var o=n.current.adapter,l=n.current.migrationAdapter,s=(0,v.tb)();l?s.resolve((0,v.Tb)(l.load).then(function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,e.prev=1,t){e.next=4;break}return e.abrupt("return",uc.getLibraryItems(o,"load"));case 4:return n=(0,v.mh)(t.libraryItems||[],"published"),e.next=7,pc(o,rc([],n));case 7:return r=e.sent,e.prev=8,e.next=11,l.clear();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("couldn't delete legacy library data: ".concat(e.t0.message));case 16:return e.abrupt("return",r);case 19:return e.prev=19,e.t1=e.catch(1),e.abrupt("return",(console.error("couldn't migrate legacy library data: ".concat(e.t1.message)),n));case 22:case"end":return e.stop()}}),e,null,[[1,19],[8,13]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error("error during library migration: ".concat(e.message)),uc.getLibraryItems(o,"load")}))):s.resolve((0,v.Tb)(uc.getLibraryItems,o,"load")),t.updateLibrary({libraryItems:s.then((function(e){var t=e||[];return dc=hc(t),t})),merge:!0}).finally((function(){r.current=!0}))}return window.addEventListener("hashchange",a),function(){window.removeEventListener("hashchange",a)}}}),[t]),(0,y.useEffect)((function(){var e=Qs.on(function(){var e=(0,h.default)((0,f.default)().mark((function e(t,a){var i,o;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.current,o="adapter"in n.current&&n.current.adapter||null,e.prev=1,e.t0=o&&dc!==hc(a),!e.t0){e.next=6;break}return e.next=6,pc(o,t);case 6:e.next=11;break;case 8:e.prev=8,e.t1=e.catch(1),console.error("couldn't persist library update: ".concat(e.t1.message),t),i&&n.current.excalidrawAPI&&n.current.excalidrawAPI.updateScene({appState:{errorMessage:Pi("errors.saveLibraryError")}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),t=function(e){fc&&(0,v.wb)(e)};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t),e(),dc=0,fc=0}}),[])},Uc=(0,y.forwardRef)((function(e,t){var n=e.children,r=e.gap,a=e.align,i=e.justifyContent,o=e.className,l=e.style;return(0,X.jsx)("div",{className:(0,ie.A)("Stack Stack_horizontal",o),style:(0,s.default)({"--gap":r,alignItems:a,justifyContent:i},l),ref:t,children:n})})),mc=(0,y.forwardRef)((function(e,t){var n=e.children,r=e.gap,a=e.align,i=e.justifyContent,o=e.className,l=e.style;return(0,X.jsx)("div",{className:(0,ie.A)("Stack Stack_vertical",o),style:(0,s.default)({"--gap":r,justifyItems:a,justifyContent:i},l),ref:t,children:n})})),gc={Row:Uc,Col:mc},bc=function(e){var t=e.theme,n=e.id,r=e.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,X.jsx)("a",{className:"library-menu-browse-button",href:"".concat(U.a.VITE_APP_LIBRARY_URL,"?target=").concat(window.name||"_blank","&referrer=").concat(r,"&useHash=true&token=").concat(n,"&theme=").concat(t,"&version=").concat(v.qa.excalidrawLibrary),target:"_excalidraw_libraries",children:Pi("labels.libraries")})},yc=function(e){var t=e.libraryReturnUrl,n=e.theme,r=e.id,a=e.style,i=e.children,o=e.className;return(0,X.jsxs)("div",{className:(0,ie.A)("library-menu-control-buttons",o),style:a,children:[(0,X.jsx)(bc,{id:r,libraryReturnUrl:t,theme:n}),i]})},xc=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,wc=/{{([\w-]+)}}/,Ec=/<([\w-]+)>/,kc=/<\/([\w-]+)>/,Sc=function(e){var t=e.i18nKey,n=(e.children,(0,u.default)(e,Va)),r=Fi().t;return y.createElement.apply(y,[y.Fragment,{}].concat((0,p.default)(function(e,t){var n=[{name:"",children:[]}];return e.split(xc).filter(Boolean).forEach((function(r){var a=r.match(Ec),i=r.match(kc),o=r.match(wc);if(null!==a){var l=a[1];t.hasOwnProperty(l)?n.push({name:l,children:[]}):console.warn("Trans: missed to pass in prop ".concat(l," for interpolating ").concat(e))}else if(null!==i)if(i[1]===n[n.length-1].name){var s=n.pop(),c=y.createElement.apply(y,[y.Fragment,{}].concat((0,p.default)(s.children))),u=t[s.name];"function"==typeof u&&n[n.length-1].children.push(u(c))}else console.warn("Trans: unexpected end tag ".concat(r," for interpolating ").concat(e));else if(null!==o){var d=o[1];t.hasOwnProperty(d)?n[n.length-1].children.push(t[d]):console.warn("Trans: key ".concat(d," not in props for interpolating ").concat(e))}else n[n.length-1].children.push(r)})),1!==n.length&&console.warn("Trans: stack not empty for interpolating ".concat(e)),n[0].children}(r(t),n))))},Mc=function(e){var t=e.label,n=e.onClick,r=e.className,a=e.children,i=e.actionType,o=e.type,l=void 0===o?"button":o,c=e.isLoading,d=(0,u.default)(e,Ga),f=i?"Dialog__action-button--".concat(i):"";return(0,X.jsxs)("button",(0,s.default)((0,s.default)({className:(0,ie.A)("Dialog__action-button",f,r),type:l,"aria-label":t,onClick:n},d),{},{children:[a&&(0,X.jsx)("div",{style:c?{visibility:"hidden"}:{},children:a}),(0,X.jsx)("div",{style:c?{visibility:"hidden"}:{},children:t}),c&&(0,X.jsx)("div",{style:{position:"absolute",inset:0},children:(0,X.jsx)(Oi,{})})]}))},Cc=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,a=e.confirmText,i=void 0===a?Pi("buttons.confirm"):a,o=e.cancelText,l=void 0===o?Pi("buttons.cancel"):o,c=e.className,d=void 0===c?"":c,f=(0,u.default)(e,Ya),h=sv(),p=Ei(Jc),v=iv().container;return(0,X.jsxs)(iu,(0,s.default)((0,s.default)({onCloseRequest:n,size:"small"},f),{},{className:"confirm-dialog ".concat(d),children:[r,(0,X.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,X.jsx)(Mc,{label:l,onClick:function(){h({openMenu:null}),p(!1),(0,oe.flushSync)((function(){n()})),null===v||void 0===v||v.focus()}}),(0,X.jsx)(Mc,{label:i,onClick:function(){h({openMenu:null}),p(!1),(0,oe.flushSync)((function(){t()})),null===v||void 0===v||v.focus()},actionType:"danger"})]})]}))},Ic=function(){return(0,o.default)((function e(){(0,i.default)(this,e)}),null,[{key:"has",value:function(e){try{return!!window.localStorage.getItem(e)}catch(t){return console.warn("localStorage.getItem error: ".concat(t.message)),!1}}},{key:"get",value:function(e){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("localStorage.getItem error: ".concat(t.message)),null}}}])}();(0,b.d)(Ic,"set",(function(e,t){try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return console.warn("localStorage.setItem error: ".concat(n.message)),!1}})),(0,b.d)(Ic,"delete",(function(e){try{window.localStorage.removeItem(e)}catch(t){console.warn("localStorage.removeItem error: ".concat(t.message))}}));var jc=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,a,i,o,l,s,u,h,p,U,m,g,b,y;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Math.round(8),r=Math.max(Math.round(2),2),a=(0,v.hb)(t,6),(i=document.createElement("canvas")).width=128*a[0].length+(a[0].length+1)*(2*n)-2*n,i.height=128*a.length+(a.length+1)*(2*n)-2*n,(o=i.getContext("2d")).fillStyle=On.white,o.fillRect(0,0,i.width,i.height),l=(0,c.default)(t.entries()),e.prev=5,l.s();case 7:if((s=l.n()).done){e.next=19;break}return u=(0,d.default)(s.value,2),h=u[0],p=u[1],e.next=11,(0,v.pi)({elements:p.elements,files:null,maxWidthOrHeight:128});case 11:U=e.sent,m=U.width,g=U.height,b=Math.floor(h/6)*(128+2*n),y=h%6*(128+2*n),o.drawImage(U,y+(128-m)/2+n,b+(128-g)/2+n),o.lineWidth=r,o.strokeStyle=On.gray[4],o.strokeRect(y+n/2,b+n/2,128+n,128+n);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return e.t1=v.Eh,e.t2=File,e.next=31,(0,v.yh)(i);case 31:return e.t3=e.sent,e.t4=[e.t3],e.t5={type:v.T.png},e.t6=new e.t2(e.t4,"preview",e.t5),e.t7={outputType:v.T.jpg,maxWidthOrHeight:5e3},e.next=38,(0,e.t1)(e.t6,e.t7);case 38:return e.abrupt("return",e.sent);case 39:case"end":return e.stop()}}),e,null,[[5,21,24,27]])})));return function(t){return e.apply(this,arguments)}}(),Tc=function(e){var t=e.libItem,n=e.appState,r=e.index,a=e.onChange,i=e.onRemove,o=(0,y.useRef)(null),l=(0,y.useRef)(null);return(0,y.useEffect)((function(){var e=o.current;e&&(0,h.default)((0,f.default)().mark((function r(){var a;return(0,f.default)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,v.ri)({elements:t.elements,appState:(0,s.default)((0,s.default)({},n),{},{viewBackgroundColor:On.white,exportBackground:!0}),files:null,skipInliningFonts:!0});case 2:a=r.sent,e.innerHTML=a.outerHTML;case 4:case"end":return r.stop()}}),r)})))()}),[t.elements,n]),(0,X.jsxs)("div",{className:"single-library-item",children:["published"===t.status&&(0,X.jsx)("span",{className:"single-library-item-status",children:Pi("labels.statusPublished")}),(0,X.jsx)("div",{ref:o,className:"single-library-item__svg"}),(0,X.jsx)(Hi,{"aria-label":Pi("buttons.remove"),type:"button",icon:v.ge,className:"single-library-item--remove",onClick:i.bind(null,t.id),title:Pi("buttons.remove")}),(0,X.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,X.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,X.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,X.jsx)("span",{style:{fontWeight:500,color:On.gray[6]},children:Pi("publishDialog.itemName")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("input",{type:"text",ref:l,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(e){a(e.target.value,r)}})]}),(0,X.jsx)("span",{className:"error",children:t.error})]})]})},Ac=function(e){var t=e.onClose,n=e.libraryItems,r=e.appState,a=e.onSuccess,i=e.onError,o=e.updateItemsInStorage,c=e.onRemove,u=(0,y.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),p=(0,d.default)(u,2),m=p[0],g=p[1],b=(0,y.useState)(!1),x=(0,d.default)(b,2),w=x[0],E=x[1];(0,y.useEffect)((function(){var e=Ic.get(v.Ba.PUBLISH_LIBRARY);e&&g(e)}),[]);var k=(0,y.useState)(n.slice()),S=(0,d.default)(k,2),M=S[0],C=S[1];(0,y.useEffect)((function(){C(n.slice())}),[n]);var I=function(e){g((0,s.default)((0,s.default)({},m),{},(0,l.default)({},e.target.name,e.target.value)))},j=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,o,l,c,u,d;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E(!0),n=[],r=!1,M.forEach((function(e){var t="";e.name||(t=Pi("publishDialog.errors.required"),r=!0),n.push((0,s.default)((0,s.default)({},e),{},{error:t}))})),!r){e.next=5;break}return C(n),E(!1),e.abrupt("return");case 5:return e.next=7,jc(M);case 7:o=e.sent,l={type:v.V.excalidrawLibrary,version:v.qa.excalidrawLibrary,source:v.W,libraryItems:M},c=JSON.stringify(l,null,2),u=new Blob([c],{type:"application/json"}),(d=new FormData).append("excalidrawLib",u),d.append("previewImage",o),d.append("previewImageType",o.type),d.append("title",m.name),d.append("authorName",m.authorName),d.append("githubHandle",m.githubHandle),d.append("name",m.name),d.append("description",m.description),d.append("twitterHandle",m.twitterHandle),d.append("website",m.website),fetch("".concat(U.a.VITE_APP_LIBRARY_BACKEND,"/submit"),{method:"post",body:d}).then((function(e){return e.ok?e.json().then((function(e){var t=e.url;Ic.delete(v.Ba.PUBLISH_LIBRARY),a({url:t,authorName:m.authorName,items:M})})):e.json().catch((function(){throw new Error(e.statusText||"something went wrong")})).then((function(t){throw new Error(t.message||e.statusText||"something went wrong")}))}),(function(e){console.error(e),i(e),E(!1)})).catch((function(e){console.error(e),i(e),E(!1)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=(0,y.useCallback)((function(){o(M),Ic.set(v.Ba.PUBLISH_LIBRARY,m),t()}),[M,t,o,m]),A=!!n.length,D=n.some((function(e){return"published"===e.status}));return(0,X.jsx)(iu,{onCloseRequest:T,title:Pi("publishDialog.title"),className:"publish-library",children:A?(0,X.jsxs)("form",{onSubmit:j,children:[(0,X.jsx)("div",{className:"publish-library-note",children:(0,X.jsx)(Sc,{i18nKey:"publishDialog.noteDescription",link:function(e){return(0,X.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,X.jsx)("span",{className:"publish-library-note",children:(0,X.jsx)(Sc,{i18nKey:"publishDialog.noteGuidelines",link:function(e){return(0,X.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,X.jsx)("div",{className:"publish-library-note",children:Pi("publishDialog.noteItems")}),D&&(0,X.jsx)("span",{className:"publish-library-note publish-library-warning",children:Pi("publishDialog.republishWarning")}),function(){var e=[];return M.forEach((function(t,n){e.push((0,X.jsx)("div",{className:"single-library-item-wrapper",children:(0,X.jsx)(Tc,{libItem:t,appState:r,index:n,onChange:function(e,t){var n=M.slice();n[t].name=e,C(n)},onRemove:c})},n))})),(0,X.jsx)("div",{className:"selected-library-items",children:e})}(),(0,X.jsxs)("div",{className:"publish-library__fields",children:[(0,X.jsxs)("label",{children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{children:Pi("publishDialog.libraryName")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("input",{type:"text",name:"name",required:!0,value:m.name,onChange:I,placeholder:Pi("publishDialog.placeholder.libraryName")})]}),(0,X.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{children:Pi("publishDialog.libraryDesc")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("textarea",{name:"description",rows:4,required:!0,value:m.description,onChange:I,placeholder:Pi("publishDialog.placeholder.libraryDesc")})]}),(0,X.jsxs)("label",{children:[(0,X.jsxs)("div",{children:[(0,X.jsx)("span",{children:Pi("publishDialog.authorName")}),(0,X.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,X.jsx)("input",{type:"text",name:"authorName",required:!0,value:m.authorName,onChange:I,placeholder:Pi("publishDialog.placeholder.authorName")})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:Pi("publishDialog.githubUsername")}),(0,X.jsx)("input",{type:"text",name:"githubHandle",value:m.githubHandle,onChange:I,placeholder:Pi("publishDialog.placeholder.githubHandle")})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:Pi("publishDialog.twitterUsername")}),(0,X.jsx)("input",{type:"text",name:"twitterHandle",value:m.twitterHandle,onChange:I,placeholder:Pi("publishDialog.placeholder.twitterHandle")})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:Pi("publishDialog.website")}),(0,X.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:Pi("publishDialog.errors.website"),value:m.website,onChange:I,placeholder:Pi("publishDialog.placeholder.website")})]}),(0,X.jsx)("span",{className:"publish-library-note",children:(0,X.jsx)(Sc,{i18nKey:"publishDialog.noteLicense",link:function(e){return(0,X.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:e})}})})]}),(0,X.jsxs)("div",{className:"publish-library__buttons",children:[(0,X.jsx)(Mc,{label:Pi("buttons.cancel"),onClick:T,"data-testid":"cancel-clear-canvas-button"}),(0,X.jsx)(Mc,{type:"submit",label:Pi("buttons.submit"),actionType:"primary",isLoading:w})]})]}):(0,X.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:Pi("publishDialog.atleastOneLibItem")})})},Dc=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,a=e.onToggle,i=e.title,o=(0,u.default)(e,Za),l=av(),c=(0,ie.A)("dropdown-menu-button ".concat(n),"zen-mode-transition",{"dropdown-menu-button--mobile":l.editor.isMobile}).trim();return(0,X.jsx)("button",(0,s.default)((0,s.default)({"data-prevent-outside-click":!0,className:c,onClick:a,type:"button","data-testid":"dropdown-menu-button",title:i},o),{},{children:r}))},_c=Dc;Dc.displayName="DropdownMenuTrigger";var Lc=function(){return(0,X.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},Rc=Lc;Lc.displayName="DropdownMenuSeparator";var Pc=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=void 0===r?"":r,i=e.onSelect,o=e.style,l=av(),s=(0,y.useRef)(null),c=Po({onClickOutside:n});Ro(s,(function(){var e;null===(e=c.onClickOutside)||void 0===e||e.call(c)})),(0,y.useEffect)((function(){var e=function(e){var t;e.key===v.hg.ESCAPE&&(e.stopImmediatePropagation(),null===(t=c.onClickOutside)||void 0===t||t.call(c))},t={capture:!0};return document.addEventListener("keydown",e,t),function(){document.removeEventListener("keydown",e,t)}}),[c]);var u=(0,ie.A)("dropdown-menu ".concat(a),{"dropdown-menu--mobile":l.editor.isMobile}).trim();return(0,X.jsx)(nl.Provider,{value:{onSelect:i},children:(0,X.jsx)("div",{ref:s,className:u,style:o,"data-testid":"dropdown-menu",children:l.editor.isMobile?(0,X.jsx)(gc.Col,{className:"dropdown-menu-container",children:t}):(0,X.jsx)(zo,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:t})})})};Pc.displayName="DropdownMenuContent";var Nc=Pc,Fc=function(e){var t,n=e.icon,r=e.shortcut,a=e.href,i=e.children,o=e.onSelect,l=e.className,c=void 0===l?"":l,d=e.selected,f=(e.rel,(0,u.default)(e,Ka)),h=al(f.onClick,o);return(0,X.jsx)("a",(0,s.default)((0,s.default)({},f),{},{href:a,target:"_blank",rel:"noreferrer",className:rl(c,d),title:null!==(t=f.title)&&void 0!==t?t:f["aria-label"],onClick:h,children:(0,X.jsx)(il,{icon:n,shortcut:r,children:i})}))},Oc=Fc;Fc.displayName="DropdownMenuItemLink";var zc=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=e.selected,i=(0,u.default)(e,qa);return(0,X.jsx)("div",(0,s.default)((0,s.default)({},i),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(r," ").concat(a?"dropdown-menu-item--selected":"").trim(),children:t}))},Bc=function(e){var t=e.children,n=e.open,r=function(e){return y.Children.toArray(e).find((function(e){return y.isValidElement(e)&&"string"!=typeof e.type&&(null===e||void 0===e?void 0:e.type.displayName)&&"DropdownMenuTrigger"===e.type.displayName}))||null}(t),a=function(e){return y.Children.toArray(e).find((function(e){return y.isValidElement(e)&&"string"!=typeof e.type&&(null===e||void 0===e?void 0:e.type.displayName)&&"DropdownMenuContent"===e.type.displayName}))||null}(t);return(0,X.jsxs)(X.Fragment,{children:[r,n&&a]})};Bc.Trigger=_c,Bc.Content=Nc,Bc.Item=dl,Bc.ItemLink=Oc,Bc.ItemCustom=zc,Bc.Group=tl,Bc.Separator=Rc;var Hc=Bc;Bc.displayName="DropdownMenu";var Wc=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},Xc=function(e){var t=e.setAppState,n=e.selectedItems,r=e.library,a=e.onRemoveFromLibrary,i=e.resetLibrary,o=e.onSelectItems,l=e.appState,s=e.className,c=wi(Js),u=(0,d.default)(c,1)[0],p=wi(Jc),U=(0,d.default)(p,2),m=U[0],g=U[1],b=(0,y.useState)(!1),x=(0,d.default)(b,2),w=x[0],E=x[1],k=!!n.length,S=k?u.libraryItems.filter((function(e){return n.includes(e.id)})):u.libraryItems,M=Pi(k?"buttons.remove":"buttons.resetLibrary"),C=(0,y.useState)(!1),I=(0,d.default)(C,2),j=I[0],T=I[1],A=(0,y.useState)(null),D=(0,d.default)(A,2),_=D[0],L=D[1],R=(0,y.useCallback)((function(){return(0,X.jsxs)(iu,{onCloseRequest:function(){return L(null)},title:Pi("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,X.jsx)("p",{children:(0,X.jsx)(Sc,{i18nKey:"publishSuccessDialog.content",authorName:_.authorName,link:function(e){return(0,X.jsx)("a",{href:null===_||void 0===_?void 0:_.url,target:"_blank",rel:"noopener noreferrer",children:e})}})}),(0,X.jsx)(Hi,{type:"button",title:Pi("buttons.close"),"aria-label":Pi("buttons.close"),label:Pi("buttons.close"),onClick:function(){return L(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})}),[L,_]),P=function(){var e=(0,h.default)((0,f.default)().mark((function e(){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.updateLibrary({libraryItems:(0,v.fh)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=10;break}return console.warn(e.t0),e.abrupt("return");case 10:t({errorMessage:Pi("errors.importLibraryError")});case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,h.default)((0,f.default)().mark((function e(){var n;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=4;break}e.t0=S,e.next=7;break;case 4:return e.next=6,r.getLatestLibrary();case 6:e.t0=e.sent;case 7:n=e.t0,(0,v.Nh)(n).catch(v.pb).catch((function(e){t({errorMessage:e.message})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,X.jsxs)("div",{className:(0,ie.A)("library-menu-dropdown-container",s),children:[(0,X.jsxs)(Hc,{open:m,children:[(0,X.jsx)(Hc.Trigger,{onToggle:function(){return g(!m)},children:v.hd}),(0,X.jsxs)(Hc.Content,{onClickOutside:function(){return g(!1)},onSelect:function(){return g(!1)},className:"library-menu",children:[!k&&(0,X.jsx)(Hc.Item,{onSelect:P,icon:v.Ld,"data-testid":"lib-dropdown--load",children:Pi("buttons.load")}),!!S.length&&(0,X.jsx)(Hc.Item,{onSelect:N,icon:v.Ad,"data-testid":"lib-dropdown--export",children:Pi("buttons.export")}),!!S.length&&(0,X.jsx)(Hc.Item,{onSelect:function(){return E(!0)},icon:v.ud,children:M}),k&&(0,X.jsx)(Hc.Item,{icon:v.Xe,onSelect:function(){return T(!0)},"data-testid":"lib-dropdown--remove",children:Pi("buttons.publishLibrary")})]})]}),n.length>0&&(0,X.jsx)("div",{className:"library-actions-counter",children:n.length}),w&&function(){var e=n.length?Pi("alerts.removeItemsFromsLibrary",{count:n.length}):Pi("alerts.resetLibrary"),t=n.length?Pi("confirmDialog.removeItemsFromLib"):Pi("confirmDialog.resetLibrary");return(0,X.jsx)(Cc,{onConfirm:function(){n.length?a():i(),E(!1)},onCancel:function(){E(!1)},title:t,children:(0,X.jsx)("p",{children:e})})}(),j&&(0,X.jsx)(Ac,{onClose:function(){return T(!1)},libraryItems:Wc(u.libraryItems,n),appState:l,onSuccess:function(e){return function(e,t){T(!1),L({url:e.url,authorName:e.authorName});var a=t.slice();a.forEach((function(e){n.includes(e.id)&&(e.status="published")})),r.setLibrary(a)}(e,u.libraryItems)},onError:function(e){return window.alert(e)},updateItemsInStorage:function(){return r.setLibrary(u.libraryItems)},onRemove:function(e){return o(n.filter((function(t){return t!==e})))}}),_&&R()]})},Vc=function(e){var t=e.selectedItems,n=e.onSelectItems,r=e.className,a=nv().library,i=Ks(),o=i.clearLibraryCache,l=i.deleteItemsFromLibraryCache,s=_o(),c=sv(),u=wi(Js),p=(0,d.default)(u,1)[0],v=function(){var e=(0,h.default)((0,f.default)().mark((function e(r){var i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.filter((function(e){return!t.includes(e.id)})),a.setLibrary(i).catch((function(){c({errorMessage:Pi("alerts.errorRemovingFromLibrary")})})),l(t),n([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,X.jsx)(Xc,{appState:s,setAppState:c,selectedItems:t,onSelectItems:n,library:a,onRemoveFromLibrary:function(){return v(p.libraryItems)},resetLibrary:function(){a.resetLibrary(),o()},className:r})},Gc=(0,y.memo)((function(e){var t=e.id,n=e.elements,r=e.isPending,a=e.onClick,i=e.selected,o=e.onToggle,l=e.onDrag,s=e.svgCache,c=(0,y.useRef)(null),u=function(e,t,n){var r=(0,y.useState)(),a=(0,d.default)(r,2),i=a[0],o=a[1];return(0,y.useEffect)((function(){if(t)if(e){var r=n.get(e);r?o(r):(0,h.default)((0,f.default)().mark((function r(){var a,i;return(0,f.default)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Zs(t);case 2:i=r.sent,null!==(a=i.querySelector(".style-fonts"))&&void 0!==a&&a.remove(),i&&(n.set(e,i),o(i));case 4:case"end":return r.stop()}}),r)})))()}else(0,h.default)((0,f.default)().mark((function e(){var n;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zs(t);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})))()}),[e,t,n,o]),i}(t,n,s);(0,y.useEffect)((function(){var e=c.current;if(e)return u&&(e.innerHTML=u.outerHTML),function(){e.innerHTML=""}}),[u]);var p=(0,y.useState)(!1),U=(0,d.default)(p,2),m=U[0],g=U[1],b=av().editor.isMobile,x=r&&(0,X.jsx)("div",{className:"library-unit__adder",children:v.gd});return(0,X.jsxs)("div",{className:(0,ie.A)("library-unit",{"library-unit__active":n,"library-unit--hover":n&&m,"library-unit--selected":i,"library-unit--skeleton":!u}),onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:[(0,X.jsx)("div",{className:(0,ie.A)("library-unit__dragger",{"library-unit__pulse":!!r}),ref:c,draggable:!!n,onClick:n||r?function(e){t&&e.shiftKey?o(t,e):a(t)}:void 0,onDragStart:function(e){t?(g(!1),l(t,e)):e.preventDefault()}}),x,t&&n&&(m||b||i)&&(0,X.jsx)(Xl,{checked:i,onChange:function(e,n){return o(t,n)},className:"library-unit__checkbox"})]})})),Yc=function(){return(0,X.jsx)("div",{className:"library-unit library-unit--skeleton"})};var Zc=y.useTransition||function(){return[!1,(0,y.useCallback)((function(e){return e()}),[])]},Kc=function(e){var t=e.children;return(0,X.jsx)("div",{className:"library-menu-items-container__grid",children:t})},qc=(0,y.memo)((function(e){var t=e.items,n=e.onItemSelectToggle,r=e.onItemDrag,a=e.isItemSelected,i=e.onClick,o=e.svgCache,l=e.itemsRenderedPerBatch,s=Zc(),c=(0,d.default)(s,2)[1],u=(0,y.useState)(0),f=(0,d.default)(u,2),h=f[0],p=f[1];return(0,y.useEffect)((function(){h<t.length&&c((function(){p(h+l)}))}),[h,t.length,c,l]),(0,X.jsx)(X.Fragment,{children:t.map((function(e,t){var l;return t<h?(0,X.jsx)(Gc,{elements:null===e||void 0===e?void 0:e.elements,isPending:!(null!==e&&void 0!==e&&e.id)&&!(null===e||void 0===e||!e.elements),onClick:i,svgCache:o,id:null===e||void 0===e?void 0:e.id,selected:a(e.id),onToggle:n,onDrag:r},null!==(l=null===e||void 0===e?void 0:e.id)&&void 0!==l?l:t):(0,X.jsx)(Yc,{},t)}))})})),$c=E(0);function Qc(e){var t=e.isLoading,n=e.libraryItems,r=e.onAddToLibrary,a=e.onInsertLibraryItems,i=e.pendingElements,o=e.theme,l=e.id,c=e.libraryReturnUrl,u=e.onSelectItems,f=e.selectedItems,h=(0,y.useRef)(null),U=function(e){var t=wi($c),n=(0,d.default)(t,2),r=n[0],a=n[1];return(0,y.useEffect)((function(){var t=e.current;if(t){var n=zn((function(){var e=t.scrollTop;a(e)}),200);return t.addEventListener("scroll",n),function(){n.cancel(),t.removeEventListener("scroll",n)}}}),[e,a]),r}(h);(0,y.useEffect)((function(){var e;U>0&&(null===(e=h.current)||void 0===e||e.scrollTo(0,U))}),[]);var m=Ks().svgCache,g=(0,y.useMemo)((function(){return n.filter((function(e){return"published"!==e.status}))}),[n]),b=(0,y.useMemo)((function(){return n.filter((function(e){return"published"===e.status}))}),[n]),x=!n.length&&!i.length,w=!i.length&&!g.length&&!b.length,E=(0,y.useState)(null),k=(0,d.default)(E,2),S=k[0],M=k[1],C=(0,y.useCallback)((function(e,t){var n=!f.includes(e),r=[].concat((0,p.default)(g),(0,p.default)(b));if(n){if(t.shiftKey&&S){var a=r.findIndex((function(e){return e.id===S})),i=r.findIndex((function(t){return t.id===e}));if(-1===a||-1===i)return void u([].concat((0,p.default)(f),[e]));var o=(0,v.xb)(f),l=r.reduce((function(e,t,n){return(n>=a&&n<=i||o.has(t.id))&&e.push(t.id),e}),[]);u(l)}else u([].concat((0,p.default)(f),[e]));M(e)}else M(null),u(f.filter((function(t){return t!==e})))}),[S,u,b,f,g]),I=(0,y.useCallback)((function(e){return(f.includes(e)?n.filter((function(e){return f.includes(e.id)})):n.filter((function(t){return t.id===e}))).map((function(e){return(0,s.default)((0,s.default)({},e),{},{elements:(0,v.dg)(e.elements,{randomizeSeed:!0})})}))}),[n,f]),j=(0,y.useCallback)((function(e,t){t.dataTransfer.setData(v.T.excalidrawlib,(0,v.Mh)(I(e)))}),[I]),T=(0,y.useCallback)((function(e){return!!e&&f.includes(e)}),[f]),A=(0,y.useCallback)((function(){r(i)}),[i,r]),D=(0,y.useCallback)((function(e){e&&a(I(e))}),[I,a]),_=m.size>=n.length?64:17;return(0,X.jsxs)("div",{className:"library-menu-items-container",style:i.length||g.length||b.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!w&&(0,X.jsx)(Vc,{selectedItems:f,onSelectItems:u,className:"library-menu-dropdown-container--in-heading"}),(0,X.jsxs)(gc.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:b.length>0?1:"0 1 auto",marginBottom:0},ref:h,children:[(0,X.jsxs)(X.Fragment,{children:[!w&&(0,X.jsx)("div",{className:"library-menu-items-container__header",children:Pi("labels.personalLib")}),t&&(0,X.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,X.jsx)(Oi,{})}),i.length||g.length?(0,X.jsxs)(Kc,{children:[i.length>0&&(0,X.jsx)(qc,{itemsRenderedPerBatch:_,items:[{id:null,elements:i}],onItemSelectToggle:C,onItemDrag:j,onClick:A,isItemSelected:T,svgCache:m}),(0,X.jsx)(qc,{itemsRenderedPerBatch:_,items:g,onItemSelectToggle:C,onItemDrag:j,onClick:D,isItemSelected:T,svgCache:m})]}):(0,X.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,X.jsx)("div",{className:"library-menu-items__no-items__label",children:Pi("library.noItems")}),(0,X.jsx)("div",{className:"library-menu-items__no-items__hint",children:b.length>0?Pi("library.hint_emptyPrivateLibrary"):Pi("library.hint_emptyLibrary")})]})]}),(0,X.jsxs)(X.Fragment,{children:[(b.length>0||i.length>0||g.length>0)&&(0,X.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:Pi("labels.excalidrawLib")}),b.length>0?(0,X.jsx)(Kc,{children:(0,X.jsx)(qc,{itemsRenderedPerBatch:_,items:b,onItemSelectToggle:C,onItemDrag:j,onClick:D,isItemSelected:T,svgCache:m})}):g.length>0?(0,X.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:Pi("library.noItems")}):null]}),x&&(0,X.jsx)(yc,{style:{padding:"16px 0",width:"100%"},id:l,libraryReturnUrl:c,theme:o,children:(0,X.jsx)(Vc,{selectedItems:f,onSelectItems:u})})]})]})}var Jc=E(!1),eu=function(e){var t=e.children;return(0,X.jsx)("div",{className:"layer-ui__library",children:t})},tu=(0,y.memo)((function(e){var t=e.onInsertLibraryItems,n=e.pendingElements,r=e.onAddToLibrary,a=e.setAppState,i=e.libraryReturnUrl,o=e.library,l=e.id,s=e.theme,u=e.selectedItems,U=e.onSelectItems,m=wi(Js),g=(0,d.default)(m,1)[0],b=(0,y.useCallback)((function(e){!function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n){var i,l,s,u,d;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ho("element","addToLibrary","ui"),i=(0,c.default)(v.za),e.prev=2,s=(0,f.default)().mark((function e(){var n;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.value,!t.some((function(e){return e.type===n}))){e.next=3;break}return e.abrupt("return",{v:a({errorMessage:Pi("errors.libraryElementTypeError.".concat(n))})});case 3:case"end":return e.stop()}}),e)})),i.s();case 5:if((l=i.n()).done){e.next=12;break}return e.delegateYield(s(),"t0",7);case 7:if(!(u=e.t0)){e.next=10;break}return e.abrupt("return",u.v);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),i.e(e.t1);case 17:return e.prev=17,i.f(),e.finish(17);case 20:d=[{status:"unpublished",elements:t,id:(0,v.sc)(),created:Date.now()}].concat((0,p.default)(n)),r(),o.setLibrary(d).catch((function(){a({errorMessage:Pi("alerts.errorAddingToLibrary")})}));case 22:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()(e,g.libraryItems)}),[r,o,a,g.libraryItems]),x=(0,y.useMemo)((function(){return g.libraryItems}),[g]);if("loading"===g.status&&!g.isInitialized)return(0,X.jsx)(eu,{children:(0,X.jsx)("div",{className:"layer-ui__library-message",children:(0,X.jsxs)("div",{children:[(0,X.jsx)(Oi,{size:"2em"}),(0,X.jsx)("span",{children:Pi("labels.libraryLoadingMessage")})]})})});var w=g.libraryItems.length>0||n.length>0;return(0,X.jsxs)(eu,{children:[(0,X.jsx)(Qc,{isLoading:"loading"===g.status,libraryItems:x,onAddToLibrary:b,onInsertLibraryItems:t,pendingElements:n,id:l,libraryReturnUrl:i,theme:s,onSelectItems:U,selectedItems:u}),w&&(0,X.jsx)(yc,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:l,libraryReturnUrl:i,theme:s})]})})),nu=function(e,t){return{elements:e,pending:(0,v.vk)(e,{selectedElementIds:t},{includeBoundTextElement:!0,includeElementsInFrames:!0}),selectedElementIds:t}},ru=(0,y.memo)((function(){var e=nv(),t=e.onInsertElements,n=rv(),r=_o(),a=sv(),i=(0,y.useState)([]),o=(0,d.default)(i,2),l=o[0],s=o[1],u=(0,y.useMemo)((function(){return e.library}),[e.library]),f=function(e,t){var n=ov(),r=(0,y.useState)((function(){return nu(n,e.selectedElementIds)})),a=(0,d.default)(r,2),i=a[0],o=a[1],l=(0,y.useRef)(new Map);return(0,y.useEffect)((function(){var e,t=(0,c.default)(i.pending);try{for(t.s();!(e=t.n()).done;){var n=e.value;l.current.set(n.id,n.version)}}catch(r){t.e(r)}finally{t.f()}}),[i.pending]),(0,y.useEffect)((function(){"up"===t.state.cursorButton&&"selection"===t.state.activeTool.type&&o((function(r){if(!(0,v.Hb)(r.selectedElementIds,e.selectedElementIds))return l.current.clear(),nu(n,e.selectedElementIds);for(var a=t.scene.getNonDeletedElementsMap(),i=0,o=Object.keys(e.selectedElementIds);i<o.length;i++){var s,c=o[i],u=null===(s=a.get(c))||void 0===s?void 0:s.version;if(u&&u!==l.current.get(c))return nu(n,e.selectedElementIds)}return r}))}),[t,t.state.cursorButton,t.state.activeTool.type,e.selectedElementIds,n]),i.pending}(r,e),h=(0,y.useCallback)((function(e){t(oc(e))}),[t]),p=(0,y.useCallback)((function(){a({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})}),[a]);return(0,X.jsx)(tu,{pendingElements:f,onInsertLibraryItems:h,onAddToLibrary:p,setAppState:a,libraryReturnUrl:n.libraryReturnUrl,library:u,id:e.id,theme:r.theme,selectedItems:l,onSelectItems:s})}));function au(e){if(e&&"number"==typeof e)return e;switch(e){case"small":return 550;case"wide":return 1024;default:return 800}}var iu=function(e){var t=function(){var e=(0,y.useState)(null),t=(0,d.default)(e,2),n=t[0],r=t[1];return[n,(0,y.useCallback)((function(e){return r(e)}),[])]}(),n=(0,d.default)(t,2),r=n[0],a=n[1],i=(0,y.useState)(document.activeElement),o=(0,d.default)(i,1)[0],l=iv().id,s=av().viewport.isMobile;(0,y.useEffect)((function(){if(r){var t=(0,v.Gb)(r);setTimeout((function(){t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus()}));var n=function(e){if(e.key===v.hg.TAB){var t=(0,v.Gb)(r),n=document.activeElement,a=t.findIndex((function(e){return e===n}));0===a&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):a===t.length-1&&!e.shiftKey&&(t[0].focus(),e.preventDefault())}};return r.addEventListener("keydown",n),function(){return r.removeEventListener("keydown",n)}}}),[r,e.autofocus]);var c=sv(),u=Ei(Jc),f=function(){c({openMenu:null}),u(!1),o.focus(),e.onCloseRequest()};return(0,X.jsx)(Gs,{className:(0,ie.A)("Dialog",e.className,{"Dialog--fullscreen":s}),labelledBy:"dialog-title",maxWidth:au(e.size),onCloseRequest:f,closeOnClickOutside:e.closeOnClickOutside,children:(0,X.jsxs)(zo,{ref:a,children:[e.title&&(0,X.jsx)("h2",{id:"".concat(l,"-dialog-title"),className:"Dialog__title",children:(0,X.jsx)("span",{className:"Dialog__titleContent",children:e.title})}),s&&(0,X.jsx)("button",{className:"Dialog__close",onClick:f,title:Pi("buttons.close"),"aria-label":Pi("buttons.close"),type:"button",children:v.ge}),(0,X.jsx)("div",{className:"Dialog__content",children:e.children})]})})},ou=function(e){var t=e.type,n=void 0===t?"button":t,r=e.onSelect,a=e.selected,i=e.children,o=e.className,l=void 0===o?"":o,c=(0,u.default)(e,$a);return(0,X.jsx)("button",(0,s.default)((0,s.default)({onClick:(0,v.Ib)(c.onClick,(function(e){r()})),type:n,className:(0,ie.A)("excalidraw-button",l,{selected:a})},c),{},{children:i}))},lu=(0,y.forwardRef)((function(e,t){var n=e.onChange,r=e.label,a=e.fullWidth,i=e.placeholder,o=e.readonly,l=e.selectOnRender,s=e.onKeyDown,c=e.isRedacted,f=void 0!==c&&c,h=e.icon,p=e.className,U=(0,u.default)(e,Qa),m=(0,y.useRef)(null);(0,y.useImperativeHandle)(t,(function(){return m.current})),(0,y.useLayoutEffect)((function(){var e,t;l&&(null!==(e=m.current)&&void 0!==e&&e.focus(),null===(t=m.current)||void 0===t||t.select())}),[l]);var g=(0,y.useState)(!1),b=(0,d.default)(g,2),x=b[0],w=b[1];return(0,X.jsxs)("div",{className:(0,ie.A)("ExcTextField",p,{"ExcTextField--fullWidth":a,"ExcTextField--hasIcon":!!h}),onClick:function(){var e;null===(e=m.current)||void 0===e||e.focus()},children:[h,r&&(0,X.jsx)("div",{className:"ExcTextField__label",children:r}),(0,X.jsxs)("div",{className:(0,ie.A)("ExcTextField__input",{"ExcTextField__input--readonly":o}),children:[(0,X.jsx)("input",{className:(0,ie.A)({"is-redacted":"value"in U&&U.value&&f&&!x}),readOnly:o,value:"value"in U?U.value:void 0,defaultValue:"defaultValue"in U?U.defaultValue:void 0,placeholder:i,ref:m,onChange:function(e){return null===n||void 0===n?void 0:n(e.target.value)},onKeyDown:s}),f&&(0,X.jsx)(ou,{onSelect:function(){return w(!x)},style:{border:0,userSelect:"none"},children:x?v.mf:v.lf})]})]})})),su={toggleTheme:[(0,v.kb)("Shift+Alt+D")],saveScene:[(0,v.kb)("CtrlOrCmd+S")],loadScene:[(0,v.kb)("CtrlOrCmd+O")],clearCanvas:[(0,v.kb)("CtrlOrCmd+Delete")],imageExport:[(0,v.kb)("CtrlOrCmd+Shift+E")],commandPalette:[(0,v.kb)("CtrlOrCmd+/"),(0,v.kb)("CtrlOrCmd+Shift+P")],cut:[(0,v.kb)("CtrlOrCmd+X")],copy:[(0,v.kb)("CtrlOrCmd+C")],paste:[(0,v.kb)("CtrlOrCmd+V")],copyStyles:[(0,v.kb)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,v.kb)("CtrlOrCmd+Alt+V")],selectAll:[(0,v.kb)("CtrlOrCmd+A")],deleteSelectedElements:[(0,v.kb)("Delete")],duplicateSelection:[(0,v.kb)("CtrlOrCmd+D"),(0,v.kb)("Alt+".concat(Pi("helpDialog.drag")))],sendBackward:[(0,v.kb)("CtrlOrCmd+[")],bringForward:[(0,v.kb)("CtrlOrCmd+]")],sendToBack:[v.l?(0,v.kb)("CtrlOrCmd+Alt+["):(0,v.kb)("CtrlOrCmd+Shift+[")],bringToFront:[v.l?(0,v.kb)("CtrlOrCmd+Alt+]"):(0,v.kb)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,v.kb)("Shift+Alt+C")],group:[(0,v.kb)("CtrlOrCmd+G")],ungroup:[(0,v.kb)("CtrlOrCmd+Shift+G")],gridMode:[(0,v.kb)("CtrlOrCmd+'")],zenMode:[(0,v.kb)("Alt+Z")],objectsSnapMode:[(0,v.kb)("Alt+S")],stats:[(0,v.kb)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,v.kb)("Shift+H")],flipVertical:[(0,v.kb)("Shift+V")],viewMode:[(0,v.kb)("Alt+R")],hyperlink:[(0,v.kb)("CtrlOrCmd+K")],toggleElementLock:[(0,v.kb)("CtrlOrCmd+Shift+L")],resetZoom:[(0,v.kb)("CtrlOrCmd+0")],zoomOut:[(0,v.kb)("CtrlOrCmd+-")],zoomIn:[(0,v.kb)("CtrlOrCmd++")],zoomToFitSelection:[(0,v.kb)("Shift+3")],zoomToFit:[(0,v.kb)("Shift+1")],zoomToFitSelectionInViewport:[(0,v.kb)("Shift+2")],toggleEraserTool:[(0,v.kb)("E")],toggleHandTool:[(0,v.kb)("H")],setFrameAsActiveTool:[(0,v.kb)("F")],saveFileToDisk:[(0,v.kb)("CtrlOrCmd+S")],saveToActiveFile:[(0,v.kb)("CtrlOrCmd+S")],toggleShortcuts:[(0,v.kb)("?")],searchMenu:[(0,v.kb)("CtrlOrCmd+F")],wrapSelectionInFrame:[]},cu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=su[e];return n&&n.length>0?n[t]||n[0]:""},uu="[".concat("\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff","]"),du=RegExp(uu,"g"),fu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,hu={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"E","\xe6":"e","\xde":"T","\xfe":"t","\xdf":"s","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"I","\u0133":"i","\u0152":"E","\u0153":"e","\u0149":"n","\u017f":"s"},pu=function(e){return e.replace(fu,(function(e){return hu[e]||e})).replace(du,"")},vu=y.createContext(null),Uu=function(){return y.useContext(vu)},mu=re(),gu=function(e,t){var n,r,a=(null===(n=t[0])||void 0===n?void 0:n.type)||null,i=(0,c.default)(t);try{for(i.s();!(r=i.n()).done;){if(r.value.type!==a){a=null;break}}}catch(o){i.e(o)}finally{i.f()}return(0,v.Wi)(e.activeTool.type)&&"image"!==e.activeTool.type&&"image"!==a&&"frame"!==a&&"magicframe"!==a||t.some((function(e){return(0,v.Wi)(e.type)}))},bu=function(e,t){return(0,v.Vi)(e.activeTool.type)||t.some((function(e){return(0,v.Vi)(e.type)}))},yu=function(e){var t=e.appState,n=e.elementsMap,r=e.renderAction,a=e.app,i=(0,v.wk)(n,t),o=!1;2===i.length&&((0,v.mc)(i[0])||(0,v.mc)(i[1]))&&(o=!0);var l=!(!t.editingTextElement&&!t.newElement),s=av(),c="rtl"===document.documentElement.getAttribute("dir"),u=(0,v.Vi)(t.activeTool.type)&&!(0,v.sb)(t.currentItemBackgroundColor)||i.some((function(e){return(0,v.Vi)(e.type)&&!(0,v.sb)(e.backgroundColor)})),d=1===i.length||o,f=!t.editingLinearElement&&1===i.length&&(0,v.cc)(i[0])&&!(0,v.ec)(i[0]),h=!t.croppingElementId&&1===i.length&&(0,v.Wb)(i[0]),p=!o&&ds(t,a);return(0,X.jsxs)("div",{className:"panelColumn",children:[(0,X.jsx)("div",{children:gu(t,i)&&r("changeStrokeColor")}),bu(t,i)&&(0,X.jsx)("div",{children:r("changeBackgroundColor")}),u&&r("changeFillStyle"),((0,v.Xi)(t.activeTool.type)||i.some((function(e){return(0,v.Xi)(e.type)})))&&r("changeStrokeWidth"),("freedraw"===t.activeTool.type||i.some((function(e){return"freedraw"===e.type})))&&r("changeStrokeShape"),((0,v.Yi)(t.activeTool.type)||i.some((function(e){return(0,v.Yi)(e.type)})))&&(0,X.jsxs)(X.Fragment,{children:[r("changeStrokeStyle"),r("changeSloppiness")]}),((0,v.Zi)(t.activeTool.type)||i.some((function(e){return(0,v.Zi)(e.type)})))&&(0,X.jsx)(X.Fragment,{children:r("changeRoundness")}),((0,v._i)(t.activeTool.type)||i.some((function(e){return(0,v._i)(e.type)})))&&(0,X.jsx)(X.Fragment,{children:r("changeArrowType")}),("text"===t.activeTool.type||i.some(v._b))&&(0,X.jsxs)(X.Fragment,{children:[r("changeFontFamily"),r("changeFontSize"),("text"===t.activeTool.type||(0,v.Ej)(i,n))&&r("changeTextAlign")]}),(0,v.Dj)(i,n)&&r("changeVerticalAlign"),((0,v.$i)(t.activeTool.type)||i.some((function(e){return(0,v.$i)(e.type)})))&&(0,X.jsx)(X.Fragment,{children:r("changeArrowhead")}),r("changeOpacity"),(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.layers")}),(0,X.jsxs)("div",{className:"buttonList",children:[r("sendToBack"),r("sendBackward"),r("bringForward"),r("bringToFront")]})]}),p&&!o&&(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.align")}),(0,X.jsxs)("div",{className:"buttonList",children:[c?(0,X.jsxs)(X.Fragment,{children:[r("alignRight"),r("alignHorizontallyCentered"),r("alignLeft")]}):(0,X.jsxs)(X.Fragment,{children:[r("alignLeft"),r("alignHorizontallyCentered"),r("alignRight")]}),i.length>2&&r("distributeHorizontally"),(0,X.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,X.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[r("alignTop"),r("alignVerticallyCentered"),r("alignBottom"),i.length>2&&r("distributeVertically")]})]})]}),!l&&i.length>0&&(0,X.jsxs)("fieldset",{children:[(0,X.jsx)("legend",{children:Pi("labels.actions")}),(0,X.jsxs)("div",{className:"buttonList",children:[!s.editor.isMobile&&r("duplicateSelection"),!s.editor.isMobile&&r("deleteSelectedElements"),r("group"),r("ungroup"),d&&r("hyperlink"),h&&r("cropEditor"),f&&r("toggleLinearEditor")]})]})]})},xu=function(e){var t=e.activeTool,n=e.appState,r=e.app,a=e.UIOptions,i=(0,y.useState)(!1),o=(0,d.default)(i,2),l=o[0],s=o[1],c="frame"===t.type,u="laser"===t.type,f="embeddable"===t.type,h=Uu().TTDDialogTriggerTunnel;return(0,X.jsxs)(X.Fragment,{children:[v.rg.map((function(e,i){var o,l=e.value,s=e.icon,c=e.key,u=e.numericKey,d=e.fillable;if(!1===(null===(o=a.tools)||void 0===o?void 0:o[l]))return null;var f=Pi("toolBar.".concat(l)),h=c&&(0,v.Ya)("string"==typeof c?c:c[0]),p=h?"".concat(h," ").concat(Pi("helpDialog.or")," ").concat(u):"".concat(u);return(0,X.jsx)(Hi,{className:(0,ie.A)("Shape",{fillable:d}),type:"radio",icon:s,checked:t.type===l,name:"editor-current-shape",title:"".concat((0,v.Ya)(f)," \u2014 ").concat(p),keyBindingLabel:u||h,"aria-label":(0,v.Ya)(f),"aria-keyshortcuts":p,"data-testid":"toolbar-".concat(l),onPointerDown:function(e){var t=e.pointerType;!n.penDetected&&"pen"===t&&r.togglePenMode(!0)},onChange:function(e){var t=e.pointerType;n.activeTool.type!==l&&ho("toolbar",l,"ui"),"image"===l?r.setActiveTool({type:l,insertOnCanvasDirectly:"mouse"!==t}):r.setActiveTool({type:l})}},l)})),(0,X.jsx)("div",{className:"App-toolbar__divider"}),(0,X.jsxs)(Hc,{open:l,children:[(0,X.jsx)(Hc.Trigger,{className:(0,ie.A)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":c||f||u&&!r.props.isCollaborating}),onToggle:function(){return s(!l)},title:Pi("toolBar.extraTools"),children:v.ef}),(0,X.jsxs)(Hc.Content,{onClickOutside:function(){return s(!1)},onSelect:function(){return s(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,X.jsx)(Hc.Item,{onSelect:function(){return r.setActiveTool({type:"frame"})},icon:v.ff,shortcut:v.hg.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:c,children:Pi("toolBar.frame")}),(0,X.jsx)(Hc.Item,{onSelect:function(){return r.setActiveTool({type:"embeddable"})},icon:v.vd,"data-testid":"toolbar-embeddable",selected:f,children:Pi("toolBar.embeddable")}),(0,X.jsx)(Hc.Item,{onSelect:function(){return r.setActiveTool({type:"laser"})},icon:v.if,"data-testid":"toolbar-laser",selected:u,shortcut:v.hg.K.toLocaleUpperCase(),children:Pi("toolBar.laser")}),(0,X.jsx)("div",{style:{margin:"6px 0",fontSize:14,fontWeight:600},children:"Generate"}),!1!==r.props.aiEnabled&&(0,X.jsx)(h.Out,{}),(0,X.jsx)(Hc.Item,{onSelect:function(){return r.setOpenDialog({name:"ttd",tab:"mermaid"})},icon:v.gf,"data-testid":"toolbar-embeddable",children:Pi("toolBar.mermaidToExcalidraw")}),!1!==r.props.aiEnabled&&r.plugins.diagramToCode&&(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)(Hc.Item,{onSelect:function(){return r.onMagicframeToolSelect()},icon:v.jf,"data-testid":"toolbar-magicframe",children:[Pi("toolBar.magicframe"),(0,X.jsx)(Hc.Item.Badge,{children:"AI"})]})})]})]})]})},wu=function(e){var t=e.renderAction;e.zoom;return(0,X.jsx)(gc.Col,{gap:1,className:v.E.ZOOM_ACTIONS,children:(0,X.jsxs)(gc.Row,{align:"center",children:[t("zoomOut"),t("resetZoom"),t("zoomIn")]})})},Eu=function(e){var t=e.renderAction,n=e.className;return(0,X.jsxs)("div",{className:"undo-redo-buttons ".concat(n),children:[(0,X.jsx)("div",{className:"undo-button-container",children:(0,X.jsx)(Il,{label:Pi("buttons.undo"),children:t("undo")})}),(0,X.jsx)("div",{className:"redo-button-container",children:(0,X.jsxs)(Il,{label:Pi("buttons.redo"),children:[" ",t("redo")]})})]})},ku=function(e){var t=e.actionManager,n=e.showExitZenModeBtn;return(0,X.jsx)("button",{type:"button",className:(0,ie.A)("disable-zen-mode",{"disable-zen-mode--visible":n}),onClick:function(){return t.executeAction(Ms)},children:Pi("buttons.exitZenMode")})},Su=function(e){var t=e.renderAction,n=e.className;return(0,X.jsx)("div",{className:"finalize-button ".concat(n),children:t("finalize",{size:"small"})})},Mu=function(e){var t=(0,y.useRef)({userFn:e});return t.current.userFn=e,t.current.stableFn||(t.current.stableFn=function(){var e;return(e=t.current).userFn.apply(e,arguments)}),t.current.stableFn},Cu=E(null),Iu=function(){var e=wi(Cu),t=(0,d.default)(e,2),n=t[0],r=t[1],a=cv();return n&&"clearCanvas"===n?(0,X.jsx)(Cc,{onConfirm:function(){a.executeAction(jl),r(null)},onCancel:function(){return r(null)},title:Pi("clearCanvasDialog.title"),children:(0,X.jsxs)("p",{className:"clear-canvas__content",children:[" ",Pi("alerts.clearReset")]})}):null},ju={};(0,b.c)(ju,{toggleTheme:function(){return Tu}});var Tu=(0,s.default)((0,s.default)({},Rl),{},{category:"App",label:"Toggle theme",perform:function(e){e.actionManager.executeAction(Rl,"commandPalette")}}),Au=(0,v.$c)({name:"copyElementLink",label:"labels.copyElementLink",icon:v._e,trackEvent:{category:"element"},perform:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r,a){var i,o;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,v.vk)(t,n),e.prev=1,!window.location){e.next=12;break}if(!(o=(0,v.Zh)(i,n))){e.next=10;break}return e.next=7,(0,v.oi)(a.props.generateLinkForSelection?a.props.generateLinkForSelection(o.id,o.type):(0,v.Yh)(o.id,o.type));case 7:e.t0={appState:{toast:{message:Pi("toast.elementLinkCopied"),closable:!0}},captureUpdate:v.Wg.EVENTUALLY},e.next=11;break;case 10:e.t0={appState:n,elements:t,app:a,captureUpdate:v.Wg.EVENTUALLY};case 11:return e.abrupt("return",e.t0);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(1),console.error(e.t1);case 17:return e.abrupt("return",{appState:n,elements:t,app:a,captureUpdate:v.Wg.EVENTUALLY});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),predicate:function(e,t){return(0,v._h)((0,v.vk)(e,t))}}),Du=(0,v.$c)({name:"linkToElement",label:"labels.linkToElement",icon:v.Pf,perform:function(e,t,n,r){var a=(0,v.vk)(e,t);return 1===a.length&&(0,v._h)(a)?{appState:(0,s.default)((0,s.default)({},t),{},{openDialog:{name:"elementLinkSelector",sourceElementId:(0,v.vk)(e,t)[0].id}}),captureUpdate:v.Wg.IMMEDIATELY}:{elements:e,appState:t,app:r,captureUpdate:v.Wg.EVENTUALLY}},predicate:function(e,t,n,r){var a,i=(0,v.vk)(e,t);return"elementLinkSelector"!==(null===(a=t.openDialog)||void 0===a?void 0:a.name)&&1===i.length&&(0,v._h)(i)},trackEvent:!1}),_u=E(null),Lu={app:"App",export:"Export",tools:"Tools",editor:"Editor",elements:"Elements",links:"Links"},Ru=function(e){switch(e){case Lu.app:return 1;case Lu.export:return 2;case Lu.editor:return 3;case Lu.tools:return 4;case Lu.elements:return 5;case Lu.links:return 6;default:return 10}},Pu=function(e){var t=e.shortcut,n=e.className,r=e.children,a=t.replace("++","+$").split("+");return(0,X.jsxs)("div",{className:(0,ie.A)("shortcut",n),children:[a.map((function(e,t){return(0,X.jsx)("div",{className:"shortcut-wrapper",children:(0,X.jsx)("div",{className:"shortcut-key",children:"$"===e?"+":e})},e)})),(0,X.jsx)("div",{className:"shortcut-desc",children:r})]})},Nu=function(e){return!e.altKey&&e[v.hg.CTRL_OR_CMD]&&(e.shiftKey&&e.key.toLowerCase()===v.hg.P||e.key===v.hg.SLASH)};Object.assign((function(e){var t,n=_o(),r=sv();return(0,y.useEffect)((function(){var e=function(e){Nu(e)&&(e.preventDefault(),e.stopPropagation(),r((function(e){var t,n="commandPalette"===(null===(t=e.openDialog)||void 0===t?void 0:t.name)?null:{name:"commandPalette"};return n&&ho("command_palette","open","shortcut"),{openDialog:n}})))};return window.addEventListener("keydown",e,{capture:!0}),function(){return window.removeEventListener("keydown",e,{capture:!0})}}),[r]),"commandPalette"!==(null===(t=n.openDialog)||void 0===t?void 0:t.name)?null:(0,X.jsx)(Fu,(0,s.default)({},e))}),{defaultItems:ju});function Fu(e){var t=e.customCommandPaletteItems,n=nv(),r=_o(),a=sv(),i=rv(),o=cv(),l=wi(_u),u=(0,d.default)(l,2),f=u[0],h=u[1],U=(0,y.useState)(null),m=(0,d.default)(U,2),g=m[0],b=m[1],x=(0,y.useRef)(null),w=Po({uiAppState:r,customCommandPaletteItems:t,appProps:i});(0,y.useEffect)((function(){var e=w.uiAppState,t=w.customCommandPaletteItems,r=w.appProps,i=function(t){var r="";return t.label&&(r="function"==typeof t.label?Pi(t.label(n.scene.getNonDeletedElements(),e,n)):Pi(t.label)),r},l=function(t){return"function"==typeof t.icon?t.icon(e,n.scene.getNonDeletedElements()):t.icon},c=[],u=function(e,t,n){var r={label:i(e),icon:l(e),category:t,shortcut:cu(e.name),keywords:e.keywords,predicate:e.predicate,viewMode:e.viewMode,perform:function(){o.executeAction(e,"commandPalette")}};return n?n(r,e):r};if(e&&n.scene&&o){var d,U=[o.actions.group,o.actions.ungroup,o.actions.cut,o.actions.copy,o.actions.deleteSelectedElements,o.actions.wrapSelectionInFrame,o.actions.copyStyles,o.actions.pasteStyles,o.actions.bringToFront,o.actions.bringForward,o.actions.sendBackward,o.actions.sendToBack,o.actions.alignTop,o.actions.alignBottom,o.actions.alignLeft,o.actions.alignRight,o.actions.alignVerticallyCentered,o.actions.alignHorizontallyCentered,o.actions.duplicateSelection,o.actions.flipHorizontal,o.actions.flipVertical,o.actions.zoomToFitSelection,o.actions.zoomToFitSelectionInViewport,o.actions.increaseFontSize,o.actions.decreaseFontSize,o.actions.toggleLinearEditor,o.actions.cropEditor,Hs,Au,Du].map((function(e){return u(e,Lu.elements,(function(e,t){return(0,s.default)((0,s.default)({},e),{},{predicate:t.predicate?t.predicate:function(e,t,n,r){return(0,v.vk)(e,t).length>0}})}))})),m=[o.actions.toggleHandTool,o.actions.setFrameAsActiveTool].map((function(e){return u(e,Lu.tools)})),g=[o.actions.undo,o.actions.redo,o.actions.zoomIn,o.actions.zoomOut,o.actions.resetZoom,o.actions.zoomToFit,o.actions.zenMode,o.actions.viewMode,o.actions.gridMode,o.actions.objectsSnapMode,o.actions.toggleShortcuts,o.actions.selectAll,o.actions.toggleElementLock,o.actions.unlockAllElements,o.actions.stats].map((function(e){return u(e,Lu.editor)})),y=[o.actions.saveToActiveFile,o.actions.saveFileToDisk,o.actions.copyAsPng,o.actions.copyAsSvg].map((function(e){return u(e,Lu.export)}));c=[].concat((0,p.default)(U),(0,p.default)(g),[{label:i(jl),icon:l(jl),shortcut:cu(jl.name),category:Lu.editor,keywords:["delete","destroy"],viewMode:!1,perform:function(){Mi.set(Cu,"clearCanvas")}},{label:Pi("buttons.exportImage"),category:Lu.export,icon:v.Od,shortcut:cu("imageExport"),keywords:["export","image","png","jpeg","svg","clipboard","picture"],perform:function(){a({openDialog:{name:"imageExport"}})}}],(0,p.default)(y));var x=[{label:Pi("toolBar.library"),category:Lu.app,icon:v.fd,viewMode:!1,perform:function(){e.openSidebar?a({openSidebar:null}):a({openSidebar:{name:v.ya.name,tab:v.ya.defaultTab}})}},{label:Pi("search.title"),category:Lu.app,icon:v.pf,viewMode:!0,perform:function(){o.executeAction(Bu)}},{label:Pi("labels.changeStroke"),keywords:["color","outline"],category:Lu.elements,icon:v.Nd,viewMode:!1,predicate:function(e,t){var n=(0,v.vk)(e,t);return n.length>0&&gu(t,n)},perform:function(){a((function(e){return{openMenu:"shape"===e.openMenu?null:"shape",openPopup:"elementStroke"}}))}},{label:Pi("labels.changeBackground"),keywords:["color","fill"],icon:v.Nd,category:Lu.elements,viewMode:!1,predicate:function(e,t){var n=(0,v.vk)(e,t);return n.length>0&&bu(t,n)},perform:function(){a((function(e){return{openMenu:"shape"===e.openMenu?null:"shape",openPopup:"elementBackground"}}))}},{label:Pi("labels.canvasBackground"),keywords:["color"],icon:v.Nd,category:Lu.editor,viewMode:!1,perform:function(){a((function(e){return{openMenu:"canvas"===e.openMenu?null:"canvas",openPopup:"canvasBackground"}}))}}].concat((0,p.default)(v.rg.reduce((function(e,t){var a,i=t.value,o=t.icon,l=t.key,s=t.numericKey;if(!1===(null===(a=r.UIOptions.tools)||void 0===a?void 0:a[i]))return e;var c=l&&(0,v.Ya)("string"==typeof l?l:l[0])||s,u={label:Pi("toolBar.".concat(i)),category:Lu.tools,shortcut:c,icon:o,keywords:["toolbar"],viewMode:!1,perform:function(e){var t=e.event;"image"===i?n.setActiveTool({type:i,insertOnCanvasDirectly:"keydown"===t.type}):n.setActiveTool({type:i})}};return e.push(u),e}),[])),(0,p.default)(m),[{label:Pi("toolBar.lock"),category:Lu.tools,icon:e.activeTool.locked?v.kd:v.jd,shortcut:v.hg.Q.toLocaleUpperCase(),viewMode:!1,perform:function(){n.toggleLock()}},{label:"".concat(Pi("labels.textToDiagram"),"..."),category:Lu.tools,icon:v.of,viewMode:!1,predicate:r.aiEnabled,perform:function(){a((function(e){return(0,s.default)((0,s.default)({},e),{},{openDialog:{name:"ttd",tab:"text-to-diagram"}})}))}},{label:"".concat(Pi("toolBar.mermaidToExcalidraw"),"..."),category:Lu.tools,icon:v.gf,viewMode:!1,predicate:r.aiEnabled,perform:function(){a((function(e){return(0,s.default)((0,s.default)({},e),{},{openDialog:{name:"ttd",tab:"mermaid"}})}))}}]),E=[].concat((0,p.default)(c),(0,p.default)(x),(0,p.default)(t||[])).map((function(e){var t,n;return(0,s.default)((0,s.default)({},e),{},{icon:e.icon||v.tf,order:null!==(t=e.order)&&void 0!==t?t:Ru(e.category),haystack:"".concat(pu(e.label.toLocaleLowerCase())," ").concat((null===(n=e.keywords)||void 0===n?void 0:n.join(" "))||"")})}));b(E),h(null!==(d=E.find((function(e){return e.label===(null===f||void 0===f?void 0:f.label)})))&&void 0!==d?d:null)}}),[w,n,o,b,null===f||void 0===f?void 0:f.label,h,a]);var E=(0,y.useState)(""),k=(0,d.default)(E,2),S=k[0],M=k[1],C=(0,y.useState)(null),I=(0,d.default)(C,2),j=I[0],T=I[1],A=(0,y.useState)({}),D=(0,d.default)(A,2),_=D[0],L=D[1],R=function(e){a({openDialog:null},e),M("")},P=function(e,t){var n;"commandPalette"===(null===(n=r.openDialog)||void 0===n?void 0:n.name)&&(t.stopPropagation(),t.preventDefault(),document.body.classList.add("excalidraw-animations-disabled"),R((function(){e.perform({actionManager:o,event:t}),h(e),requestAnimationFrame((function(){document.body.classList.remove("excalidraw-animations-disabled")}))})))},N=Mu((function(e){return(!1!==e.viewMode||!r.viewModeEnabled)&&("function"==typeof e.predicate?e.predicate(n.scene.getNonDeletedElements(),r,i,n):void 0===e.predicate||e.predicate)})),F=Mu((function(e){var t=(0,v.ab)(e.target)||Nu(e)||e.key===v.hg.ESCAPE;if(!t||e.key===v.hg.ARROW_UP||e.key===v.hg.ARROW_DOWN||e.key===v.hg.ENTER){var n=Object.values(_).flat(),r=f&&!S&&N(f);if(e.key!==v.hg.ARROW_UP)if(e.key!==v.hg.ARROW_DOWN){if(e.key===v.hg.ENTER&&j&&setTimeout((function(){P(j,e)})),!t){var a;if(e.stopPropagation(),/^[a-zA-Z0-9]$/.test(e.key))return void(null===x||void 0===x||null===(a=x.current)||void 0===a||a.focus());e.preventDefault()}}else{e.preventDefault();var i=n.findIndex((function(e){return e.label===(null===j||void 0===j?void 0:j.label)}));if(r){if(!j||i===n.length-1)return void T(f);if(j===f){var o=n[0];return void(o&&T(o))}}var l=n[(i+1)%n.length];l&&T(l)}else{e.preventDefault();var s=n.findIndex((function(e){return e.label===(null===j||void 0===j?void 0:j.label)}));if(r){if(0===s)return void T(f);if(j===f){var c=n[n.length-1];return void(c&&T(c))}}var u=n[-1===s||0===s?n.length-1:(s-1)%n.length];u&&T(u)}}}));return(0,y.useEffect)((function(){return window.addEventListener("keydown",F,{capture:!0}),function(){return window.removeEventListener("keydown",F,{capture:!0})}}),[F]),(0,y.useEffect)((function(){var e;if(g){var t=function(e){var t,n={},r=(0,c.default)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.category]?n[a.category].push(a):n[a.category]=[a]}}catch(i){r.e(i)}finally{r.f()}return n},n=g.filter(N).sort((function(e,t){return e.order-t.order})),r=!S&&f&&N(f);if(!S)return L(t(r?n.filter((function(e){return e.label!==(null===f||void 0===f?void 0:f.label)})):n)),void T(r?f:n[0]||null);var a=pu(S.toLocaleLowerCase().replace(/[<>_| -]/g,""));n=Bn.filter(a,n,{extract:function(e){return e.haystack}}).sort((function(e,t){return t.score-e.score})).map((function(e){return e.original})),L(t(n)),T(null!==(e=n[0])&&void 0!==e?e:null)}}),[S,g,N,f]),(0,X.jsxs)(iu,{onCloseRequest:function(){return R()},closeOnClickOutside:!0,title:!1,size:720,autofocus:!0,className:"command-palette-dialog",children:[(0,X.jsx)(lu,{value:S,placeholder:Pi("commandPalette.search.placeholder"),onChange:function(e){M(e)},selectOnRender:!0,ref:x}),!n.device.viewport.isMobile&&(0,X.jsxs)("div",{className:"shortcuts-wrapper",children:[(0,X.jsx)(Pu,{shortcut:"\u2191\u2193",children:Pi("commandPalette.shortcuts.select")}),(0,X.jsx)(Pu,{shortcut:"\u21b5",children:Pi("commandPalette.shortcuts.confirm")}),(0,X.jsx)(Pu,{shortcut:(0,v.kb)("Esc"),children:Pi("commandPalette.shortcuts.close")})]}),(0,X.jsxs)("div",{className:"commands",children:[f&&!S&&(0,X.jsxs)("div",{className:"command-category",children:[(0,X.jsxs)("div",{className:"command-category-title",children:[Pi("commandPalette.recents"),(0,X.jsx)("div",{className:"icon",style:{marginLeft:"6px"},children:v.qf})]}),(0,X.jsx)(Ou,{command:f,isSelected:f.label===(null===j||void 0===j?void 0:j.label),onClick:function(e){return P(f,e)},disabled:!N(f),onMouseMove:function(){return T(f)},showShortcut:!n.device.viewport.isMobile,appState:r})]}),Object.keys(_).length>0?Object.keys(_).map((function(e,t){return(0,X.jsxs)("div",{className:"command-category",children:[(0,X.jsx)("div",{className:"command-category-title",children:e}),_[e].map((function(e){return(0,X.jsx)(Ou,{command:e,isSelected:e.label===(null===j||void 0===j?void 0:j.label),onClick:function(t){return P(e,t)},onMouseMove:function(){return T(e)},showShortcut:!n.device.viewport.isMobile,appState:r},e.label)}))]},e)})):g?(0,X.jsxs)("div",{className:"no-match",children:[(0,X.jsx)("div",{className:"icon",children:v.pf})," ",Pi("commandPalette.search.noMatch")]}):null]})]})}var Ou=function(e){var t=e.command,n=e.isSelected,r=e.disabled,a=e.onMouseMove,i=e.onClick,o=e.showShortcut,l=e.appState,s=function(){};return(0,X.jsxs)("div",{className:(0,ie.A)("command-item",{"item-selected":n,"item-disabled":r}),ref:function(e){var t;n&&!r&&(null===e||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{block:"nearest"}))},onClick:r?s:i,onMouseMove:r?s:a,title:r?Pi("commandPalette.itemNotAvailable"):"",children:[(0,X.jsxs)("div",{className:"name",children:[t.icon&&(0,X.jsx)(Yo,{icon:"function"==typeof t.icon?t.icon(l):t.icon}),t.label]}),o&&t.shortcut&&(0,X.jsx)(Pu,{shortcut:t.shortcut})]})},zu=(0,v.$c)({name:"toggleLinearEditor",category:Lu.elements,label:function(e,t,n){var r;return"arrow"===(null===(r=n.scene.getSelectedElements({selectedElementIds:t.selectedElementIds})[0])||void 0===r?void 0:r.type)?"labels.lineEditor.editArrow":"labels.lineEditor.edit"},keywords:["line"],trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return!(t.editingLinearElement||1!==a.length||!(0,v.cc)(a[0])||(0,v.ec)(a[0]))},perform:function(e,t,n,r){var a,i=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0],o=(null===(a=t.editingLinearElement)||void 0===a?void 0:a.elementId)===i.id?null:new v.pj(i);return{appState:(0,s.default)((0,s.default)({},t),{},{editingLinearElement:o}),captureUpdate:v.Wg.IMMEDIATELY}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.app.scene.getSelectedElements({selectedElementIds:t.selectedElementIds})[0],a=Pi("arrow"===r.type?"labels.lineEditor.editArrow":"labels.lineEditor.edit");return(0,X.jsx)(Hi,{type:"button",icon:v.Hf,title:a,"aria-label":a,onClick:function(){return n(null)}})}}),Bu=(0,v.$c)({name:"searchMenu",icon:v.pf,keywords:["search","find"],label:"search.title",viewMode:!0,trackEvent:{category:"search_menu",action:"toggle",predicate:function(e){return e.gridModeEnabled}},perform:function(e,t,n,r){var a;if((null===(a=t.openSidebar)||void 0===a?void 0:a.name)===v.ya.name&&t.openSidebar.tab===v.xa){var i,o=null===(i=r.excalidrawContainerValue.container)||void 0===i?void 0:i.querySelector(".".concat(v.E.SEARCH_MENU_INPUT_WRAPPER," input"));return null!==o&&void 0!==o&&o.matches(":focus")?{appState:(0,s.default)((0,s.default)({},t),{},{openSidebar:null}),captureUpdate:v.Wg.EVENTUALLY}:(null!==o&&void 0!==o&&o.focus(),null!==o&&void 0!==o&&o.select(),!1)}return{appState:(0,s.default)((0,s.default)({},t),{},{openSidebar:{name:v.ya.name,tab:v.xa},openDialog:null}),captureUpdate:v.Wg.EVENTUALLY}},checked:function(e){return e.gridModeEnabled},predicate:function(e,t,n){return void 0===n.gridModeEnabled},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.F}}),Hu=(0,v.$c)({name:"cropEditor",label:"helpDialog.cropStart",icon:v.Of,viewMode:!0,trackEvent:{category:"menu"},keywords:["image","crop"],perform:function(e,t,n,r){var a=r.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!0})[0];return{appState:(0,s.default)((0,s.default)({},t),{},{isCropping:!1,croppingElementId:a.id}),captureUpdate:v.Wg.IMMEDIATELY}},predicate:function(e,t,n,r){var a=r.scene.getSelectedElements(t);return!(t.croppingElementId||1!==a.length||!(0,v.Wb)(a[0]))},PanelComponent:function(e){e.appState;var t=e.updateData,n=(e.app,Pi("helpDialog.cropStart"));return(0,X.jsx)(Hi,{type:"button",icon:v.Of,title:n,"aria-label":n,onClick:function(){return t(null)}})}}),Wu=(0,o.default)((function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,i.default)(this,e),this.isUndoStackEmpty=t,this.isRedoStackEmpty=n})),Xu=function(){function e(){(0,i.default)(this,e),(0,b.d)(this,"onHistoryChangedEmitter",new v.Vg),(0,b.d)(this,"undoStack",[]),(0,b.d)(this,"redoStack",[])}return(0,o.default)(e,[{key:"isUndoStackEmpty",get:function(){return 0===this.undoStack.length}},{key:"isRedoStackEmpty",get:function(){return 0===this.redoStack.length}},{key:"clear",value:function(){this.undoStack.length=0,this.redoStack.length=0}},{key:"record",value:function(e,t){var n=Vu.create(t,e);n.isEmpty()||(this.undoStack.push(n.inverse()),n.elementsChange.isEmpty()||(this.redoStack.length=0),this.onHistoryChangedEmitter.trigger(new Wu(this.isUndoStackEmpty,this.isRedoStackEmpty)))}},{key:"undo",value:function(t,n,r){var a=this;return this.perform(t,n,r,(function(){return e.pop(a.undoStack)}),(function(n){return e.push(a.redoStack,n,t)}))}},{key:"redo",value:function(t,n,r){var a=this;return this.perform(t,n,r,(function(){return e.pop(a.redoStack)}),(function(n){return e.push(a.undoStack,n,t)}))}},{key:"perform",value:function(e,t,n,r,a){try{var i=r();if(null===i)return;for(var o=e,l=t,s=!1;i;){try{var c=i.applyTo(o,l,n),u=(0,d.default)(c,3);o=u[0],l=u[1],s=u[2]}finally{a(i)}if(s)break;i=r()}return[o,l]}finally{this.onHistoryChangedEmitter.trigger(new Wu(this.isUndoStackEmpty,this.isRedoStackEmpty))}}}],[{key:"pop",value:function(e){if(!e.length)return null;var t=e.pop();return void 0!==t?t:null}},{key:"push",value:function(e,t,n){var r=t.inverse().applyLatestChanges(n);return e.push(r)}}])}(),Vu=function(){function e(t,n){(0,i.default)(this,e),this.appStateChange=t,this.elementsChange=n}return(0,o.default)(e,[{key:"inverse",value:function(){return new e(this.appStateChange.inverse(),this.elementsChange.inverse())}},{key:"applyTo",value:function(e,t,n){var r=this.elementsChange.applyTo(e,n.elements),a=(0,d.default)(r,2),i=a[0],o=a[1],l=this.appStateChange.applyTo(t,i),s=(0,d.default)(l,2),c=s[0],u=s[1];return[i,c,o||u]}},{key:"applyLatestChanges",value:function(t){var n=this.elementsChange.applyLatestChanges(t);return e.create(this.appStateChange,n)}},{key:"isEmpty",value:function(){return this.appStateChange.isEmpty()&&this.elementsChange.isEmpty()}}],[{key:"create",value:function(t,n){return new e(t,n)}}])}(),Gu=function(e,t){var n=(0,y.useState)(t),r=(0,d.default)(n,2),a=r[0],i=r[1];return(0,y.useEffect)((function(){var t=e.on((function(e){i(e)}));return function(){t()}}),[e]),a},Yu=function(e,t,n){if(!t.multiElement&&!t.resizingElement&&!t.editingTextElement&&!t.newElement&&!t.selectedElementsAreBeingDragged&&!t.selectionElement&&!e.flowChartCreator.isCreatingChart){var r=n();if(!r)return{captureUpdate:v.Wg.EVENTUALLY};var a=(0,d.default)(r,2),i=a[0];return{appState:a[1],elements:Array.from(i.values()),captureUpdate:v.Wg.NEVER}}return{captureUpdate:v.Wg.EVENTUALLY}},Zu=function(e,t,n,r,a,i){if(e.trackEvent)try{"object"==typeof e.trackEvent&&(!e.trackEvent.predicate||e.trackEvent.predicate(n,r,i))&&ho(e.trackEvent.category,e.trackEvent.action||e.name,"".concat(t," (").concat(a.device.editor.isMobile?"mobile":"desktop",")"))}catch(o){console.error("error while logging action:",o)}},Ku=function(){return(0,o.default)((function e(t,n,r,a){var o=this;(0,i.default)(this,e),(0,b.d)(this,"actions",{}),(0,b.d)(this,"updater"),(0,b.d)(this,"getAppState"),(0,b.d)(this,"getElementsIncludingDeleted"),(0,b.d)(this,"app"),(0,b.d)(this,"renderAction",(function(e,t){var n=o.app.props.UIOptions.canvasActions;if(o.actions[e]&&"PanelComponent"in o.actions[e]&&(!(e in n)||n[e])){var r=o.actions[e],a=r.PanelComponent;a.displayName="PanelComponent";var i=o.getElementsIncludingDeleted(),l=o.getAppState();return(0,X.jsx)(a,{elements:o.getElementsIncludingDeleted(),appState:o.getAppState(),updateData:function(e){Zu(r,"ui",l,i,o.app,e),o.updater(r.perform(o.getElementsIncludingDeleted(),o.getAppState(),e,o.app))},appProps:o.app.props,app:o.app,data:t})}return null})),(0,b.d)(this,"isActionEnabled",(function(e){var t=o.getElementsIncludingDeleted(),n=o.getAppState();return!e.predicate||e.predicate(t,n,o.app.props,o.app)})),this.updater=function(e){if(!(0,v.Fb)(e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=a}),[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted(),t.app)}));if(1!==r.length)return r.length>1&&console.warn("Canceling as multiple actions match this shortcut",r),!1;var a=r[0];if(this.getAppState().viewModeEnabled&&!0!==a.viewMode)return!1;var i=this.getElementsIncludingDeleted(),o=this.getAppState();return Zu(a,"keyboard",o,i,this.app,null),e.preventDefault(),e.stopPropagation(),this.updater(r[0].perform(i,o,null,this.app)),!0}},{key:"executeAction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getElementsIncludingDeleted(),a=this.getAppState();Zu(e,t,a,r,this.app,n),this.updater(e.perform(r,a,n,this.app))}}])}(),qu=function(e){var t=Array.from(e.values());return{x:Qu(t,(function(e){return e.x}))/t.length,y:Qu(t,(function(e){return e.y}))/t.length}},$u=function(e){var t=(0,d.default)(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},Qu=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)},Ju=function(e){var t=e.children,n=e.left,r=e.top,a=e.onCloseRequest,i=e.fitInViewport,o=void 0!==i&&i,l=e.offsetLeft,s=void 0===l?0:l,c=e.offsetTop,u=void 0===c?0:c,d=e.viewportWidth,f=void 0===d?window.innerWidth:d,h=e.viewportHeight,p=void 0===h?window.innerHeight:h,U=(0,y.useRef)(null);(0,y.useEffect)((function(){var e=U.current;if(e){e.contains(document.activeElement)||e.focus();var t=function(t){if(t.key===v.hg.TAB){var n,r,a,i=(0,v.Gb)(e),o=document.activeElement,l=i.findIndex((function(e){return e===o}));o===e?(t.shiftKey?null===(n=i[i.length-1])||void 0===n||n.focus():i[0].focus(),t.preventDefault(),t.stopImmediatePropagation()):0===l&&t.shiftKey?(null!==(r=i[i.length-1])&&void 0!==r&&r.focus(),t.preventDefault(),t.stopImmediatePropagation()):l===i.length-1&&!t.shiftKey&&(null!==(a=i[0])&&void 0!==a&&a.focus(),t.preventDefault(),t.stopImmediatePropagation())}};return e.addEventListener("keydown",t),function(){return e.removeEventListener("keydown",t)}}}),[]);var m=(0,y.useRef)(null);return(0,y.useLayoutEffect)((function(){if(o&&U.current&&null!=r&&null!=n){var e,t,a=U.current,i=a.getBoundingClientRect(),l=i.width,c=i.height;if((null===(e=m.current)||void 0===e?void 0:e.top)===r&&(null===(t=m.current)||void 0===t?void 0:t.left)===n)return;m.current={top:r,left:n},l>=f?(a.style.width="".concat(f,"px"),a.style.left="0px",a.style.overflowX="scroll"):a.style.left="".concat(n+l-s>f?f-l-10:n,"px"),c>=p?(a.style.height="".concat(p-20,"px"),a.style.top="10px",a.style.overflowY="scroll"):a.style.top="".concat(r+c-u>p?p-c:r,"px")}}),[r,n,o,f,p,s,u]),(0,y.useEffect)((function(){if(a){var e=function(e){var t;(null===(t=U.current)||void 0===t?void 0:t.contains(e.target))||(0,oe.unstable_batchedUpdates)((function(){return a(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[a]),(0,X.jsx)("div",{className:"popover",ref:U,tabIndex:-1,children:t})},ed="separator",td=y.memo((function(e){var t=e.actionManager,n=e.items,r=e.top,a=e.left,i=e.onClose,o=lv(),l=ov(),s=n.reduce((function(e,n){return n&&(n===ed||!n.predicate||n.predicate(l,o,t.app.props,t.app))&&e.push(n),e}),[]);return(0,X.jsx)(Ju,{onCloseRequest:function(){i()},top:r,left:a,fitInViewport:!0,offsetLeft:o.offsetLeft,offsetTop:o.offsetTop,viewportWidth:o.width,viewportHeight:o.height,children:(0,X.jsx)("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()},children:s.map((function(e,n){var r;if(e===ed)return s[n-1]&&s[n-1]!==ed?(0,X.jsx)("hr",{className:"context-menu-item-separator"},n):null;var a=e.name,c="";return e.label&&(c="function"==typeof e.label?Pi(e.label(l,o,t.app)):Pi(e.label)),(0,X.jsx)("li",{"data-testid":a,onClick:function(){i((function(){t.executeAction(e,"contextMenu")}))},children:(0,X.jsxs)("button",{type:"button",className:(0,ie.A)("context-menu-item",{dangerous:"deleteSelectedElements"===a,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,o)}),children:[(0,X.jsx)("div",{className:"context-menu-item__label",children:c}),(0,X.jsx)("kbd",{className:"context-menu-item__shortcut",children:a?cu(a):""})]})},n)}))})})})),nd=function(e){var t=e.children,n=e.onClose,r=(0,y.useState)(!!t),a=(0,d.default)(r,2),i=a[0],o=a[1],l=iv().container,s=y.useCallback((function(){o(!1),n&&n(),null===l||void 0===l||l.focus()}),[n,l]);return(0,X.jsx)(X.Fragment,{children:i&&(0,X.jsx)(iu,{size:"small",onCloseRequest:s,title:Pi("errorDialog.title"),children:(0,X.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})},rd=function(e){var t=e.onChange,n=e.value,r=e.choices,a=e.name;return(0,X.jsx)("div",{className:"RadioGroup",children:r.map((function(e){return(0,X.jsxs)("div",{className:(0,ie.A)("RadioGroup__choice",{active:e.value===n}),title:e.ariaLabel,children:[(0,X.jsx)("input",{name:a,type:"radio",checked:e.value===n,onChange:function(){return t(e.value)},"aria-label":e.ariaLabel}),e.label]},String(e.value))}))})},ad=function(e){var t=e.title,n=e.name,r=e.checked,a=e.onChange,i=e.disabled,o=void 0!==i&&i;return(0,X.jsx)("div",{className:(0,ie.A)("Switch",{toggled:r,disabled:o}),children:(0,X.jsx)("input",{name:n,id:n,title:t,type:"checkbox",checked:r,disabled:o,onChange:function(){return a(!r)},onKeyDown:function(e){" "===e.key&&a(!r)}})})},id=(0,y.forwardRef)((function(e,t){var n=e.children,r=e.icon,a=e.onClick,i=e.label,o=e.variant,l=void 0===o?"filled":o,s=e.color,c=void 0===s?"primary":s,u=e.size,p=void 0===u?"medium":u,U=e.fullWidth,m=e.className,g=e.status,b=(0,y.useState)(!1),x=(0,d.default)(b,2),w=x[0],E=x[1],k=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===a||void 0===a?void 0:a(t),!(0,v.Fb)(n)){e.next=18;break}return r=window.setTimeout((function(){E(!0)}),50),e.prev=3,e.next=6,n;case 6:e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(3),!(e.t0 instanceof v.tc)){e.next=14;break}console.warn(e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.prev=15,clearTimeout(r),E(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,8,15,18]])})));return function(t){return e.apply(this,arguments)}}(),S=w?"loading":g;return c="success"===S?"success":c,(0,X.jsx)("button",{className:(0,ie.A)("ExcButton","ExcButton--color-".concat(c),"ExcButton--variant-".concat(l),"ExcButton--size-".concat(p),"ExcButton--status-".concat(S),{"ExcButton--fullWidth":U},m),onClick:k,type:"button","aria-label":i,ref:t,disabled:"loading"===S||"success"===S,children:(0,X.jsxs)("div",{className:"ExcButton__contents",children:["loading"===S?(0,X.jsx)(Oi,{className:"ExcButton__statusIcon"}):"success"===S&&(0,X.jsx)("div",{className:"ExcButton__statusIcon",children:v.bf}),r&&(0,X.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:r}),"icon"!==l&&(null!==n&&void 0!==n?n:i)]})})})),od="filter"in document.createElement("canvas").getContext("2d"),ld=function(){return(0,X.jsxs)("div",{children:[(0,X.jsx)("h3",{children:Pi("canvasError.cannotShowPreview")}),(0,X.jsx)("p",{children:(0,X.jsx)("span",{children:Pi("canvasError.canvasTooBig")})}),(0,X.jsxs)("em",{children:["(",Pi("canvasError.canvasTooBigTip"),")"]})]})},sd=function(e){var t=e.appStateSnapshot,n=e.elementsSnapshot,r=e.files,a=e.actionManager,i=e.onExportImage,o=e.name,l=(0,v.tk)(n,t),c=(0,y.useState)(o),u=(0,d.default)(c,2),p=u[0],U=u[1],m=(0,y.useState)(l),g=(0,d.default)(m,2),b=g[0],x=g[1],w=(0,y.useState)(t.exportBackground),E=(0,d.default)(w,2),k=E[0],S=E[1],M=(0,y.useState)(t.exportWithDarkMode),C=(0,d.default)(M,2),I=C[0],j=C[1],T=(0,y.useState)(t.exportEmbedScene),A=(0,d.default)(T,2),D=A[0],_=A[1],L=(0,y.useState)(t.exportScale),R=(0,d.default)(L,2),P=R[0],N=R[1],F=(0,y.useRef)(null),O=(0,y.useState)(null),z=(0,d.default)(O,2),B=z[0],H=z[1],W=function(){var e=(0,y.useState)(null),t=(0,d.default)(e,2),n=t[0],r=t[1],a=(0,y.useRef)(0);return{copyStatus:n,resetCopyStatus:(0,y.useCallback)((function(){r(null)}),[]),onCopy:function(){clearTimeout(a.current),r("success"),a.current=window.setTimeout((function(){r(null)}),2e3)}}}(),V=W.onCopy,G=W.copyStatus,Y=W.resetCopyStatus;(0,y.useEffect)((function(){Y()}),[p,k,I,P,D,Y]);var Z=Bl(n,t,b),K=Z.exportedElements,q=Z.exportingFrame;return(0,y.useEffect)((function(){var e=F.current;if(e){var n=e.offsetWidth,a=e.offsetHeight;n&&(0,v.pi)({elements:K,appState:(0,s.default)((0,s.default)({},t),{},{name:p,exportBackground:k,exportWithDarkMode:I,exportScale:P,exportEmbedScene:D}),files:r,exportPadding:v.ma,maxWidthOrHeight:Math.max(n,a),exportingFrame:q}).then((function(t){return H(null),(0,v.yh)(t).then((function(){e.replaceChildren(t)})).catch((function(e){throw"CANVAS_POSSIBLY_TOO_BIG"===e.name?new Error(Pi("canvasError.canvasTooBig")):e}))})).catch((function(e){console.error(e),H(e)}))}}),[t,r,K,q,p,k,I,P,D]),(0,X.jsxs)("div",{className:"ImageExportModal",children:[(0,X.jsx)("h3",{children:Pi("imageExportDialog.header")}),(0,X.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,X.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:F,children:B&&(0,X.jsx)(ld,{})}),(0,X.jsx)("div",{className:"ImageExportModal__preview__filename",children:!v.eh&&(0,X.jsx)("input",{type:"text",className:"TextInput",value:p,style:{width:"30ch"},onChange:function(e){U(e.target.value),a.executeAction(Vl,"ui",e.target.value)}})})]}),(0,X.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,X.jsx)("h3",{children:Pi("imageExportDialog.header")}),l&&(0,X.jsx)(cd,{label:Pi("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,X.jsx)(ad,{name:"exportOnlySelected",checked:b,onChange:function(e){x(e)}})}),(0,X.jsx)(cd,{label:Pi("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,X.jsx)(ad,{name:"exportBackgroundSwitch",checked:k,onChange:function(e){S(e),a.executeAction(Yl,"ui",e)}})}),od&&(0,X.jsx)(cd,{label:Pi("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,X.jsx)(ad,{name:"exportDarkModeSwitch",checked:I,onChange:function(e){j(e),a.executeAction(Ql,"ui",e)}})}),(0,X.jsx)(cd,{label:Pi("imageExportDialog.label.embedScene"),tooltip:Pi("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,X.jsx)(ad,{name:"exportEmbedSwitch",checked:D,onChange:function(e){_(e),a.executeAction(Zl,"ui",e)}})}),(0,X.jsx)(cd,{label:Pi("imageExportDialog.label.scale"),name:"exportScale",children:(0,X.jsx)(rd,{name:"exportScale",value:P,onChange:function(e){N(e),a.executeAction(Gl,"ui",e)},choices:v.la.map((function(e){return{value:e,label:"".concat(e,"\xd7")}}))})}),(0,X.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,X.jsx)(id,{className:"ImageExportModal__settings__buttons__button",label:Pi("imageExportDialog.title.exportToPng"),onClick:function(){return i(v.U.png,K,{exportingFrame:q})},icon:v.Ze,children:Pi("imageExportDialog.button.exportToPng")}),(0,X.jsx)(id,{className:"ImageExportModal__settings__buttons__button",label:Pi("imageExportDialog.title.exportToSvg"),onClick:function(){return i(v.U.svg,K,{exportingFrame:q})},icon:v.Ze,children:Pi("imageExportDialog.button.exportToSvg")}),(v.ii||v.n)&&(0,X.jsx)(id,{className:"ImageExportModal__settings__buttons__button",label:Pi("imageExportDialog.title.copyPngToClipboard"),status:G,onClick:function(){var e=(0,h.default)((0,f.default)().mark((function e(){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(v.U.clipboard,K,{exportingFrame:q});case 2:V();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),icon:v._e,children:Pi("imageExportDialog.button.copyPngToClipboard")})]})]})]})},cd=function(e){var t=e.label,n=e.children,r=e.tooltip,a=e.name;return(0,X.jsxs)("div",{className:"ImageExportModal__settings__setting",title:t,children:[(0,X.jsxs)("label",{htmlFor:a,className:"ImageExportModal__settings__setting__label",children:[t,r&&(0,X.jsx)(Il,{label:r,long:!0,children:v.af})]}),(0,X.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:n})]})},ud=function(e){var t=e.elements,n=e.appState,r=e.files,a=e.actionManager,i=e.onExportImage,o=e.onCloseRequest,l=e.name,s=(0,y.useState)((function(){return{appStateSnapshot:(0,v.Nb)(n),elementsSnapshot:(0,v.Nb)(t)}})),c=(0,d.default)(s,1)[0],u=c.appStateSnapshot,f=c.elementsSnapshot;return(0,X.jsx)(iu,{onCloseRequest:o,size:"wide",title:!1,children:(0,X.jsx)(sd,{elementsSnapshot:f,appStateSnapshot:u,files:r,actionManager:a,onExportImage:i,name:l})})},dd=function(e){var t=e.children,n=e.side,r=e.className;return(0,X.jsx)("div",{className:(0,ie.A)("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})},fd=100,hd=100,pd=function(e){switch(e){case v.hg.ARROW_UP:return"up";case v.hg.ARROW_DOWN:return"down";case v.hg.ARROW_RIGHT:return"right";case v.hg.ARROW_LEFT:return"left";default:return"right"}},vd=function(e,t,n,r){var a=(0,p.default)(n.values()).reduce((function(r,a){var i,o;if((0,v.ec)(a)&&(o=a["predecessors"===e?"startBinding":"endBinding"])&&(null===(i=a["predecessors"===e?"endBinding":"startBinding"])||void 0===i?void 0:i.elementId)===t.id){var l=n.get(o.elementId);if(!l)return r;(0,v.Kb)((0,v.ic)(l),"not an ExcalidrawBindableElement");var s="predecessors"===e?a.points[a.points.length-1]:[0,0],c=(0,v.Dg)(t,(0,v.vg)(t),[s[0]+a.x,s[1]+a.y]);r.push({relative:l,heading:c})}return r}),[]);switch(r){case"up":return a.filter((function(e){return(0,v.Cg)(e.heading,v.Bg)})).map((function(e){return e.relative}));case"down":return a.filter((function(e){return(0,v.Cg)(e.heading,v.zg)})).map((function(e){return e.relative}));case"right":return a.filter((function(e){return(0,v.Cg)(e.heading,v.yg)})).map((function(e){return e.relative}));case"left":return a.filter((function(e){return(0,v.Cg)(e.heading,v.Ag)})).map((function(e){return e.relative}))}},Ud=function(e,t,n){return vd("successors",e,t,n)},md=function(e,t,n){return vd("predecessors",e,t,n)},gd=function(e,t,n,r){var a=Ud(e,t,r),i=md(e,t,r),o=function(e,t,n){var r=hd+e.width;if("up"===n||"down"===n){var a=fd+e.height,i=e.x,o=e.x+e.width;if(t.every((function(e){return e.x+e.width<i||e.x>o})))return{x:0,y:a*("up"===n?-1:1)}}else if("right"===n||"left"===n){var l=e.y,s=e.y+e.height;if(t.every((function(e){return e.y+e.height<l||e.y>s})))return{x:(hd+e.width)*("left"===n?-1:1),y:0}}if("up"===n||"down"===n){var c=fd+e.height,u=(t.length,c),d=0===t.length?0:(t.length+1)%2===0?(t.length+1)/2*r:t.length/2*r*-1;return"up"===n?{x:d,y:-1*u}:{x:d,y:u}}var f=fd+e.height,h=(t.length,hd+e.width),p=0===t.length?0:(t.length+1)%2===0?(t.length+1)/2*f:t.length/2*f*-1;return"left"===n?{x:-1*h,y:p}:{x:h,y:p}}(e,[].concat((0,p.default)(a),(0,p.default)(i)),r),l=(0,v.Sf)({type:e.type,x:e.x+o.x,y:e.y+o.y,width:e.width,height:e.height,roundness:e.roundness,roughness:e.roughness,backgroundColor:e.backgroundColor,strokeColor:e.strokeColor,strokeWidth:e.strokeWidth,opacity:e.opacity,fillStyle:e.fillStyle,strokeStyle:e.strokeStyle});return(0,v.Kb)((0,v.lc)(l),"not an ExcalidrawFlowchartNodeElement"),{nextNode:l,bindingArrow:bd(e,l,t,r,n)}},bd=function(e,t,n,r,a){var i,o,l,c;switch(r){case"up":i=e.x+e.width/2,o=e.y-6;break;case"down":i=e.x+e.width/2,o=e.y+e.height+6;break;case"right":i=e.x+e.width+6,o=e.y+e.height/2;break;case"left":i=e.x-6,o=e.y+e.height/2}switch(r){case"up":l=t.x+t.width/2-i,c=t.y+t.height-o+6;break;case"down":l=t.x+t.width/2-i,c=t.y-o-6;break;case"right":l=t.x-i-6,c=t.y-o+t.height/2;break;case"left":l=t.x+t.width-i+6,c=t.y-o+t.height/2}var u=(0,v.$f)({type:"arrow",x:i,y:o,startArrowhead:null,endArrowhead:a.currentItemEndArrowhead,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeWidth:e.strokeWidth,opacity:e.opacity,roughness:e.roughness,points:[(0,v.Ua)(0,0),(0,v.Ua)(l,c)],elbowed:!0});(0,v.Mg)(u,e,"start",n),(0,v.Mg)(u,t,"end",n);var d=new Map;d.set(e.id,e),d.set(t.id,t),d.set(u.id,u),v.pj.movePoints(u,[{index:1,point:u.points[1]}]);var f=(0,v.ih)(u,(0,v.Sb)(new Map([].concat((0,p.default)(n.entries()),[[e.id,e],[t.id,t],[u.id,u]]))),{points:u.points});return(0,s.default)((0,s.default)({},u),f)},yd=function(){return(0,o.default)((function e(){(0,i.default)(this,e),(0,b.d)(this,"isExploring",!1),(0,b.d)(this,"sameLevelNodes",[]),(0,b.d)(this,"sameLevelIndex",0),(0,b.d)(this,"direction",null),(0,b.d)(this,"visitedNodes",new Set)}),[{key:"clear",value:function(){this.isExploring=!1,this.sameLevelNodes=[],this.sameLevelIndex=0,this.direction=null,this.visitedNodes.clear()}},{key:"exploreByDirection",value:function(e,t,n){var r=this;if(!(0,v.ic)(e))return null;if(n!==this.direction&&this.clear(),this.visitedNodes.has(e.id)||this.visitedNodes.add(e.id),this.isExploring&&n===this.direction&&this.sameLevelNodes.length>1)return this.sameLevelIndex=(this.sameLevelIndex+1)%this.sameLevelNodes.length,this.sameLevelNodes[this.sameLevelIndex].id;var a=[].concat((0,p.default)(Ud(e,t,n)),(0,p.default)(md(e,t,n)));if(a.length>0)return this.sameLevelIndex=0,this.isExploring=!0,this.sameLevelNodes=a,this.direction=n,this.visitedNodes.add(a[0].id),a[0].id;if(n===this.direction||!this.isExploring){this.isExploring||this.visitedNodes.add(e.id);var i,o=["up","right","down","left"].filter((function(e){return e!==n})).map((function(n){return[].concat((0,p.default)(Ud(e,t,n)),(0,p.default)(md(e,t,n)))})).flat().filter((function(e){return!r.visitedNodes.has(e.id)})),l=(0,c.default)(o);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(!this.visitedNodes.has(s.id))return this.visitedNodes.add(s.id),this.isExploring=!0,this.direction=n,s.id}}catch(u){l.e(u)}finally{l.f()}}return null}}])}(),xd=function(){return(0,o.default)((function e(){(0,i.default)(this,e),(0,b.d)(this,"isCreatingChart",!1),(0,b.d)(this,"numberOfNodes",0),(0,b.d)(this,"direction","right"),(0,b.d)(this,"pendingNodes",null)}),[{key:"createNodes",value:function(e,t,n,r){if(r!==this.direction){var a=gd(e,t,n,r),i=a.nextNode,o=a.bindingArrow;this.numberOfNodes=1,this.isCreatingChart=!0,this.direction=r,this.pendingNodes=[i,o]}else{this.numberOfNodes+=1;var l=function(e,t,n,r,a){for(var i=[],o=0;o<a;o++){var l=void 0,s=void 0;if("left"===r||"right"===r){var c=fd*(a-1)+a*e.height,u=e.y+e.height/2-c/2,d=hd+e.width;"left"===r&&(d*=-1),l=e.x+d,s=u+(fd+e.height)*o}else{var f=hd*(a-1)+a*e.width,h=e.x+e.width/2-f/2,p=fd+e.height;"up"===r&&(p*=-1),s=e.y+p,l=h+(hd+e.width)*o}var U=(0,v.Sf)({type:e.type,x:l,y:s,width:e.width,height:e.height,roundness:e.roundness,roughness:e.roughness,backgroundColor:e.backgroundColor,strokeColor:e.strokeColor,strokeWidth:e.strokeWidth,opacity:e.opacity,fillStyle:e.fillStyle,strokeStyle:e.strokeStyle});(0,v.Kb)((0,v.lc)(U),"not an ExcalidrawFlowchartNodeElement");var m=bd(e,U,t,r,n);i.push(U),i.push(m)}return i}(e,t,n,r,this.numberOfNodes);this.isCreatingChart=!0,this.direction=r,this.pendingNodes=l}if(e.frameId){var s=t.get(e.frameId);(0,v.Kb)(s&&(0,v.$b)(s),"not an ExcalidrawFrameElement"),s&&this.pendingNodes.every((function(e){return(0,v.xi)([e],s,t)||(0,v.yi)(e,s,t)}))&&(this.pendingNodes=this.pendingNodes.map((function(t){return(0,v.Pj)(t,{frameId:e.frameId},!1)})))}}},{key:"clear",value:function(){this.isCreatingChart=!1,this.pendingNodes=null,this.direction=null,this.numberOfNodes=0}}])}(),wd=function(e){var t,n,r=e.appState,a=e.isMobile,i=e.device,o=e.app,l=r.activeTool,s=r.isResizing,u=r.isRotating,f=r.lastPointerDownWith,h=null!==r.multiElement;if((null===(t=r.openSidebar)||void 0===t?void 0:t.name)===v.ya.name&&r.openSidebar.tab===v.xa&&null!==(n=r.searchMatches)&&void 0!==n&&n.length)return Pi("hints.dismissSearch");if(r.openSidebar&&!i.editor.canFitSidebar)return null;if((0,v.Gc)(r))return Pi("hints.eraserRevert");if("arrow"===l.type||"line"===l.type)return h?Pi("hints.linearElementMulti"):"arrow"===l.type?Pi("hints.arrowTool",{arrowShortcut:(0,v.kb)("A")}):Pi("hints.linearElement");if("freedraw"===l.type)return Pi("hints.freeDraw");if("text"===l.type)return Pi("hints.text");if("embeddable"===l.type)return Pi("hints.embeddable");if("image"===r.activeTool.type&&r.pendingImageElementId)return Pi("hints.placeImage");var p=o.scene.getSelectedElements(r);if(s&&"mouse"===f&&1===p.length){var U=p[0];return(0,v.cc)(U)&&2===U.points.length?Pi("hints.lockAngle"):(0,v.Wb)(U)?Pi("hints.resizeImage"):Pi("hints.resize")}if(u&&"mouse"===f)return Pi("hints.rotate");if(1===p.length&&(0,v._b)(p[0]))return Pi("hints.text_selected");if(r.editingTextElement)return Pi("hints.text_editing");if(r.croppingElementId)return Pi("hints.leaveCropEditor");if(1===p.length&&(0,v.Wb)(p[0]))return Pi("hints.enterCropEditor");if("selection"===l.type){if(r.selectionElement&&!p.length&&!r.editingTextElement&&!r.editingLinearElement)return Pi("hints.deepBoxSelect");if((0,v.fj)(o)&&r.selectedElementsAreBeingDragged)return Pi("hints.disableSnapping");if(!p.length&&!a)return Pi("hints.canvasPanning");if(1===p.length){if((0,v.cc)(p[0]))return r.editingLinearElement?r.editingLinearElement.selectedPointsIndices?Pi("hints.lineEditor_pointSelected"):Pi("hints.lineEditor_nothingSelected"):Pi("hints.lineEditor_info");if(!r.newElement&&!r.selectedElementsAreBeingDragged&&(0,v.jc)(p[0]))return(0,v.lc)(p[0])?(function(e,t){var n,r=(0,c.default)(t);try{for(r.s();!(n=r.n()).done;){var a,i,o=(0,d.default)(n.value,2)[1];if("arrow"===o.type&&((null===(a=o.startBinding)||void 0===a?void 0:a.elementId)===e.id||(null===(i=o.endBinding)||void 0===i?void 0:i.elementId)===e.id))return!0}}catch(l){r.e(l)}finally{r.f()}}(p[0],o.scene.getNonDeletedElementsMap()),[Pi("hints.bindTextToElement"),Pi("hints.createFlowchart")]):Pi("hints.bindTextToElement")}}return null},Ed=function(e){var t=e.appState,n=e.isMobile,r=e.device,a=e.app,i=wd({appState:t,isMobile:n,device:r,app:a});if(!i)return null;var o=Array.isArray(i)?i.map((function(e){return(0,v.kb)(e).replace(/\. ?$/,"")})).join(". "):(0,v.kb)(i);return(0,X.jsx)("div",{className:"HintViewer",children:(0,X.jsx)("span",{children:o})})},kd={CHECKED:v.kd,UNCHECKED:v.jd},Sd=function(e){return(0,X.jsxs)("label",{className:(0,ie.A)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,X.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-lock"}),(0,X.jsx)("div",{className:"ToolIcon__icon",children:e.checked?kd.CHECKED:kd.UNCHECKED})]})},Md=function(e){var t=e.heading,n=e.children,r=(0,u.default)(e,Ja),a=iv().id,i=(0,X.jsx)("h2",{className:"visually-hidden",id:"".concat(a,"-").concat(t,"-title"),children:Pi("headings.".concat(t))});return(0,X.jsx)("section",(0,s.default)((0,s.default)({},r),{},{"aria-labelledby":"".concat(a,"-").concat(t,"-title"),children:"function"==typeof n?n(i):(0,X.jsxs)(X.Fragment,{children:[i,n]})}))},Cd=function(e,t,n){var r=[e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),a=(0,d.default)(r,2),i=a[0],o=a[1];return{isOverEither:i||o,isOverHorizontal:i,isOverVertical:o}},Id=function(e){return e.penDetected?(0,X.jsxs)("label",{className:(0,ie.A)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,X.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,X.jsx)("div",{className:"ToolIcon__icon",children:v.od})]}):null},jd=function(e){return(0,X.jsx)(Hi,{className:(0,ie.A)("Shape",{fillable:!1}),type:"radio",icon:v.Ye,name:"editor-current-shape",checked:e.checked,title:"".concat(e.title," \u2014 H"),keyBindingLabel:e.isMobile?void 0:v.hg.H.toLocaleUpperCase(),"aria-label":"".concat(e.title," \u2014 H"),"aria-keyshortcuts":v.hg.H,"data-testid":"toolbar-hand",onChange:function(){var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e)}})},Td=function(e){var t,n,r=e.appState,a=e.elements,i=e.actionManager,o=e.setAppState,l=e.onLockToggle,c=e.onHandToolToggle,u=e.onPenModeToggle,d=e.renderTopRightUI,f=(e.renderCustomStats,e.renderSidebars),h=e.device,p=e.renderWelcomeScreen,U=e.UIOptions,m=e.app,g=Uu(),b=g.WelcomeScreenCenterTunnel,y=g.MainMenuTunnel,x=g.DefaultSidebarTriggerTunnel;return(0,X.jsxs)(X.Fragment,{children:[f(),!r.viewModeEnabled&&"elementLinkSelector"!==(null===(t=r.openDialog)||void 0===t?void 0:t.name)&&(0,X.jsxs)(dd,{side:"top",className:"App-top-bar",children:[p&&(0,X.jsx)(b.Out,{}),(0,X.jsx)(Md,{heading:"shapes",children:function(e){var t;return(0,X.jsx)(gc.Col,{gap:4,align:"center",children:(0,X.jsxs)(gc.Row,{gap:1,className:"App-toolbar-container",children:[(0,X.jsxs)(zo,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[e,(0,X.jsx)(gc.Row,{gap:1,children:(0,X.jsx)(xu,{appState:r,activeTool:r.activeTool,UIOptions:U,app:m})})]}),d&&d(!0,r),(0,X.jsxs)("div",{className:"mobile-misc-tools-container",children:[!r.viewModeEnabled&&"elementLinkSelector"!==(null===(t=r.openDialog)||void 0===t?void 0:t.name)&&(0,X.jsx)(x.Out,{}),(0,X.jsx)(Id,{checked:r.penMode,onChange:function(){return u(null)},title:Pi("toolBar.penMode"),isMobile:!0,penDetected:r.penDetected}),(0,X.jsx)(Sd,{checked:r.activeTool.locked,onChange:l,title:Pi("toolBar.lock"),isMobile:!0}),(0,X.jsx)(jd,{checked:(0,v.Hc)(r),onChange:function(){return c()},title:Pi("toolBar.hand"),isMobile:!0})]})]})})}}),(0,X.jsx)(Ed,{appState:r,isMobile:!0,device:h,app:m})]}),(0,X.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14},children:(0,X.jsxs)(zo,{padding:0,children:["shape"===r.openMenu&&!r.viewModeEnabled&&"elementLinkSelector"!==(null===(n=r.openDialog)||void 0===n?void 0:n.name)&&(0,v.lk)(r,a)?(0,X.jsx)(Md,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,X.jsx)(yu,{appState:r,elementsMap:m.scene.getNonDeletedElementsMap(),renderAction:i.renderAction,app:m})}):null,(0,X.jsxs)("footer",{className:"App-toolbar",children:[function(){var e;return r.viewModeEnabled||"elementLinkSelector"===(null===(e=r.openDialog)||void 0===e?void 0:e.name)?(0,X.jsx)("div",{className:"App-toolbar-content",children:(0,X.jsx)(y.Out,{})}):(0,X.jsxs)("div",{className:"App-toolbar-content",children:[(0,X.jsx)(y.Out,{}),i.renderAction("toggleEditMenu"),i.renderAction(r.multiElement?"finalize":"duplicateSelection"),i.renderAction("deleteSelectedElements"),(0,X.jsxs)("div",{children:[i.renderAction("undo"),i.renderAction("redo")]})]})}(),r.scrolledOutside&&!r.openMenu&&!r.openSidebar&&(0,X.jsx)("button",{type:"button",className:"scroll-back-to-content",onClick:function(){o((function(e){return(0,s.default)({},(0,v.zk)(a,e))}))},children:Pi("buttons.scrollBackToContent")})]})]})})]})},Ad=function(e){var t=(0,y.useRef)(null),n=(0,y.useState)(null),r=(0,d.default)(n,2),a=r[0],i=r[1];return(0,y.useLayoutEffect)((function(){if(e.spreadsheet){var n=(0,v.gi)(e.chartType,e.spreadsheet,0,0);i(n);var r,a=t.current;return(0,h.default)((0,f.default)().mark((function t(){var i;return(0,f.default)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.ei)(n,{exportBackground:!1,viewBackgroundColor:On.white},null,{skipInliningFonts:!0});case 2:return r=t.sent,null!==(i=r.querySelector(".style-fonts"))&&void 0!==i&&i.remove(),a.replaceChildren(),a.appendChild(r),t.abrupt("return",e.selected&&a.parentNode.focus());case 7:case"end":return t.stop()}}),t)})))(),function(){a.replaceChildren()}}}),[e.spreadsheet,e.chartType,e.selected]),(0,X.jsx)("button",{type:"button",className:"ChartPreview",onClick:function(){a&&e.onClick(e.chartType,a)},children:(0,X.jsx)("div",{ref:t})})},Dd=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,a=nv().onInsertElements,i=y.useCallback((function(){r&&r()}),[r]),o=function(e,n){a(n),ho("paste","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return(0,X.jsx)(iu,{size:"small",onCloseRequest:i,title:Pi("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,X.jsxs)("div",{className:"container",children:[(0,X.jsx)(Ad,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:o}),(0,X.jsx)(Ad,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:o})]})})},_d=function(){return(0,X.jsxs)("div",{className:"HelpDialog__header",children:[(0,X.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,X.jsx)("div",{className:"HelpDialog__link-icon",children:v.Dd}),Pi("helpDialog.documentation")]}),(0,X.jsxs)("a",{className:"HelpDialog__btn",href:"https://plus.excalidraw.com/blog",target:"_blank",rel:"noopener noreferrer",children:[(0,X.jsx)("div",{className:"HelpDialog__link-icon",children:v.Dd}),Pi("helpDialog.blog")]}),(0,X.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,X.jsx)("div",{className:"HelpDialog__link-icon",children:v.Ed}),Pi("helpDialog.github")]}),(0,X.jsxs)("a",{className:"HelpDialog__btn",href:"https://youtube.com/@excalidraw",target:"_blank",rel:"noopener noreferrer",children:[(0,X.jsx)("div",{className:"HelpDialog__link-icon",children:v.Ff}),"YouTube"]})]})},Ld=function(e){return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("h3",{children:e.title}),(0,X.jsx)("div",{className:"HelpDialog__islands-container",children:e.children})]})},Rd=function(e){return(0,X.jsxs)("div",{className:"HelpDialog__island ".concat(e.className),children:[(0,X.jsx)("h4",{className:"HelpDialog__island-title",children:e.caption}),(0,X.jsx)("div",{className:"HelpDialog__island-content",children:e.children})]})};function Pd(e,t){var n,r,a,i;return(0,f.default)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=!0,r=(0,c.default)(e),o.prev=2,r.s();case 4:if((a=r.n()).done){o.next=15;break}if(i=a.value,o.t0=n,o.t0){o.next=10;break}return o.next=10,t;case 10:return n=!1,o.next=13,i;case 13:o.next=4;break;case 15:o.next=20;break;case 17:o.prev=17,o.t1=o.catch(2),r.e(o.t1);case 20:return o.prev=20,r.f(),o.finish(20);case 23:case"end":return o.stop()}}),yi,null,[[2,17,20,23]])}var Nd=function(e){return e.replace(/\b[a-z]\b/,(function(e){return e.toUpperCase()}))},Fd=function(e){var t=e.label,n=e.shortcuts,r=e.isOr,a=void 0===r||r,i=n.map((function(e){return(e.endsWith("++")?[].concat((0,p.default)(e.slice(0,-2).split("+")),["+"]):e.split("+")).map((function(e){return(0,X.jsx)(Od,{children:Nd(e)},e)}))}));return(0,X.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,X.jsx)("div",{children:t}),(0,X.jsx)("div",{className:"HelpDialog__key-container",children:(0,p.default)(Pd(i,a?Pi("helpDialog.or"):null))})]})},Od=function(e){return(0,X.jsx)("kbd",(0,s.default)({className:"HelpDialog__key"},e))},zd=function(e){var t=e.onClose,n=y.useCallback((function(){t&&t()}),[t]);return(0,X.jsx)(X.Fragment,{children:(0,X.jsxs)(iu,{onCloseRequest:n,title:Pi("helpDialog.title"),className:"HelpDialog",children:[(0,X.jsx)(_d,{}),(0,X.jsxs)(Ld,{title:Pi("helpDialog.shortcuts"),children:[(0,X.jsxs)(Rd,{className:"HelpDialog__island--tools",caption:Pi("helpDialog.tools"),children:[(0,X.jsx)(Fd,{label:Pi("toolBar.hand"),shortcuts:[v.hg.H]}),(0,X.jsx)(Fd,{label:Pi("toolBar.selection"),shortcuts:[v.hg.V,v.hg[1]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.rectangle"),shortcuts:[v.hg.R,v.hg[2]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.diamond"),shortcuts:[v.hg.D,v.hg[3]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.ellipse"),shortcuts:[v.hg.O,v.hg[4]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.arrow"),shortcuts:[v.hg.A,v.hg[5]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.line"),shortcuts:[v.hg.L,v.hg[6]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.freedraw"),shortcuts:[v.hg.P,v.hg[7]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.text"),shortcuts:[v.hg.T,v.hg[8]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.image"),shortcuts:[v.hg[9]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.eraser"),shortcuts:[v.hg.E,v.hg[0]]}),(0,X.jsx)(Fd,{label:Pi("toolBar.frame"),shortcuts:[v.hg.F]}),(0,X.jsx)(Fd,{label:Pi("toolBar.laser"),shortcuts:[v.hg.K]}),(0,X.jsx)(Fd,{label:Pi("labels.eyeDropper"),shortcuts:[v.hg.I,"Shift+S","Shift+G"]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.editLineArrowPoints"),shortcuts:[(0,v.kb)("CtrlOrCmd+Enter")]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.editText"),shortcuts:[(0,v.kb)("Enter")]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.textNewLine"),shortcuts:[(0,v.kb)("Enter"),(0,v.kb)("Shift+Enter")]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.textFinish"),shortcuts:[(0,v.kb)("Esc"),(0,v.kb)("CtrlOrCmd+Enter")]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.curvedArrow"),shortcuts:["A",Pi("helpDialog.click"),Pi("helpDialog.click"),Pi("helpDialog.click")],isOr:!1}),(0,X.jsx)(Fd,{label:Pi("helpDialog.curvedLine"),shortcuts:["L",Pi("helpDialog.click"),Pi("helpDialog.click"),Pi("helpDialog.click")],isOr:!1}),(0,X.jsx)(Fd,{label:Pi("helpDialog.cropStart"),shortcuts:[Pi("helpDialog.doubleClick"),(0,v.kb)("Enter")],isOr:!0}),(0,X.jsx)(Fd,{label:Pi("helpDialog.cropFinish"),shortcuts:[(0,v.kb)("Enter"),(0,v.kb)("Escape")],isOr:!0}),(0,X.jsx)(Fd,{label:Pi("toolBar.lock"),shortcuts:[v.hg.Q]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.preventBinding"),shortcuts:[(0,v.kb)("CtrlOrCmd")]}),(0,X.jsx)(Fd,{label:Pi("toolBar.link"),shortcuts:[(0,v.kb)("CtrlOrCmd+K")]})]}),(0,X.jsxs)(Rd,{className:"HelpDialog__island--view",caption:Pi("helpDialog.view"),children:[(0,X.jsx)(Fd,{label:Pi("buttons.zoomIn"),shortcuts:[(0,v.kb)("CtrlOrCmd++")]}),(0,X.jsx)(Fd,{label:Pi("buttons.zoomOut"),shortcuts:[(0,v.kb)("CtrlOrCmd+-")]}),(0,X.jsx)(Fd,{label:Pi("buttons.resetZoom"),shortcuts:[(0,v.kb)("CtrlOrCmd+0")]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,X.jsx)(Fd,{label:Pi("buttons.zenMode"),shortcuts:[(0,v.kb)("Alt+Z")]}),(0,X.jsx)(Fd,{label:Pi("buttons.objectsSnapMode"),shortcuts:[(0,v.kb)("Alt+S")]}),(0,X.jsx)(Fd,{label:Pi("labels.toggleGrid"),shortcuts:[(0,v.kb)("CtrlOrCmd+'")]}),(0,X.jsx)(Fd,{label:Pi("labels.viewMode"),shortcuts:[(0,v.kb)("Alt+R")]}),(0,X.jsx)(Fd,{label:Pi("labels.toggleTheme"),shortcuts:[(0,v.kb)("Alt+Shift+D")]}),(0,X.jsx)(Fd,{label:Pi("stats.fullTitle"),shortcuts:[(0,v.kb)("Alt+/")]}),(0,X.jsx)(Fd,{label:Pi("search.title"),shortcuts:[cu("searchMenu")]}),(0,X.jsx)(Fd,{label:Pi("commandPalette.title"),shortcuts:v.n?[cu("commandPalette")]:[cu("commandPalette"),cu("commandPalette",1)]})]}),(0,X.jsxs)(Rd,{className:"HelpDialog__island--editor",caption:Pi("helpDialog.editor"),children:[(0,X.jsx)(Fd,{label:Pi("helpDialog.createFlowchart"),shortcuts:[(0,v.kb)("CtrlOrCmd+Arrow Key")],isOr:!0}),(0,X.jsx)(Fd,{label:Pi("helpDialog.navigateFlowchart"),shortcuts:[(0,v.kb)("Alt+Arrow Key")],isOr:!0}),(0,X.jsx)(Fd,{label:Pi("labels.moveCanvas"),shortcuts:[(0,v.kb)("Space+".concat(Pi("helpDialog.drag"))),(0,v.kb)("Wheel+".concat(Pi("helpDialog.drag")))],isOr:!0}),(0,X.jsx)(Fd,{label:Pi("buttons.clearReset"),shortcuts:[(0,v.kb)("CtrlOrCmd+Delete")]}),(0,X.jsx)(Fd,{label:Pi("labels.delete"),shortcuts:[(0,v.kb)("Delete")]}),(0,X.jsx)(Fd,{label:Pi("labels.cut"),shortcuts:[(0,v.kb)("CtrlOrCmd+X")]}),(0,X.jsx)(Fd,{label:Pi("labels.copy"),shortcuts:[(0,v.kb)("CtrlOrCmd+C")]}),(0,X.jsx)(Fd,{label:Pi("labels.paste"),shortcuts:[(0,v.kb)("CtrlOrCmd+V")]}),(0,X.jsx)(Fd,{label:Pi("labels.pasteAsPlaintext"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+V")]}),(0,X.jsx)(Fd,{label:Pi("labels.selectAll"),shortcuts:[(0,v.kb)("CtrlOrCmd+A")]}),(0,X.jsx)(Fd,{label:Pi("labels.multiSelect"),shortcuts:[(0,v.kb)("Shift+".concat(Pi("helpDialog.click")))]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.deepSelect"),shortcuts:[(0,v.kb)("CtrlOrCmd+".concat(Pi("helpDialog.click")))]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.deepBoxSelect"),shortcuts:[(0,v.kb)("CtrlOrCmd+".concat(Pi("helpDialog.drag")))]}),(v.ii||v.n)&&(0,X.jsx)(Fd,{label:Pi("labels.copyAsPng"),shortcuts:[(0,v.kb)("Shift+Alt+C")]}),(0,X.jsx)(Fd,{label:Pi("labels.copyStyles"),shortcuts:[(0,v.kb)("CtrlOrCmd+Alt+C")]}),(0,X.jsx)(Fd,{label:Pi("labels.pasteStyles"),shortcuts:[(0,v.kb)("CtrlOrCmd+Alt+V")]}),(0,X.jsx)(Fd,{label:Pi("labels.sendToBack"),shortcuts:[v.l?(0,v.kb)("CtrlOrCmd+Alt+["):(0,v.kb)("CtrlOrCmd+Shift+[")]}),(0,X.jsx)(Fd,{label:Pi("labels.bringToFront"),shortcuts:[v.l?(0,v.kb)("CtrlOrCmd+Alt+]"):(0,v.kb)("CtrlOrCmd+Shift+]")]}),(0,X.jsx)(Fd,{label:Pi("labels.sendBackward"),shortcuts:[(0,v.kb)("CtrlOrCmd+[")]}),(0,X.jsx)(Fd,{label:Pi("labels.bringForward"),shortcuts:[(0,v.kb)("CtrlOrCmd+]")]}),(0,X.jsx)(Fd,{label:Pi("labels.alignTop"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+Up")]}),(0,X.jsx)(Fd,{label:Pi("labels.alignBottom"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+Down")]}),(0,X.jsx)(Fd,{label:Pi("labels.alignLeft"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+Left")]}),(0,X.jsx)(Fd,{label:Pi("labels.alignRight"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+Right")]}),(0,X.jsx)(Fd,{label:Pi("labels.duplicateSelection"),shortcuts:[(0,v.kb)("CtrlOrCmd+D"),(0,v.kb)("Alt+".concat(Pi("helpDialog.drag")))]}),(0,X.jsx)(Fd,{label:Pi("helpDialog.toggleElementLock"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+L")]}),(0,X.jsx)(Fd,{label:Pi("buttons.undo"),shortcuts:[(0,v.kb)("CtrlOrCmd+Z")]}),(0,X.jsx)(Fd,{label:Pi("buttons.redo"),shortcuts:v.m?[(0,v.kb)("CtrlOrCmd+Y"),(0,v.kb)("CtrlOrCmd+Shift+Z")]:[(0,v.kb)("CtrlOrCmd+Shift+Z")]}),(0,X.jsx)(Fd,{label:Pi("labels.group"),shortcuts:[(0,v.kb)("CtrlOrCmd+G")]}),(0,X.jsx)(Fd,{label:Pi("labels.ungroup"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+G")]}),(0,X.jsx)(Fd,{label:Pi("labels.flipHorizontal"),shortcuts:[(0,v.kb)("Shift+H")]}),(0,X.jsx)(Fd,{label:Pi("labels.flipVertical"),shortcuts:[(0,v.kb)("Shift+V")]}),(0,X.jsx)(Fd,{label:Pi("labels.showStroke"),shortcuts:[(0,v.kb)("S")]}),(0,X.jsx)(Fd,{label:Pi("labels.showBackground"),shortcuts:[(0,v.kb)("G")]}),(0,X.jsx)(Fd,{label:Pi("labels.showFonts"),shortcuts:[(0,v.kb)("Shift+F")]}),(0,X.jsx)(Fd,{label:Pi("labels.decreaseFontSize"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+<")]}),(0,X.jsx)(Fd,{label:Pi("labels.increaseFontSize"),shortcuts:[(0,v.kb)("CtrlOrCmd+Shift+>")]})]})]})]})})},Bd=function(e){var t=e.shouldWrap,n=e.children,r=e.username;return t?(0,X.jsx)(Il,{label:r||"Unknown user",children:n}):(0,X.jsx)(X.Fragment,{children:n})},Hd=function(e){var t=e.actionManager,n=e.collaborator,r=e.socketId,a=e.withName,i=void 0!==a&&a,o=e.shouldWrapWithTooltip,l=void 0!==o&&o,s={socketId:r,collaborator:n,withName:i,isBeingFollowed:e.isBeingFollowed},c=t.renderAction("goToCollaborator",s);return(0,X.jsx)(Bd,{username:n.username,shouldWrap:l,children:c},r)},Wd=["avatarUrl","id","socketId","username","isInCall","isSpeaking","isMuted"],Xd=y.memo((function(e){var t=e.className,n=e.mobile,r=e.collaborators,a=e.userToFollow,i=cv(),o=new Map;r.forEach((function(e,t){var n=e.id||t;o.set(n,(0,s.default)((0,s.default)({},e),{},{socketId:t}))}));var l=Array.from(o.values()).filter((function(e){var t;return null===(t=e.username)||void 0===t?void 0:t.trim()})),u=y.useState(""),f=(0,d.default)(u,2),h=f[0],p=f[1],U=l.filter((function(e){var t;return null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(h)})),m=y.useRef(null);(0,y.useLayoutEffect)((function(){if(m.current){var e=function(e){var t=Math.max(1,Math.min(8,Math.floor(e/38)));w(t)};if(e(m.current.clientWidth),!v.r)return;var t=new ResizeObserver((function(t){var n,r=(0,c.default)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value.contentRect.width;e(a)}}catch(i){r.e(i)}finally{r.f()}}));return t.observe(m.current),function(){t.disconnect()}}}),[]);var g=y.useState(4),b=(0,d.default)(g,2),x=b[0],w=b[1],E=l.slice(0,x-1).map((function(e){return Hd({actionManager:i,collaborator:e,socketId:e.socketId,shouldWrapWithTooltip:!0,isBeingFollowed:e.socketId===a})}));return n?(0,X.jsx)("div",{className:(0,ie.A)("UserList UserList_mobile",t),children:l.map((function(e){return Hd({actionManager:i,collaborator:e,socketId:e.socketId,shouldWrapWithTooltip:!0,isBeingFollowed:e.socketId===a})}))}):(0,X.jsx)("div",{className:"UserList__wrapper",ref:m,children:(0,X.jsxs)("div",{className:(0,ie.A)("UserList",t),style:{"--max-avatars":x},children:[E,l.length>x-1&&(0,X.jsxs)(Ln,{children:[(0,X.jsxs)(Rn,{className:"UserList__more",children:["+",l.length-x+1]}),(0,X.jsx)(Nn,{style:{zIndex:2,width:"15rem",textAlign:"left"},align:"end",sideOffset:10,children:(0,X.jsxs)(zo,{padding:2,children:[l.length>=8&&(0,X.jsx)(Qo,{placeholder:Pi("quickSearch.placeholder"),onChange:p}),(0,X.jsx)(Jo,{className:"dropdown-menu UserList__collaborators",placeholder:Pi("userList.empty"),children:U.length>0?[(0,X.jsx)("div",{className:"hint",children:Pi("userList.hint.text")}),U.map((function(e){return Hd({actionManager:i,collaborator:e,socketId:e.socketId,withName:!0,isBeingFollowed:e.socketId===a})}))]:[]}),(0,X.jsx)(Fn,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})]})]})})}),(function(e,t){if(e.collaborators.size!==t.collaborators.size||e.mobile!==t.mobile||e.className!==t.className||e.userToFollow!==t.userToFollow)return!1;var n,r=t.collaborators.keys(),a=(0,c.default)(e.collaborators);try{for(a.s();!(n=a.n()).done;){var i=(0,d.default)(n.value,2),o=i[0],l=i[1],s=t.collaborators.get(o);if(!s||o!==r.next().value||!(0,v.Hb)(l,s,Wd))return!1}}catch(u){a.e(u)}finally{a.f()}return!0})),Vd=function(e){var t=e.children,n=e.color;return(0,X.jsx)("div",{className:"Card",style:{"--card-color":"primary"===n?"var(--color-primary)":On[n][7],"--card-color-darker":"primary"===n?"var(--color-primary-darker)":On[n][8],"--card-color-darkest":"primary"===n?"var(--color-primary-darkest)":On[n][9]},children:t})},Gd=function(e){var t=e.elements,n=e.appState,r=e.setAppState,a=e.files,i=e.actionManager,o=e.exportOpts,l=e.canvas,s=e.onCloseRequest,c=o.onExportToBackend;return(0,X.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,X.jsxs)("div",{className:"ExportDialog-cards",children:[o.saveFileToDisk&&(0,X.jsxs)(Vd,{color:"lime",children:[(0,X.jsx)("div",{className:"Card-icon",children:v.Pd}),(0,X.jsx)("h2",{children:Pi("exportDialog.disk_title")}),(0,X.jsxs)("div",{className:"Card-details",children:[Pi("exportDialog.disk_details"),!v.eh&&i.renderAction("changeProjectName")]}),(0,X.jsx)(Hi,{className:"Card-button",type:"button",title:Pi("exportDialog.disk_button"),"aria-label":Pi("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){i.executeAction(ql,"ui")}})]}),c&&(0,X.jsxs)(Vd,{color:"pink",children:[(0,X.jsx)("div",{className:"Card-icon",children:v.Id}),(0,X.jsx)("h2",{children:Pi("exportDialog.link_title")}),(0,X.jsx)("div",{className:"Card-details",children:Pi("exportDialog.link_details")}),(0,X.jsx)(Hi,{className:"Card-button",type:"button",title:Pi("exportDialog.link_button"),"aria-label":Pi("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){var e=(0,h.default)((0,f.default)().mark((function e(){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ho("export","link","ui (".concat((0,v.Eb)(),")")),e.next=4,c(t,n,a);case 4:s(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({errorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})]}),o.renderCustomUI&&o.renderCustomUI(t,n,a,l)]})})},Yd=function(e){var t,n=e.elements,r=e.appState,a=e.files,i=e.actionManager,o=e.exportOpts,l=e.canvas,s=e.setAppState,c=y.useCallback((function(){s({openDialog:null})}),[s]);return(0,X.jsx)(X.Fragment,{children:"jsonExport"===(null===(t=r.openDialog)||void 0===t?void 0:t.name)&&(0,X.jsx)(iu,{onCloseRequest:c,title:Pi("buttons.export"),children:(0,X.jsx)(Gd,{elements:n,appState:r,setAppState:s,files:a,actionManager:i,onCloseRequest:c,exportOpts:o,canvas:l})})})},Zd=function(e){return(0,X.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(Pi("helpDialog.title")," \u2014 ?"),"aria-label":Pi("helpDialog.title"),children:v.Bd})},Kd=function(e){var t=e.appState,n=e.actionManager,r=e.showExitZenModeBtn,a=e.renderWelcomeScreen,i=Uu(),o=i.FooterCenterTunnel,l=i.WelcomeScreenHelpHintTunnel,s=av(),c=!t.viewModeEnabled&&t.multiElement&&s.isTouchScreen;return(0,X.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,X.jsx)("div",{className:(0,ie.A)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled}),children:(0,X.jsx)(gc.Col,{gap:2,children:(0,X.jsxs)(Md,{heading:"canvasActions",children:[(0,X.jsx)(wu,{renderAction:n.renderAction,zoom:t.zoom}),!t.viewModeEnabled&&(0,X.jsx)(Eu,{renderAction:n.renderAction,className:(0,ie.A)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":t.zenModeEnabled})}),c&&(0,X.jsx)(Su,{renderAction:n.renderAction,className:(0,ie.A)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":t.zenModeEnabled})})]})})}),(0,X.jsx)(o.Out,{}),(0,X.jsx)("div",{className:(0,ie.A)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":t.zenModeEnabled}),children:(0,X.jsxs)("div",{style:{position:"relative"},children:[a&&(0,X.jsx)(l.Out,{}),(0,X.jsx)(Zd,{onClick:function(){return n.executeAction(ns)}})]})}),(0,X.jsx)(ku,{actionManager:n,showExitZenModeBtn:r})]})},qd=Kd;Kd.displayName="Footer";var $d=y.createContext({}),Qd=function(e){var t=e.children,n=e.className,r=av(),a=(0,y.useContext)($d),i=!(!r.editor.canFitSidebar||!a.shouldRenderDockButton);return(0,X.jsxs)("div",{className:(0,ie.A)("sidebar__header",n),"data-testid":"sidebar-header",children:[t,(0,X.jsxs)("div",{className:"sidebar__header__buttons",children:[i&&(0,X.jsx)(Il,{label:Pi("labels.sidebarLock"),children:(0,X.jsx)(ou,{onSelect:function(){var e;return null===(e=a.onDock)||void 0===e?void 0:e.call(a,!a.docked)},selected:!!a.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":Pi("labels.sidebarLock"),children:v.id})}),(0,X.jsx)(ou,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:a.onCloseRequest,"aria-label":Pi("buttons.close"),children:v.ge})]})]})};Qd.displayName="SidebarHeader";var Jd=function(e){var t,n=e.name,r=e.tab,a=e.icon,i=e.title,o=e.children,l=e.onToggle,s=e.className,c=e.style,u=sv(),d=_o();return(0,X.jsxs)("label",{title:i,className:"sidebar-trigger__label-element",children:[(0,X.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(e){var t;null===(t=document.querySelector(".layer-ui__wrapper"))||void 0===t||t.classList.remove("animate");var a=e.target.checked;u({openSidebar:a?{name:n,tab:r}:null}),null===l||void 0===l||l(a)},checked:(null===(t=d.openSidebar)||void 0===t?void 0:t.name)===n,"aria-label":i,"aria-keyshortcuts":"0"}),(0,X.jsxs)("div",{className:(0,ie.A)("sidebar-trigger",s),style:c,children:[a&&(0,X.jsx)("div",{children:a}),o&&(0,X.jsx)("div",{className:"sidebar-trigger__label",children:o})]})]})};Jd.displayName="SidebarTrigger";var ef=function(e){var t=e.children,n=(0,u.default)(e,ei);return(0,X.jsx)(wa,(0,s.default)((0,s.default)({className:"sidebar-triggers"},n),{},{children:t}))};ef.displayName="SidebarTabTriggers";var tf=function(e){var t=e.children,n=e.tab,r=e.onSelect,a=(0,u.default)(e,ti);return(0,X.jsx)(Ea,{value:n,asChild:!0,onSelect:r,children:(0,X.jsx)("button",(0,s.default)((0,s.default)({type:"button",className:"excalidraw-button sidebar-tab-trigger"},a),{},{children:t}))})};tf.displayName="SidebarTabTrigger";var nf=function(e){var t=e.children,n=(0,u.default)(e,ni),r=_o(),a=sv();if(!r.openSidebar)return null;var i=r.openSidebar.name;return(0,X.jsx)(xa,(0,s.default)((0,s.default)({className:"sidebar-tabs-root",value:r.openSidebar.tab,onValueChange:function(e){return a((function(t){return(0,s.default)((0,s.default)({},t),{},{openSidebar:(0,s.default)((0,s.default)({},t.openSidebar),{},{name:i,tab:e})})}))}},n),{},{children:t}))};nf.displayName="SidebarTabs";var rf=function(e){var t=e.tab,n=e.children,r=(0,u.default)(e,ri);return(0,X.jsx)(ka,(0,s.default)((0,s.default)({},r),{},{value:t,"data-testid":t,children:n}))};rf.displayName="SidebarTab";var af=E(!1),of=(0,y.forwardRef)((function(e,t){e.name;var n=e.children,r=e.onDock,a=e.docked,i=e.className,o=(0,u.default)(e,ai);U.a.DEV&&r&&null==a&&console.warn("Sidebar: `docked` must be set when `onDock` is supplied for the sidebar to be user-dockable. To hide this message, either pass `docked` or remove `onDock`");var l=sv(),c=Ei(af);(0,y.useLayoutEffect)((function(){return c(!!a),function(){c(!1)}}),[c,a]);var d=(0,y.useRef)({});d.current.onCloseRequest=function(){l({openSidebar:null})},d.current.onDock=function(e){return null===r||void 0===r?void 0:r(e)},d.current=(0,v.Db)(d.current,{docked:a,shouldRenderDockButton:!!r&&null!=a});var f=(0,y.useRef)(null);(0,y.useImperativeHandle)(t,(function(){return f.current}));var h=av(),p=(0,y.useCallback)((function(){document.querySelector(".Dialog")||l({openSidebar:null})}),[l]);return Ro(f,(0,y.useCallback)((function(e){e.target.closest(".sidebar-trigger")||(!a||!h.editor.canFitSidebar)&&p()}),[p,a,h.editor.canFitSidebar])),(0,y.useEffect)((function(){var e=function(e){e.key===v.hg.ESCAPE&&(!a||!h.editor.canFitSidebar)&&p()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[p,a,h.editor.canFitSidebar]),(0,X.jsx)(zo,(0,s.default)((0,s.default)({},o),{},{className:(0,ie.A)("sidebar",{"sidebar--docked":a},i),ref:f,children:(0,X.jsx)($d.Provider,{value:d.current,children:n})}))}));of.displayName="SidebarInner";var lf=Object.assign((0,y.forwardRef)((function(e,t){var n,r=_o(),a=e.onStateChange,i=(0,y.useRef)(r.openSidebar);(0,y.useEffect)((function(){var t,n,o,l,s;(!r.openSidebar&&(null===i||void 0===i||null===(t=i.current)||void 0===t?void 0:t.name)===e.name||(null===(n=r.openSidebar)||void 0===n?void 0:n.name)===e.name&&(null===i||void 0===i||null===(o=i.current)||void 0===o?void 0:o.name)!==e.name||(null===(l=i.current)||void 0===l?void 0:l.name)===e.name)&&r.openSidebar!==i.current&&null!==a&&void 0!==a&&a((null===(s=r.openSidebar)||void 0===s?void 0:s.name)!==e.name?null:r.openSidebar),i.current=r.openSidebar}),[r.openSidebar,a,e.name]);var o=(0,y.useState)(!1),l=(0,d.default)(o,2),c=l[0],u=l[1];return(0,y.useLayoutEffect)((function(){return u(!0),function(){return u(!1)}}),[]),c&&(null===(n=r.openSidebar)||void 0===n?void 0:n.name)===e.name?(0,y.createElement)(of,(0,s.default)((0,s.default)({},e),{},{ref:t,key:e.name})):null})),{Header:Qd,TabTriggers:ef,TabTrigger:tf,Tabs:nf,Tab:rf,Trigger:Jd});lf.displayName="Sidebar";var sf={};(0,b.c)(sf,{ChangeCanvasBackground:function(){return wf},ClearCanvas:function(){return yf},CommandPalette:function(){return mf},Export:function(){return Ef},Help:function(){return bf},LiveCollaborationTrigger:function(){return Sf},LoadScene:function(){return pf},SaveAsImage:function(){return Uf},SaveToActiveFile:function(){return vf},SearchMenu:function(){return gf},Socials:function(){return kf},ToggleTheme:function(){return xf}});var cf=E({active:!1});function uf(e){return df.apply(this,arguments)}function df(){return df=(0,h.default)((0,f.default)().mark((function e(t){var n,r,a,i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.description,a=t.actionLabel,i=t.color,e.abrupt("return",new Promise((function(e){Mi.set(cf,{active:!0,onConfirm:function(){return e(!0)},onClose:function(){return e(!1)},onReject:function(){return e(!1)},title:n,description:r,actionLabel:a,color:i})})));case 2:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}var ff=function(e){var t=e.value,n=e.shortcut,r=e.onChange,a=e.choices,i=e.children,o=e.name,l=av();return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"dropdown-menu-item-base dropdown-menu-item-bare",children:[(0,X.jsx)("label",{className:"dropdown-menu-item__text",htmlFor:o,children:i}),(0,X.jsx)(rd,{name:o,value:t,onChange:r,choices:a})]}),n&&!l.editor.isMobile&&(0,X.jsx)("div",{className:"dropdown-menu-item__shortcut dropdown-menu-item__shortcut--orphaned",children:n})]})};ff.displayName="DropdownMenuItemContentRadio";var hf=ff,pf=function(){var e=Fi().t,t=cv(),n=ov();return t.isActionEnabled($l)?(0,X.jsx)(dl,{icon:v.Ld,onSelect:function(){var r=(0,h.default)((0,f.default)().mark((function r(){return(0,f.default)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=!n.length,r.t0){r.next=5;break}return r.next=4,uf({title:e("overwriteConfirm.modal.loadFromFile.title"),actionLabel:e("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,X.jsx)(Sc,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(e){return(0,X.jsx)("strong",{children:e})},br:function(){return(0,X.jsx)("br",{})}})});case 4:r.t0=r.sent;case 5:if(r.t1=r.t0,!r.t1){r.next=8;break}t.executeAction($l);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),"data-testid":"load-button",shortcut:cu("loadScene"),"aria-label":e("buttons.load"),children:e("buttons.load")}):null};pf.displayName="LoadScene";var vf=function(){var e=Fi().t,t=cv();return t.isActionEnabled(Kl)?(0,X.jsx)(dl,{shortcut:cu("saveScene"),"data-testid":"save-button",onSelect:function(){return t.executeAction(Kl)},icon:v.Jd,"aria-label":"".concat(e("buttons.save")),children:"".concat(e("buttons.save"))}):null};vf.displayName="SaveToActiveFile";var Uf=function(){var e=sv(),t=Fi().t;return(0,X.jsx)(dl,{icon:v.Od,"data-testid":"image-export-button",onSelect:function(){return e({openDialog:{name:"imageExport"}})},shortcut:cu("imageExport"),"aria-label":t("buttons.exportImage"),children:t("buttons.exportImage")})};Uf.displayName="SaveAsImage";var mf=function(e){var t=sv(),n=Fi().t;return(0,X.jsx)(dl,{icon:v.tf,"data-testid":"command-palette-button",onSelect:function(){ho("command_palette","open","menu"),t({openDialog:{name:"commandPalette"}})},shortcut:cu("commandPalette"),"aria-label":n("commandPalette.title"),className:null===e||void 0===e?void 0:e.className,children:n("commandPalette.title")})};mf.displayName="CommandPalette";var gf=function(e){var t=Fi().t,n=cv();return(0,X.jsx)(dl,{icon:v.pf,"data-testid":"search-menu-button",onSelect:function(){n.executeAction(Bu)},shortcut:cu("searchMenu"),"aria-label":t("search.title"),className:null===e||void 0===e?void 0:e.className,children:t("search.title")})};gf.displayName="SearchMenu";var bf=function(){var e=Fi().t,t=cv();return(0,X.jsx)(dl,{"data-testid":"help-menu-item",icon:v.Bd,onSelect:function(){return t.executeAction(ns)},shortcut:"?","aria-label":e("helpDialog.title"),children:e("helpDialog.title")})};bf.displayName="Help";var yf=function(){var e=Fi().t,t=Ei(Cu);return cv().isActionEnabled(jl)?(0,X.jsx)(dl,{icon:v.ud,onSelect:function(){return t("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":e("buttons.clearReset"),children:e("buttons.clearReset")}):null};yf.displayName="ClearCanvas";var xf=function(e){var t=Fi().t,n=_o(),r=cv(),a=cu("toggleTheme");return r.isActionEnabled(Rl)?null!==e&&void 0!==e&&e.allowSystemTheme?(0,X.jsx)(hf,{name:"theme",value:e.theme,onChange:function(t){return e.onSelect(t)},choices:[{value:v.G.LIGHT,label:v.yd,ariaLabel:"".concat(t("buttons.lightMode")," - ").concat(a)},{value:v.G.DARK,label:v.xd,ariaLabel:"".concat(t("buttons.darkMode")," - ").concat(a)},{value:"system",label:v.Ef,ariaLabel:t("buttons.systemMode")}],children:t("labels.theme")}):(0,X.jsx)(dl,{onSelect:function(t){if(t.preventDefault(),null===e||void 0===e||!e.onSelect)return r.executeAction(Rl);e.onSelect(n.theme===v.G.DARK?v.G.LIGHT:v.G.DARK)},icon:n.theme===v.G.DARK?v.yd:v.xd,"data-testid":"toggle-dark-mode",shortcut:a,"aria-label":n.theme===v.G.DARK?t("buttons.lightMode"):t("buttons.darkMode"),children:n.theme===v.G.DARK?t("buttons.lightMode"):t("buttons.darkMode")}):null};xf.displayName="ToggleTheme";var wf=function(){var e=Fi().t,t=_o(),n=cv(),r=rv();return t.viewModeEnabled||!r.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,X.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,X.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:e("labels.canvasBackground")}),(0,X.jsx)("div",{style:{padding:"0 0.625rem"},children:n.renderAction("changeViewBackgroundColor")})]})};wf.displayName="ChangeCanvasBackground";var Ef=function(){var e=Fi().t,t=sv();return(0,X.jsx)(dl,{icon:v.Ad,onSelect:function(){t({openDialog:{name:"jsonExport"}})},"data-testid":"json-export-button","aria-label":e("buttons.export"),children:e("buttons.export")})};Ef.displayName="Export";var kf=function(){var e=Fi().t;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Oc,{icon:v.Ed,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,X.jsx)(Oc,{icon:v.Gd,href:"https://x.com/excalidraw","aria-label":"X",children:e("labels.followUs")}),(0,X.jsx)(Oc,{icon:v.Fd,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:e("labels.discordChat")})]})};kf.displayName="Socials";var Sf=function(e){var t=e.onSelect,n=e.isCollaborating,r=Fi().t;return(0,X.jsx)(dl,{"data-testid":"collab-button",icon:v.fe,className:(0,ie.A)({"active-collab":n}),onSelect:t,children:r("labels.liveCollaboration")})};Sf.displayName="LiveCollaborationTrigger";var Mf=function(e,t){var n=E(0),r=function(e){var r=(0,Uu().tunnelsJotai.useAtom)(n),a=(0,d.default)(r,2)[1],i=(0,y.useRef)({preferHost:!1,counter:0});return(0,y.useLayoutEffect)((function(){var e=i.current;return a((function(t){var n=t+1;return e.counter=n,n})),function(){a((function(t){var n=t-1;return e.counter=n,n||(e.preferHost=!1),n}))}}),[a]),e.__fallback||(i.current.preferHost=!0),!i.current.counter&&e.__fallback&&i.current.preferHost||i.current.counter>1&&e.__fallback?null:(0,X.jsx)(t,(0,s.default)({},e))};return r.displayName=e,r},Cf=Object.assign(Mf("MainMenu",(function(e){var t,n=e.children,r=e.onSelect,a=Uu().MainMenuTunnel,i=av(),o=_o(),l=sv(),s=i.editor.isMobile?void 0:function(){return l({openMenu:null})};return(0,X.jsx)(a.In,{children:(0,X.jsxs)(Hc,{open:"canvas"===o.openMenu,children:[(0,X.jsx)(Hc.Trigger,{onToggle:function(){l({openMenu:"canvas"===o.openMenu?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:v.zd}),(0,X.jsxs)(Hc.Content,{onClickOutside:s,onSelect:(0,v.Ib)(r,(function(){l({openMenu:null})})),children:[n,i.editor.isMobile&&o.collaborators.size>0&&(0,X.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,X.jsx)("legend",{children:Pi("labels.collaborators")}),(0,X.jsx)(Xd,{mobile:!0,collaborators:o.collaborators,userToFollow:(null===(t=o.userToFollow)||void 0===t?void 0:t.socketId)||null})]})]})]})})})),{Trigger:Hc.Trigger,Item:Hc.Item,ItemLink:Hc.ItemLink,ItemCustom:Hc.ItemCustom,Group:Hc.Group,Separator:Hc.Separator,DefaultItems:sf}),If=Cf,jf=function(e){var t=e.title,n=e.children,r=e.actionLabel,a=e.onClick;return(0,X.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,X.jsx)("h4",{children:t}),(0,X.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:n}),(0,X.jsx)(id,{variant:"outlined",color:"muted",label:r,size:"large",fullWidth:!0,onClick:a})]})},Tf=Object.assign((function(e){var t=e.children;return(0,X.jsx)("div",{className:"OverwriteConfirm__Actions",children:t})}),{ExportToImage:function(){var e=Fi().t,t=cv(),n=sv();return(0,X.jsx)(jf,{title:e("overwriteConfirm.action.exportToImage.title"),actionLabel:e("overwriteConfirm.action.exportToImage.button"),onClick:function(){t.executeAction(Zl,"ui",!0),n({openDialog:{name:"imageExport"}})},children:e("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var e=Fi().t,t=cv();return(0,X.jsx)(jf,{title:e("overwriteConfirm.action.saveToDisk.title"),actionLabel:e("overwriteConfirm.action.saveToDisk.button"),onClick:function(){t.executeAction(ql,"ui")},children:e("overwriteConfirm.action.saveToDisk.description")})}}),Af=Object.assign(Mf("OverwriteConfirmDialog",(function(e){var t=e.children,n=Uu().OverwriteConfirmDialogTunnel,r=wi(cf),a=(0,d.default)(r,2),i=a[0],o=a[1];if(!i.active)return null;return(0,X.jsx)(n.In,{children:(0,X.jsx)(iu,{onCloseRequest:function(){i.onClose(),o((function(e){return(0,s.default)((0,s.default)({},e),{},{active:!1})}))},title:!1,size:916,children:(0,X.jsxs)("div",{className:"OverwriteConfirm",children:[(0,X.jsx)("h3",{children:i.title}),(0,X.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(i.color),children:[(0,X.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:v.cf}),(0,X.jsx)("div",{children:i.description}),(0,X.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,X.jsx)(id,{color:i.color,size:"large",label:i.actionLabel,onClick:function(){i.onConfirm(),o((function(e){return(0,s.default)((0,s.default)({},e),{},{active:!1})}))}})]}),(0,X.jsx)(Tf,{children:t})]})})})})),{Actions:Tf,Action:jf}),Df=E(""),_f=E(null),Lf=function(){var e=nv(),t=sv(),n=(0,y.useRef)(null),r=wi(Df),a=(0,d.default)(r,2),i=a[0],o=a[1],l=i.trim(),c=(0,y.useState)(!1),u=(0,d.default)(c,2),f=u[0],h=u[1],p=(0,y.useState)({nonce:null,items:[]}),U=(0,d.default)(p,2),m=U[0],g=U[1],b=(0,y.useRef)(null),x=(0,y.useRef)(void 0),w=wi(_f),E=(0,d.default)(w,2),k=E[0],S=E[1],M=e.scene.getNonDeletedElementsMap();(0,y.useEffect)((function(){f||(l!==b.current||e.scene.getSceneNonce()!==x.current)&&(b.current=null,Of(l,e,(function(n,r){g({nonce:(0,v.rc)(),items:n}),b.current=l,x.current=e.scene.getSceneNonce(),t({searchMatches:n.map((function(e){return{id:e.textElement.id,focus:!1,matchedLines:e.matchedLines}}))})})))}),[f,l,M,e,t,S,x]);var C=function(){m.items.length>0&&S((function(e){return null===e?0:(e+1)%m.items.length}))},I=function(){m.items.length>0&&S((function(e){return null===e?0:e-1<0?m.items.length-1:e-1}))};(0,y.useEffect)((function(){t((function(e){return{searchMatches:e.searchMatches.map((function(e,t){return t===k?(0,s.default)((0,s.default)({},e),{},{focus:!0}):(0,s.default)((0,s.default)({},e),{},{focus:!1})}))}}))}),[k,t]),(0,y.useEffect)((function(){if(m.items.length>0&&null!==k){var t=m.items[k];if(t){var n,r,a,i,o,l,c,u=e.state.zoom.value,d=(0,v.Xf)({text:t.searchQuery,x:t.textElement.x+(null!==(n=null===(r=t.matchedLines[0])||void 0===r?void 0:r.offsetX)&&void 0!==n?n:0),y:t.textElement.y+(null!==(a=null===(i=t.matchedLines[0])||void 0===i?void 0:i.offsetY)&&void 0!==a?a:0),width:null===(o=t.matchedLines[0])||void 0===o?void 0:o.width,height:null===(l=t.matchedLines[0])||void 0===l?void 0:l.height,fontSize:t.textElement.fontSize,fontFamily:t.textElement.fontFamily}),f=t.textElement.fontSize,h=f*u<14;if(!(0,v.Uj)([d],e.canvas.width/window.devicePixelRatio,e.canvas.height/window.devicePixelRatio,{offsetLeft:e.state.offsetLeft,offsetTop:e.state.offsetTop,scrollX:e.state.scrollX,scrollY:e.state.scrollY,zoom:e.state.zoom},e.scene.getNonDeletedElementsMap(),e.getEditorUIOffsets())||h)c=h?f>=14?{fitToContent:!0}:{fitToViewport:!0,maxZoom:(0,v.Ja)(14/f,1)}:{fitToContent:!0},e.scrollToContent(d,(0,s.default)((0,s.default)({animate:!0,duration:300},c),{},{canvasOffsets:e.getEditorUIOffsets()}))}}}),[k,m,e]),(0,y.useEffect)((function(){return function(){S(null),b.current=null,x.current=void 0,t({searchMatches:[]}),h(!1)}}),[t,S]);var j=Po({goToNextItem:C,goToPreviousItem:I,searchMatches:m});(0,y.useEffect)((function(){return(0,v.Pb)(window,"keydown",(function(r){var a,i,o;if(r.key===v.hg.ESCAPE&&!e.state.openDialog&&!e.state.openPopup)return r.preventDefault(),r.stopPropagation(),void t({openSidebar:null});r[v.hg.CTRL_OR_CMD]&&r.key===v.hg.F&&(r.preventDefault(),r.stopPropagation(),null!==(a=n.current)&&void 0!==a&&a.matches(":focus")?t({openSidebar:null}):(e.state.openDialog&&t({openDialog:null}),null!==(i=n.current)&&void 0!==i&&i.focus(),null===(o=n.current)||void 0===o||o.select())),r.target instanceof HTMLElement&&r.target.closest(".layer-ui__search")&&j.searchMatches.items.length&&(r.key===v.hg.ENTER&&(r.stopPropagation(),j.goToNextItem()),r.key===v.hg.ARROW_UP?(r.stopPropagation(),j.goToPreviousItem()):r.key===v.hg.ARROW_DOWN&&(r.stopPropagation(),j.goToNextItem()))}),{capture:!0,passive:!1})}),[t,j,e]);var T="".concat(m.items.length," ").concat(1===m.items.length?Pi("search.singleResult"):Pi("search.multipleResults"));return(0,X.jsxs)("div",{className:"layer-ui__search",children:[(0,X.jsx)("div",{className:"layer-ui__search-header",children:(0,X.jsx)(lu,{className:v.E.SEARCH_MENU_INPUT_WRAPPER,value:i,ref:n,placeholder:Pi("search.placeholder"),icon:v.pf,onChange:function(n){o(n),h(!0);var r=n.trim();Of(r,e,(function(n,a){g({nonce:(0,v.rc)(),items:n}),S(a),b.current=r,x.current=e.scene.getSceneNonce(),t({searchMatches:n.map((function(e){return{id:e.textElement.id,focus:!1,matchedLines:e.matchedLines}}))}),h(!1)}))},selectOnRender:!0})}),(0,X.jsxs)("div",{className:"layer-ui__search-count",children:[m.items.length>0&&(0,X.jsxs)(X.Fragment,{children:[null!==k&&k>-1?(0,X.jsxs)("div",{children:[k+1," / ",T]}):(0,X.jsx)("div",{children:T}),(0,X.jsxs)("div",{className:"result-nav",children:[(0,X.jsx)(ou,{onSelect:function(){C()},className:"result-nav-btn",children:v.Lf}),(0,X.jsx)(ou,{onSelect:function(){I()},className:"result-nav-btn",children:v.Nf})]})]}),0===m.items.length&&l&&b.current&&(0,X.jsx)("div",{style:{margin:"1rem auto"},children:Pi("search.noMatch")})]}),(0,X.jsx)(Pf,{matches:m,onItemClick:S,focusIndex:k,searchQuery:l})]})},Rf=function(e){var t=[e.preview.moreBefore?"...":"",e.preview.previewText.slice(0,e.preview.indexInSearchQuery),e.preview.previewText.slice(e.preview.indexInSearchQuery,e.preview.indexInSearchQuery+e.searchQuery.length),e.preview.previewText.slice(e.preview.indexInSearchQuery+e.searchQuery.length),e.preview.moreAfter?"...":""];return(0,X.jsx)("div",{tabIndex:-1,className:(0,ie.A)("layer-ui__result-item",{active:e.highlighted}),onClick:e.onClick,ref:function(t){e.highlighted&&(null===t||void 0===t||t.scrollIntoView({behavior:"auto",block:"nearest"}))},children:(0,X.jsx)("div",{className:"preview-text",children:t.flatMap((function(e,t){return(0,X.jsx)(y.Fragment,{children:2===t?(0,X.jsx)("b",{children:e}):e},t)}))})})},Pf=(0,y.memo)((function(e){return(0,X.jsx)("div",{className:"layer-ui__search-result-container",children:e.matches.items.map((function(t,n){return(0,X.jsx)(Rf,{searchQuery:e.searchQuery,preview:t.preview,highlighted:n===e.focusIndex,onClick:function(){return e.onItemClick(n)}},t.textElement.id+t.index)}))})}),(function(e,t){return e.matches.nonce===t.matches.nonce&&e.focusIndex===t.focusIndex})),Nf=function(e,t,n){var r=e.slice(0,t),a=r.split(/\s+/),i=r.endsWith(" "),o=a.length-2-1-(i?0:1),l=a.slice(o<=0?0:o).join(" ")+(i?" ":"");l=l.length>20?l.slice(-20):l;var s=e.slice(t+n.length),c=s.split(/\s+/),u=!s.startsWith(" "),d=u?6:5,f=(u?"":" ")+c.slice(0,d).join(" ");return{indexInSearchQuery:l.length,previewText:l+n+f,moreBefore:o>0,moreAfter:c.length>d}},Ff=function(e,t,n){var r,a=function(e,t){for(var n=e.split("\n"),r=[],a=0,i=0;i<n.length;i++){var o=n[i],l=n[i+1];if(l){var s=t.indexOf(l,a);if(s>o.length+a)for(var c=s-(o.length+a);c>0;)o+=" ",c--}r.push(o),a+=o.length}return r.join("\n")}(e.text,e.originalText).split("\n"),i=[],o=0,l=0,s=(0,c.default)(a);try{for(s.s();!(r=s.n()).done;){var u=r.value,d=o,f=d+u.length-1;i.push({line:u,startIndex:d,endIndex:f,lineNumber:l}),o=f+1,l++}}catch(A){s.e(A)}finally{s.f()}for(var h=n,p=e.originalText.slice(n,n+t.length),U=[],m=0,g=i;m<g.length;m++){var b=g[m];if(""===p)break;if(h>=b.startIndex&&h<=b.endIndex){var y=b.endIndex+1-h,x=b.line.slice(0,h-b.startIndex),w=p.slice(0,y);p=p.slice(y);var E=(0,v.vc)(x,(0,v.cb)(e),e.lineHeight);if(""===x&&(E.width=0),"left"!==e.textAlign&&b.line.length>0){var k=(0,v.vc)(b.line,(0,v.cb)(e),e.lineHeight),S="center"===e.textAlign?(e.width-k.width)/2:e.width-k.width;E.width+=S}var M=(0,v.vc)(w,(0,v.cb)(e),e.lineHeight),C=M.width,I=M.height,j=E.width,T=b.lineNumber*E.height;U.push({offsetX:j,offsetY:T,width:C,height:I}),h+=y}}return U},Of=Sa((function(e,t,n){var r;if(e&&""!==e){var a=t.scene.getNonDeletedElements().filter((function(e){return(0,v._b)(e)}));a.sort((function(e,t){return e.y-t.y}));var i,o=[],l=new RegExp(function(e){return e.replace(/[.*+?^${}()|[\]\\-]/g,"\\$&")}(e),"gi"),s=(0,c.default)(a);try{for(s.s();!(i=s.n()).done;)for(var u=i.value,d=null,f=u.originalText;null!==(d=l.exec(f));){var h=Nf(f,d.index,e),p=Ff(u,e,d.index);p.length>0&&o.push({textElement:u,searchQuery:e,preview:h,index:d.index,matchedLines:p})}}catch(g){s.e(g)}finally{s.f()}var U=new Set(t.visibleElements.map((function(e){return e.id}))),m=null!==(r=o.findIndex((function(e){return U.has(e.textElement.id)})))&&void 0!==r?r:null;n(o,m)}else n([],null)}),350),zf=Mf("DefaultSidebarTrigger",(function(e){var t=Uu().DefaultSidebarTriggerTunnel;return(0,X.jsx)(t.In,{children:(0,X.jsx)(lf.Trigger,(0,s.default)((0,s.default)({},e),{},{className:"default-sidebar-trigger",name:v.ya.name}))})}));zf.displayName="DefaultSidebarTrigger";var Bf=function(e){var t=e.children,n=Uu().DefaultSidebarTabTriggersTunnel;return(0,X.jsx)(n.In,{children:t})};Bf.displayName="DefaultTabTriggers";var Hf=Object.assign(Mf("DefaultSidebar",(function(e){var t,n=e.children,r=e.className,a=e.onDock,i=e.docked,o=(0,u.default)(e,ii),l=_o(),c=sv(),d=Uu().DefaultSidebarTabTriggersTunnel,f=(null===(t=l.openSidebar)||void 0===t?void 0:t.tab)===v.xa;return(0,y.createElement)(lf,(0,s.default)((0,s.default)({},o),{},{name:"default",key:"default",className:(0,ie.A)("default-sidebar",r),docked:f||(null!==i&&void 0!==i?i:l.defaultSidebarDockedPreference),onDock:f||!1===a||!a&&null!=i?void 0:(0,v.Ib)(a,(function(e){c({defaultSidebarDockedPreference:e})}))}),(0,X.jsxs)(lf.Tabs,{children:[(0,X.jsx)(lf.Header,{children:(0,X.jsxs)(lf.TabTriggers,{children:[(0,X.jsx)(lf.TabTrigger,{tab:v.xa,children:v.pf}),(0,X.jsx)(lf.TabTrigger,{tab:v.wa,children:v.fd}),(0,X.jsx)(d.Out,{})]})}),(0,X.jsx)(lf.Tab,{tab:v.wa,children:(0,X.jsx)(ru,{})}),(0,X.jsx)(lf.Tab,{tab:v.xa,children:(0,X.jsx)(Lf,{})}),n]}))})),{Trigger:zf,TabTriggers:Bf}),Wf=function(e){return(0,X.jsxs)("label",{className:(0,ie.A)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,X.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title,"data-testid":"toolbar-LaserPointer"}),(0,X.jsx)("div",{className:"ToolIcon__icon",children:v.if})]})},Xf=function(e){var t=e.canvasRef,n=e.setError,r=t.current;if(r){var a=r.parentElement;a&&(a.style.background="",n(null),r.replaceChildren())}},Vf=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,a,i,o,l,s,c,u,d,h,p,U;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.canvasRef,r=t.mermaidToExcalidrawLib,a=t.mermaidDefinition,i=t.setError,o=t.data,l=n.current,s=null===l||void 0===l?void 0:l.parentElement,!l||!s){e.next=40;break}if(a){e.next=6;break}return Xf({canvasRef:n,setError:i}),e.abrupt("return");case 6:return e.prev=6,e.next=9,r.api;case 9:return c=e.sent,e.prev=10,e.next=13,c.parseMermaidToExcalidraw(a);case 13:u=e.sent,e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(10),e.next=20,c.parseMermaidToExcalidraw(a.replace(/"/g,"'"));case 20:u=e.sent;case 21:return h=(d=u).elements,p=d.files,i(null),o.current={elements:sp(h,{regenerateIds:!0}),files:p},e.next=25,(0,v.pi)({elements:o.current.elements,files:o.current.files,exportPadding:v.ma,maxWidthOrHeight:Math.max(s.offsetWidth,s.offsetHeight)*window.devicePixelRatio});case 25:return U=e.sent,e.prev=26,e.next=29,(0,v.yh)(U);case 29:e.next=34;break;case 31:throw e.prev=31,e.t1=e.catch(26),"CANVAS_POSSIBLY_TOO_BIG"===e.t1.name?new Error(Pi("canvasError.canvasTooBig")):e.t1;case 34:s.style.background="var(--default-bg-color)",l.replaceChildren(U),e.next=40;break;case 37:throw e.prev=37,e.t2=e.catch(6),s.style.background="var(--default-bg-color)",a&&i(e.t2),e.t2;case 40:case"end":return e.stop()}}),e,null,[[6,37],[10,16],[26,31]])})));return function(t){return e.apply(this,arguments)}}(),Gf=function(e){Ic.set(v.Ba.MERMAID_TO_EXCALIDRAW,e)},Yf=function(e){var t=e.app,n=e.data,r=e.text,a=e.shouldSaveMermaidDataToStorage,i=n.current,o=i.elements,l=i.files;o.length&&(t.addElementsFromPasteOrLibrary({elements:o,files:l,position:"center",fitToContent:!0}),t.setOpenDialog(null),a&&r&&Gf(r))},Zf=function(e){var t=e.children;return(0,X.jsx)("div",{className:"ttd-dialog-panels",children:t})},Kf=function(e){var t=e.label,n=e.children,r=e.panelAction,a=e.panelActionDisabled,i=void 0!==a&&a,o=e.onTextSubmitInProgess,l=e.renderTopRight,s=e.renderSubmitShortcut,c=e.renderBottomRight;return(0,X.jsxs)("div",{className:"ttd-dialog-panel",children:[(0,X.jsxs)("div",{className:"ttd-dialog-panel__header",children:[(0,X.jsx)("label",{children:t}),null===l||void 0===l?void 0:l()]}),n,(0,X.jsxs)("div",{className:(0,ie.A)("ttd-dialog-panel-button-container",{invisible:!r}),style:{display:"flex",alignItems:"center"},children:[(0,X.jsxs)(ou,{className:"ttd-dialog-panel-button",onSelect:r?r.action:function(){},disabled:i||o,children:[(0,X.jsxs)("div",{className:(0,ie.A)({invisible:o}),children:[null===r||void 0===r?void 0:r.label,(null===r||void 0===r?void 0:r.icon)&&(0,X.jsx)("span",{children:r.icon})]}),o&&(0,X.jsx)(Oi,{})]}),!i&&!o&&(null===s||void 0===s?void 0:s()),null===c||void 0===c?void 0:c()]})]})},qf=function(e){var t=e.input,n=e.placeholder,r=e.onChange,a=e.onKeyboardSubmit,i=(0,y.useRef)(null),o=(0,y.useRef)(a);return o.current=a,(0,y.useEffect)((function(){if(o.current){var e=i.current;if(e){var t=function(e){var t;e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.ENTER&&(e.preventDefault(),null===(t=o.current)||void 0===t||t.call(o))};return e.addEventListener("keydown",t),function(){e.removeEventListener("keydown",t)}}}}),[]),(0,X.jsx)("textarea",{className:"ttd-dialog-input",onChange:r,value:t,placeholder:n,autoFocus:!0,ref:i})},$f=function(e){var t=e.error;return(0,X.jsxs)("div",{"data-testid":"ttd-dialog-output-error",className:"ttd-dialog-output-error",children:["Error! ",(0,X.jsx)("p",{children:t})]})},Qf=function(e){var t=e.error,n=e.canvasRef,r=e.loaded;return(0,X.jsxs)("div",{className:"ttd-dialog-output-wrapper",children:[t&&(0,X.jsx)($f,{error:t.message}),r?(0,X.jsx)("div",{ref:n,style:{opacity:t?"0.15":1},className:"ttd-dialog-output-canvas-container"}):(0,X.jsx)(Oi,{size:"2rem"})]})},Jf=function(){return(0,X.jsxs)("div",{className:"ttd-dialog-submit-shortcut",children:[(0,X.jsx)("div",{className:"ttd-dialog-submit-shortcut__key",children:(0,v.kb)("CtrlOrCmd")}),(0,X.jsx)("div",{className:"ttd-dialog-submit-shortcut__key",children:(0,v.kb)("Enter")})]})},eh=(0,v.db)(Gf,300),th=function(e){var t=e.mermaidToExcalidrawLib,n=(0,y.useState)((function(){return Ic.get(v.Ba.MERMAID_TO_EXCALIDRAW)||"flowchart TD\n A[Christmas] --\x3e|Get money| B(Go shopping)\n B --\x3e C{Let me think}\n C --\x3e|One| D[Laptop]\n C --\x3e|Two| E[iPhone]\n C --\x3e|Three| F[Car]"})),r=(0,d.default)(n,2),a=r[0],i=r[1],o=(0,y.useDeferredValue)(a.trim()),l=(0,y.useState)(null),s=(0,d.default)(l,2),c=s[0],u=s[1],f=(0,y.useRef)(null),h=(0,y.useRef)({elements:[],files:null}),p=nv();(0,y.useEffect)((function(){Vf({canvasRef:f,data:h,mermaidToExcalidrawLib:t,setError:u,mermaidDefinition:o}).catch((function(e){(0,v.Bb)()&&console.error("Failed to parse mermaid definition",e)})),eh(o)}),[o,t]),(0,y.useEffect)((function(){return function(){eh.flush()}}),[]);var U=function(){Yf({app:p,data:h,text:a,shouldSaveMermaidDataToStorage:!0})};return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{className:"ttd-dialog-desc",children:(0,X.jsx)(Sc,{i18nKey:"mermaid.description",flowchartLink:function(e){return(0,X.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:e})},sequenceLink:function(e){return(0,X.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:e})},classLink:function(e){return(0,X.jsx)("a",{href:"https://mermaid.js.org/syntax/classDiagram.html",children:e})}})}),(0,X.jsxs)(Zf,{children:[(0,X.jsx)(Kf,{label:Pi("mermaid.syntax"),children:(0,X.jsx)(qf,{input:a,placeholder:"Write Mermaid diagram defintion here...",onChange:function(e){return i(e.target.value)},onKeyboardSubmit:function(){U()}})}),(0,X.jsx)(Kf,{label:Pi("mermaid.preview"),panelAction:{action:function(){U()},label:Pi("mermaid.button"),icon:v.hf},renderSubmitShortcut:function(){return(0,X.jsx)(Jf,{})},children:(0,X.jsx)(Qf,{canvasRef:f,loaded:t.loaded,error:c})})]})]})},nh=function(e){var t=sv(),n=(0,y.useRef)(null),r=(0,y.useRef)(0);return(0,X.jsx)(xa,{ref:n,className:"ttd-dialog-tabs-root",value:e.tab,onValueChange:function(a){var i;if(a){var o=null===(i=n.current)||void 0===i?void 0:i.closest(".Modal__content");if(o){var l=o.offsetHeight||0;l>r.current&&(r.current=l,o.style.minHeight="min(".concat(r.current,"px, 100%)"))}"ttd"===e.dialog&&(0,v.Mb)(["text-to-diagram","mermaid"],a)&&t({openDialog:{name:e.dialog,tab:a}})}},children:e.children})};nh.displayName="TTDDialogTabs";var rh=nh,ah=function(e){var t=e.children,n=(0,u.default)(e,oi);return(0,X.jsx)(wa,(0,s.default)((0,s.default)({className:"ttd-dialog-triggers"},n),{},{children:t}))};ah.displayName="TTDDialogTabTriggers";var ih=function(e){var t=e.children,n=e.tab,r=e.onSelect,a=(0,u.default)(e,li);return(0,X.jsx)(Ea,{value:n,asChild:!0,onSelect:r,children:(0,X.jsx)("button",(0,s.default)((0,s.default)({type:"button",className:"ttd-dialog-tab-trigger"},a),{},{children:t}))})};ih.displayName="TTDDialogTabTrigger";var oh=function(e){var t=e.tab,n=e.children,r=(0,u.default)(e,si);return(0,X.jsx)(ka,(0,s.default)((0,s.default)({},r),{},{value:t,children:n}))};oh.displayName="TTDDialogTab";var lh=1e3,sh=E(null),ch=E(null),uh=function(e){var t,n=_o();return"ttd"!==(null===(t=n.openDialog)||void 0===t?void 0:t.name)?null:(0,X.jsx)(dh,(0,s.default)((0,s.default)({},e),{},{tab:n.openDialog.tab}))},dh=Mf("TTDDialogBase",(function(e){var t,r=e.tab,a=(0,u.default)(e,ci),i=nv(),o=sv(),l=(0,y.useRef)(null),c=wi(ch),p=(0,d.default)(c,2),U=p[0],m=p[1],g=(0,y.useState)(null!==(t=null===U||void 0===U?void 0:U.prompt)&&void 0!==t?t:""),b=(0,d.default)(g,2),x=b[0],w=b[1],E=x.trim(),k=(0,y.useState)(!1),S=(0,d.default)(k,2),M=S[0],C=S[1],I=wi(sh),j=(0,d.default)(I,2),T=j[0],A=j[1],D=function(){var e=(0,h.default)((0,f.default)().mark((function e(){var t,n,r,i,o,s;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E.length>lh||E.length<3||M||0===(null===T||void 0===T?void 0:T.rateLimitRemaining)||"__fallback"in a)){e.next=3;break}return E.length<3&&H(new Error("Prompt is too short (min ".concat(3," characters)"))),E.length>lh&&H(new Error("Prompt is too long (max ".concat(lh," characters)"))),e.abrupt("return");case 3:return e.prev=3,C(!0),ho("ai","generate","ttd"),e.next=7,a.onTextSubmit(E);case 7:if(t=e.sent,n=t.generatedResponse,r=t.error,i=t.rateLimit,o=t.rateLimitRemaining,"string"==typeof n&&m((function(e){var t;return{generatedResponse:n,prompt:null!==(t=null===e||void 0===e?void 0:e.prompt)&&void 0!==t?t:null}})),(0,v.La)(i)&&(0,v.La)(o)&&A({rateLimit:i,rateLimitRemaining:o}),!r){e.next=15;break}return H(r),e.abrupt("return");case 15:if(n){e.next=18;break}return H(new Error("Generation failed")),e.abrupt("return");case 18:return e.prev=18,e.next=21,Vf({canvasRef:l,data:F,mermaidToExcalidrawLib:P,setError:H,mermaidDefinition:n});case 21:ho("ai","mermaid parse success","ttd"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(18),console.info("%cTTD mermaid render errror: ".concat(e.t0.message),"color: red"),console.info(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\nTTD mermaid definition render errror: ".concat(e.t0.message),"color: yellow"),ho("ai","mermaid parse failed","ttd"),H(new Error("Generated an invalid diagram :(. You may also try a different prompt."));case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(3),(!(s=e.t1.message)||"Failed to fetch"===s)&&(s="Request failed"),H(new Error(s));case 33:return e.prev=33,C(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[3,29,33,36],[18,24]])})));return function(){return e.apply(this,arguments)}}(),_=(0,y.useRef)(D);_.current=D;var L=(0,y.useState)({loaded:!1,api:Promise.all([n.e(4223),n.e(8064)]).then(n.bind(n,8064))}),R=(0,d.default)(L,2),P=R[0],N=R[1];(0,y.useEffect)((function(){(0,h.default)((0,f.default)().mark((function e(){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.api;case 2:N((function(e){return(0,s.default)((0,s.default)({},e),{},{loaded:!0})}));case 3:case"end":return e.stop()}}),e)})))()}),[P.api]);var F=(0,y.useRef)({elements:[],files:null}),O=(0,y.useState)(null),z=(0,d.default)(O,2),B=z[0],H=z[1];return(0,X.jsx)(iu,(0,s.default)((0,s.default)({className:"ttd-dialog",onCloseRequest:function(){i.setOpenDialog(null)},size:1200,title:!1},a),{},{autofocus:!1,children:(0,X.jsxs)(rh,{dialog:"ttd",tab:r,children:["__fallback"in a&&a.__fallback?(0,X.jsx)("p",{className:"dialog-mermaid-title",children:Pi("mermaid.title")}):(0,X.jsxs)(ah,{children:[(0,X.jsx)(ih,{tab:"text-to-diagram",children:(0,X.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Pi("labels.textToDiagram"),(0,X.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1px 6px",marginLeft:"10px",fontSize:10,borderRadius:"12px",background:"var(--color-promo)",color:"var(--color-surface-lowest)"},children:"AI Beta"})]})}),(0,X.jsx)(ih,{tab:"mermaid",children:"Mermaid"})]}),(0,X.jsx)(oh,{className:"ttd-dialog-content",tab:"mermaid",children:(0,X.jsx)(th,{mermaidToExcalidrawLib:P})}),!("__fallback"in a)&&(0,X.jsxs)(oh,{className:"ttd-dialog-content",tab:"text-to-diagram",children:[(0,X.jsx)("div",{className:"ttd-dialog-desc",children:"Currently we use Mermaid as a middle step, so you'll get best results if you describe a diagram, workflow, flow chart, and similar."}),(0,X.jsxs)(Zf,{children:[(0,X.jsx)(Kf,{label:Pi("labels.prompt"),panelAction:{action:D,label:"Generate",icon:v.hf},onTextSubmitInProgess:M,panelActionDisabled:E.length>lh||0===(null===T||void 0===T?void 0:T.rateLimitRemaining),renderTopRight:function(){return T?(0,X.jsxs)("div",{className:"ttd-dialog-rate-limit",style:{fontSize:12,marginLeft:"auto",color:0===T.rateLimitRemaining?"var(--color-danger)":void 0},children:[T.rateLimitRemaining," requests left today"]}):null},renderSubmitShortcut:function(){return(0,X.jsx)(Jf,{})},renderBottomRight:function(){if("string"==typeof(null===U||void 0===U?void 0:U.generatedResponse))return(0,X.jsxs)("div",{className:"excalidraw-link",style:{marginLeft:"auto",fontSize:14},onClick:function(){"string"==typeof(null===U||void 0===U?void 0:U.generatedResponse)&&(Gf(U.generatedResponse),o({openDialog:{name:"ttd",tab:"mermaid"}}))},children:["View as Mermaid",(0,X.jsx)(Yo,{icon:v.hf})]});var e=E.length/lh;return e>.8?(0,X.jsxs)("div",{style:{marginLeft:"auto",fontSize:12,fontFamily:"monospace",color:e>1?"var(--color-danger)":void 0},children:["Length: ",E.length,"/",lh]}):null},children:(0,X.jsx)(qf,{onChange:function(e){w(e.target.value),m((function(t){var n;return{generatedResponse:null!==(n=null===t||void 0===t?void 0:t.generatedResponse)&&void 0!==n?n:null,prompt:e.target.value}}))},input:x,placeholder:"Describe what you want to see...",onKeyboardSubmit:function(){_.current()}})}),(0,X.jsx)(Kf,{label:"Preview",panelAction:{action:function(){console.info("Panel action clicked"),Yf({app:i,data:F})},label:"Insert",icon:v.hf},children:(0,X.jsx)(Qf,{canvasRef:l,error:B,loaded:P.loaded})})]})]})]})}))})),fh=function(e,t){return!("height"===t&&(0,v._b)(e)||"width"===t&&(0,v._b)(e)||"angle"===t&&(0,v.bc)(e))},hh=function(e,t){var n=e+t/2;return n-n%t},ph=function(e,t,n){return Object.keys(e).map((function(e){return{original:(null!==n&&void 0!==n?n:t).get(e),latest:t.get(e)}})).filter((function(e){return void 0!==e.original&&void 0!==e.latest}))},vh=function(e,t,n,r,a,i,o){var l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=r.get(n.id);if(s){var c=n.x+n.width/2,u=n.y+n.height/2,f=(0,v.Va)((0,v.Ua)(n.x,n.y),(0,v.Ua)(c,u),n.angle),h=(0,d.default)(f,2),p=e-h[0],U=t-h[1],m=(0,v.Va)((0,v.Ua)(e,t),(0,v.Ua)(c+p,u+U),-n.angle),g=(0,d.default)(m,2),b=g[0],y=g[1];(0,v.Pj)(s,{x:b,y:y},l),mh(s,r,a,i);var x=(0,v.zj)(n,o);if(x){var w=r.get(x.id);w&&(0,v.Pj)(w,{x:x.x+p,y:x.y+U},l)}}},Uh=function(e,t){var n=(0,v.Mc)(t).map((function(t){return(0,v.Qc)(e,t).reduce((function(e,t){return e[t.id]=!0,e}),{})}));return e.filter((function(e){return!(0,v.Wc)(e)})).forEach((function(e){n.push((0,l.default)({},e.id,!0))})),n},mh=function(e,t,n,r,a){(0,v.cc)(e)?(0,v.Jg)([e],t,n,r,!0,[],null===a||void 0===a?void 0:a.zoom):(0,v.Pg)(e,t,a)},gh=function(e){var t=e.label,n=e.icon,r=e.dragInputCallback,a=e.value,i=e.elements,o=e.editable,l=void 0===o||o,s=e.shouldKeepAspectRatio,c=e.property,u=e.scene,f=e.appState,h=e.sensitivity,p=void 0===h?1:h,U=nv(),m=(0,y.useRef)(null),g=(0,y.useRef)(null),b=(0,y.useState)(a.toString()),x=(0,d.default)(b,2),w=x[0],E=x[1],k=(0,y.useRef)(null);k.current||(k.current={originalAppState:(0,v.Nb)(f),originalElements:i,lastUpdatedValue:w,updatePending:!1}),(0,y.useEffect)((function(){var e=a.toString();E(e),k.current.lastUpdatedValue=e}),[a]);var S=function(e,t,n){if(!k.current.updatePending)return!1;k.current.updatePending=!1;var i=Number(e);if(isNaN(i))E(a.toString());else{var o=Number(i.toFixed(2)),l=Number(a);(isNaN(l)||Math.abs(o-l)>=.01)&&(k.current.lastUpdatedValue=e,r({accumulatedChange:0,instantChange:0,originalElements:t,originalElementsMap:U.scene.getNonDeletedElementsMap(),shouldKeepAspectRatio:s,shouldChangeByStepSize:!1,scene:u,nextValue:o,property:c,originalAppState:n,setInputValue:function(e){return E(String(e))}}),U.syncActionResult({captureUpdate:v.Wg.IMMEDIATELY}))}},M=(0,y.useRef)({});return M.current.handleInputValue=S,(0,y.useEffect)((function(){var e=m.current,t=M.current;return function(){var n,r=null===e||void 0===e?void 0:e.value;r&&null!==(n=t.handleInputValue)&&void 0!==n&&n.call(t,r,k.current.originalElements,k.current.originalAppState),window.removeEventListener("pointermove",t.onPointerMove,!1),window.removeEventListener("pointerup",t.onPointerUp,!1)}}),[l]),l?(0,X.jsxs)("div",{className:(0,ie.A)("drag-input-container",!l&&"disabled"),"data-testid":t,children:[(0,X.jsx)("div",{className:"drag-input-label",ref:g,onPointerDown:function(e){if(m.current&&l){document.body.classList.add("excalidraw-cursor-resize");var t=Number(m.current.value);isNaN(t)&&(t=0);var n=null,a=U.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,v.bg)(t)),e}),new Map),o=i.map((function(e){return a.get(e.id)})),d=(0,v.Nb)(f),h=0,g=0,b=function(e){if(n&&null!==a&&null!==o){var t=e.clientX-n.x;0!==t&&(g+=t,Math.abs(g)>=p&&(g=Math.sign(g)*Math.floor(Math.abs(g)/p),r({accumulatedChange:h+=g,instantChange:g,originalElements:o,originalElementsMap:a,shouldKeepAspectRatio:s,shouldChangeByStepSize:e.shiftKey,property:c,scene:u,originalAppState:d,setInputValue:function(e){return E(String(e))}}),g=0))}n={x:e.clientX,y:e.clientY}},y=function(){window.removeEventListener("pointermove",b,!1),U.syncActionResult({captureUpdate:v.Wg.IMMEDIATELY}),n=null,h=0,g=0,o=null,a=null,document.body.classList.remove("excalidraw-cursor-resize"),window.removeEventListener("pointerup",y,!1)};M.current.onPointerMove=b,M.current.onPointerUp=y,window.addEventListener("pointermove",b,!1),window.addEventListener("pointerup",y,!1)}},onPointerEnter:function(){g.current&&(g.current.style.cursor="ew-resize")},children:n?(0,X.jsx)(Yo,{icon:n}):t}),(0,X.jsx)("input",{className:"drag-input",autoComplete:"off",spellCheck:"false",onKeyDown:function(e){if(l){var t=e.target;t instanceof HTMLInputElement&&e.key===v.hg.ENTER&&(S(t.value,i,f),U.focusContainer())}},ref:m,value:w,onChange:function(e){k.current.updatePending=!0,E(e.target.value)},onFocus:function(e){e.target.select(),k.current.originalElements=i,k.current.originalAppState=(0,v.Nb)(f)},onBlur:function(e){w?l&&S(e.target.value,k.current.originalElements,k.current.originalAppState):E(a.toString())},disabled:!l})]}):null},bh=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.originalElementsMap,a=e.shouldKeepAspectRatio,i=e.shouldChangeByStepSize,o=e.nextValue,l=e.property,c=e.originalAppState,u=e.instantChange,d=e.scene.getNonDeletedElementsMap(),f=n[0],h=d.get(f.id);if(f&&h){var p=a||function(e){return"image"===e.type}(f),U=f.width/f.height;if(c.croppingElementId===f.id){var m=d.get(f.id);if(!m||!(0,v.Wb)(m)||!m.crop)return;var g=m.crop,b=(0,s.default)({},g),y=-1===m.scale[0],x=-1===m.scale[1],w=(0,v.ch)(m),E=w.width,k=w.height,S=g.naturalWidth/E,M=g.naturalHeight/k,C=y?g.width+g.x:g.naturalWidth-g.x,I=x?g.height+g.y:g.naturalHeight-g.y,j=v.ah*S,T=v.ah*M;if(void 0!==o){if("width"===l){var A=o*S,D=(0,v.Ia)(A,j,C);b=(0,s.default)((0,s.default)({},b),{},{width:D,x:y?g.x+g.width-D:g.x})}else if("height"===l){var _=o*M,L=(0,v.Ia)(_,T,I);b=(0,s.default)((0,s.default)({},b),{},{height:L,y:x?g.y+g.height-L:g.y})}return void(0,v.Pj)(m,{crop:b,width:b.width/(g.naturalWidth/E),height:b.height/(g.naturalHeight/k)})}var R="width"===l?u:0,P="height"===l?u:0,N=(0,v.Ia)(g.width+R,j,C),F=(0,v.Ia)(g.height+P,j,I);return b=(0,s.default)((0,s.default)({},g),{},{x:y?g.x+g.width-N:g.x,y:x?g.y+g.height-F:g.y,width:N,height:F}),void(0,v.Pj)(m,{crop:b,width:b.width/(g.naturalWidth/E),height:b.height/(g.naturalHeight/k)})}if(void 0!==o){var O=Math.max("width"===l?o:p?o*U:f.width,v.Ea),z=Math.max("height"===l?o:p?o/U:f.height,v.Ea);return void(0,v.gk)(O,z,h,f,d,r,"width"===l?"e":"s",{shouldMaintainAspectRatio:p})}var B="width"===l?t:0,H="height"===l?t:0,W=Math.max(0,f.width+B);"width"===l&&(W=i?hh(W,10):Math.round(W));var X=Math.max(0,f.height+H);"height"===l&&(X=i?hh(X,10):Math.round(X)),p&&("width"===l?X=Math.round(W/U*100)/100:W=Math.round(X*U*100)/100),X=Math.max(v.Ea,X),W=Math.max(v.Ea,W),(0,v.gk)(W,X,h,f,d,r,"width"===l?"e":"s",{shouldMaintainAspectRatio:p})}},yh=function(e){var t=e.property,n=e.element,r=e.scene,a=e.appState,i=(0,v.Ja)("width"===t?n.width:n.height,2);if(a.croppingElementId&&a.croppingElementId===n.id&&(0,v.Wb)(n)&&n.crop){var o=(0,v.ch)(n),l=o.width,s=o.height;if("width"===t){var c=l/n.crop.naturalWidth;i=(0,v.Ja)(n.crop.width*c,2)}if("height"===t){var u=s/n.crop.naturalHeight;i=(0,v.Ja)(n.crop.height*u,2)}}return(0,X.jsx)(gh,{label:"width"===t?"W":"H",elements:[n],dragInputCallback:bh,value:i,editable:fh(n,t),scene:r,appState:a,property:t})},xh=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.shouldChangeByStepSize,a=e.nextValue,i=e.scene,o=i.getNonDeletedElementsMap(),l=i.getNonDeletedElements(),s=n[0];if(s&&!(0,v.ec)(s)){var c=o.get(s.id);if(!c)return;if(void 0!==a){var u=(0,v.Ma)(a);(0,v.Pj)(c,{angle:u}),mh(c,o,l,i);var d=(0,v.zj)(c,o);return void(d&&!(0,v.dc)(c)&&(0,v.Pj)(d,{angle:u}))}var f=(Math.round(100*(0,v.Na)(s.angle))/100+Math.round(t))%360;r&&(f=hh(f,15)),f=f<0?f+360:f;var h=(0,v.Ma)(f);(0,v.Pj)(c,{angle:h}),mh(c,o,l,i);var p=(0,v.zj)(c,o);p&&!(0,v.dc)(c)&&(0,v.Pj)(p,{angle:h})}},wh=function(e){var t=e.element,n=e.scene,r=e.appState,a=e.property;return(0,X.jsx)(gh,{label:"A",icon:v.We,value:Math.round((0,v.Na)(t.angle)%360*100)/100,elements:[t],dragInputCallback:xh,editable:fh(t,"angle"),scene:n,appState:r,property:a})},Eh=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.shouldChangeByStepSize,a=e.nextValue,i=e.scene,o=i.getNonDeletedElementsMap(),l=n[0];if(l){var s,c=o.get(l.id);if(!c||!(0,v._b)(c))return;if(void 0!==a)s=Math.max(Math.round(a),4);else if("text"===l.type){var u=Math.round(l.fontSize),d=Math.round(t);s=Math.max(u+d,4),r&&(s=hh(s,4))}s&&((0,v.Pj)(c,{fontSize:s}),(0,v.uj)(c,i.getContainerElement(c),i.getNonDeletedElementsMap()))}},kh=function(e){var t=e.element,n=e.scene,r=e.appState,a=e.property,i=(0,v._b)(t)?t:(0,v.mc)(t)?(0,v.zj)(t,n.getNonDeletedElementsMap()):null;return i?(0,X.jsx)(gh,{label:"F",value:Math.round(10*i.fontSize)/10,elements:[i],dragInputCallback:Eh,icon:v.Ne,appState:r,scene:n,property:a}):null},Sh=10,Mh=function(e,t,n,r,a,i,o,l){var c=function(e,t,n,r){var a=r.x-e,i=r.y-t,o=r.width*n,l=r.height*n,c=e+a*n,u=t+i*n;return(0,s.default)((0,s.default)({width:o,height:l,x:c,y:u},(0,v.dk)(r,o,l,!1)),(0,v._b)(r)?{fontSize:r.fontSize*n}:{})}(e,t,r,i);(0,v.Pj)(a,c,!1);var u=(0,v.zj)(i,l);if(u){var d=u.fontSize*r;(0,v.Pg)(a,o,{newSize:{width:c.width,height:c.height}});var f=o.get(u.id);f&&(0,v._b)(f)&&((0,v.Pj)(f,{fontSize:d},!1),(0,v.wj)(a,o,"width"===n?"e":"s",!0))}},Ch=function(e,t,n,r,a,i,o,l,s,c){"width"===i?t=Math.round(e/r*100)/100:e=Math.round(t*r*100)/100;for(var u=t/n,d=0;d<l.length;d++){var f=l[d],h=o[d];Mh(a[0],a[1],i,u,h,f,s,c)}},Ih=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.originalElementsMap,a=e.originalAppState,i=e.shouldChangeByStepSize,o=e.nextValue,l=e.scene,s=e.property,u=l.getNonDeletedElementsMap(),f=Uh(n,a);if(void 0===o){var h,p="width"===s?t:0,U="height"===s?t:0,m=(0,c.default)(f);try{for(m.s();!(h=m.n()).done;){var g=h.value,b=ph(g,u,r);if(b.length>1){var y=b.map((function(e){return e.latest})),x=b.map((function(e){return e.original})),w=(0,v.bj)(x),E=(0,d.default)(w,4),k=E[0],S=E[1],M=E[2],C=E[3],I=M-k,j=C-S,T=I/j,A=Math.max(0,I+p);"width"===s&&(A=i?hh(A,Sh):Math.round(A));var D=Math.max(0,j+U);"height"===s&&(D=i?hh(D,Sh):Math.round(D)),A=Math.max(v.Ea,A),D=Math.max(v.Ea,D),Ch(A,D,j,T,(0,v.Ua)(k,S),s,y,x,u,r)}else{var _=(0,d.default)(b,1)[0],L=null===_||void 0===_?void 0:_.latest,R=null===_||void 0===_?void 0:_.original;if(L&&R&&fh(L,s)){var P=Math.max(0,R.width+p);"width"===s&&(P=i?hh(P,Sh):Math.round(P));var N=Math.max(0,R.height+U);"height"===s&&(N=i?hh(N,Sh):Math.round(N)),P=Math.max(v.Ea,P),N=Math.max(v.Ea,N),(0,v.gk)(P,N,L,R,u,r,"width"===s?"e":"s",{shouldInformMutation:!1})}}}}catch(oe){m.e(oe)}finally{m.f()}l.triggerUpdate()}else{var F,O=(0,c.default)(f);try{for(O.s();!(F=O.n()).done;){var z=F.value,B=ph(z,u,r);if(B.length>1){var H=B.map((function(e){return e.latest})),W=B.map((function(e){return e.original})),X=(0,v.bj)(W),V=(0,d.default)(X,4),G=V[0],Y=V[1],Z=V[2],K=V[3],q=Z-G,$=K-Y,Q=q/$,J=Math.max(v.Ea,"width"===s?Math.max(0,o):q),ee=Math.max(v.Ea,"height"===s?Math.max(0,o):$);Ch(J,ee,$,Q,(0,v.Ua)(G,Y),s,H,W,u,r)}else{var te=(0,d.default)(B,1)[0],ne=null===te||void 0===te?void 0:te.latest,re=null===te||void 0===te?void 0:te.original;if(ne&&re&&fh(ne,s)){var ae="width"===s?Math.max(0,o):ne.width;"width"===s&&(ae=i?hh(ae,Sh):Math.round(ae));var ie="height"===s?Math.max(0,o):ne.height;"height"===s&&(ie=i?hh(ie,Sh):Math.round(ie)),ae=Math.max(v.Ea,ae),ie=Math.max(v.Ea,ie),(0,v.gk)(ae,ie,ne,re,u,r,"width"===s?"e":"s",{shouldInformMutation:!1})}}}}catch(oe){O.e(oe)}finally{O.f()}l.triggerUpdate()}},jh=function(e){var t=e.property,n=e.elements,r=e.elementsMap,a=e.atomicUnits,i=e.scene,o=e.appState,l=(0,y.useMemo)((function(){return a.map((function(e){var n=ph(e,r);if(n.length>1){var a=(0,v.bj)(n.map((function(e){return e.latest}))),i=(0,d.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3];return Math.round(100*("width"===t?s-o:c-l))/100}var u=(0,d.default)(n,1)[0];return Math.round(100*("width"===t?u.latest.width:u.latest.height))/100}))}),[r,a,t]),s=1===new Set(l).size?Math.round(100*l[0])/100:"Mixed",c=l.length>0;return(0,X.jsx)(gh,{label:"width"===t?"W":"H",elements:n,dragInputCallback:Ih,value:s,editable:c,appState:o,property:t,scene:i})},Th=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.shouldChangeByStepSize,a=e.nextValue,i=e.property,o=e.scene,l=o.getNonDeletedElementsMap(),s=n.map((function(e){return l.get(e.id)})).filter((function(e){return e&&!(0,v.Wc)(e)&&fh(e,i)})),u=n.filter((function(e){return!(0,v.Wc)(e)&&fh(e,i)}));if(void 0===a){for(var d=0;d<s.length;d++){var f=s[d];if(f){var h=u[d],p=(Math.round(100*(0,v.Na)(h.angle))/100+Math.round(t))%360;r&&(p=hh(p,15)),p=p<0?p+360:p;var U=(0,v.Ma)(p);(0,v.Pj)(f,{angle:U},!1);var m=(0,v.zj)(f,l);m&&!(0,v.dc)(f)&&(0,v.Pj)(m,{angle:U},!1)}}o.triggerUpdate()}else{var g,b=(0,v.Ma)(a),y=(0,c.default)(s);try{for(y.s();!(g=y.n()).done;){var x=g.value;if(x){(0,v.Pj)(x,{angle:b},!1);var w=(0,v.zj)(x,l);w&&!(0,v.dc)(x)&&(0,v.Pj)(w,{angle:b},!1)}}}catch(E){y.e(E)}finally{y.f()}o.triggerUpdate()}},Ah=function(e){var t=e.elements,n=e.scene,r=e.appState,a=e.property,i=t.filter((function(e){return!(0,v.Wc)(e)&&fh(e,"angle")})),o=i.map((function(e){return Math.round((0,v.Na)(e.angle)%360*100)/100})),l=1===new Set(o).size?o[0]:"Mixed",s=i.some((function(e){return fh(e,"angle")}));return(0,X.jsx)(gh,{label:"A",icon:v.We,value:l,elements:t,dragInputCallback:Th,editable:s,appState:r,scene:n,property:a})},Dh=function(e){var t,n=e.accumulatedChange,r=e.originalElements,a=e.shouldChangeByStepSize,i=e.nextValue,o=e.scene,l=o.getNonDeletedElementsMap(),s=r.map((function(e){return l.get(e.id)}));if(i){t=Math.max(Math.round(i),4);var u,d=(0,c.default)(s);try{for(d.s();!(u=d.n()).done;){var f=u.value;(0,v.Pj)(f,{fontSize:t},!1),(0,v.uj)(f,o.getContainerElement(f),l,!1)}}catch(x){d.e(x)}finally{d.f()}o.triggerUpdate()}else{for(var h=r,p=0;p<s.length;p++){var U=s[p],m=h[p],g=Math.round(m.fontSize),b=Math.round(n),y=Math.max(g+b,4);a&&(y=hh(y,4)),(0,v.Pj)(U,{fontSize:y},!1),(0,v.uj)(U,o.getContainerElement(U),l,!1)}o.triggerUpdate()}},_h=function(e){var t=e.elements,n=e.scene,r=e.appState,a=e.property,i=function(e,t){return e.reduce((function(e,n){if(!n||(0,v.Wc)(n))return e;if((0,v._b)(n))return e.push(n),e;if((0,v.mc)(n)){var r=(0,v.zj)(n,t);if(r)return e.push(r),e}return e}),[])}(t,e.elementsMap);if(!i.length)return null;var o=i.map((function(e){return Math.round(10*e.fontSize)/10})),l=1===new Set(o).size?o[0]:"Mixed",s=o.length>0;return(0,X.jsx)(gh,{label:"F",icon:v.Ne,elements:i,dragInputCallback:Dh,value:l,editable:s,scene:n,property:a,appState:r})},Lh=function(e){var t=e.accumulatedChange,n=e.instantChange,r=e.originalElements,a=e.originalElementsMap,i=e.shouldChangeByStepSize,o=e.nextValue,l=e.property,c=e.scene,u=e.originalAppState,f=c.getNonDeletedElementsMap(),h=c.getNonDeletedElements(),p=r[0],U=p.x+p.width/2,m=p.y+p.height/2,g=(0,v.Va)((0,v.Ua)(p.x,p.y),(0,v.Ua)(U,m),p.angle),b=(0,d.default)(g,2),y=b[0],x=b[1];if(u.croppingElementId===p.id){var w=f.get(p.id);if(!w||!(0,v.Wb)(w)||!w.crop)return;var E=w.crop,k=E,S=-1===w.scale[0],M=-1===w.scale[1],C=(0,v.ch)(w),I=C.width,j=C.height;if(void 0!==o){if("x"===l){var T=o*(E.naturalWidth/I);k=S?(0,s.default)((0,s.default)({},E),{},{x:(0,v.Ia)(E.naturalWidth-T-E.width,0,E.naturalWidth-E.width)}):(0,s.default)((0,s.default)({},E),{},{x:(0,v.Ia)(o*(E.naturalWidth/I),0,E.naturalWidth-E.width)})}return"y"===l&&(k=(0,s.default)((0,s.default)({},E),{},{y:(0,v.Ia)(o*(E.naturalHeight/j),0,E.naturalHeight-E.height)})),void(0,v.Pj)(w,{crop:k})}var A=("x"===l?n:0)*(S?-1:1),D=("y"===l?n:0)*(M?-1:1);return k=(0,s.default)((0,s.default)({},E),{},{x:(0,v.Ia)(E.x+A,0,E.naturalWidth-E.width),y:(0,v.Ia)(E.y+D,0,E.naturalHeight-E.height)}),void(0,v.Pj)(w,{crop:k})}if(void 0===o){var _="x"===l?t:0,L="y"===l?t:0,R="x"===l?Math.round(i?hh(p.x+_,10):y+_):y,P="y"===l?Math.round(i?hh(p.y+L,10):x+L):x;vh(R,P,p,f,h,c,a)}else vh("x"===l?o:y,"y"===l?o:x,p,f,h,c,a)},Rh=function(e){var t=e.property,n=e.element,r=(e.elementsMap,e.scene),a=e.appState,i=(0,v.Va)((0,v.Ua)(n.x,n.y),(0,v.Ua)(n.x+n.width/2,n.y+n.height/2),n.angle),o=(0,d.default)(i,2),l=o[0],s=o[1],c=(0,v.Ja)("x"===t?l:s,2);if(a.croppingElementId===n.id&&(0,v.Wb)(n)&&n.crop){var u=(0,v.dh)(n);u&&(c=(0,v.Ja)("x"===t?u.x:u.y,2))}return(0,X.jsx)(gh,{label:"x"===t?"X":"Y",elements:[n],dragInputCallback:Lh,scene:r,value:c,property:t,appState:a})},Ph=function(e,t,n,r,a,i,o){for(var l=(0,v.bj)(n),s=(0,d.default)(l,3),c=e-s[0],u=t-s[1],f=0;f<n.length;f++){var h=n[f],p=r.get(h.id);if(p&&(!(0,v._b)(p)||!p.containerId)){var U=p.x+p.width/2,m=p.y+p.height/2,g=(0,v.Va)((0,v.Ua)(p.x,p.y),(0,v.Ua)(U,m),p.angle),b=(0,d.default)(g,2),y=b[0],x=b[1];vh(y+c,x+u,h,r,a,o,i,!1)}}},Nh=function(e){var t=e.accumulatedChange,n=e.originalElements,r=e.originalElementsMap,a=e.shouldChangeByStepSize,i=e.nextValue,o=e.property,l=e.scene,s=e.originalAppState,u=l.getNonDeletedElementsMap(),f=l.getNonDeletedElements();if(void 0===i){var h=a?hh(t,10):t;(function(e,t,n,r,a,i,o,l){for(var s=0;s<r.length;s++){var c=a[s],u=c.x+c.width/2,f=c.y+c.height/2,h=(0,v.Va)((0,v.Ua)(c.x,c.y),(0,v.Ua)(u,f),c.angle),p=(0,d.default)(h,2),U=p[0],m=p[1],g="x"===e?Math.round(U+t):U,b="y"===e?Math.round(m+n):m;vh(g,b,c,i,r,l,o,!1)}})(o,"x"===o?h:0,"y"===o?h:0,n,n,u,r,l),l.triggerUpdate()}else{var p,U=(0,c.default)(Uh(n,s));try{for(U.s();!(p=U.n()).done;){var m=p.value,g=ph(m,u,r);if(g.length>1){var b=(0,v.bj)(g.map((function(e){return e.latest}))),y=(0,d.default)(b,3),x=y[0],w=y[1];Ph("x"===o?i:x,"y"===o?i:w,g.map((function(e){return e.original})),u,f,r,l)}else{var E,k,S=null===(E=g[0])||void 0===E?void 0:E.original,M=null===(k=g[0])||void 0===k?void 0:k.latest;if(S&&M&&fh(M,o)){var C=S.x+S.width/2,I=S.y+S.height/2,j=(0,v.Va)((0,v.Ua)(S.x,S.y),(0,v.Ua)(C,I),S.angle),T=(0,d.default)(j,2),A=T[0],D=T[1];vh("x"===o?i:A,"y"===o?i:D,S,u,f,l,r,!1)}}}}catch(_){U.e(_)}finally{U.f()}l.triggerUpdate()}},Fh=function(e){var t=e.property,n=e.elements,r=e.elementsMap,a=e.atomicUnits,i=e.scene,o=e.appState,l=(0,y.useMemo)((function(){return a.map((function(e){var n=Object.keys(e).map((function(e){return r.get(e)})).filter((function(e){return void 0!==e}));if(n.length>1){var a=(0,v.bj)(n),i=(0,d.default)(a,2),o=i[0],l=i[1];return Math.round(100*("x"===t?o:l))/100}var s=(0,d.default)(n,1)[0],c=s.x+s.width/2,u=s.y+s.height/2,f=(0,v.Va)((0,v.Ua)(s.x,s.y),(0,v.Ua)(c,u),s.angle),h=(0,d.default)(f,2),p=h[0],U=h[1];return Math.round(100*("x"===t?p:U))/100}))}),[a,r,t]),s=1===new Set(l).size?l[0]:"Mixed";return(0,X.jsx)(gh,{label:"x"===t?"X":"Y",elements:n,dragInputCallback:Nh,value:s,property:t,scene:i,appState:o})},Oh=function(e){var t=e.property,n=e.scene,r=e.appState,a=e.setAppState;return(0,X.jsx)(gh,{label:"Grid step",sensitivity:8,elements:[],dragInputCallback:function(e){var t=e.nextValue,n=e.instantChange,r=e.shouldChangeByStepSize,i=e.setInputValue;a((function(e){var a;return t?a=t:n&&(a=r?hh(e.gridStep+5*Math.sign(n),5):e.gridStep+n),a?(a=(0,v.Bk)(a),i(a),{gridStep:a}):(i(e.gridStep),null)}))},scene:n,value:r.gridStep,property:t,appState:r})},zh=function(e){var t=lv(),n=e.app.scene.getSceneNonce()||1,r=e.app.scene.getSelectedElements({selectedElementIds:t.selectedElementIds,includeBoundTextElement:!1}),a=(0,v.fj)(e.app);return(0,X.jsx)(Wh,(0,s.default)((0,s.default)({},e),{},{appState:t,sceneNonce:n,selectedElements:r,gridModeEnabled:a}))},Bh=function(e){var t=e.children,n=e.columns,r=void 0===n?1:n,a=e.heading,i=e.style,o=(0,u.default)(e,ui);return(0,X.jsx)("div",(0,s.default)((0,s.default)({className:(0,ie.A)("exc-stats__row",{"exc-stats__row--heading":a}),style:(0,s.default)({gridTemplateColumns:"repeat(".concat(r,", 1fr)")},i)},o),{},{children:t}))};Bh.displayName="StatsRow";var Hh=function(e){var t=e.children,n=e.order,r=e.style,a=(0,u.default)(e,di);return(0,X.jsx)("div",(0,s.default)((0,s.default)({className:"exc-stats__rows",style:(0,s.default)({order:n},r)},a),{},{children:t}))};Hh.displayName="StatsRows",zh.StatsRow=Bh,zh.StatsRows=Hh;var Wh=(0,y.memo)((function(e){var t=e.app,n=e.onClose,r=e.renderCustomStats,a=e.selectedElements,i=e.appState,o=e.sceneNonce,l=e.gridModeEnabled,s=t.scene,c=s.getNonDeletedElements(),u=s.getNonDeletedElementsMap(),f=sv(),h=1===a.length?a[0]:null,p=a.length>1?a:null,U=i.croppingElementId&&(0,v.Wb)(h),m=U?(0,v.ch)(h):null,g=(0,y.useState)({width:0,height:0}),b=(0,d.default)(g,2),x=b[0],w=b[1],E=(0,y.useMemo)((function(){return zn((function(e){var t=(0,v.bj)(e);w({width:Math.round(t[2])-Math.round(t[0]),height:Math.round(t[3])-Math.round(t[1])})}),50)}),[]);(0,y.useEffect)((function(){E(c)}),[o,c,E]),(0,y.useEffect)((function(){return function(){return E.cancel()}}),[E]);var k=(0,y.useMemo)((function(){return Uh(a,i)}),[a,i]),S=(0,y.useMemo)((function(){return(0,v.Qi)(a)}),[a]);return(0,X.jsx)("div",{className:"exc-stats",children:(0,X.jsxs)(zo,{padding:3,children:[(0,X.jsxs)("div",{className:"title",children:[(0,X.jsx)("h2",{children:Pi("stats.title")}),(0,X.jsx)("div",{className:"close",onClick:n,children:v.ge})]}),(0,X.jsxs)(Zo,{label:(0,X.jsx)("h3",{children:Pi("stats.generalStats")}),open:!!(i.stats.panels&v.Da.generalStats),openTrigger:function(){return f((function(e){return{stats:{open:!0,panels:e.stats.panels^v.Da.generalStats}}}))},children:[(0,X.jsxs)(Hh,{children:[(0,X.jsx)(Bh,{heading:!0,children:Pi("stats.scene")}),(0,X.jsxs)(Bh,{columns:2,children:[(0,X.jsx)("div",{children:Pi("stats.shapes")}),(0,X.jsx)("div",{children:c.length})]}),(0,X.jsxs)(Bh,{columns:2,children:[(0,X.jsx)("div",{children:Pi("stats.width")}),(0,X.jsx)("div",{children:x.width})]}),(0,X.jsxs)(Bh,{columns:2,children:[(0,X.jsx)("div",{children:Pi("stats.height")}),(0,X.jsx)("div",{children:x.height})]}),l&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Bh,{heading:!0,children:"Canvas"}),(0,X.jsx)(Bh,{children:(0,X.jsx)(Oh,{property:"gridStep",scene:s,appState:i,setAppState:f})})]})]}),null===r||void 0===r?void 0:r(c,i)]}),!S&&a.length>0&&(0,X.jsx)("div",{id:"elementStats",style:{marginTop:12},children:(0,X.jsx)(Zo,{label:(0,X.jsx)("h3",{children:Pi("stats.elementProperties")}),open:!!(i.stats.panels&v.Da.elementProperties),openTrigger:function(){return f((function(e){return{stats:{open:!0,panels:e.stats.panels^v.Da.elementProperties}}}))},children:(0,X.jsxs)(Hh,{children:[h&&(0,X.jsxs)(X.Fragment,{children:[U&&(0,X.jsx)(Bh,{heading:!0,children:Pi("labels.unCroppedDimension")}),i.croppingElementId&&(0,v.Wb)(h)&&m&&(0,X.jsxs)(Bh,{columns:2,children:[(0,X.jsx)("div",{children:Pi("stats.width")}),(0,X.jsx)("div",{children:(0,v.Ja)(m.width,2)})]}),i.croppingElementId&&(0,v.Wb)(h)&&m&&(0,X.jsxs)(Bh,{columns:2,children:[(0,X.jsx)("div",{children:Pi("stats.height")}),(0,X.jsx)("div",{children:(0,v.Ja)(m.height,2)})]}),(0,X.jsx)(Bh,{heading:!0,"data-testid":"stats-element-type",children:i.croppingElementId?Pi("labels.imageCropping"):Pi("element.".concat(h.type))}),(0,X.jsx)(Bh,{children:(0,X.jsx)(Rh,{element:h,property:"x",elementsMap:u,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(Rh,{element:h,property:"y",elementsMap:u,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(yh,{property:"width",element:h,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(yh,{property:"height",element:h,scene:s,appState:i})}),!(0,v.ec)(h)&&(0,X.jsx)(Bh,{children:(0,X.jsx)(wh,{property:"angle",element:h,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(kh,{property:"fontSize",element:h,scene:s,appState:i})})]}),p&&(0,X.jsxs)(X.Fragment,{children:[(0,v.Vc)(p)&&(0,X.jsx)(Bh,{heading:!0,children:Pi("element.group")}),(0,X.jsxs)(Bh,{columns:2,style:{margin:"0.3125rem 0"},children:[(0,X.jsx)("div",{children:Pi("stats.shapes")}),(0,X.jsx)("div",{children:a.length})]}),(0,X.jsx)(Bh,{children:(0,X.jsx)(Fh,{property:"x",elements:p,elementsMap:u,atomicUnits:k,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(Fh,{property:"y",elements:p,elementsMap:u,atomicUnits:k,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(jh,{property:"width",elements:p,elementsMap:u,atomicUnits:k,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(jh,{property:"height",elements:p,elementsMap:u,atomicUnits:k,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(Ah,{property:"angle",elements:p,scene:s,appState:i})}),(0,X.jsx)(Bh,{children:(0,X.jsx)(_h,{property:"fontSize",elements:p,scene:s,appState:i,elementsMap:u})})]})]})})})]})})}),(function(e,t){return e.sceneNonce===t.sceneNonce&&e.selectedElements===t.selectedElements&&e.appState.stats.panels===t.appState.stats.panels&&e.gridModeEnabled===t.gridModeEnabled&&e.appState.gridStep===t.appState.gridStep&&e.appState.croppingElementId===t.appState.croppingElementId})),Xh=function(e){var t,n,r=e.sourceElementId,a=e.onClose,i=e.elementsMap,o=e.appState,l=e.generateLinkForSelection,s=void 0===l?v.Yh:l,c=null!==(t=null===(n=i.get(r))||void 0===n?void 0:n.link)&&void 0!==t?t:null,u=(0,y.useState)(c),f=(0,d.default)(u,2),h=f[0],p=f[1],U=(0,y.useState)(!1),m=(0,d.default)(U,2),g=m[0],b=m[1];(0,y.useEffect)((function(){var e=(0,v.vk)(i,o),t=c;if(e.length>0&&s){var n=(0,v.Zh)(e,o);n&&(t=(0,v.Xc)(s(n.id,n.type)))}p(t)}),[i,o,o.selectedElementIds,c,s]);var x=(0,y.useCallback)((function(){var e;if(h&&h!==(null===(e=i.get(r))||void 0===e?void 0:e.link)){var t=i.get(r);t&&(0,v.Pj)(t,{link:h})}if(!h&&g&&r){var n=i.get(r);n&&(0,v.Pj)(n,{link:null})}null===a||void 0===a||a()}),[r,h,i,g,a]);return(0,y.useEffect)((function(){var e=function(e){var t,n;"elementLinkSelector"===(null===(t=o.openDialog)||void 0===t?void 0:t.name)&&e.key===v.hg.ENTER&&x(),"elementLinkSelector"===(null===(n=o.openDialog)||void 0===n?void 0:n.name)&&e.key===v.hg.ESCAPE&&(null===a||void 0===a||a())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[o,a,x]),(0,X.jsxs)("div",{className:"ElementLinkDialog",children:[(0,X.jsxs)("div",{className:"ElementLinkDialog__header",children:[(0,X.jsx)("h2",{children:Pi("elementLink.title")}),(0,X.jsx)("p",{children:Pi("elementLink.desc")})]}),(0,X.jsxs)("div",{className:"ElementLinkDialog__input",children:[(0,X.jsx)(lu,{value:null!==h&&void 0!==h?h:"",onChange:function(e){g||b(!0),p(e)},onKeyDown:function(e){e.key===v.hg.ENTER&&x()},className:"ElementLinkDialog__input-field",selectOnRender:!0}),c&&h&&(0,X.jsx)(Hi,{type:"button",title:Pi("buttons.remove"),"aria-label":Pi("buttons.remove"),label:Pi("buttons.remove"),onClick:function(){p(null),b(!0)},className:"ElementLinkDialog__remove",icon:v.ud})]}),(0,X.jsxs)("div",{className:"ElementLinkDialog__actions",children:[(0,X.jsx)(Mc,{label:Pi("buttons.cancel"),onClick:function(){null===a||void 0===a||a()},style:{marginRight:10}}),(0,X.jsx)(Mc,{label:Pi("buttons.confirm"),onClick:x,actionType:"primary"})]})]})},Vh=function(e){var t=e.UIOptions;return(0,X.jsxs)(If,{__fallback:!0,children:[(0,X.jsx)(If.DefaultItems.LoadScene,{}),(0,X.jsx)(If.DefaultItems.SaveToActiveFile,{}),t.canvasActions.export&&(0,X.jsx)(If.DefaultItems.Export,{}),t.canvasActions.saveAsImage&&(0,X.jsx)(If.DefaultItems.SaveAsImage,{}),(0,X.jsx)(If.DefaultItems.SearchMenu,{}),(0,X.jsx)(If.DefaultItems.Help,{}),(0,X.jsx)(If.DefaultItems.ClearCanvas,{}),(0,X.jsx)(If.Separator,{}),(0,X.jsx)(If.Group,{title:"Excalidraw links",children:(0,X.jsx)(If.DefaultItems.Socials,{})}),(0,X.jsx)(If.Separator,{}),(0,X.jsx)(If.DefaultItems.ToggleTheme,{}),(0,X.jsx)(If.DefaultItems.ChangeCanvasBackground,{})]})},Gh=function(){return(0,X.jsxs)(Af,{__fallback:!0,children:[(0,X.jsx)(Af.Actions.SaveToDisk,{}),(0,X.jsx)(Af.Actions.ExportToImage,{})]})},Yh=function(e){e.suggestedBindings,e.startBoundElement,e.cursorButton,e.scrollX,e.scrollY;return(0,u.default)(e,fi)},Zh=y.memo((function(e){var t,n,r,a=e.actionManager,i=e.appState,o=e.files,u=e.setAppState,f=e.elements,h=e.canvas,p=e.onLockToggle,U=e.onHandToolToggle,m=e.onPenModeToggle,g=e.showExitZenModeBtn,b=e.renderTopRightUI,x=e.renderCustomStats,w=e.UIOptions,E=e.onExportImage,k=e.renderWelcomeScreen,S=e.children,M=e.app,C=e.isCollaborating,I=e.generateLinkForSelection,j=av(),T=y.useMemo((function(){return{MainMenuTunnel:er(),WelcomeScreenMenuHintTunnel:er(),WelcomeScreenToolbarHintTunnel:er(),WelcomeScreenHelpHintTunnel:er(),WelcomeScreenCenterTunnel:er(),FooterCenterTunnel:er(),DefaultSidebarTriggerTunnel:er(),DefaultSidebarTabTriggersTunnel:er(),OverwriteConfirmDialogTunnel:er(),TTDDialogTriggerTunnel:er(),tunnelsJotai:mu}}),[]),A=T.tunnelsJotai.Provider,D=wi(No),_=(0,d.default)(D,2),L=_[0],R=_[1],P=function(){return w.canvasActions.export?(0,X.jsx)(Yd,{elements:f,appState:i,files:o,actionManager:a,exportOpts:w.canvasActions.export,canvas:h,setAppState:u}):null},N=function(){var e;return w.canvasActions.saveAsImage&&"imageExport"===(null===(e=i.openDialog)||void 0===e?void 0:e.name)?(0,X.jsx)(ud,{elements:f,appState:i,files:o,actionManager:a,onExportImage:E,onCloseRequest:function(){return u({openDialog:null})},name:M.getName()}):null},F=function(){return(0,X.jsx)(Hf,{__fallback:!0,onDock:function(e){ho("sidebar","toggleDock (".concat(e?"dock":"undock",")"),"(".concat(j.editor.isMobile?"mobile":"desktop",")"))}})},O=ki(af),z=(0,X.jsxs)(X.Fragment,{children:[S,(0,X.jsx)(Vh,{UIOptions:w}),(0,X.jsx)(Hf.Trigger,{__fallback:!0,icon:v.fd,title:(0,v.Ya)(Pi("toolBar.library")),onToggle:function(e){e&&ho("sidebar","".concat(v.ya.name," (open)"),"button (".concat(j.editor.isMobile?"mobile":"desktop",")"))},tab:v.ya.defaultTab,children:Pi("toolBar.library")}),(0,X.jsx)(Gh,{}),"ttd"===(null===(t=i.openDialog)||void 0===t?void 0:t.name)&&(0,X.jsx)(uh,{__fallback:!0}),i.isLoading&&(0,X.jsx)(zi,{delay:250}),i.errorMessage&&(0,X.jsx)(nd,{onClose:function(){return u({errorMessage:null})},children:i.errorMessage}),L&&!j.editor.isMobile&&(0,X.jsx)(Fo,{colorPickerType:L.colorPickerType,onCancel:function(){R(null)},onChange:function(e,t,n,r){var a=r.altKey;if("elementBackground"===e||"elementStroke"===e)if(n.length){var i,o,s=(0,c.default)(n);try{for(s.s();!(o=s.n()).done;){var d=o.value;(0,v.Pj)(d,(0,l.default)({},a&&L.swapPreviewOnAlt?"elementBackground"===e?"strokeColor":"backgroundColor":"elementBackground"===e?"backgroundColor":"strokeColor",t),!1),v.ed.delete(d)}}catch(f){s.e(f)}finally{s.f()}null===(i=v.Oj.getScene(n[0]))||void 0===i||i.triggerUpdate()}else u("elementBackground"===e?{currentItemBackgroundColor:t}:{currentItemStrokeColor:t})},onSelect:function(e,t){var n;R((function(e){return null!==e&&void 0!==e&&e.keepOpenOnAlt&&t.altKey?e:null})),null===L||void 0===L||null===(n=L.onSelect)||void 0===n||n.call(L,e,t)}}),"help"===(null===(n=i.openDialog)||void 0===n?void 0:n.name)&&(0,X.jsx)(zd,{onClose:function(){u({openDialog:null})}}),(0,X.jsx)(Iu,{}),"elementLinkSelector"===(null===(r=i.openDialog)||void 0===r?void 0:r.name)&&(0,X.jsx)(Xh,{sourceElementId:i.openDialog.sourceElementId,onClose:function(){u({openDialog:null})},elementsMap:M.scene.getNonDeletedElementsMap(),appState:i,generateLinkForSelection:I}),(0,X.jsx)(T.OverwriteConfirmDialogTunnel.Out,{}),N(),P(),i.pasteDialog.shown&&(0,X.jsx)(Dd,{setAppState:u,appState:i,onClose:function(){return u({pasteDialog:{shown:!1,data:null}})}}),j.editor.isMobile&&(0,X.jsx)(Td,{app:M,appState:i,elements:f,actionManager:a,renderJSONExportDialog:P,renderImageExportDialog:N,setAppState:u,onLockToggle:p,onHandToolToggle:U,onPenModeToggle:m,renderTopRightUI:b,renderCustomStats:x,renderSidebars:F,device:j,renderWelcomeScreen:k,UIOptions:w}),!j.editor.isMobile&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"layer-ui__wrapper",style:i.openSidebar&&O&&j.editor.canFitSidebar?{width:"calc(100% - var(--right-sidebar-width))"}:{},children:[k&&(0,X.jsx)(T.WelcomeScreenCenterTunnel.Out,{}),function(){var e,t,n,r,o,l=(0,v.lk)(i,f),s=i.stats.open&&!i.zenModeEnabled&&!i.viewModeEnabled&&"elementLinkSelector"!==(null===(e=i.openDialog)||void 0===e?void 0:e.name);return(0,X.jsx)(dd,{side:"top",children:(0,X.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,X.jsxs)(gc.Col,{gap:6,className:(0,ie.A)("App-menu_top__left"),children:[(0,X.jsxs)("div",{style:{position:"relative"},children:[(0,X.jsx)(T.MainMenuTunnel.Out,{}),k&&(0,X.jsx)(T.WelcomeScreenMenuHintTunnel.Out,{})]}),l&&(0,X.jsx)(Md,{heading:"selectedShapeActions",className:(0,ie.A)("selected-shape-actions zen-mode-transition",{"transition-left":i.zenModeEnabled}),children:(0,X.jsx)(zo,{className:v.E.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(i.height-166,"px")},children:(0,X.jsx)(yu,{appState:i,elementsMap:M.scene.getNonDeletedElementsMap(),renderAction:a.renderAction,app:M})})})]}),!i.viewModeEnabled&&"elementLinkSelector"!==(null===(t=i.openDialog)||void 0===t?void 0:t.name)&&(0,X.jsx)(Md,{heading:"shapes",className:"shapes-section",children:function(e){return(0,X.jsxs)("div",{style:{position:"relative"},children:[k&&(0,X.jsx)(T.WelcomeScreenToolbarHintTunnel.Out,{}),(0,X.jsx)(gc.Col,{gap:4,align:"start",children:(0,X.jsxs)(gc.Row,{gap:1,className:(0,ie.A)("App-toolbar-container",{"zen-mode":i.zenModeEnabled}),children:[(0,X.jsxs)(zo,{padding:1,className:(0,ie.A)("App-toolbar",{"zen-mode":i.zenModeEnabled}),children:[(0,X.jsx)(Ed,{appState:i,isMobile:j.editor.isMobile,device:j,app:M}),e,(0,X.jsxs)(gc.Row,{gap:1,children:[(0,X.jsx)(Id,{zenModeEnabled:i.zenModeEnabled,checked:i.penMode,onChange:function(){return m(null)},title:Pi("toolBar.penMode"),penDetected:i.penDetected}),(0,X.jsx)(Sd,{checked:i.activeTool.locked,onChange:p,title:Pi("toolBar.lock")}),(0,X.jsx)("div",{className:"App-toolbar__divider"}),(0,X.jsx)(jd,{checked:(0,v.Hc)(i),onChange:function(){return U()},title:Pi("toolBar.hand"),isMobile:!0}),(0,X.jsx)(xu,{appState:i,activeTool:i.activeTool,UIOptions:w,app:M})]})]}),C&&(0,X.jsx)(zo,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,X.jsx)(Wf,{title:Pi("toolBar.laser"),checked:i.activeTool.type===v.Aa.laser,onChange:function(){return M.setActiveTool({type:v.Aa.laser})},isMobile:!0})})]})})]})}}),(0,X.jsxs)("div",{className:(0,ie.A)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":i.zenModeEnabled}),children:[i.collaborators.size>0&&(0,X.jsx)(Xd,{collaborators:i.collaborators,userToFollow:(null===(n=i.userToFollow)||void 0===n?void 0:n.socketId)||null}),null===b||void 0===b?void 0:b(j.editor.isMobile,i),!i.viewModeEnabled&&"elementLinkSelector"!==(null===(r=i.openDialog)||void 0===r?void 0:r.name)&&(!O||(null===(o=i.openSidebar)||void 0===o?void 0:o.name)!==v.ya.name)&&(0,X.jsx)(T.DefaultSidebarTriggerTunnel.Out,{}),s&&(0,X.jsx)(zh,{app:M,onClose:function(){a.executeAction(Is)},renderCustomStats:x})]})]})})}(),(0,X.jsx)(qd,{appState:i,actionManager:a,showExitZenModeBtn:g,renderWelcomeScreen:k}),i.scrolledOutside&&(0,X.jsx)("button",{type:"button",className:"scroll-back-to-content",onClick:function(){u((function(e){return(0,s.default)({},(0,v.zk)(f,e))}))},children:Pi("buttons.scrollBackToContent")})]}),F()]})]});return(0,X.jsx)(Do.Provider,{value:i,children:(0,X.jsx)(A,{children:(0,X.jsx)(vu.Provider,{value:T,children:z})})})}),(function(e,t){if(e.children!==t.children)return!1;e.canvas;var n=e.appState,r=(0,u.default)(e,hi),a=(t.canvas,t.appState),i=(0,u.default)(t,pi);return(0,v.Hb)(Yh(n),Yh(a),{selectedElementIds:v.Hb,selectedGroupIds:v.Hb})&&(0,v.Hb)(r,i)})),Kh=function(e){var t=e.message,n=e.onClose,r=e.closable,a=void 0!==r&&r,i=e.duration,o=void 0===i?5e3:i,l=e.style,s=(0,y.useRef)(0),c=o!==1/0,u=(0,y.useCallback)((function(){c&&(s.current=window.setTimeout((function(){return n()}),o))}),[n,o,c]);return(0,y.useEffect)((function(){if(c)return u(),function(){return clearTimeout(s.current)}}),[u,t,o,c]),(0,X.jsxs)("div",{className:"Toast",onMouseEnter:c?function(){return clearTimeout(null===s||void 0===s?void 0:s.current)}:void 0,onMouseLeave:c?u:void 0,style:l,children:[(0,X.jsx)("p",{className:"Toast__message",children:t}),a&&(0,X.jsx)(Hi,{icon:v.ge,"aria-label":"close",type:"icon",onClick:n,className:"close"})]})},qh=(0,v.$c)({name:"viewMode",label:"labels.viewMode",paletteName:"Toggle view mode",icon:v.lf,viewMode:!0,trackEvent:{category:"canvas",predicate:function(e){return!e.viewModeEnabled}},perform:function(e,t){return{appState:(0,s.default)((0,s.default)({},t),{},{viewModeEnabled:!this.checked(t)}),captureUpdate:v.Wg.EVENTUALLY}},checked:function(e){return e.viewModeEnabled},predicate:function(e,t,n){return typeof n.viewModeEnabled>"u"},keyTest:function(e){return!e[v.hg.CTRL_OR_CMD]&&e.altKey&&e.code===v.gg.R}}),$h=function(e,t){var n=t.scene.getSelectedElements(e);return 1===n.length&&(0,v.bc)(n[0])},Qh=(0,v.$c)({name:"selectAllElementsInFrame",label:"labels.selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t).at(0)||null;if((0,v.bc)(a)){var i=(0,v.Bi)((0,v.pk)(e),a.id).filter((function(e){return!("text"===e.type&&e.containerId)}));return{elements:e,appState:(0,s.default)((0,s.default)({},t),{},{selectedElementIds:i.reduce((function(e,t){return e[t.id]=!0,e}),{})}),captureUpdate:v.Wg.IMMEDIATELY}}return{elements:e,appState:t,captureUpdate:v.Wg.EVENTUALLY}},predicate:function(e,t,n,r){return $h(t,r)}}),Jh=(0,v.$c)({name:"removeAllElementsFromFrame",label:"labels.removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(e,t,n,r){var a=r.scene.getSelectedElements(t).at(0)||null;return(0,v.bc)(a)?{elements:(0,v.Ki)(e,a),appState:(0,s.default)((0,s.default)({},t),{},{selectedElementIds:(0,l.default)({},a.id,!0)}),captureUpdate:v.Wg.IMMEDIATELY}:{elements:e,appState:t,captureUpdate:v.Wg.EVENTUALLY}},predicate:function(e,t,n,r){return $h(t,r)}}),ep=((0,v.$c)({name:"updateFrameRendering",label:"labels.updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(e,t){return{elements:e,appState:(0,s.default)((0,s.default)({},t),{},{frameRendering:(0,s.default)((0,s.default)({},t.frameRendering),{},{enabled:!t.frameRendering.enabled})}),captureUpdate:v.Wg.EVENTUALLY}},checked:function(e){return e.frameRendering.enabled}}),(0,v.$c)({name:"setFrameAsActiveTool",label:"toolBar.frame",trackEvent:{category:"toolbar"},icon:v.ff,viewMode:!1,perform:function(e,t,n,r){var a=(0,v.jb)(t,{type:"frame"});return(0,v.dd)(r.interactiveCanvas,(0,s.default)((0,s.default)({},t),{},{activeTool:a})),{elements:e,appState:(0,s.default)((0,s.default)({},t),{},{activeTool:(0,v.jb)(t,{type:"frame"})}),captureUpdate:v.Wg.EVENTUALLY}},keyTest:function(e){return!e[v.hg.CTRL_OR_CMD]&&!e.shiftKey&&!e.altKey&&e.key.toLocaleLowerCase()===v.hg.F}}),(0,v.$c)({name:"wrapSelectionInFrame",label:"labels.wrapSelectionInFrame",trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=(0,v.vk)(e,t);return a.length>0&&!a.some((function(e){return(0,v.bc)(e)}))},perform:function(e,t,n,r){var a=(0,v.vk)(e,t),i=(0,v.bj)(a,r.scene.getNonDeletedElementsMap()),o=(0,d.default)(i,4),s=o[0],u=o[1],f=o[2],h=o[3],U=(0,v.Vf)({x:s-16,y:u-16,width:f-s+32,height:h-u+32});if(t.editingGroupId){var m,g=(0,v.Qc)(a,t.editingGroupId),b=(0,c.default)(g);try{for(b.s();!(m=b.n()).done;){var y=m.value,x=y.groupIds.indexOf(t.editingGroupId);(0,v.Pj)(y,{groupIds:y.groupIds.slice(0,x)},!1)}}catch(w){b.e(w)}finally{b.f()}}return{elements:(0,v.Ii)([].concat((0,p.default)(r.scene.getElementsIncludingDeleted()),[U]),a,U,t),appState:{selectedElementIds:(0,l.default)({},U.id,!0)},captureUpdate:v.Wg.IMMEDIATELY}}})),tp=function(){return(0,X.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,X.jsx)("p",{children:(0,X.jsx)(Sc,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(e){return(0,X.jsx)("span",{style:{fontWeight:600},children:e})}})}),(0,X.jsx)("p",{children:(0,X.jsx)(Sc,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(e){return(0,X.jsx)("span",{style:{fontWeight:600},children:e})}})}),(0,X.jsx)("p",{children:(0,X.jsx)(Sc,{i18nKey:"errors.brave_measure_text_error.line3",link:function(e){return(0,X.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:e})}})}),(0,X.jsx)("p",{children:(0,X.jsx)(Sc,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(e){return(0,X.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:e})},discordLink:function(e){return(0,X.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[e,"."]})}})})]})},np=100,rp=0,ap=100,ip=function(e,t,n){var r=(0,v.Xf)((0,s.default)((0,s.default)({x:0,y:0,textAlign:v.ta.CENTER,verticalAlign:v.sa.MIDDLE},t),{},{containerId:e.id,strokeColor:t.strokeColor||e.strokeColor}));return Object.assign(e,{boundElements:(e.boundElements||[]).concat({type:"text",id:r.id})}),(0,v.uj)(r,e,n),[e,r]},op=function(e,t,n,r,a){var i,o;if(Object.assign(e,{startBinding:(null===e||void 0===e?void 0:e.startBinding)||null,endBinding:e.endBinding||null}),t){var l,c,u,d=null!==(l=null===t||void 0===t?void 0:t.width)&&void 0!==l?l:ap,f=null!==(c=null===t||void 0===t?void 0:t.height)&&void 0!==c?c:ap;t.id&&((u=r.getElement(t.id))||console.error("No element for start binding with id ".concat(t.id," found")));var h=t.x||e.x-d,p=t.y||e.y-f/2,U=u?u.type:t.type;if(U){if("text"===U){var m="";u&&"text"===u.type?m=u.text:"text"===t.type&&(m=t.text),m||console.error("No text found for start binding text element for ".concat(e.id)),i=(0,v.Xf)((0,s.default)((0,s.default)((0,s.default)({x:h,y:p,type:"text"},u),t),{},{text:m})),Object.assign(i,{x:t.x||e.x-i.width,y:t.y||e.y-i.height/2})}else switch(U){case"rectangle":case"ellipse":case"diamond":i=(0,v.Sf)((0,s.default)((0,s.default)((0,s.default)({x:h,y:p,width:d,height:f},u),t),{},{type:U}));break;default:(0,v.Jb)(e,'Unhandled element start type "'.concat(t.type,'"'),!0)}(0,v.Mg)(e,i,"start",a)}}if(n){var g,b,y,x=null!==(g=null===n||void 0===n?void 0:n.height)&&void 0!==g?g:ap,w=null!==(b=null===n||void 0===n?void 0:n.width)&&void 0!==b?b:ap;n.id&&((y=r.getElement(n.id))||console.error("No element for end binding with id ".concat(n.id," found")));var E=n.x||e.x+e.width,k=n.y||e.y-x/2,S=y?y.type:n.type;if(S){if("text"===S){var M="";y&&"text"===y.type?M=y.text:"text"===n.type&&(M=n.text),M||console.error("No text found for end binding text element for ".concat(e.id)),o=(0,v.Xf)((0,s.default)((0,s.default)((0,s.default)({x:E,y:k,type:"text"},y),n),{},{text:M})),Object.assign(o,{y:n.y||e.y-o.height/2})}else switch(S){case"rectangle":case"ellipse":case"diamond":o=(0,v.Sf)((0,s.default)((0,s.default)((0,s.default)({x:E,y:k,width:w,height:x},y),n),{},{type:S}));break;default:(0,v.Jb)(e,'Unhandled element end type "'.concat(S,'"'),!0)}(0,v.Mg)(e,o,"end",a)}}if(e.points.length<2)return{linearElement:e,startBoundElement:i,endBoundElement:o};var C=e.points.length-1,I=.5,j=(0,v.Nb)(e.points);return e.points[C][0]>e.points[C-1][0]&&(j[0][0]=I,j[C][0]-=I),e.points[C][0]<e.points[C-1][0]&&(j[0][0]=-I,j[C][0]+=I),e.points[C][1]>e.points[C-1][1]&&(j[0][1]=I,j[C][1]-=I),e.points[C][1]<e.points[C-1][1]&&(j[0][1]=-I,j[C][1]+=I),Object.assign(e,{points:j}),{linearElement:e,startBoundElement:i,endBoundElement:o}},lp=(0,o.default)((function e(){var t=this;(0,i.default)(this,e),(0,b.d)(this,"excalidrawElements",new Map),(0,b.d)(this,"add",(function(e){e&&t.excalidrawElements.set(e.id,e)})),(0,b.d)(this,"getElements",(function(){return(0,v.Nj)(Array.from(t.excalidrawElements.values()))})),(0,b.d)(this,"getElementsMap",(function(){return(0,v.Sb)((0,v.xb)(t.getElements()))})),(0,b.d)(this,"getElement",(function(e){return t.excalidrawElements.get(e)}))})),sp=function(e,t){if(!e)return[];var n,r=(0,v.Nb)(e),a=new lp,i=new Map,o=new Map,l=(0,c.default)(r);try{for(l.s();!(n=l.n()).done;){var u=n.value,f=void 0,h=u.id;switch(!1!==(null===t||void 0===t?void 0:t.regenerateIds)&&Object.assign(u,{id:(0,v.sc)()}),u.type){case"rectangle":case"ellipse":case"diamond":var p,U,m=null!==u&&void 0!==u&&null!==(p=u.label)&&void 0!==p&&p.text&&void 0===u.width?0:(null===u||void 0===u?void 0:u.width)||ap,g=null!==u&&void 0!==u&&null!==(U=u.label)&&void 0!==U&&U.text&&void 0===u.height?0:(null===u||void 0===u?void 0:u.height)||ap;f=(0,v.Sf)((0,s.default)((0,s.default)({},u),{},{width:m,height:g}));break;case"line":var b=u.width||np,y=u.height||rp;f=(0,v._f)((0,s.default)({width:b,height:y,points:[(0,v.Ua)(0,0),(0,v.Ua)(b,y)]},u));break;case"arrow":var x=u.width||np,w=u.height||rp;f=(0,v.$f)((0,s.default)((0,s.default)({width:x,height:w,endArrowhead:"arrow",points:[(0,v.Ua)(0,0),(0,v.Ua)(x,w)]},u),{},{type:"arrow"})),Object.assign(f,(0,v.hh)(f.points));break;case"text":var E,k=(null===u||void 0===u?void 0:u.fontFamily)||v.J,S=(null===u||void 0===u?void 0:u.fontSize)||v.I,M=(null===u||void 0===u?void 0:u.lineHeight)||(0,v.Rf)(k),C=null!==(E=u.text)&&void 0!==E?E:"",I=(0,v.zc)(C),j=(0,v.vc)(I,(0,v.cb)({fontFamily:k,fontSize:S}),M);f=(0,v.Xf)((0,s.default)({width:j.width,height:j.height,fontFamily:k,fontSize:S},u));break;case"image":f=(0,v.ag)((0,s.default)({width:(null===u||void 0===u?void 0:u.width)||ap,height:(null===u||void 0===u?void 0:u.height)||ap},u));break;case"frame":f=(0,v.Vf)((0,s.default)({x:0,y:0},u));break;case"magicframe":f=(0,v.Wf)((0,s.default)({x:0,y:0},u));break;case"freedraw":case"iframe":case"embeddable":f=u;break;default:f=u,(0,v.Jb)(u,'Unhandled element type "'.concat(u.type,'"'),!0)}a.getElement(f.id)?console.error("Duplicate id found for ".concat(f.id)):(a.add(f),i.set(f.id,u),h&&o.set(h,f.id))}}catch(le){l.e(le)}finally{l.f()}var T,A=a.getElementsMap(),D=(0,c.default)(i);try{for(D.s();!(T=D.n()).done;){var _=(0,d.default)(T.value,2),L=_[0],R=_[1],P=a.getElement(L);switch(R.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var N;if(null!==(N=R.label)&&void 0!==N&&N.text){var F=ip(P,null===R||void 0===R?void 0:R.label,A),O=(0,d.default)(F,2),z=O[0],B=O[1];if(a.add(z),a.add(B),(0,v.dc)(z)){var H="arrow"===R.type?null===R||void 0===R?void 0:R.start:void 0,W="arrow"===R.type?null===R||void 0===R?void 0:R.end:void 0;if(H&&H.id){var X=o.get(H.id);X&&Object.assign(H,{id:X})}if(W&&W.id){var V=o.get(W.id);V&&Object.assign(W,{id:V})}var G=op(z,H,W,a,A),Y=G.linearElement,Z=G.startBoundElement,K=G.endBoundElement;z=Y,a.add(Y),a.add(Z),a.add(K)}}else if("arrow"===R.type){var q=R.start,$=R.end;if(q&&q.id){var Q=o.get(q.id);Object.assign(q,{id:Q})}if($&&$.id){var J=o.get($.id);Object.assign($,{id:J})}var ee=op(P,q,$,a,A),te=ee.linearElement,ne=ee.startBoundElement,re=ee.endBoundElement;a.add(te),a.add(ne),a.add(re)}}}}catch(le){D.e(le)}finally{D.f()}var ae,ie=(0,c.default)(i);try{var oe=function(){var e=(0,d.default)(ae.value,2),t=e[0],n=e[1];if("frame"!==n.type&&"magicframe"!==n.type)return 1;var r=a.getElement(t);if(!r)throw new Error("Excalidraw element with id ".concat(t," doesn't exist"));var i=[];n.children.forEach((function(e){var t,n=o.get(e);if(!n)throw new Error("Element with ".concat(e," wasn't mapped correctly"));var l=a.getElement(n);if(!l)throw new Error("Frame element with id ".concat(n," doesn't exist"));Object.assign(l,{frameId:r.id}),null!==l&&void 0!==l&&null!==(t=l.boundElements)&&void 0!==t&&t.forEach((function(e){var t=a.getElement(e.id);if(!t)throw new Error("Bound element with id ".concat(e.id," doesn't exist"));Object.assign(t,{frameId:r.id}),i.push(t)})),i.push(l)}));var l=(0,v.bj)(i),s=(0,d.default)(l,4),c=s[0],u=s[1],f=s[2],h=s[3];c-=10,u-=10,f+=10,h+=10;var p=(null===r||void 0===r?void 0:r.x)||c,U=(null===r||void 0===r?void 0:r.y)||u,m=(null===r||void 0===r?void 0:r.width)||f-c,g=(null===r||void 0===r?void 0:r.height)||h-u;Object.assign(r,{x:p,y:U,width:m,height:g}),(0,v.Bb)()&&n.children.length&&((null===r||void 0===r?void 0:r.x)||(null===r||void 0===r?void 0:r.y)||(null===r||void 0===r?void 0:r.width)||(null===r||void 0===r?void 0:r.height))&&console.info("User provided frame attributes are being considered, if you find this inaccurate, please remove any of the attributes - x, y, width and height so frame coordinates and dimensions are calculated automatically")};for(ie.s();!(ae=ie.n()).done;)oe()}catch(le){ie.e(le)}finally{ie.f()}return a.getElements()},cp=function(e){return function(t){(0,oe.unstable_batchedUpdates)(e,t)}},up=function(e){return(0,v.eb)((function(t){(0,oe.unstable_batchedUpdates)(e,t)}))},dp=function(){var e;try{var t=y.version.split(".");e=Number(t[0])>17}catch(r){e=!1}var n=!1;return function(){return!0===window.EXCALIDRAW_THROTTLE_RENDER&&(!!e||(n||(n=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),fp=function(e,t,n){if(!n.zenModeEnabled){var r=e.points[0],a=e.points[e.points.length-1];vp(r,a,t)}var i,o=(0,c.default)(e.points);try{for(o.s();!(i=o.n()).done;){var l=i.value;pp(l,n,t)}}catch(s){o.e(s)}finally{o.f()}},hp=function(e,t,n){pp(e.points[0],n,t),n.zenModeEnabled||vp(e.points[0],e.points[1],t)},pp=function(e,t,n){var r=(0,d.default)(e,2),a=r[0],i=r[1];n.save();var o=(t.zenModeEnabled?3:2)/t.zoom.value;n.beginPath(),n.moveTo(a-o,i-o),n.lineTo(a+o,i+o),n.moveTo(a+o,i-o),n.lineTo(a-o,i+o),n.stroke(),n.restore()},vp=function(e,t,n){n.beginPath(),n.lineTo(e[0],e[1]),n.lineTo(t[0],t[1]),n.stroke()},Up=function(e,t,n,r,a){var i=8/r.zoom.value,o=i/2,l=i/4;if("horizontal"===n){var s=[(e[0]+t[0])/2,e[1]];r.zenModeEnabled||vp((0,v.Ua)(e[0],e[1]-i),(0,v.Ua)(e[0],e[1]+i),a),vp((0,v.Ua)(s[0]-l,s[1]-o),(0,v.Ua)(s[0]-l,s[1]+o),a),vp((0,v.Ua)(s[0]+l,s[1]-o),(0,v.Ua)(s[0]+l,s[1]+o),a),r.zenModeEnabled||(vp((0,v.Ua)(t[0],t[1]-i),(0,v.Ua)(t[0],t[1]+i),a),vp(e,t,a))}else{var c=[e[0],(e[1]+t[1])/2];r.zenModeEnabled||vp((0,v.Ua)(e[0]-i,e[1]),(0,v.Ua)(e[0]+i,e[1]),a),vp((0,v.Ua)(c[0]-o,c[1]-l),(0,v.Ua)(c[0]+o,c[1]-l),a),vp((0,v.Ua)(c[0]-o,c[1]+l),(0,v.Ua)(c[0]+o,c[1]+l),a),r.zenModeEnabled||(vp((0,v.Ua)(t[0]-i,t[1]),(0,v.Ua)(t[0]+i,t[1]),a),vp(e,t,a))}},mp=function(e,t,n){t.fillStyle="rgba(105, 101, 219, 0.4)",(0,v.Vh)(t,e[0],e[1],v.pj.POINT_HANDLE_SIZE/n.zoom.value,!1)},gp=function(e,t,n,r,a,i,o,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;e.save(),e.translate(i,o),e.rotate(l),s&&e.fillRect(t-i,n-o,r,a),c&&e.roundRect?(e.beginPath(),e.roundRect(t-i,n-o,r,a,c),e.stroke(),e.closePath()):e.strokeRect(t-i,n-o,r,a),e.restore()},bp=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.strokeStyle="#5e5ad8",e.setLineDash([]),e.fillStyle="rgba(255, 255, 255, 0.9)",a?e.fillStyle="rgba(134, 131, 226, 0.9)":i&&(e.fillStyle="rgba(177, 151, 252, 0.7)"),(0,v.Vh)(e,n[0],n[1],r/t.zoom.value,!i)},yp=function(e,t,n,r){var a=(0,v.aj)(t,n),i=(0,d.default)(a,4),o=i[0],l=i[1],s=i[2]-o,c=i[3]-l;e.strokeStyle="rgba(0,0,0,.05)";var u=r.value<1?r.value:1;e.lineWidth=v.Gg/u;var f=e.lineWidth/2+v.Hg,h=(0,v.wg)(Math.min(t.width,t.height),t);switch(t.type){case"rectangle":case"text":case"image":case"iframe":case"embeddable":case"frame":case"magicframe":gp(e,o-f,l-f,s+2*f,c+2*f,o+s/2,l+c/2,t.angle,void 0,h);break;case"diamond":var p=Math.hypot(s,c);!function(e,t,n,r,a,i){e.save(),e.translate(r,a),e.rotate(i),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()}(e,s+2*(f*p/c),c+2*(f*p/s),o+s/2,l+c/2,t.angle);break;case"ellipse":!function(e,t,n,r,a,i){e.beginPath(),e.ellipse(r,a,t/2,n/2,i,0,2*Math.PI),e.stroke()}(e,s+2*f,c+2*f,o+s/2,l+c/2,t.angle)}},xp=function(e,t,n,r){var a=(0,d.default)(t,3),i=a[0],o=a[1],l=a[2],s=(0,v.Ug)(l,l.width,l.height,r);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===o?[0,-1]:"start"===o?[0]:[-1]).forEach((function(t){var r=v.pj.getPointAtIndexGlobalCoordinates(i,t,n),a=(0,d.default)(r,2),o=a[0],l=a[1];(0,v.Vh)(e,o,l,s)}))},wp=function(e,t,n){var r,a=n.angle,i=n.x1,o=n.y1,l=n.x2,s=n.y2,c=n.selectionColors,u=n.cx,d=n.cy,f=n.dashed,h=n.activeEmbeddable,p=l-i,U=s-o,m=(null!==(r=n.padding)&&void 0!==r?r:2*v.M)/t.zoom.value,g=8/t.zoom.value,b=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=(h?4:1)/t.zoom.value;for(var y=c.length,x=0;x<y;++x)e.strokeStyle=c[x],f&&e.setLineDash([g,b+(g+b)*(y-1)]),e.lineDashOffset=(g+b)*x,gp(e,i-m,o-m,p+2*m,U+2*m,u,d,a);e.restore()},Ep=function(e,t,n){var r=n.filter((function(e){return 0===e.groupIds.length})),a=n.filter((function(e){return e.groupIds.length>0})),i=function(e){var t=(0,v.bj)(e),n=(0,d.default)(t,4),r=n[0],a=n[1],i=n[2],o=n[3];return{angle:0,x1:r,x2:i,y1:a,y2:o,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:r+(i-r)/2,cy:a+(o-a)/2,activeEmbeddable:!1}};Object.entries((0,v.Nc)(a,t)).filter((function(e){var t=(0,d.default)(e,2);t[0];return t[1]})).map((function(e){var t=(0,d.default)(e,2),n=t[0];t[1];return n})).map((function(e){return function(e){var t=(0,v.Qc)(n,e);return i(t)}(e)})).concat(r.map((function(e){return i([e])}))).forEach((function(n){return wp(e,t,n)}))},kp=function(e,t,n,r){if(t.selectedLinearElement){e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;var a=v.pj.getPointsGlobalCoordinates(n,r),i=v.pj.POINT_HANDLE_SIZE,o=t.editingLinearElement?i:i/2;if(a.forEach((function(r,i){var l;if(!(0,v.ec)(n)||0===i||i===a.length-1){var s=!(null===(l=t.editingLinearElement)||void 0===l||null===(l=l.selectedPointsIndices)||void 0===l||!l.includes(i));bp(e,t,r,o,s)}})),(0,v.ec)(n)){var l,s=(null===(l=n.fixedSegments)||void 0===l?void 0:l.map((function(e){return e.index})))||[];a.slice(0,-1).forEach((function(r,o){v.pj.isSegmentTooShort(n,a[o+1],a[o],o,t.zoom)||bp(e,t,(0,v.Ua)((r[0]+a[o+1][0])/2,(r[1]+a[o+1][1])/2),i/2,!1,!s.includes(o+1))}))}else v.pj.getEditorMidPoints(n,r,t).filter((function(e,t,r){return null!==e&&!((0,v.ec)(n)&&(0===t||t===r.length-1))})).forEach((function(n){(t.editingLinearElement||2===a.length)&&bp(e,t,n,i/2,!1,!0)}));e.restore()}},Sp=function(e,t,n,r,a){Object.keys(r).forEach((function(i){var o=r[i];if(void 0!==o){var l=(0,d.default)(o,4),s=l[0],c=l[1],u=l[2],f=l[3];e.save(),e.lineWidth=1/n.zoom.value,t.selectionColor&&(e.strokeStyle=t.selectionColor),"rotation"===i?(0,v.Vh)(e,s+u/2,c+f/2,u/2):e.roundRect?(e.beginPath(),e.roundRect(s,c,u,f,2/n.zoom.value),e.fill(),e.stroke()):gp(e,s,c,u,f,s+u/2,c+f/2,a,!0),e.restore()}}))},Mp=function(e){var t,n=e.canvas,r=e.elementsMap,a=e.visibleElements,i=e.selectedElements,o=e.allElementsMap,l=e.scale,u=e.appState,f=e.renderConfig,h=e.device;if(null===n)return{atLeastOneVisibleElement:!1,elementsMap:r};var U,m=(0,v.Wh)(n,l),g=(0,d.default)(m,2),b=g[0],y=g[1],x=(0,v.Xh)({canvas:n,scale:l,normalizedWidth:b,normalizedHeight:y});if(x.save(),x.scale(u.zoom.value,u.zoom.value),a.forEach((function(e){var t;(null===(t=u.editingLinearElement)||void 0===t?void 0:t.elementId)===e.id&&e&&(U=e)})),U&&kp(x,u,U,r),u.selectionElement&&!u.isCropping)try{(0,v.Si)(u.selectionElement,x,u,f.selectionColor)}catch(w){console.error(w)}if(u.editingTextElement&&(0,v._b)(u.editingTextElement)){var w=o.get(u.editingTextElement.id);w&&!w.autoResize&&function(e,t,n,r){t.save();var a=2*v.M/n.zoom.value,i=e.width+2*a,o=e.height+2*a,l=e.x+i/2,s=e.y+o/2,c=-(i/2+a),u=-(o/2+a);t.translate(l+n.scrollX,s+n.scrollY),t.rotate(e.angle),t.lineWidth=1/n.zoom.value,t.strokeStyle=r,t.strokeRect(c,u,i,o),t.restore()}(w,x,u,f.selectionColor)}u.isBindingEnabled&&u.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){!function(e,t,n,r){var a=Array.isArray(n)?xp:yp;e.save(),e.translate(t.scrollX,t.scrollY),a(e,n,r,t.zoom),e.restore()}(x,u,e,r)})),u.frameToHighlight&&function(e,t,n,r){var a=(0,v.aj)(n,r),i=(0,d.default)(a,4),o=i[0],l=i[1],s=i[2]-o,c=i[3]-l;e.strokeStyle="rgb(0,118,255)",e.lineWidth=v.H.strokeWidth/t.zoom.value,e.save(),e.translate(t.scrollX,t.scrollY),gp(e,o,l,s,c,o+s/2,l+c/2,n.angle,!1,v.H.radius/t.zoom.value),e.restore()}(x,u,u.frameToHighlight,r),u.elementsToHighlight&&Ep(x,u,u.elementsToHighlight);var E,k=i.some((function(e){return(0,v.bc)(e)}));if(1===i.length&&(null===(t=u.editingLinearElement)||void 0===t?void 0:t.elementId)===i[0].id&&kp(x,u,i[0],r),(0,v.ec)(i[0])&&u.selectedLinearElement&&u.selectedLinearElement.segmentMidPointHoveredCoords?function(e,t){(0,v.Kb)(t.selectedLinearElement,"selectedLinearElement is null");var n=t.selectedLinearElement.segmentMidPointHoveredCoords;(0,v.Kb)(n,"midPointCoords is null"),e.save(),e.translate(t.scrollX,t.scrollY),mp(n,e,t),e.restore()}(x,u):u.selectedLinearElement&&u.selectedLinearElement.hoverPointIndex>=0&&!((0,v.ec)(i[0])&&u.selectedLinearElement.hoverPointIndex>0&&u.selectedLinearElement.hoverPointIndex<i[0].points.length-1)&&function(e,t,n){var r,a=t.selectedLinearElement,i=a.elementId,o=a.hoverPointIndex;if(null===(r=t.editingLinearElement)||void 0===r||null===(r=r.selectedPointsIndices)||void 0===r||!r.includes(o)){var l=v.pj.getElement(i,n);if(l){var s=v.pj.getPointAtIndexGlobalCoordinates(l,o,n);e.save(),e.translate(t.scrollX,t.scrollY),mp(s,e,t),e.restore()}}}(x,u,r),!u.multiElement&&!u.editingLinearElement){var S,M=(0,v._j)(i,u),C=1===i.length&&(0,v.cc)(i[0]);C&&(null===(S=u.selectedLinearElement)||void 0===S?void 0:S.elementId)===i[0].id&&!i[0].locked&&kp(x,u,i[0],r);var I=f.selectionColor||On.black;if(M){var j,T=(0,v.xb)(i),A=[],D=(0,c.default)(r.values());try{for(D.s();!(j=D.n()).done;){var _=j.value,L=[],R=f.remoteSelectedElementIds.get(_.id);if(C&&(0,v.ec)(_)&&(_.startBinding||_.endBinding)||(T.has(_.id)&&!(0,v.Kc)(u,_)&&L.push(I),R&&L.push.apply(L,(0,p.default)(R.map((function(e){return ls(e,u.collaborators.get(e))}))))),L.length){var P,N=(0,v.aj)(_,r,!0),F=(0,d.default)(N,6),O=F[0],z=F[1],B=F[2],H=F[3],W=F[4],X=F[5];A.push({angle:_.angle,x1:O,y1:z,x2:B,y2:H,selectionColors:L,dashed:!!R,cx:W,cy:X,activeEmbeddable:(null===(P=u.activeEmbeddable)||void 0===P?void 0:P.element)===_&&"active"===u.activeEmbeddable.state,padding:_.id===u.croppingElementId||(0,v.Wb)(_)?0:void 0})}}}catch(oe){D.e(oe)}finally{D.f()}var V,G=function(e){var t=(0,v.Qc)(r,e),n=(0,v.bj)(t),a=(0,d.default)(n,4),i=a[0],o=a[1],l=a[2],s=a[3];A.push({angle:0,x1:i,x2:l,y1:o,y2:s,selectionColors:[On.black],dashed:!0,cx:i+(l-i)/2,cy:o+(s-o)/2,activeEmbeddable:!1})},Y=(0,c.default)((0,v.Mc)(u));try{for(Y.s();!(V=Y.n()).done;){G(V.value)}}catch(oe){Y.e(oe)}finally{Y.f()}u.editingGroupId&&G(u.editingGroupId),A.forEach((function(e){return wp(x,u,e)}))}if(x.save(),x.translate(u.scrollX,u.scrollY),1===i.length){x.fillStyle=On.white;var Z=(0,v.Zj)(i[0],u.zoom,r,"mouse",(0,v.Xj)(h));if(!u.viewModeEnabled&&M&&!(0,v._b)(u.editingTextElement)&&!u.croppingElementId&&Sp(x,f,u,Z,i[0].angle),u.croppingElementId&&!u.isCropping){var K=r.get(u.croppingElementId);K&&(0,v.Wb)(K)&&function(e,t,n,r,a){var i=(0,v.aj)(r,a),o=(0,d.default)(i,6),l=o[0],s=o[1],c=o[4],u=o[5],f=3/n.zoom.value,h=f/2,p=c-l+f,U=u-s+f,m=Math.min(20/n.zoom.value,p),g=Math.min(20/n.zoom.value,U);e.save(),e.fillStyle=t.selectionColor,e.strokeStyle=t.selectionColor,e.lineWidth=f,[[[-p,-U],[0,h],[m,h],[h,0],[h,g]],[[p-h,-U],[h,h],[-m+h,h],[0,0],[0,g]],[[-p,U],[0,-h],[m,-h],[h,0],[h,-g]],[[p-h,U],[h,-h],[-m+h,-h],[0,0],[0,-g]]].forEach((function(t){var n=(0,d.default)(t,5),a=(0,d.default)(n[0],2),i=a[0],o=a[1],l=(0,d.default)(n[1],2),s=l[0],f=l[1],h=(0,d.default)(n[2],2),p=h[0],v=h[1],U=(0,d.default)(n[3],2),m=U[0],g=U[1],b=(0,d.default)(n[4],2),y=b[0],x=b[1];e.save(),e.translate(c,u),e.rotate(r.angle),e.beginPath(),e.moveTo(i+s,o+f),e.lineTo(i+p,o+v),e.stroke(),e.beginPath(),e.moveTo(i+m,o+g),e.lineTo(i+y,o+x),e.stroke(),e.restore()})),e.restore()}(x,f,u,K,r)}}else if(i.length>1&&!u.isRotating){var q=2*v.M/u.zoom.value;x.fillStyle=On.white;var $=(0,v.bj)(i),Q=(0,d.default)($,4),J=Q[0],ee=Q[1],te=Q[2],ne=Q[3],re=x.getLineDash();x.setLineDash([2/u.zoom.value]);var ae=x.lineWidth;x.lineWidth=1/u.zoom.value,x.strokeStyle=I,gp(x,J-q,ee-q,te-J+2*q,ne-ee+2*q,(J+te)/2,(ee+ne)/2,0),x.lineWidth=ae,x.setLineDash(re);var ie=(0,v.Yj)([J,ee,te,ne,(J+te)/2,(ee+ne)/2],0,u.zoom,"mouse",k?(0,s.default)((0,s.default)({},(0,v.Xj)(h)),{},{rotation:!0}):(0,v.Xj)(h));i.some((function(e){return!e.locked}))&&Sp(x,f,u,ie,0)}x.restore()}return u.searchMatches.forEach((function(e){var t=e.id,n=e.focus,a=e.matchedLines,i=r.get(t);if(i&&(0,v._b)(i)){var o=(0,v.aj)(i,r,!0),l=(0,d.default)(o,6),s=l[0],c=l[1],f=l[4],h=l[5];x.save(),u.theme===v.G.LIGHT?x.fillStyle=n?"rgba(255, 124, 0, 0.4)":"rgba(255, 226, 0, 0.4)":x.fillStyle=n?"rgba(229, 82, 0, 0.4)":"rgba(99, 52, 0, 0.4)",x.translate(u.scrollX,u.scrollY),x.translate(f,h),x.rotate(i.angle),a.forEach((function(e){x.fillRect(s+e.offsetX-f,c+e.offsetY-h,e.width,e.height)})),x.restore()}})),function(e,t){if(t.snapLines.length){var n=t.theme===v.G.LIGHT||t.zenModeEnabled?"#ff6b6b":"#ff0000",r=(t.zenModeEnabled?1.5:1)/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY);var a,i=(0,c.default)(t.snapLines);try{for(i.s();!(a=i.n()).done;){var o=a.value;"pointer"===o.type?(e.lineWidth=r,e.strokeStyle=n,hp(o,e,t)):"gap"===o.type?(e.lineWidth=r,e.strokeStyle=n,Up(o.points[0],o.points[1],o.direction,t,e)):"points"===o.type&&(e.lineWidth=r,e.strokeStyle=n,fp(o,e,t))}}catch(oe){i.e(oe)}finally{i.f()}e.restore()}}(x,u),x.restore(),function(e){var t,n=e.context,r=e.renderConfig,a=e.appState,i=e.normalizedWidth,o=e.normalizedHeight,l=(0,c.default)(r.remotePointerViewportCoords);try{for(l.s();!(t=l.n()).done;){var s=(0,d.default)(t.value,2),u=s[0],f=s[1],h=f.x,p=f.y,U=a.collaborators.get(u);h-=a.offsetLeft,p-=a.offsetTop;var m=h<0||h>i-11||p<0||p>o-14;h=Math.max(h,0),h=Math.min(h,i-11),p=Math.max(p,0),p=Math.min(p,o-14);var g=ls(u,U);n.save(),n.strokeStyle=g,n.fillStyle=g;var b=r.remotePointerUserStates.get(u),y=m||"idle"===b||"away"===b;y&&(n.globalAlpha=.3),"down"===r.remotePointerButton.get(u)&&(n.beginPath(),n.arc(h,p,15,0,2*Math.PI,!1),n.lineWidth=3,n.strokeStyle="#ffffff88",n.stroke(),n.closePath(),n.beginPath(),n.arc(h,p,15,0,2*Math.PI,!1),n.lineWidth=1,n.strokeStyle=g,n.stroke(),n.closePath());var x=a.theme===v.G.DARK?"#2f6330":v.Q,w=null===U||void 0===U?void 0:U.isSpeaking;w&&(n.fillStyle=x,n.strokeStyle=x,n.lineWidth=10,n.lineJoin="round",n.beginPath(),n.moveTo(h,p),n.lineTo(h+0,p+14),n.lineTo(h+4,p+9),n.lineTo(h+11,p+8),n.closePath(),n.stroke(),n.fill()),n.fillStyle=v.O,n.strokeStyle=v.O,n.lineWidth=6,n.lineJoin="round",n.beginPath(),n.moveTo(h,p),n.lineTo(h+0,p+14),n.lineTo(h+4,p+9),n.lineTo(h+11,p+8),n.closePath(),n.stroke(),n.fill(),n.fillStyle=g,n.strokeStyle=g,n.lineWidth=2,n.lineJoin="round",n.beginPath(),y?(n.moveTo(h-1,p-1),n.lineTo(h-1,p+15),n.lineTo(h+5,p+10),n.lineTo(h+12,p+9),n.closePath(),n.fill()):(n.moveTo(h,p),n.lineTo(h+0,p+14),n.lineTo(h+4,p+9),n.lineTo(h+11,p+8),n.closePath(),n.fill(),n.stroke());var E=r.remotePointerUsernames.get(u)||"";if(!m&&E){n.font="600 12px sans-serif";var k=(w?h+0:h)+5.5,S=(w?p+0:p)+14+2,M=n.measureText(E),C=M.actualBoundingBoxDescent+M.actualBoundingBoxAscent,I=Math.max(C,12),j=k-1,T=S-1,A=M.width+2+10+2,D=I+2+6+2;n.roundRect?(n.beginPath(),n.roundRect(j,T,A,D,8),n.fillStyle=g,n.fill(),n.strokeStyle=v.O,n.stroke(),w&&(n.beginPath(),n.roundRect(j-2,T-2,A+4,D+4,8),n.strokeStyle=x,n.stroke())):os(n,j,T,A,D,8,v.O),n.fillStyle=v.P,n.fillText(E,k+5+1,S+3+M.actualBoundingBoxAscent+Math.floor((I-C)/2)+2),w&&(n.fillStyle=x,n.fillRect(j+A+8,T+(D/2-4),2,8),n.fillRect(j+A+8+5,T+(D/2-8),2,16),n.fillRect(j+A+8+10,T+(D/2-4),2,8))}n.restore(),n.closePath()}}catch(oe){l.e(oe)}finally{l.f()}}({context:x,renderConfig:f,appState:u,normalizedWidth:b,normalizedHeight:y}),f.renderScrollbars&&(E=function(e,t,n,r){if(!e.length)return{horizontal:null,vertical:null};var a=(0,v.bj)(e),i=(0,d.default)(a,4),o=i[0],l=i[1],s=i[2],c=i[3],u=t/r.zoom.value,f=n/r.zoom.value,h=t-u,p=n-f,U={top:parseInt((0,v.nb)("sat"))||0,bottom:parseInt((0,v.nb)("sab"))||0,left:parseInt((0,v.nb)("sal"))||0,right:parseInt((0,v.nb)("sar"))||0},m=Li().rtl,g=-r.scrollX+h/2+U.left,b=-r.scrollY+p/2+U.top,y=g+u-U.right,x=b+f-U.bottom,w=Math.min(o,g),E=Math.min(l,b),k=Math.max(s,y),S=Math.max(c,x);return{horizontal:g===w&&y===k?null:{x:Math.max(U.left,4)+(g-w)/(k-w)*t,y:n-6-Math.max(4,U.bottom),width:(y-g)/(k-w)*t-Math.max(8,U.left+U.right),height:6},vertical:b===E&&x===S?null:{x:m?Math.max(U.left,4):t-6-Math.max(U.right,4),y:(b-E)/(S-E)*n+Math.max(U.top,4),width:6,height:(x-b)/(S-E)*n-Math.max(8,U.top+U.bottom)}}}(a,b,y,u),x.save(),x.fillStyle="rgba(0,0,0,0.3)",x.strokeStyle="rgba(255,255,255,0.8)",[E.horizontal,E.vertical].forEach((function(e){e&&os(x,e.x,e.y,e.width,e.height,3)})),x.restore()),{scrollBars:E,atLeastOneVisibleElement:a.length>0,elementsMap:r}},Cp=(0,v.eb)((function(e){var t,n=Mp(e);null===(t=e.callback)||void 0===t||t.call(e,n)}),{trailing:!0}),Ip=function(e){return{zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,openDialog:e.openDialog,editingGroupId:e.editingGroupId,editingLinearElement:e.editingLinearElement,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,selectionElement:e.selectionElement,selectedGroupIds:e.selectedGroupIds,selectedLinearElement:e.selectedLinearElement,multiElement:e.multiElement,isBindingEnabled:e.isBindingEnabled,suggestedBindings:e.suggestedBindings,isRotating:e.isRotating,elementsToHighlight:e.elementsToHighlight,collaborators:e.collaborators,activeEmbeddable:e.activeEmbeddable,snapLines:e.snapLines,zenModeEnabled:e.zenModeEnabled,editingTextElement:e.editingTextElement,isCropping:e.isCropping,croppingElementId:e.croppingElementId,searchMatches:e.searchMatches}},jp=y.memo((function(e){var t=(0,y.useRef)(!1);return(0,y.useEffect)((function(){var n;if(t.current){var r=new Map,a=new Map,i=new Map,o=new Map,l=new Map;e.appState.collaborators.forEach((function(t,n){if(t.selectedElementIds)for(var s=0,c=Object.keys(t.selectedElementIds);s<c.length;s++){var u=c[s];i.has(u)||i.set(u,[]),i.get(u).push(n)}!t.pointer||!1===t.pointer.renderCursor||(t.username&&o.set(n,t.username),t.userState&&l.set(n,t.userState),a.set(n,(0,v.mb)({sceneX:t.pointer.x,sceneY:t.pointer.y},e.appState)),r.set(n,t.button))}));var s=(null===(n=e.containerRef)||void 0===n?void 0:n.current)&&getComputedStyle(e.containerRef.current).getPropertyValue("--color-selection")||"#6965db";!function(e,t){if(!t){var n=Mp(e);return e.callback(n),n}Cp(e)}({canvas:e.canvas,elementsMap:e.elementsMap,visibleElements:e.visibleElements,selectedElements:e.selectedElements,allElementsMap:e.allElementsMap,scale:window.devicePixelRatio,appState:e.appState,renderConfig:{remotePointerViewportCoords:a,remotePointerButton:r,remoteSelectedElementIds:i,remotePointerUsernames:o,remotePointerUserStates:l,selectionColor:s,renderScrollbars:!1},device:e.device,callback:e.renderInteractiveSceneCallback},dp())}else t.current=!0})),(0,X.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:e.appState.width,height:e.appState.height,cursor:e.appState.viewModeEnabled?v.z.GRAB:v.z.AUTO},width:e.appState.width*e.scale,height:e.appState.height*e.scale,ref:e.handleCanvasRef,onContextMenu:e.onContextMenu,onPointerMove:e.onPointerMove,onPointerUp:e.onPointerUp,onPointerCancel:e.onPointerCancel,onTouchMove:e.onTouchMove,onPointerDown:e.onPointerDown,onDoubleClick:e.appState.viewModeEnabled?void 0:e.onDoubleClick,children:Pi("labels.drawingCanvas")})}),(function(e,t){return e.selectionNonce===t.selectionNonce&&e.sceneNonce===t.sceneNonce&&e.scale===t.scale&&e.elementsMap===t.elementsMap&&e.visibleElements===t.visibleElements&&e.selectedElements===t.selectedElements&&(0,v.Hb)(Ip(e.appState),Ip(t.appState))})),Tp=function(e){return{zoom:e.zoom,scrollX:e.scrollX,scrollY:e.scrollY,width:e.width,height:e.height,viewModeEnabled:e.viewModeEnabled,openDialog:e.openDialog,hoveredElementIds:e.hoveredElementIds,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,theme:e.theme,pendingImageElementId:e.pendingImageElementId,shouldCacheIgnoreZoom:e.shouldCacheIgnoreZoom,viewBackgroundColor:e.viewBackgroundColor,exportScale:e.exportScale,selectedElementsAreBeingDragged:e.selectedElementsAreBeingDragged,gridSize:e.gridSize,gridStep:e.gridStep,frameRendering:e.frameRendering,selectedElementIds:e.selectedElementIds,frameToHighlight:e.frameToHighlight,editingGroupId:e.editingGroupId,currentHoveredFontFamily:e.currentHoveredFontFamily,croppingElementId:e.croppingElementId}},Ap=y.memo((function(e){var t=(0,y.useRef)(null),n=(0,y.useRef)(!1);return(0,y.useEffect)((function(){var r=t.current;if(r){var a=e.canvas;n.current||(n.current=!0,r.replaceChildren(a),a.classList.add("excalidraw__canvas","static"));var i="".concat(e.appState.width,"px"),o="".concat(e.appState.height,"px");a.style.width!==i&&(a.style.width=i),a.style.height!==o&&(a.style.height=o);var l=e.appState.width*e.scale,s=e.appState.height*e.scale;a.width!==l&&(a.width=l),a.height!==s&&(a.height=s),(0,v.ci)({canvas:a,rc:e.rc,scale:e.scale,elementsMap:e.elementsMap,allElementsMap:e.allElementsMap,visibleElements:e.visibleElements,appState:e.appState,renderConfig:e.renderConfig},dp())}})),(0,X.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:t})}),(function(e,t){return e.sceneNonce===t.sceneNonce&&e.scale===t.scale&&e.elementsMap===t.elementsMap&&e.visibleElements===t.visibleElements&&((0,v.Hb)(Tp(e.appState),Tp(t.appState))&&(0,v.Hb)(e.renderConfig,t.renderConfig))})),Dp=function(){return(0,o.default)((function e(t){var n=this;(0,i.default)(this,e),(0,b.d)(this,"scene"),(0,b.d)(this,"getRenderableElements",(0,v.Lb)((function(e){var t=e.zoom,r=e.offsetLeft,a=e.offsetTop,i=e.scrollX,o=e.scrollY,l=e.height,s=e.width,u=e.editingTextElement,d=e.newElementId,f=e.pendingImageElementId,h=(e.sceneNonce,function(e){var t,n=e.elements,r=e.editingTextElement,a=e.newElementId,i=e.pendingImageElementId,o=(0,v.Sb)(new Map),l=(0,c.default)(n);try{for(l.s();!(t=l.n()).done;){var s=t.value;(0,v.Wb)(s)&&i===s.id||a!==s.id&&(!r||"text"!==r.type||s.id!==r.id)&&o.set(s.id,s)}}catch(u){l.e(u)}finally{l.f()}return o}({elements:n.scene.getNonDeletedElements(),editingTextElement:u,newElementId:d,pendingImageElementId:f})),p=function(e){var t,n=e.elementsMap,r=e.zoom,a=e.offsetLeft,i=e.offsetTop,o=e.scrollX,l=e.scrollY,s=e.height,u=e.width,d=[],f=(0,c.default)(n.values());try{for(f.s();!(t=f.n()).done;){var h=t.value;(0,v.Tj)(h,u,s,{zoom:r,offsetLeft:a,offsetTop:i,scrollX:o,scrollY:l},n)&&d.push(h)}}catch(p){f.e(p)}finally{f.f()}return d}({elementsMap:h,zoom:t,offsetLeft:r,offsetTop:a,scrollX:i,scrollY:o,height:l,width:s});return{elementsMap:h,visibleElements:p}}))),this.scene=t}),[{key:"destroy",value:function(){Cp.cancel(),v.bi.cancel(),this.getRenderableElements.clear()}}])}(),_p=function(e){var t=e.trails,n=(0,y.useRef)(null);return(0,y.useEffect)((function(){if(n.current){var e,r=(0,c.default)(t);try{for(r.s();!(e=r.n()).done;){e.value.start(n.current)}}catch(a){r.e(a)}finally{r.f()}}return function(){var e,n=(0,c.default)(t);try{for(n.s();!(e=n.n()).done;){e.value.stop()}}catch(a){n.e(a)}finally{n.f()}}}),t),(0,X.jsx)("div",{className:"SVGLayer",children:(0,X.jsx)("svg",{ref:n})})},Lp=function(e){var t=e.children,n=e.element,r=e.elementsMap,a=lv();if(a.contextMenu||a.newElement||a.resizingElement||a.isRotating||a.openMenu||a.viewModeEnabled)return null;var i=function(e,t,n){var r=(0,v.aj)(e,n),a=(0,d.default)(r,2),i=a[0],o=a[1],l=(0,v.mb)({sceneX:i+e.width,sceneY:o},t),s=l.x,c=l.y;return{x:s-t.offsetLeft+10,y:c-t.offsetTop}}(n,a,r),o=i.x,l=i.y;return(0,X.jsx)("div",{className:"excalidraw-canvas-buttons",style:{top:"".concat(l,"px"),left:"".concat(o,"px"),padding:5},children:t})},Rp=function(e){return(0,X.jsxs)("label",{className:(0,ie.A)("ToolIcon ToolIcon__MagicButton","ToolIcon_size_".concat("small"),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,X.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,X.jsx)("div",{className:"ToolIcon__icon",children:e.icon})]})},Pp=function(e){var t=e.height,n=e.width,r=e.userToFollow,a=e.onDisconnect;return(0,X.jsx)("div",{className:"follow-mode",style:{width:n,height:t},children:(0,X.jsxs)("div",{className:"follow-mode__badge",children:[(0,X.jsxs)("div",{className:"follow-mode__badge__label",children:["Following"," ",(0,X.jsx)("span",{className:"follow-mode__badge__username",title:r.username,children:r.username})]}),(0,X.jsx)("button",{type:"button",onClick:a,className:"follow-mode__disconnect-btn",children:v.ge})]})})},Np=function(){return(0,o.default)((function e(){(0,i.default)(this,e),(0,b.d)(this,"targets",new WeakMap),(0,b.d)(this,"rafIds",new WeakMap)}),[{key:"register",value:function(e,t){this.targets.set(e,{callback:t,stopped:!0})}},{key:"start",value:function(e){var t=this.targets.get(e);t&&(this.rafIds.has(e)||(this.targets.set(e,(0,s.default)((0,s.default)({},t),{},{stopped:!1})),this.scheduleFrame(e)))}},{key:"stop",value:function(e){var t=this.targets.get(e);t&&!t.stopped&&this.targets.set(e,(0,s.default)((0,s.default)({},t),{},{stopped:!0})),this.cancelFrame(e)}},{key:"constructFrame",value:function(e){var t=this;return function(n){var r=t.targets.get(e);if(r){var a=t.onFrame(r,n);r.stopped||a?t.cancelFrame(e):t.scheduleFrame(e)}}}},{key:"scheduleFrame",value:function(e){var t=requestAnimationFrame(this.constructFrame(e));this.rafIds.set(e,t)}},{key:"cancelFrame",value:function(e){if(this.rafIds.has(e)){var t=this.rafIds.get(e);cancelAnimationFrame(t)}this.rafIds.delete(e)}},{key:"onFrame",value:function(e,t){var n;return null!==(n=e.callback(t))&&void 0!==n&&n}}])}(),Fp=function(){return(0,o.default)((function e(t,n,r){(0,i.default)(this,e),this.animationFrameHandler=t,this.app=n,this.options=r,(0,b.d)(this,"currentTrail"),(0,b.d)(this,"pastTrails",[]),(0,b.d)(this,"container"),(0,b.d)(this,"trailElement"),this.animationFrameHandler.register(this,this.onFrame.bind(this)),this.trailElement=document.createElementNS(v.pa,"path")}),[{key:"hasCurrentTrail",get:function(){return!!this.currentTrail}},{key:"hasLastPoint",value:function(e,t){if(this.currentTrail){var n=this.currentTrail.originalPoints.length;return this.currentTrail.originalPoints[n-1][0]===e&&this.currentTrail.originalPoints[n-1][1]===t}return!1}},{key:"start",value:function(e){e&&(this.container=e),this.trailElement.parentNode!==this.container&&this.container&&this.container.appendChild(this.trailElement),this.animationFrameHandler.start(this)}},{key:"stop",value:function(){var e;this.animationFrameHandler.stop(this),this.trailElement.parentNode===this.container&&(null===(e=this.container)||void 0===e||e.removeChild(this.trailElement))}},{key:"startPath",value:function(e,t){this.currentTrail=new Ba(this.options),this.currentTrail.addPoint([e,t,performance.now()]),this.update()}},{key:"addPointToPath",value:function(e,t){this.currentTrail&&(this.currentTrail.addPoint([e,t,performance.now()]),this.update())}},{key:"endPath",value:function(){this.currentTrail&&(this.currentTrail.close(),this.currentTrail.options.keepHead=!1,this.pastTrails.push(this.currentTrail),this.currentTrail=void 0,this.update())}},{key:"update",value:function(){this.start()}},{key:"onFrame",value:function(){var e,t,n=[],r=(0,c.default)(this.pastTrails);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(this.drawTrail(a,this.app.state))}}catch(l){r.e(l)}finally{r.f()}if(this.currentTrail){var i=this.drawTrail(this.currentTrail,this.app.state);n.push(i)}this.pastTrails=this.pastTrails.filter((function(e){return 0!==e.getStrokeOutline().length})),0===n.length&&this.stop();var o=n.join(" ").trim();this.trailElement.setAttribute("d",o),this.trailElement.setAttribute("fill",(null!==(e=this.options.fill)&&void 0!==e?e:function(){return"black"})(this))}},{key:"drawTrail",value:function(e,t){var n=e.getStrokeOutline(e.options.size/t.zoom.value).map((function(e){var n=(0,d.default)(e,2),r=n[0],a=n[1],i=(0,v.mb)({sceneX:r,sceneY:a},t);return[i.x,i.y]}));return(0,v.Qb)(n,!0)}}])}(),Op=function(){return(0,o.default)((function e(t,n){(0,i.default)(this,e),this.animationFrameHandler=t,this.app=n,(0,b.d)(this,"localTrail"),(0,b.d)(this,"collabTrails",new Map),(0,b.d)(this,"container"),this.animationFrameHandler.register(this,this.onFrame.bind(this)),this.localTrail=new Fp(t,n,(0,s.default)((0,s.default)({},this.getTrailOptions()),{},{fill:function(){return v.y}}))}),[{key:"getTrailOptions",value:function(){return{simplify:0,streamline:.4,sizeMapping:function(e){var t=Math.max(0,1-(performance.now()-e.pressure)/1e3),n=(50-Math.min(50,e.totalLength-e.currentIndex))/50;return Math.min((0,v.fb)(n),(0,v.fb)(t))}}}},{key:"startPath",value:function(e,t){this.localTrail.startPath(e,t)}},{key:"addPointToPath",value:function(e,t){this.localTrail.addPointToPath(e,t)}},{key:"endPath",value:function(){this.localTrail.endPath()}},{key:"start",value:function(e){this.container=e,this.animationFrameHandler.start(this),this.localTrail.start(e)}},{key:"stop",value:function(){this.animationFrameHandler.stop(this),this.localTrail.stop()}},{key:"onFrame",value:function(){this.updateCollabTrails()}},{key:"updateCollabTrails",value:function(){var e=this;if(this.container&&0!==this.app.state.collaborators.size){var t,n=(0,c.default)(this.app.state.collaborators.entries());try{var r=function(){var n,r=(0,d.default)(t.value,2),a=r[0],i=r[1];e.collabTrails.has(a)?n=e.collabTrails.get(a):((n=new Fp(e.animationFrameHandler,e.app,(0,s.default)((0,s.default)({},e.getTrailOptions()),{},{fill:function(){var e;return(null===(e=i.pointer)||void 0===e?void 0:e.laserColor)||ls(a,i)}}))).start(e.container),e.collabTrails.set(a,n)),i.pointer&&"laser"===i.pointer.tool&&("down"===i.button&&!n.hasCurrentTrail&&n.startPath(i.pointer.x,i.pointer.y),"down"===i.button&&n.hasCurrentTrail&&!n.hasLastPoint(i.pointer.x,i.pointer.y)&&n.addPointToPath(i.pointer.x,i.pointer.y),"up"===i.button&&n.hasCurrentTrail&&(n.addPointToPath(i.pointer.x,i.pointer.y),n.endPath()))};for(n.s();!(t=n.n()).done;)r()}catch(l){n.e(l)}finally{n.f()}var a,i=(0,c.default)(this.collabTrails.keys());try{for(i.s();!(a=i.n()).done;){var o=a.value;this.app.state.collaborators.has(o)||(this.collabTrails.get(o).stop(),this.collabTrails.delete(o))}}catch(l){i.e(l)}finally{i.f()}}}}])}(),zp=function(e,t,n,r,a,i){var o=r.zoom,l=180*n/Math.PI,s=e*(o.value-1)/2,c=t*(o.value-1)/2;return e>a&&1!==o.value&&(s=a*(o.value-1)/2),t>i&&1!==o.value&&(c=i*(o.value-1)/2),"translate(".concat(s,"px, ").concat(c,"px) scale(").concat(o.value,") rotate(").concat(l,"deg)")},Bp=function(e){var t=e.id,n=e.onChange,r=e.onSubmit,a=e.getViewportCoords,i=e.element,o=e.canvas,l=e.excalidrawContainer,s=e.app,c=e.autoSelect,u=void 0===c||c,p=function(){var e,n=s.state,r=null===(e=v.Oj.getScene(i))||void 0===e?void 0:e.getElement(t);if(r){var o=r.textAlign,l=r.verticalAlign,c=s.scene.getNonDeletedElementsMap();if(r&&(0,v._b)(r)){var u=r.x,f=r.y,h=(0,v.Aj)(r,s.scene.getNonDeletedElementsMap()),p=r.width,m=r.height,g=r.width,b=r.height;if(h&&r.containerId){if((0,v.dc)(h)){var y=v.pj.getBoundTextElementPosition(h,r,c);u=y.x,f=y.y}var x,w=function(e,t){if(!t.style.fontFamily||!t.style.fontSize)return!1;var n=t.style.fontFamily.replace(/"/g,"");return(0,v.bb)({fontFamily:e.fontFamily})!==n||"".concat(e.fontSize,"px")!==t.style.fontSize}(r,U);if(w?x=(0,v.rj)(h.id,h.height):(x=v.qj[h.id])||(x=(0,v.rj)(h.id,h.height)),g=(0,v.Hj)(h,r),b=(0,v.Ij)(h,r),!(0,v.dc)(h)&&m>b){var E=(0,v.Gj)(m,h.type);return void(0,v.Pj)(h,{height:E})}if(!(0,v.dc)(h)&&h.height>x.height&&m<b){var k=(0,v.Gj)(m,h.type);(0,v.Pj)(h,{height:k})}else{f=(0,v.xj)(h,r,c).y}}var S=a(u,f),M=(0,d.default)(S,2),C=M[0],I=M[1],j=U.selectionStart,T=U.selectionEnd,A=U.value.length;if(j===T&&T!==A){var D=A-T;U.selectionStart=U.value.length-D,U.selectionEnd=U.value.length-D}h?p+=.5:(g=(n.width-8-C)/n.zoom.value,p=Math.min(p,g)),m*=1.05;var _=(0,v.cb)(r),L=(n.height-I)/n.zoom.value;Object.assign(U.style,{font:_,lineHeight:r.lineHeight,width:"".concat(p,"px"),height:"".concat(m,"px"),left:"".concat(C,"px"),top:"".concat(I,"px"),transform:zp(p,m,(0,v.Cj)(r,h),n,g,L),textAlign:o,verticalAlign:l,color:r.strokeColor,opacity:r.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(L,"px")}),U.scrollTop=0,(0,v.Ab)()&&(U.style.fontFamily=(0,v.bb)(r)),(0,v.Pj)(r,{x:u,y:f})}}},U=document.createElement("textarea");U.dir="auto",U.tabIndex=0,U.dataset.type="wysiwyg",U.wrap="off",U.classList.add("excalidraw-wysiwyg");var m="pre",g="normal";((0,v.nc)(i)||!i.autoResize)&&(m="pre-wrap",g="break-word"),Object.assign(U.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:g,whiteSpace:m,overflowWrap:"break-word",boxSizing:"content-box"}),U.value=i.originalText,p(),n&&(U.onpaste=function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,a,o,l,c,u;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.mi)(t,!0);case 2:if((n=e.sent).text){e.next=5;break}return e.abrupt("return");case 5:if(r=(0,v.zc)(n.text)){e.next=8;break}return e.abrupt("return");case 8:a=(0,v.Aj)(i,s.scene.getNonDeletedElementsMap()),o=(0,v.cb)({fontSize:s.state.currentItemFontSize,fontFamily:s.state.currentItemFontFamily}),a&&(l=(0,v.zj)(a,s.scene.getNonDeletedElementsMap()),c=(0,v.Ec)("".concat(U.value).concat(r),o,(0,v.Hj)(a,l)),u=(0,v.Dc)(c,o),U.style.width="".concat(u,"px"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U.oninput=function(){var e=(0,v.zc)(U.value);if(U.value!==e){var t=U.selectionStart;U.value=e,U.selectionStart=t,U.selectionEnd=t}n(U.value)}),U.onkeydown=function(e){if(!e.shiftKey&&Tl.keyTest(e))e.preventDefault(),s.actionManager.executeAction(Tl),p();else if(!e.shiftKey&&Al.keyTest(e))e.preventDefault(),s.actionManager.executeAction(Al),p();else if(!e.shiftKey&&Dl.keyTest(e))e.preventDefault(),s.actionManager.executeAction(Dl),p();else if(wl.keyTest(e))s.actionManager.executeAction(wl);else if(El.keyTest(e))s.actionManager.executeAction(El);else if(e.key===v.hg.ESCAPE)e.preventDefault(),S=!0,M();else if(e.key===v.hg.ENTER&&e[v.hg.CTRL_OR_CMD]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;S=!0,M()}else if(e.key===v.hg.TAB||e[v.hg.CTRL_OR_CMD]&&(e.code===v.gg.BRACKET_LEFT||e.code===v.gg.BRACKET_RIGHT)){if(e.preventDefault(),e.isComposing)return;e.shiftKey||e.code===v.gg.BRACKET_LEFT?w():x(),U.dispatchEvent(new Event("input"))}};var b=" ".repeat(4),y=new RegExp("^ {1,".concat(4,"}")),x=function(){var e=U.selectionStart,t=U.selectionEnd,n=E(),r=U.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(b).concat(n)})),U.value=r,U.selectionStart=e+4,U.selectionEnd=t+4*n.length},w=function(){var e=U.selectionStart,t=U.selectionEnd,n=E(),r=[],a=U.value;n.forEach((function(e){var t=a.slice(e,e+4).match(y);if(t){var n=a.slice(0,e),i=a.slice(e+t[0].length);a="".concat(n).concat(i),r.push(e)}})),U.value=a,r.length&&(e>r[r.length-1]?U.selectionStart=Math.max(e-4,r[r.length-1]):U.selectionStart=e,U.selectionEnd=Math.max(U.selectionStart,t-4*r.length))},E=function(){var e=U.selectionStart,t=U.selectionEnd,n=U.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,a){return t.concat(r?t[r-1]+a[r-1].length+1:e)}),[]).reverse()},k=function(e){e.target instanceof HTMLCanvasElement&&(e.preventDefault(),e.stopPropagation())},S=!1,M=function(){var e;if(!_){_=!0,C();var t=null===(e=v.Oj.getScene(i))||void 0===e?void 0:e.getElement(i.id);if(t){var n=(0,v.Aj)(t,s.scene.getNonDeletedElementsMap());if(n){var a;if(U.value.trim()){var o=(0,v.yj)(n);o&&o===i.id?(0,v.dc)(n)&&(0,v.Rj)(n):(0,v.Pj)(n,{boundElements:(n.boundElements||[]).concat({type:"text",id:i.id})})}else(0,v.Pj)(n,{boundElements:null===(a=n.boundElements)||void 0===a?void 0:a.filter((function(e){return!(0,v._b)(e)}))});(0,v.uj)(t,n,s.scene.getNonDeletedElementsMap())}r({viaKeyboard:S,nextOriginalText:U.value})}}},C=function(){U.onblur=null,U.oninput=null,U.onkeydown=null,L&&L.disconnect(),window.removeEventListener("resize",p),window.removeEventListener("wheel",k,!0),window.removeEventListener("pointerdown",T),window.removeEventListener("pointerup",I),window.removeEventListener("blur",M),window.removeEventListener("beforeunload",M),A(),D(),U.remove()},I=function(e){window.removeEventListener("pointerup",I);var t=null===e||void 0===e?void 0:e.target,n=t instanceof HTMLElement&&t.classList.contains("properties-trigger");setTimeout((function(){U.onblur=M,n||U.focus()}))},j=function(){U.onblur=null,window.addEventListener("pointerup",I),window.addEventListener("blur",M)},T=function(e){var t=null===e||void 0===e?void 0:e.target;if(e.button===v.A.WHEEL)return t instanceof HTMLTextAreaElement&&(e.preventDefault(),s.handleCanvasPanUsingWheelOrSpaceDrag(e)),void j();var n=t instanceof HTMLElement&&t.classList.contains("properties-trigger");(e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(v.E.SHAPE_ACTIONS_MENU,", .").concat(v.E.ZOOM_ACTIONS))&&!(0,v.ab)(e.target)||n?j():e.target instanceof HTMLCanvasElement&&!(0,v.Ab)()&&requestAnimationFrame((function(){M()}))},A=s.scene.onUpdate((function(){var e;p(),null!==(e=document.activeElement)&&void 0!==e&&e.closest(".properties-content")||U.focus()})),D=s.onScrollChangeEmitter.on((function(){p()})),_=!1;u&&U.select(),I();var L=null;o&&"ResizeObserver"in window?(L=new window.ResizeObserver((function(){p()}))).observe(o):window.addEventListener("resize",p),U.onpointerdown=function(e){return e.stopPropagation()},requestAnimationFrame((function(){window.addEventListener("pointerdown",T,{capture:!0})})),window.addEventListener("beforeunload",M),null===l||void 0===l||l.querySelector(".excalidraw-textEditorContainer").appendChild(U)},Hp=(0,v.$c)({name:"autoResize",label:"labels.autoResize",icon:null,trackEvent:{category:"element"},predicate:function(e,t,n,r){var a=(0,v.vk)(e,t);return 1===a.length&&(0,v._b)(a[0])&&!a[0].autoResize},perform:function(e,t,n,r){var a=(0,v.vk)(e,t);return{appState:t,elements:e.map((function(e){if(e.id===a[0].id&&(0,v._b)(e)){var t=(0,v.vc)(e.originalText,(0,v.cb)(e),e.lineHeight);return(0,v.Qj)(e,{autoResize:!0,width:t.width,height:t.height,text:e.originalText})}return e})),captureUpdate:v.Wg.IMMEDIATELY}}}),Wp=function(e){return new RegExp("^(?:%%{.*?}%%[\\s\\n]*)?\\b(?:".concat(["flowchart","graph","sequenceDiagram","classDiagram","stateDiagram","stateDiagram-v2","erDiagram","journey","gantt","pie","quadrantChart","requirementDiagram","gitGraph","C4Context","mindmap","timeline","zenuml","sankey","xychart","block"].map((function(e){return"\\s*".concat(e,"(-beta)?")})).join("|"),")\\b")).test(e.trim())},Xp=function(e){var t=e.canvas,n=e.rc,r=e.newElement,a=e.elementsMap,i=e.allElementsMap,o=e.scale,l=e.appState,s=e.renderConfig;if(t){var c=(0,v.Wh)(t,o),u=(0,d.default)(c,2),f=u[0],h=u[1],p=(0,v.Xh)({canvas:t,scale:o,normalizedWidth:f,normalizedHeight:h});p.save(),p.scale(l.zoom.value,l.zoom.value),r&&"selection"!==r.type?(0,v.Ti)(r,a,i,n,p,s,l):p.clearRect(0,0,f,h)}},Vp=(0,v.eb)((function(e){Xp(e)}),{trailing:!0}),Gp=function(e){var t=(0,y.useRef)(null);return(0,y.useEffect)((function(){t.current&&function(e,t){t?Vp(e):Xp(e)}({canvas:t.current,scale:e.scale,newElement:e.appState.newElement,elementsMap:e.elementsMap,allElementsMap:e.allElementsMap,rc:e.rc,renderConfig:e.renderConfig,appState:e.appState},dp())})),(0,X.jsx)("canvas",{className:"excalidraw__canvas",style:{width:e.appState.width,height:e.appState.height},width:e.appState.width*e.scale,height:e.appState.height*e.scale,ref:t})},Yp=y.createContext(null),Zp=y.createContext(null),Kp={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},qp=y.createContext(Kp);qp.displayName="DeviceContext";var $p=y.createContext({container:null,id:null});$p.displayName="ExcalidrawContainerContext";var Qp=y.createContext([]);Qp.displayName="ExcalidrawElementsContext";var Jp=y.createContext((0,s.default)((0,s.default)({},(0,v.Fc)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Jp.displayName="ExcalidrawAppStateContext";var ev=y.createContext((function(){console.warn("Uninitialized ExcalidrawSetAppStateContext context!")}));ev.displayName="ExcalidrawSetAppStateContext";var tv=y.createContext(null);tv.displayName="ExcalidrawActionManagerContext";var nv=function(){return(0,y.useContext)(Yp)},rv=function(){return(0,y.useContext)(Zp)},av=function(){return(0,y.useContext)(qp)},iv=function(){return(0,y.useContext)($p)},ov=function(){return(0,y.useContext)(Qp)},lv=function(){return(0,y.useContext)(Jp)},sv=function(){return(0,y.useContext)(ev)},cv=function(){return(0,y.useContext)(tv)},uv=!1,dv=0,fv=!1,hv=!1,pv=!1,vv={horizontal:null,vertical:null},Uv=0,mv=!1,gv=new Map,bv=!1,yv=0,xv=!1,wv=null,Ev={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},kv=function(e){function t(e){var a;(0,i.default)(this,t),a=(0,r.default)(this,t,[e]),(0,b.d)(a,"canvas"),(0,b.d)(a,"interactiveCanvas",null),(0,b.d)(a,"rc"),(0,b.d)(a,"unmounted",!1),(0,b.d)(a,"actionManager"),(0,b.d)(a,"device",Kp),(0,b.d)(a,"excalidrawContainerRef",y.createRef()),(0,b.d)(a,"scene"),(0,b.d)(a,"fonts"),(0,b.d)(a,"renderer"),(0,b.d)(a,"visibleElements"),(0,b.d)(a,"resizeObserver"),(0,b.d)(a,"nearestScrollableContainer"),(0,b.d)(a,"library"),(0,b.d)(a,"libraryItemsFromStorage"),(0,b.d)(a,"id"),(0,b.d)(a,"store"),(0,b.d)(a,"history"),(0,b.d)(a,"excalidrawContainerValue"),(0,b.d)(a,"files",{}),(0,b.d)(a,"imageCache",new Map),(0,b.d)(a,"iFrameRefs",new Map),(0,b.d)(a,"embedsValidationStatus",new Map),(0,b.d)(a,"initializedEmbeds",new Set),(0,b.d)(a,"elementsPendingErasure",new Set),(0,b.d)(a,"flowChartCreator",new xd),(0,b.d)(a,"flowChartNavigator",new yd),(0,b.d)(a,"hitLinkElement"),(0,b.d)(a,"lastPointerDownEvent",null),(0,b.d)(a,"lastPointerUpEvent",null),(0,b.d)(a,"lastPointerMoveEvent",null),(0,b.d)(a,"lastPointerMoveCoords",null),(0,b.d)(a,"lastViewportPosition",{x:0,y:0}),(0,b.d)(a,"animationFrameHandler",new Np),(0,b.d)(a,"laserTrails",new Op(a.animationFrameHandler,a)),(0,b.d)(a,"eraserTrail",new Fp(a.animationFrameHandler,a,{streamline:.2,size:5,keepHead:!0,sizeMapping:function(e){var t=Math.max(0,1-(performance.now()-e.pressure)/200),n=(10-Math.min(10,e.totalLength-e.currentIndex))/10;return Math.min((0,v.fb)(n),(0,v.fb)(t))},fill:function(){return a.state.theme===v.G.LIGHT?"rgba(0, 0, 0, 0.2)":"rgba(255, 255, 255, 0.2)"}})),(0,b.d)(a,"onChangeEmitter",new v.Vg),(0,b.d)(a,"onPointerDownEmitter",new v.Vg),(0,b.d)(a,"onPointerUpEmitter",new v.Vg),(0,b.d)(a,"onUserFollowEmitter",new v.Vg),(0,b.d)(a,"onScrollChangeEmitter",new v.Vg),(0,b.d)(a,"missingPointerEventCleanupEmitter",new v.Vg),(0,b.d)(a,"onRemoveEventListenersEmitter",new v.Vg),(0,b.d)(a,"getEffectiveGridSize",(function(){return(0,v.fj)(a)?a.state.gridSize:null})),(0,b.d)(a,"updateEmbedValidationStatus",(function(e,t){a.embedsValidationStatus.set(e.id,t),v.ed.delete(e)})),(0,b.d)(a,"updateEmbeddables",(function(){var e=new Set,t=!1;a.scene.getNonDeletedElements().filter((function(n){if((0,v.Xb)(n)){if(e.add(n.id),!a.embedsValidationStatus.has(n.id)){t=!0;var r=(0,v.$g)(n.link,a.props.validateEmbeddable);a.updateEmbedValidationStatus(n,r)}}else(0,v.Yb)(n)&&e.add(n.id);return!1})),t&&a.scene.triggerUpdate(),a.iFrameRefs.forEach((function(t,n){e.has(n)||a.iFrameRefs.delete(n)}))})),(0,b.d)(a,"getFrameNameDOMId",(function(e){return"".concat(a.id,"-frame-name-").concat(e.id)})),(0,b.d)(a,"frameNameBoundsCache",{get:function(e){var t=a.frameNameBoundsCache._cache.get(e.id);if(!t||t.zoom!==a.state.zoom.value||t.versionNonce!==e.versionNonce){var n=document.getElementById(a.getFrameNameDOMId(e));if(n){var r=n.getBoundingClientRect(),i=(0,v.lb)({clientX:r.x,clientY:r.y},a.state),o=(0,v.lb)({clientX:r.right,clientY:r.bottom},a.state);return t={x:i.x,y:i.y,width:o.x-i.x,height:o.y-i.y,angle:0,zoom:a.state.zoom.value,versionNonce:e.versionNonce},a.frameNameBoundsCache._cache.set(e.id,t),t}return null}return t},_cache:new Map}),(0,b.d)(a,"resetEditingFrame",(function(e){var t;e&&(0,v.Pj)(e,{name:(null===(t=e.name)||void 0===t?void 0:t.trim())||null}),a.setState({editingFrame:null})})),(0,b.d)(a,"renderFrameNames",(function(){if(!a.state.frameRendering.enabled||!a.state.frameRendering.name)return a.state.editingFrame&&a.resetEditingFrame(null),null;var e=a.state.theme===v.G.DARK;return a.scene.getNonDeletedFramesLikes().map((function(t){if(!(0,v.Tj)(t,a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap()))return a.state.editingFrame===t.id&&a.resetEditingFrame(t),null;var n,r=(0,v.mb)({sceneX:t.x,sceneY:t.y},a.state),i=r.x,o=r.y,l=(0,v.Oi)(t);if(t.id===a.state.editingFrame){var s=l;n=(0,X.jsx)("input",{autoFocus:!0,value:s,onChange:function(e){(0,v.Pj)(t,{name:e.target.value})},onFocus:function(e){return e.target.select()},onBlur:function(){return a.resetEditingFrame(t)},onKeyDown:function(e){(e.key===v.hg.ESCAPE||e.key===v.hg.ENTER)&&a.resetEditingFrame(t)},style:{background:a.state.viewBackgroundColor,filter:e?v.da:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-i-6,"px")},size:s.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else n=l;return(0,X.jsx)("div",{id:a.getFrameNameDOMId(t),style:{position:"absolute",bottom:"".concat(a.state.height+v.H.nameOffsetY-o+a.state.offsetTop,"px"),left:"".concat(i-a.state.offsetLeft,"px"),zIndex:2,fontSize:v.H.nameFontSize,color:e?v.H.nameColorDarkTheme:v.H.nameColorLightTheme,lineHeight:v.H.nameLineHeight,width:"max-content",maxWidth:"".concat(t.width,"px"),overflow:t.id===a.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:v.z.MOVE,pointerEvents:a.state.viewModeEnabled?v.B.disabled:v.B.enabled},onPointerDown:function(e){return a.handleCanvasPointerDown(e)},onWheel:function(e){return a.handleWheel(e)},onContextMenu:a.handleCanvasContextMenu,onDoubleClick:function(){a.setState({editingFrame:t.id})},children:n},t.id)}))})),(0,b.d)(a,"focusContainer",(function(){var e;null===(e=a.excalidrawContainerRef.current)||void 0===e||e.focus()})),(0,b.d)(a,"getSceneElementsIncludingDeleted",(function(){return a.scene.getElementsIncludingDeleted()})),(0,b.d)(a,"getSceneElements",(function(){return a.scene.getNonDeletedElements()})),(0,b.d)(a,"onInsertElements",(function(e){a.addElementsFromPasteOrLibrary({elements:e,position:"center",files:null})})),(0,b.d)(a,"onExportImage",function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r){var i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ho("export",t,"ui"),e.next=3,Hl(t,n,a.state,a.files,{exportBackground:a.state.exportBackground,name:a.getName(),viewBackgroundColor:a.state.viewBackgroundColor,exportingFrame:r.exportingFrame}).catch(v.pb).catch((function(e){console.error(e),a.setState({errorMessage:e.message})}));case 3:i=e.sent,a.state.exportEmbedScene&&i&&(0,v.sh)(i)&&a.setState({fileHandle:i});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),(0,b.d)(a,"magicGenerations",new Map),(0,b.d)(a,"updateMagicGeneration",(function(e){var t=e.frameElement,n=e.data;"pending"===n.status?(0,v.Pj)(t,{customData:{generationData:void 0}},!1):(0,v.Pj)(t,{customData:{generationData:n}},!1),a.magicGenerations.set(t.id,n),a.triggerRender()})),(0,b.d)(a,"plugins",{}),(0,b.d)(a,"onMagicframeToolSelect",(function(){var e=a.scene.getSelectedElements({selectedElementIds:a.state.selectedElementIds});if(0===e.length)a.setActiveTool({type:v.Aa.magicframe}),ho("ai","tool-select (empty-selection)","d2c");else{var t,n=1===e.length&&(0,v.ac)(e[0])&&e[0];if(!n&&e.some((function(e){return(0,v.bc)(e)||e.frameId})))return void a.setActiveTool({type:v.Aa.magicframe});if(ho("ai","tool-select (existing selection)","d2c"),n)t=n;else{var r=(0,v.bj)(e),i=(0,d.default)(r,4),o=i[0],u=i[1],f=i[2],h=i[3];t=(0,v.Wf)((0,s.default)((0,s.default)({},v.H),{},{x:o-50,y:u-50,width:f-o+100,height:h-u+100,opacity:100,locked:!1})),a.scene.insertElement(t);var p,U=(0,c.default)(e);try{for(U.s();!(p=U.n()).done;){var m=p.value;(0,v.Pj)(m,{frameId:t.id})}}catch(g){U.e(g)}finally{U.f()}a.setState({selectedElementIds:(0,l.default)({},t.id,!0)})}a.onMagicFrameGenerate(t,"upstream")}})),(0,b.d)(a,"openEyeDropper",(function(e){var t=e.type;Mi.set(No,{swapPreviewOnAlt:!0,colorPickerType:"stroke"===t?"elementStroke":"elementBackground",onSelect:function(e,n){var r="background"===t&&n.altKey||"stroke"===t&&!n.altKey;a.scene.getSelectedElements(a.state).length&&"selection"===a.state.activeTool.type?a.updateScene({elements:a.scene.getElementsIncludingDeleted().map((function(t){return a.state.selectedElementIds[t.id]?(0,v.Qj)(t,(0,l.default)({},r?"strokeColor":"backgroundColor",e)):t})),captureUpdate:v.Wg.IMMEDIATELY}):r?a.syncActionResult({appState:(0,s.default)((0,s.default)({},a.state),{},{currentItemStrokeColor:e}),captureUpdate:v.Wg.IMMEDIATELY}):a.syncActionResult({appState:(0,s.default)((0,s.default)({},a.state),{},{currentItemBackgroundColor:e}),captureUpdate:v.Wg.IMMEDIATELY})},keepOpenOnAlt:!1})})),(0,b.d)(a,"dismissLinearEditor",(function(){setTimeout((function(){a.setState({editingLinearElement:null})}))})),(0,b.d)(a,"syncActionResult",cp((function(e){if(!a.unmounted&&!1!==e){e.captureUpdate===v.Wg.NEVER?a.store.shouldUpdateSnapshot():e.captureUpdate===v.Wg.IMMEDIATELY&&a.store.shouldCaptureIncrement();var t=!1,n=null;if(e.elements&&(a.scene.replaceAllElements(e.elements),t=!0),e.files&&(a.addMissingFiles(e.files,e.replaceFiles),a.addNewImagesToImageCache()),e.appState||n||a.state.contextMenu){var r,i,o,l,c,u,d,f,h,p=(null===e||void 0===e||null===(r=e.appState)||void 0===r?void 0:r.viewModeEnabled)||!1,U=(null===e||void 0===e||null===(i=e.appState)||void 0===i?void 0:i.zenModeEnabled)||!1,m=(null===e||void 0===e||null===(o=e.appState)||void 0===o?void 0:o.theme)||a.props.theme||v.G.LIGHT,g=null!==(l=null===e||void 0===e||null===(c=e.appState)||void 0===c?void 0:c.name)&&void 0!==l?l:a.state.name,b=null!==(u=null===e||void 0===e||null===(d=e.appState)||void 0===d?void 0:d.errorMessage)&&void 0!==u?u:a.state.errorMessage;typeof a.props.viewModeEnabled<"u"&&(p=a.props.viewModeEnabled),typeof a.props.zenModeEnabled<"u"&&(U=a.props.zenModeEnabled),n=(null===(f=e.appState)||void 0===f?void 0:f.editingTextElement)||null,e.elements&&n&&e.elements.forEach((function(e){var t;(null===(t=n)||void 0===t?void 0:t.id)===e.id&&n!==e&&(0,v.qk)(e)&&(0,v._b)(e)&&(n=e)})),null!==(h=n)&&void 0!==h&&h.isDeleted&&(n=null),a.setState((function(t){var r=e.appState||{};return(0,s.default)((0,s.default)((0,s.default)({},t),r),{},{contextMenu:null,editingTextElement:n,viewModeEnabled:p,zenModeEnabled:U,theme:m,name:g,errorMessage:b})})),t=!0}!t&&e.captureUpdate!==v.Wg.EVENTUALLY&&a.scene.triggerUpdate()}}))),(0,b.d)(a,"onBlur",cp((function(){fv=!1,a.setState({isBindingEnabled:!0})}))),(0,b.d)(a,"onUnload",(function(){a.onBlur()})),(0,b.d)(a,"disableEvent",(function(e){e.preventDefault()})),(0,b.d)(a,"resetHistory",(function(){a.history.clear()})),(0,b.d)(a,"resetStore",(function(){a.store.clear()})),(0,b.d)(a,"resetScene",cp((function(e){a.scene.replaceAllElements([]),a.setState((function(t){return(0,s.default)((0,s.default)({},(0,v.Fc)()),{},{isLoading:(null===e||void 0===e||!e.resetLoadingState)&&t.isLoading,theme:a.state.theme})})),a.resetStore(),a.resetHistory()}))),(0,b.d)(a,"initializeScene",(0,h.default)((0,f.default)().mark((function e(){var t,n,r,i,o;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.files.length){e.next=2;break}return e.abrupt("return");case 2:return n=t.files[0],e.next=5,n.getFile();case 5:r=e.sent,a.loadFileToCanvas(new File([r],r.name||"",{type:r.type}),n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.props.theme&&a.setState({theme:a.props.theme}),a.state.isLoading||a.setState({isLoading:!0}),r=null,e.prev=2,"function"!=typeof a.props.initialData){e.next=12;break}return e.next=6,a.props.initialData();case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=null;case 9:r=e.t0,e.next=18;break;case 12:return e.next=14,a.props.initialData;case 14:if(e.t1=e.sent,e.t1){e.next=17;break}e.t1=null;case 17:r=e.t1;case 18:(null===(i=r)||void 0===i?void 0:i.libraryItems)&&a.library.updateLibrary({libraryItems:r.libraryItems,merge:!0}).catch((function(e){console.error(e)})),e.next=24;break;case 21:e.prev=21,e.t2=e.catch(2),console.error(e.t2),r={appState:{errorMessage:e.t2.message||"Encountered an error during importing or restoring scene data"}};case 24:(o=(0,v.lh)(r,null,null,{repairBindings:!0})).appState=(0,s.default)((0,s.default)({},o.appState),{},{theme:a.props.theme||o.appState.theme,openSidebar:(null===(t=o.appState)||void 0===t?void 0:t.openSidebar)||a.state.openSidebar,activeTool:"image"===o.appState.activeTool.type?(0,s.default)((0,s.default)({},o.appState.activeTool),{},{type:"selection"}):o.appState.activeTool,isLoading:!1,toast:a.state.toast}),null!==(n=r)&&void 0!==n&&n.scrollToContent&&(o.appState=(0,s.default)((0,s.default)({},o.appState),(0,v.zk)(o.elements,(0,s.default)((0,s.default)({},o.appState),{},{width:a.state.width,height:a.state.height,offsetTop:a.state.offsetTop,offsetLeft:a.state.offsetLeft})))),a.resetStore(),a.resetHistory(),a.syncActionResult((0,s.default)((0,s.default)({},o),{},{captureUpdate:v.Wg.NEVER})),a.clearImageShapeCache(),a.fonts.loadSceneFonts().then((function(e){a.fonts.onLoaded(e)})),(0,v.$h)(window.location.href)&&a.scrollToContent(window.location.href,{animate:!1});case 26:case"end":return e.stop()}}),e,null,[[2,21]])})))),(0,b.d)(a,"isMobileBreakpoint",(function(e,t){return e<v.ha||t<v.ja&&e<v.ia})),(0,b.d)(a,"refreshViewportBreakpoints",(function(){if(a.excalidrawContainerRef.current){var e=document.body,t=e.clientWidth,n=e.clientHeight,r=a.device.viewport,i=(0,v.Db)(r,{isLandscape:t>n,isMobile:a.isMobileBreakpoint(t,n)});return r!==i&&(a.device=(0,s.default)((0,s.default)({},a.device),{},{viewport:i}),!0)}})),(0,b.d)(a,"refreshEditorBreakpoints",(function(){var e=a.excalidrawContainerRef.current;if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height,i=null!=a.props.UIOptions.dockedSidebarBreakpoint?a.props.UIOptions.dockedSidebarBreakpoint:v.ka,o=a.device.editor,l=(0,v.Db)(o,{isMobile:a.isMobileBreakpoint(n,r),canFitSidebar:n>i});return o!==l&&(a.device=(0,s.default)((0,s.default)({},a.device),{},{editor:l}),!0)}})),(0,b.d)(a,"onResize",cp((function(){a.scene.getElementsIncludingDeleted().forEach((function(e){return v.ed.delete(e)})),a.refreshViewportBreakpoints(),a.updateDOMRect(),v.r||a.refreshEditorBreakpoints(),a.setState({})}))),(0,b.d)(a,"onFullscreenChange",(function(){var e;!document.fullscreenElement&&"active"===(null===(e=a.state.activeEmbeddable)||void 0===e?void 0:e.state)&&a.setState({activeEmbeddable:null})})),(0,b.d)(a,"renderInteractiveSceneCallback",(function(e){var t=e.atLeastOneVisibleElement,n=e.scrollBars,r=e.elementsMap;n&&(vv=n);var i=!a.state.editingTextElement&&(!t&&r.size>0);a.state.scrolledOutside!==i&&a.setState({scrolledOutside:i}),a.scheduleImageRefresh()})),(0,b.d)(a,"onScroll",(0,v.db)((function(){var e=a.getCanvasOffsets(),t=e.offsetTop,n=e.offsetLeft;a.setState((function(e){return e.offsetLeft===n&&e.offsetTop===t?null:{offsetTop:t,offsetLeft:n}}))}),v._)),(0,b.d)(a,"onCut",cp((function(e){var t;null===(t=a.excalidrawContainerRef.current)||void 0===t||!t.contains(document.activeElement)||(0,v.ab)(e.target)||(a.actionManager.executeAction(xs,"keyboard",e),e.preventDefault(),e.stopPropagation())}))),(0,b.d)(a,"onCopy",cp((function(e){var t;null===(t=a.excalidrawContainerRef.current)||void 0===t||!t.contains(document.activeElement)||(0,v.ab)(e.target)||(a.actionManager.executeAction(bs,"keyboard",e),e.preventDefault(),e.stopPropagation())}))),(0,b.d)(a,"onTouchStart",(function(e){if(v.p&&e.preventDefault(),!uv)return uv=!0,clearTimeout(dv),void(dv=window.setTimeout(t.resetTapTwice,v.Y));if(uv&&1===e.touches.length){var n=e.touches[0];a.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),uv=!1,clearTimeout(dv)}2===e.touches.length&&a.setState({selectedElementIds:(0,v.xk)({},a.state),activeEmbeddable:null})})),(0,b.d)(a,"onTouchEnd",(function(e){a.resetContextMenuTimer(),e.touches.length>0?a.setState({previousSelectedElementIds:{},selectedElementIds:(0,v.xk)(a.state.previousSelectedElementIds,a.state)}):Ev.pointers.clear()})),(0,b.d)(a,"pasteFromClipboard",cp(function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var r,i,o,s,u,d,h,p,U,m,g,b,y,x,w,E,k,S,M,C,I,j,T,A,D,_,L;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!!bv,s=document.activeElement,u=null===(r=a.excalidrawContainerRef.current)||void 0===r?void 0:r.contains(s),!t||u){e.next=3;break}return e.abrupt("return");case 3:if(d=document.elementFromPoint(a.lastViewportPosition.x,a.lastViewportPosition.y),!t||d instanceof HTMLCanvasElement&&!(0,v.ab)(s)){e.next=6;break}return e.abrupt("return");case 6:return h=(0,v.lb)({clientX:a.lastViewportPosition.x,clientY:a.lastViewportPosition.y},a.state),p=h.x,U=h.y,m=null===t||void 0===t||null===(i=t.clipboardData)||void 0===i?void 0:i.files[0],e.next=12,(0,v.mi)(t,o);case 12:if(g=e.sent,m||o){e.next=17;break}if(!g.mixedContent){e.next=16;break}return e.abrupt("return",a.addElementsFromMixedContentPaste(g.mixedContent,{isPlainPaste:o,sceneX:p,sceneY:U}));case 16:g.text&&(b=g.text.trim()).startsWith("<svg")&&b.endsWith("</svg>")&&(m=(0,v.Fh)(b));case 17:if(!(0,v.th)(m)||g.spreadsheet){e.next=24;break}if(a.isToolSupported("image")){e.next=21;break}return a.setState({errorMessage:Pi("errors.imageToolNotSupported")}),e.abrupt("return");case 21:return y=a.createImageElement({sceneX:p,sceneY:U}),a.insertImageElement(y,m),a.initializeImageDimensions(y),a.setState({selectedElementIds:(0,v.xk)((0,l.default)({},y.id,!0),a.state)}),e.abrupt("return");case 24:if(!a.props.onPaste){e.next=37;break}return e.prev=25,e.next=28,a.props.onPaste(g,t);case 28:if(e.t0=e.sent,e.t1=!1,e.t0!==e.t1){e.next=32;break}return e.abrupt("return");case 32:e.next=37;break;case 34:e.prev=34,e.t2=e.catch(25),console.error(e.t2);case 37:if(!g.errorMessage){e.next=41;break}a.setState({errorMessage:g.errorMessage}),e.next=77;break;case 41:if(!g.spreadsheet||o){e.next=45;break}a.setState({pasteDialog:{data:g.spreadsheet,shown:!0}}),e.next=77;break;case 45:if(!g.elements){e.next=50;break}x=g.programmaticAPI?sp(g.elements):g.elements,a.addElementsFromPasteOrLibrary({elements:x,files:g.files||null,position:"cursor",retainSeed:o}),e.next=77;break;case 50:if(!g.text){e.next=77;break}if(!g.text||!Wp(g.text)){e.next=69;break}return e.next=54,Promise.all([n.e(4223),n.e(8064)]).then(n.bind(n,8064));case 54:return w=e.sent,e.prev=55,e.next=58,w.parseMermaidToExcalidraw(g.text);case 58:return E=e.sent,k=E.elements,S=E.files,M=sp(k,{regenerateIds:!0}),a.addElementsFromPasteOrLibrary({elements:M,files:S,position:"cursor"}),e.abrupt("return");case 66:e.prev=66,e.t3=e.catch(55),console.warn("parsing pasted text as mermaid definition failed: ".concat(e.t3.message));case 69:if(C=(0,v.Rb)(g.text).split(/\n+/).map((function(e){return e.trim()})).filter(Boolean),I=C.map((function(e){return(0,v._g)(e)})).filter((function(e){var t;return(0,v.$g)(e,a.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(e)||"video"===(null===(t=(0,v.Zg)(e))||void 0===t?void 0:t.type))})),bv||!(I.length>0)||I.length!==C.length){e.next=76;break}j=[],T=(0,c.default)(I);try{for(T.s();!(A=T.n()).done;)D=A.value,_=j[j.length-1],(L=a.insertEmbeddableElement({sceneX:_?_.x+_.width+20:p,sceneY:U,link:(0,v.Xc)(D)}))&&j.push(L)}catch(f){T.e(f)}finally{T.f()}return j.length&&a.setState({selectedElementIds:Object.fromEntries(j.map((function(e){return[e.id,!0]})))}),e.abrupt("return");case 76:a.addTextFromPaste(g.text,o);case 77:a.setActiveTool({type:"selection"}),null===t||void 0===t||t.preventDefault();case 78:case"end":return e.stop()}}),e,null,[[25,34],[55,66]])})));return function(t){return e.apply(this,arguments)}}())),(0,b.d)(a,"addElementsFromPasteOrLibrary",(function(e){var t,n,r=(0,v.jh)(e.elements,null,void 0),i=(0,v.bj)(r),o=(0,d.default)(i,4),l=o[0],c=o[1],u=o[2],f=o[3],h=(0,v.ib)(l,u)/2,U=(0,v.ib)(c,f)/2,m="object"==typeof e.position?e.position.clientX:"cursor"===e.position?a.lastViewportPosition.x:a.state.width/2+a.state.offsetLeft,g="object"==typeof e.position?e.position.clientY:"cursor"===e.position?a.lastViewportPosition.y:a.state.height/2+a.state.offsetTop,b=(0,v.lb)({clientX:m,clientY:g},a.state),y=b.x,x=b.y,w=y-h,E=x-U,k=(0,v.oj)(w,E,a.getEffectiveGridSize()),S=(0,d.default)(k,2),M=S[0],C=S[1],I=(0,v.dg)(r.map((function(e){return(0,v.Qj)(e,{x:e.x+M-l,y:e.y+C-c})})),{randomizeSeed:!e.retainSeed}),j=a.scene.getElementsIncludingDeleted(),T=[].concat((0,p.default)(j),(0,p.default)(I));T=(null===(t=(n=a.props).onDuplicate)||void 0===t?void 0:t.call(n,T,j))||T,(0,v.Mj)(T,(0,v.xb)(I));var A=a.getTopLayerFrameAtSceneCoords({x:y,y:x});if(A){var D=(0,v.Hi)(I,A);(0,v.Ii)(T,D,A,a.state)}a.scene.replaceAllElements(T),I.forEach((function(e){if((0,v._b)(e)&&(0,v.nc)(e)){var t=(0,v.Aj)(e,a.scene.getElementsMapIncludingDeleted());(0,v.uj)(e,t,a.scene.getElementsMapIncludingDeleted())}})),v.o&&v.Qf.loadElementsFonts(I).then((function(e){a.fonts.onLoaded(e)})),e.files&&a.addMissingFiles(e.files),a.store.shouldCaptureIncrement();var _=(0,v.rk)(I);a.setState((0,s.default)((0,s.default)({},a.state),{},{openSidebar:a.state.openSidebar&&a.device.editor.canFitSidebar&&Mi.get(af)?a.state.openSidebar:null},(0,v.Jc)({editingGroupId:null,selectedElementIds:_.reduce((function(e,t){return(0,v.nc)(t)||(e[t.id]=!0),e}),{})},a.scene.getNonDeletedElements(),a.state,a)),(function(){e.files&&a.addNewImagesToImageCache()})),a.setActiveTool({type:"selection"}),e.fitToContent&&a.scrollToContent(I,{fitToContent:!0,canvasOffsets:a.getEditorUIOffsets()})})),(0,b.d)(a,"setAppState",(function(e,t){a.setState(e,t)})),(0,b.d)(a,"removePointer",(function(e){Uv&&a.resetContextMenuTimer(),Ev.pointers.delete(e.pointerId)})),(0,b.d)(a,"toggleLock",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ui";a.state.activeTool.locked||ho("toolbar","toggleLock","".concat(e," (").concat(a.device.editor.isMobile?"mobile":"desktop",")")),a.setState((function(e){return{activeTool:(0,s.default)((0,s.default)((0,s.default)({},e.activeTool),(0,v.jb)(a.state,e.activeTool.locked?{type:"selection"}:e.activeTool)),{},{locked:!e.activeTool.locked})}}))})),(0,b.d)(a,"updateFrameRendering",(function(e){a.setState((function(t){var n,r,a,i,o="function"==typeof e?e(t.frameRendering):e;return{frameRendering:{enabled:null!==(n=null===o||void 0===o?void 0:o.enabled)&&void 0!==n?n:t.frameRendering.enabled,clip:null!==(r=null===o||void 0===o?void 0:o.clip)&&void 0!==r?r:t.frameRendering.clip,name:null!==(a=null===o||void 0===o?void 0:o.name)&&void 0!==a?a:t.frameRendering.name,outline:null!==(i=null===o||void 0===o?void 0:o.outline)&&void 0!==i?i:t.frameRendering.outline}}}))})),(0,b.d)(a,"togglePenMode",(function(e){a.setState((function(t){return{penMode:null!==e&&void 0!==e?e:!t.penMode,penDetected:!0}}))})),(0,b.d)(a,"onHandToolToggle",(function(){a.actionManager.executeAction(Pl)})),(0,b.d)(a,"zoomCanvas",(function(e){a.setState((0,s.default)({},Sl({viewportX:a.state.width/2+a.state.offsetLeft,viewportY:a.state.height/2+a.state.offsetTop,nextZoom:(0,v.Ak)(e)},a.state)))})),(0,b.d)(a,"cancelInProgressAnimation",null),(0,b.d)(a,"scrollToContent",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.scene.getNonDeletedElements(),r=arguments.length>1?arguments[1]:void 0;if("string"!=typeof n){null===(e=(t=a).cancelInProgressAnimation)||void 0===e||e.call(t);var i=Array.isArray(n)?n:[n],o=a.state.zoom,l=a.state.scrollX,s=a.state.scrollY;if(null!==r&&void 0!==r&&r.fitToContent||null!==r&&void 0!==r&&r.fitToViewport){var c=Ll({canvasOffsets:r.canvasOffsets,targetElements:i,appState:a.state,fitToViewport:!(null===r||void 0===r||!r.fitToViewport),viewportZoomFactor:null===r||void 0===r?void 0:r.viewportZoomFactor,minZoom:null===r||void 0===r?void 0:r.minZoom,maxZoom:null===r||void 0===r?void 0:r.maxZoom}).appState;o=c.zoom,l=c.scrollX,s=c.scrollY}else{var u=(0,v.zk)(i,a.state);l=u.scrollX,s=u.scrollY}if(null!==r&&void 0!==r&&r.animate){var d,f=a.state.scrollX,h=a.state.scrollY,p=a.state.zoom.value,U=(0,v.gb)({fromValues:{scrollX:f,scrollY:h,zoom:p},toValues:{scrollX:l,scrollY:s,zoom:o.value},interpolateValue:function(e,t,n,r){if("zoom"===r)return e*Math.pow(t/e,(0,v.fb)(n))},onStep:function(e){var t=e.scrollX,n=e.scrollY,r=e.zoom;a.setState({scrollX:t,scrollY:n,zoom:{value:r}})},onStart:function(){a.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){a.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){a.setState({shouldCacheIgnoreZoom:!1})},duration:null!==(d=null===r||void 0===r?void 0:r.duration)&&void 0!==d?d:500});a.cancelInProgressAnimation=function(){U(),a.cancelInProgressAnimation=null}}else a.setState({scrollX:l,scrollY:s,zoom:o})}else{var m;if(m=(0,v.$h)(n)?(0,v.ai)(n):n){var g,b,y=a.scene.getElementsFromId(m);null!==y&&void 0!==y&&y.length?a.scrollToContent(y,{fitToContent:null===(g=null===r||void 0===r?void 0:r.fitToContent)||void 0===g||g,animate:null===(b=null===r||void 0===r?void 0:r.animate)||void 0===b||b}):(0,v.$h)(n)&&a.setState({toast:{message:Pi("elementLink.notFound"),duration:3e3,closable:!0}})}}})),(0,b.d)(a,"maybeUnfollowRemoteUser",(function(){a.state.userToFollow&&a.setState({userToFollow:null})})),(0,b.d)(a,"translateCanvas",(function(e){var t,n;null!==(t=(n=a).cancelInProgressAnimation)&&void 0!==t&&t.call(n),a.maybeUnfollowRemoteUser(),a.setState(e)})),(0,b.d)(a,"setToast",(function(e){a.setState({toast:e})})),(0,b.d)(a,"restoreFileFromShare",(0,h.default)((0,f.default)().mark((function e(){var t,n,r,i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,caches.open("web-share-target");case 3:return t=e.sent,e.next=6,t.match("shared-file");case 6:if(!(n=e.sent)){e.next=16;break}return e.next=10,n.blob();case 10:return r=e.sent,i=new File([r],r.name||"",{type:r.type}),a.loadFileToCanvas(i,null),e.next=15,t.delete("shared-file");case 15:window.history.replaceState(null,v.s,window.location.pathname);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),a.setState({errorMessage:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))),(0,b.d)(a,"addFiles",cp((function(e){var t=a.addMissingFiles(e).addedFiles;a.clearImageShapeCache(t),a.scene.triggerUpdate(),a.addNewImagesToImageCache()}))),(0,b.d)(a,"addMissingFiles",(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{}:(0,s.default)({},a.files),r={},i=Array.isArray(e)?e:Object.values(e),o=(0,c.default)(i);try{for(o.s();!(t=o.n()).done;){var l=t.value;if(!n[l.id]&&(r[l.id]=l,n[l.id]=l,l.mimeType===v.T.svg))try{var u,d=(0,v.Bh)((0,v.Rh)((0,v.Dh)(l.dataURL)),v.T.svg);l.dataURL!==d&&(l.version=(null!==(u=l.version)&&void 0!==u?u:1)+1,l.dataURL=d)}catch(S){console.error(S)}}}catch(f){o.e(f)}finally{o.f()}return a.files=n,{addedFiles:r}})),(0,b.d)(a,"updateScene",cp((function(e){var t,n=(0,v.Nj)(null!==(t=e.elements)&&void 0!==t?t:[]);if(e.captureUpdate&&e.captureUpdate!==v.Wg.EVENTUALLY){var r=a.store.snapshot.appState,i=a.store.snapshot.elements,o=e.appState?Object.assign({},r,e.appState):r,l=e.elements?a.store.filterUncomittedElements(a.scene.getElementsMapIncludingDeleted(),(0,v.xb)(n)):i;e.captureUpdate===v.Wg.IMMEDIATELY?a.store.captureIncrement(l,o):e.captureUpdate===v.Wg.NEVER&&a.store.updateSnapshot(l,o)}e.appState&&a.setState(e.appState),e.elements&&a.scene.replaceAllElements(n),e.collaborators&&a.setState({collaborators:e.collaborators})}))),(0,b.d)(a,"triggerRender",(function(e){!0===e?a.scene.triggerUpdate():a.setState({})})),(0,b.d)(a,"toggleSidebar",(function(e){var t,n,r,i=e.name,o=e.tab,l=e.force,s=(r=void 0===l?(null===(t=a.state.openSidebar)||void 0===t?void 0:t.name)===i&&(null===(n=a.state.openSidebar)||void 0===n?void 0:n.tab)===o?null:i:l?i:null)?{name:r}:null;return s&&o&&(s.tab=o),a.setState({openSidebar:s}),!!r})),(0,b.d)(a,"updateCurrentCursorPosition",cp((function(e){a.lastViewportPosition.x=e.clientX,a.lastViewportPosition.y=e.clientY}))),(0,b.d)(a,"getEditorUIOffsets",(function(){var e,t,n,r,i,o,l,s,c=null!==(e=null===(t=a.excalidrawContainerRef)||void 0===t||null===(t=t.current)||void 0===t||null===(t=t.querySelector(".App-toolbar"))||void 0===t||null===(t=t.getBoundingClientRect())||void 0===t?void 0:t.bottom)&&void 0!==e?e:0,u=null===(n=a.excalidrawContainerRef)||void 0===n||null===(n=n.current)||void 0===n||null===(n=n.querySelector(".sidebar"))||void 0===n?void 0:n.getBoundingClientRect(),d=null===(r=a.excalidrawContainerRef)||void 0===r||null===(r=r.current)||void 0===r||null===(r=r.querySelector(".App-menu__left"))||void 0===r?void 0:r.getBoundingClientRect(),f=16;return Li().rtl?{top:c+f,right:Math.max(a.state.width-(null!==(i=null===d||void 0===d?void 0:d.left)&&void 0!==i?i:a.state.width),0)+f,bottom:f,left:Math.max(null!==(o=null===u||void 0===u?void 0:u.right)&&void 0!==o?o:0,0)+f}:{top:c+f,right:Math.max(a.state.width-(null!==(l=null===u||void 0===u?void 0:u.left)&&void 0!==l?l:a.state.width)+f,0),bottom:f,left:Math.max(null!==(s=null===d||void 0===d?void 0:d.right)&&void 0!==s?s:0,0)+f}})),(0,b.d)(a,"onKeyDown",cp((function(e){var t;if("Proxy"in window&&(!e.shiftKey&&/^[A-Z]$/.test(e.key)||e.shiftKey&&/^[a-z]$/.test(e.key))&&(e=new Proxy(e,{get:function(t,n){var r=t[n];return"function"==typeof r?r.bind(t):"key"===n?e.shiftKey?t.key.toUpperCase():t.key.toLowerCase():r}})),!(0,v._a)(e.target)){if((e.key===v.hg.ESCAPE||e.key===v.hg.ENTER)&&a.state.croppingElementId)return void a.finishImageCropping();var n=(0,v.vk)(a.scene.getNonDeletedElementsMap(),a.state);if(1===n.length&&(0,v.Wb)(n[0])&&e.key===v.hg.ENTER)return void a.startImageCropping(n[0]);if(e.key===v.hg.ESCAPE&&a.flowChartCreator.isCreatingChart)return a.flowChartCreator.clear(),void a.triggerRender(!0);var r=(0,v.jg)(e.key);if(e[v.hg.CTRL_OR_CMD]&&r&&!e.shiftKey){var i;e.preventDefault();var o=(0,v.vk)(a.scene.getNonDeletedElementsMap(),a.state);return 1===o.length&&(0,v.lc)(o[0])&&a.flowChartCreator.createNodes(o[0],a.scene.getNonDeletedElementsMap(),a.state,pd(e.key)),void((null===(i=a.flowChartCreator.pendingNodes)||void 0===i?void 0:i.length)&&!(0,v.Uj)(a.flowChartCreator.pendingNodes,a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap(),a.getEditorUIOffsets())&&a.scrollToContent(a.flowChartCreator.pendingNodes,{animate:!0,duration:300,fitToContent:!0,canvasOffsets:a.getEditorUIOffsets()}))}if(e.altKey){var s=(0,v.vk)(a.scene.getNonDeletedElementsMap(),a.state);if(1===s.length&&r){e.preventDefault();var c=a.flowChartNavigator.exploreByDirection(s[0],a.scene.getNonDeletedElementsMap(),pd(e.key));if(c){a.setState((function(e){return{selectedElementIds:(0,v.xk)((0,l.default)({},c,!0),e)}}));var u=a.scene.getNonDeletedElementsMap().get(c);u&&!(0,v.Uj)([u],a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap(),a.getEditorUIOffsets())&&a.scrollToContent(u,{animate:!0,duration:300,canvasOffsets:a.getEditorUIOffsets()})}return}}}if(e[v.hg.CTRL_OR_CMD]&&e.key===v.hg.P&&!e.shiftKey&&!e.altKey)return a.setToast({message:Pi("commandPalette.shortcutHint",{shortcut:cu("commandPalette")})}),void e.preventDefault();if(e[v.hg.CTRL_OR_CMD]&&e.key.toLowerCase()===v.hg.V&&(bv=e.shiftKey,clearTimeout(yv),yv=window.setTimeout((function(){bv=!1}),100)),!e[v.hg.CTRL_OR_CMD]||!(0,v.ab)(e.target)||e.code!==v.gg.MINUS&&e.code!==v.gg.EQUAL){if(!((0,v.ab)(e.target)&&e.key!==v.hg.ESCAPE||(0,v.jg)(e.key)&&(0,v._a)(e.target)))if(e.key!==v.hg.QUESTION_MARK){if(e.key.toLowerCase()===v.hg.E&&e.shiftKey&&e[v.hg.CTRL_OR_CMD])return e.preventDefault(),void a.setState({openDialog:{name:"imageExport"}});if(e.key===v.hg.PAGE_UP||e.key===v.hg.PAGE_DOWN){var d=(e.shiftKey?a.state.width:a.state.height)/a.state.zoom.value;e.key===v.hg.PAGE_DOWN&&(d=-d),e.shiftKey?a.translateCanvas((function(e){return{scrollX:e.scrollX+d}})):a.translateCanvas((function(e){return{scrollY:e.scrollY+d}}))}if("elementLinkSelector"!==(null===(t=a.state.openDialog)||void 0===t?void 0:t.name)&&!a.actionManager.handleKeyDown(e)&&!a.state.viewModeEnabled){if(e[v.hg.CTRL_OR_CMD]&&a.state.isBindingEnabled&&a.setState({isBindingEnabled:!1}),(0,v.jg)(e.key)){var f=a.scene.getSelectedElements({selectedElementIds:a.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),h=f.find(v.ec),p=new Set;f.filter(v.ec).filter((function(e){var t=e.startBinding&&!f.some((function(t){var n;return t.id===(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)})),n=e.endBinding&&!f.some((function(t){var n;return t.id===(null===(n=e.endBinding)||void 0===n?void 0:n.elementId)}));return t||n})).forEach((function(e){return p.add(e.id)})),f=f.filter((function(e){return!p.has(e.id)}));var U=a.getEffectiveGridSize()&&(e.shiftKey?v.w:a.getEffectiveGridSize())||(e.shiftKey?v.v:v.w),m=0,g=0;e.key===v.hg.ARROW_LEFT?m=-U:e.key===v.hg.ARROW_RIGHT?m=U:e.key===v.hg.ARROW_UP?g=-U:e.key===v.hg.ARROW_DOWN&&(g=U),f.forEach((function(e){(0,v.Pj)(e,{x:e.x+m,y:e.y+g},!1),(0,v.Pg)(e,a.scene.getNonDeletedElementsMap(),{simultaneouslyUpdated:f})})),a.setState({suggestedBindings:(0,v.Kg)(f.filter((function(e){return e.id!==(null===h||void 0===h?void 0:h.id)||0!==U})),a.scene.getNonDeletedElementsMap(),a.state.zoom)}),a.scene.triggerUpdate(),e.preventDefault()}else if(e.key===v.hg.ENTER){var b=a.scene.getSelectedElements(a.state);if(1===b.length){var y=b[0];if(e[v.hg.CTRL_OR_CMD])(0,v.cc)(y)&&(!a.state.editingLinearElement||a.state.editingLinearElement.elementId!==b[0].id)&&(a.store.shouldCaptureIncrement(),(0,v.ec)(y)||a.setState({editingLinearElement:new v.pj(y)}));else{if((0,v._b)(y)||(0,v.Fj)(y)){var x;(0,v._b)(y)||(x=y);var w=(0,v.Bj)(y,a.state,a.scene.getNonDeletedElementsMap()),E=w.x,k=w.y;return a.startTextEditing({sceneX:E,sceneY:k,container:x}),void e.preventDefault()}(0,v.bc)(y)&&a.setState({editingFrame:y.id})}}}else if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&!a.state.newElement&&!a.state.selectionElement&&!a.state.selectedElementsAreBeingDragged){var S=(0,v.sg)(e.key);S?(a.state.activeTool.type!==S&&ho("toolbar",S,"keyboard (".concat(a.device.editor.isMobile?"mobile":"desktop",")")),"arrow"===S&&"arrow"===a.state.activeTool.type&&a.setState((function(e){return{currentItemArrowType:e.currentItemArrowType===v.Fa.sharp?v.Fa.round:e.currentItemArrowType===v.Fa.round?v.Fa.elbow:v.Fa.sharp}})),a.setActiveTool({type:S}),e.stopPropagation()):e.key===v.hg.Q&&(a.toggleLock("keyboard"),e.stopPropagation())}if(e.key===v.hg.SPACE&&0===Ev.pointers.size&&(fv=!0,(0,v.bd)(a.interactiveCanvas,v.z.GRAB),e.preventDefault()),(e.key===v.hg.G||e.key===v.hg.S)&&!e.altKey&&!e[v.hg.CTRL_OR_CMD]){var M=a.scene.getSelectedElements(a.state);if("selection"===a.state.activeTool.type&&!M.length)return;e.key===v.hg.G&&((0,v.Vi)(a.state.activeTool.type)||M.some((function(e){return(0,v.Vi)(e.type)})))&&(a.setState({openPopup:"elementBackground"}),e.stopPropagation()),e.key===v.hg.S&&(a.setState({openPopup:"elementStroke"}),e.stopPropagation())}if(!e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===v.hg.F){var C=a.scene.getSelectedElements(a.state);if("selection"===a.state.activeTool.type&&!C.length)return;("text"===a.state.activeTool.type||C.find((function(e){return(0,v._b)(e)||(0,v.zj)(e,a.scene.getNonDeletedElementsMap())})))&&(e.preventDefault(),a.setState({openPopup:"fontFamily"}))}if(e.key!==v.hg.K||e.altKey||e[v.hg.CTRL_OR_CMD]){e[v.hg.CTRL_OR_CMD]&&(e.key===v.hg.BACKSPACE||e.key===v.hg.DELETE)&&Mi.set(Cu,"clearCanvas");var I=e.key.toLocaleLowerCase(),j=I===v.hg.S&&e.shiftKey,T=e.key===v.hg.I||I===v.hg.G&&e.shiftKey;(j||T)&&a.openEyeDropper({type:j?"stroke":"background"})}else"laser"===a.state.activeTool.type?a.setActiveTool({type:"selection"}):a.setActiveTool({type:"laser"})}}else a.setState({openDialog:{name:"help"}})}else e.preventDefault()}))),(0,b.d)(a,"onKeyUp",cp((function(e){var t,n,r;if(e.key===v.hg.SPACE&&(a.state.viewModeEnabled||"elementLinkSelector"===(null===(t=a.state.openDialog)||void 0===t?void 0:t.name)?(0,v.bd)(a.interactiveCanvas,v.z.GRAB):"selection"===a.state.activeTool.type?(0,v.ad)(a.interactiveCanvas):((0,v.dd)(a.interactiveCanvas,a.state),a.setState({selectedElementIds:(0,v.xk)({},a.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),fv=!1),!e[v.hg.CTRL_OR_CMD]&&!a.state.isBindingEnabled&&a.setState({isBindingEnabled:!0}),(0,v.jg)(e.key)&&((0,v.Jg)(a.scene.getSelectedElements(a.state).filter(v.cc),a.scene.getNonDeletedElementsMap(),a.scene.getNonDeletedElements(),a.scene,(0,v.Fg)(a.state),null!==(n=null===(r=a.state.selectedLinearElement)||void 0===r?void 0:r.selectedPointsIndices)&&void 0!==n?n:[],a.state.zoom),a.setState({suggestedBindings:[]})),e.altKey||a.flowChartNavigator.isExploring&&(a.flowChartNavigator.clear(),a.syncActionResult({captureUpdate:v.Wg.IMMEDIATELY})),!e[v.hg.CTRL_OR_CMD]&&a.flowChartCreator.isCreatingChart){var i,o;(null===(i=a.flowChartCreator.pendingNodes)||void 0===i?void 0:i.length)&&a.scene.insertElements(a.flowChartCreator.pendingNodes);var s=null===(o=a.flowChartCreator.pendingNodes)||void 0===o?void 0:o[0];s&&(a.setState((function(e){return{selectedElementIds:(0,v.xk)((0,l.default)({},s.id,!0),e)}})),(0,v.Uj)([s],a.canvas.width/window.devicePixelRatio,a.canvas.height/window.devicePixelRatio,{offsetLeft:a.state.offsetLeft,offsetTop:a.state.offsetTop,scrollX:a.state.scrollX,scrollY:a.state.scrollY,zoom:a.state.zoom},a.scene.getNonDeletedElementsMap(),a.getEditorUIOffsets())||a.scrollToContent(s,{animate:!0,duration:300,canvasOffsets:a.getEditorUIOffsets()})),a.flowChartCreator.clear(),a.syncActionResult({captureUpdate:v.Wg.IMMEDIATELY})}}))),(0,b.d)(a,"isToolSupported",(function(e){var t;return!1!==(null===(t=a.props.UIOptions.tools)||void 0===t?void 0:t[e])})),(0,b.d)(a,"setActiveTool",(function(e){var t;if(a.isToolSupported(e.type)){var n=(0,v.jb)(a.state,e);"hand"===n.type?(0,v.bd)(a.interactiveCanvas,v.z.GRAB):fv||(0,v.dd)(a.interactiveCanvas,(0,s.default)((0,s.default)({},a.state),{},{activeTool:n})),(0,v.Za)(document.activeElement)&&a.focusContainer(),(0,v.fc)(n.type)||a.setState({suggestedBindings:[]}),"image"===n.type&&a.onImageAction({insertOnCanvasDirectly:null!==(t="image"===e.type&&e.insertOnCanvasDirectly)&&void 0!==t&&t}),a.setState((function(e){var t={snapLines:e.snapLines.length?[]:e.snapLines,originSnapOffset:null,activeEmbeddable:null};return"freedraw"===n.type&&a.store.shouldCaptureIncrement(),"selection"!==n.type?(0,s.default)((0,s.default)({},e),{},{activeTool:n,selectedElementIds:(0,v.xk)({},e),selectedGroupIds:(0,v.xk)({},e),editingGroupId:null,multiElement:null},t):(0,s.default)((0,s.default)({},e),{},{activeTool:n},t)}))}else console.warn('"'.concat(e.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(e.type,'"'))})),(0,b.d)(a,"setOpenDialog",(function(e){a.setState({openDialog:e})})),(0,b.d)(a,"setCursor",(function(e){(0,v.bd)(a.interactiveCanvas,e)})),(0,b.d)(a,"resetCursor",(function(){(0,v.ad)(a.interactiveCanvas)})),(0,b.d)(a,"isTouchScreenMultiTouchGesture",(function(){return Ev.pointers.size>=2})),(0,b.d)(a,"getName",(function(){return a.state.name||a.props.name||"".concat(Pi("labels.untitled"),"-").concat((0,v.Xa)())})),(0,b.d)(a,"onGestureStart",cp((function(e){e.preventDefault(),a.isTouchScreenMultiTouchGesture()&&a.setState({selectedElementIds:(0,v.xk)({},a.state),activeEmbeddable:null}),Ev.initialScale=a.state.zoom.value}))),(0,b.d)(a,"onGestureChange",cp((function(e){if(e.preventDefault(),!a.isTouchScreenMultiTouchGesture()){var t=Ev.initialScale;t&&a.setState((function(n){return(0,s.default)({},Sl({viewportX:a.lastViewportPosition.x,viewportY:a.lastViewportPosition.y,nextZoom:(0,v.Ak)(t*e.scale)},n))}))}}))),(0,b.d)(a,"onGestureEnd",cp((function(e){e.preventDefault(),a.isTouchScreenMultiTouchGesture()&&a.setState({previousSelectedElementIds:{},selectedElementIds:(0,v.xk)(a.state.previousSelectedElementIds,a.state)}),Ev.initialScale=null}))),(0,b.d)(a,"startTextEditing",(function(e){var t,n,r,i,o=e.sceneX,l=e.sceneY,s=e.insertAtParentCenter,c=void 0===s||s,u=e.container,d=e.autoEdit,f=void 0===d||d,h=!1,p=c&&a.getTextWysiwygSnappedToCenterPosition(o,l,a.state,u);u&&p&&((0,v.zj)(u,a.scene.getNonDeletedElementsMap())||(h=!0));var U=null,m=a.scene.getSelectedElements(a.state),g=(null===(t=U=1===m.length?(0,v._b)(m[0])?m[0]:u?(0,v.zj)(m[0],a.scene.getNonDeletedElementsMap()):a.getTextElementAtPosition(o,l):a.getTextElementAtPosition(o,l))||void 0===t?void 0:t.fontFamily)||a.state.currentItemFontFamily,b=(null===(n=U)||void 0===n?void 0:n.lineHeight)||(0,v.Rf)(g),y=a.state.currentItemFontSize;if(!U&&h&&u&&!(0,v.dc)(u)){var x=(0,v.wc)((0,v.cb)({fontSize:y,fontFamily:g}),b),w=(0,v.Bc)(y,b),E=Math.max(u.height,w),k=Math.max(u.width,x);(0,v.Pj)(u,{height:E,width:k}),o=u.x+k/2,l=u.y+E/2,p&&(p=a.getTextWysiwygSnappedToCenterPosition(o,l,a.state,u))}var S=a.getTopLayerFrameAtSceneCoords({x:o,y:l}),M=U||(0,v.Xf)({x:p?p.elementCenterX:o,y:p?p.elementCenterY:l,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,text:"",fontSize:y,fontFamily:g,textAlign:p?"center":a.state.currentItemTextAlign,verticalAlign:p?v.sa.MIDDLE:v.L,containerId:h?null===u||void 0===u?void 0:u.id:void 0,groupIds:null!==(r=null===u||void 0===u?void 0:u.groupIds)&&void 0!==r?r:[],lineHeight:b,angle:null!==(i=null===u||void 0===u?void 0:u.angle)&&void 0!==i?i:0,frameId:S?S.id:null});if(!U&&h&&u&&(0,v.Pj)(u,{boundElements:(u.boundElements||[]).concat({type:"text",id:M.id})}),a.setState({editingTextElement:M}),!U)if(u&&h){var C=a.scene.getElementIndex(u.id);a.scene.insertElementAtIndex(M,C+1)}else a.scene.insertElement(M);f||U||u?a.handleTextWysiwyg(M,{isExistingElement:!!U}):a.setState({newElement:M,multiElement:null})})),(0,b.d)(a,"startImageCropping",(function(e){a.store.shouldCaptureIncrement(),a.setState({croppingElementId:e.id})})),(0,b.d)(a,"finishImageCropping",(function(){a.state.croppingElementId&&(a.store.shouldCaptureIncrement(),a.setState({croppingElementId:null}))})),(0,b.d)(a,"handleCanvasDoubleClick",(function(e){if(!a.state.multiElement&&"selection"===a.state.activeTool.type){var t=a.scene.getSelectedElements(a.state),n=(0,v.lb)(e,a.state),r=n.x,i=n.y;if(1===t.length&&(0,v.cc)(t[0])){if(!(!e[v.hg.CTRL_OR_CMD]||a.state.editingLinearElement&&a.state.editingLinearElement.elementId===t[0].id||(0,v.ec)(t[0])))return a.store.shouldCaptureIncrement(),void a.setState({editingLinearElement:new v.pj(t[0])});if(a.state.selectedLinearElement&&(0,v.ec)(t[0])){var o=v.pj.getSegmentMidpointHitCoords(a.state.selectedLinearElement,{x:r,y:i},a.state,a.scene.getNonDeletedElementsMap()),c=o?v.pj.getSegmentMidPointIndex(a.state.selectedLinearElement,a.state,o,a.scene.getNonDeletedElementsMap()):-1;if(c&&c>-1){a.store.shouldCaptureIncrement(),v.pj.deleteFixedSegment(t[0],c);var u=v.pj.getSegmentMidpointHitCoords((0,s.default)((0,s.default)({},a.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:null}),{x:r,y:i},a.state,a.scene.getNonDeletedElementsMap()),d=u?v.pj.getSegmentMidPointIndex(a.state.selectedLinearElement,a.state,u,a.scene.getNonDeletedElementsMap()):null;return void a.setState({selectedLinearElement:(0,s.default)((0,s.default)({},a.state.selectedLinearElement),{},{pointerDownState:(0,s.default)((0,s.default)({},a.state.selectedLinearElement.pointerDownState),{},{segmentMidpoint:{index:d,value:o,added:!1}}),segmentMidPointHoveredCoords:u})})}}}if(1===t.length&&(0,v.Wb)(t[0]))a.startImageCropping(t[0]);else{if((0,v.ad)(a.interactiveCanvas),(0,v.Mc)(a.state).length>0){var f=a.getElementAtPosition(r,i),h=f&&(0,v.Rc)(f,a.state.selectedGroupIds);if(h)return a.store.shouldCaptureIncrement(),void a.setState((function(e){return(0,s.default)((0,s.default)({},e),(0,v.Jc)({editingGroupId:h,selectedElementIds:(0,l.default)({},f.id,!0)},a.scene.getNonDeletedElements(),e,a))}))}if((0,v.ad)(a.interactiveCanvas),!e[v.hg.CTRL_OR_CMD]&&!a.state.viewModeEnabled){var p=a.getElementAtPosition(r,i);if((0,v.Zb)(p))return void a.setState({activeEmbeddable:{element:p,state:"active"}});var U=a.getTextBindableContainerAtPosition(r,i);if(U&&((0,v.mc)(U)||!(0,v.sb)(U.backgroundColor)||(0,v.ng)({x:r,y:i,element:U,shape:(0,v.tg)(U,a.scene.getNonDeletedElementsMap()),threshold:a.getElementHitThreshold()}))){var m=(0,v.Bj)(U,a.state,a.scene.getNonDeletedElementsMap());r=m.x,i=m.y}a.startTextEditing({sceneX:r,sceneY:i,insertAtParentCenter:!e.altKey,container:U})}}}})),(0,b.d)(a,"getElementLinkAtPosition",(function(e,t){for(var n=a.scene.getNonDeletedElements(),r=-1,i=n.length-1;i>=0;i--){var o=n[i];if(t&&o.id===t.id&&(r=i),o.link&&i>=r&&(0,v.Uh)(o,a.scene.getNonDeletedElementsMap(),a.state,(0,v.Ua)(e.x,e.y),a.device.editor.isMobile))return o}})),(0,b.d)(a,"redirectToLink",(function(e,t){var n=(0,v.Wa)((0,v.Ua)(a.lastPointerDownEvent.clientX,a.lastPointerDownEvent.clientY),(0,v.Ua)(a.lastPointerUpEvent.clientX,a.lastPointerUpEvent.clientY));if(a.hitLinkElement&&!(n>v.t)){var r=(0,v.lb)(a.lastPointerDownEvent,a.state),i=a.scene.getNonDeletedElementsMap(),o=(0,v.Uh)(a.hitLinkElement,i,a.state,(0,v.Ua)(r.x,r.y),a.device.editor.isMobile),l=(0,v.lb)(a.lastPointerUpEvent,a.state),c=(0,v.Uh)(a.hitLinkElement,i,a.state,(0,v.Ua)(l.x,l.y),a.device.editor.isMobile);if(o&&c){zs();var u,d,f=a.hitLinkElement.link;if(f)if(f=(0,v.Xc)(f),a.props.onLinkOpen&&(d=(0,v.Cb)("excalidraw-link",e.nativeEvent),a.props.onLinkOpen((0,s.default)((0,s.default)({},a.hitLinkElement),{},{link:f}),d)),null===(u=d)||void 0===u||!u.defaultPrevented){var h=(0,v.Yc)(f)?"_self":"_blank",p=window.open(void 0,h);p&&(p.opener=null,p.location=f)}}}})),(0,b.d)(a,"getTopLayerFrameAtSceneCoords",(function(e){var t=a.scene.getNonDeletedElementsMap(),n=a.scene.getNonDeletedFramesLikes().filter((function(n){return(0,v.zi)(e,n,t)}));return n.length?n[n.length-1]:null})),(0,b.d)(a,"handleCanvasPointerMove",(function(e){var t,n,r,i,o;a.savePointer(e.clientX,e.clientY,a.state.cursorButton),a.lastPointerMoveEvent=e.nativeEvent,Ev.pointers.has(e.pointerId)&&Ev.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY});var s=Ev.initialScale;if(2===Ev.pointers.size&&Ev.lastCenter&&s&&Ev.initialDistance){var c=qu(Ev.pointers),u=c.x-Ev.lastCenter.x,f=c.y-Ev.lastCenter.y;Ev.lastCenter=c;var h=$u(Array.from(Ev.pointers.values())),U="freedraw"===a.state.activeTool.type&&a.state.penMode?1:h/Ev.initialDistance,m=U?(0,v.Ak)(s*U):a.state.zoom.value;a.setState((function(e){var t=Sl({viewportX:c.x,viewportY:c.y,nextZoom:m},e);a.translateCanvas({zoom:t.zoom,scrollX:t.scrollX+u/m*2,scrollY:t.scrollY+f/m*2,shouldCacheIgnoreZoom:!0})})),a.resetShouldCacheIgnoreZoomDebounced()}else Ev.lastCenter=Ev.initialDistance=Ev.initialScale=null;if(!(fv||hv||pv||(0,v.Hc)(a.state))){var g=Cd(vv,e.clientX-a.state.offsetLeft,e.clientY-a.state.offsetTop).isOverEither;!a.state.newElement&&!a.state.selectionElement&&!a.state.selectedElementsAreBeingDragged&&!a.state.multiElement&&(g?(0,v.ad)(a.interactiveCanvas):(0,v.dd)(a.interactiveCanvas,a.state));var b=(0,v.lb)(e,a.state),y=b.x,x=b.y;if(!a.state.newElement&&(0,v.nj)(a.state.activeTool.type)){var w=(0,v.mj)(a.scene.getNonDeletedElements(),a,{x:y,y:x},e,a.scene.getNonDeletedElementsMap()),E=w.originOffset,k=w.snapLines;a.setState((function(e){var t=(0,v.Ob)(e.snapLines,k),n=e.originSnapOffset?(0,v.Ob)(e.originSnapOffset,E):E;return e.snapLines===t&&e.originSnapOffset===n?null:{snapLines:t,originSnapOffset:n}}))}else!a.state.newElement&&!a.state.selectedElementsAreBeingDragged&&!a.state.selectionElement&&a.setState((function(e){return e.snapLines.length?{snapLines:[]}:null}));if(a.state.editingLinearElement&&!a.state.editingLinearElement.isDragging){var S=v.pj.handlePointerMove(e,y,x,a,a.scene.getNonDeletedElementsMap());S&&S!==a.state.editingLinearElement&&(0,oe.flushSync)((function(){a.setState({editingLinearElement:S})})),null!=(null===S||void 0===S?void 0:S.lastUncommittedPoint)?a.maybeSuggestBindingAtCursor(b,S.elbowed):(0,oe.flushSync)((function(){a.setState({suggestedBindings:[]})}))}if((0,v.hc)(a.state.activeTool.type)){var M=a.state.newElement;(0,v.gc)(M,!1)?a.maybeSuggestBindingsForLinearElementAtCoords(M,[b],a.state.startBoundElement):a.maybeSuggestBindingAtCursor(b,!1)}if(a.state.multiElement){var C=a.state.multiElement,I=C.x,j=C.y,T=C.points,A=C.lastCommittedPoint,D=T[T.length-1];if((0,v.dd)(a.interactiveCanvas,a.state),D===A)(0,v.Wa)((0,v.Ua)(y-I,x-j),D)>=v.u?(0,v.Pj)(C,{points:[].concat((0,p.default)(T),[(0,v.Ua)(y-I,x-j)])},!1):(0,v.bd)(a.interactiveCanvas,v.z.POINTER);else if(T.length>2&&A&&(0,v.Wa)((0,v.Ua)(y-I,x-j),A)<v.u)(0,v.bd)(a.interactiveCanvas,v.z.POINTER),(0,v.Pj)(C,{points:T.slice(0,-1)},!1);else{var _,L,R=(0,v.oj)(y,x,e[v.hg.CTRL_OR_CMD]||(0,v.ec)(C)?null:a.getEffectiveGridSize()),P=(0,d.default)(R,2),N=P[0],F=P[1],O=null!==(_=null===C||void 0===C?void 0:C.lastCommittedPoint)&&void 0!==_?_:[0,0],z=(0,d.default)(O,2),B=z[0],H=z[1],W=N-I-B,X=F-j-H;(0,v.mg)(e)&&(W=(L=(0,v.Vj)(B+I,H+j,N,F)).width,X=L.height),(0,v.xg)(T,a.state.zoom.value)&&(0,v.bd)(a.interactiveCanvas,v.z.POINTER),(0,v.Pj)(C,{points:[].concat((0,p.default)(T.slice(0,-1)),[(0,v.Ua)(B+W,H+X)])},!1,{isDragging:!0}),a.triggerRender(!1)}}else if(!(e.buttons||"selection"!==a.state.activeTool.type&&"text"!==a.state.activeTool.type&&"eraser"!==a.state.activeTool.type)){var V,G=a.scene.getNonDeletedElements(),Y=a.scene.getSelectedElements(a.state);if(1!==Y.length||g||a.state.editingLinearElement){if(Y.length>1&&!g&&"elementLinkSelector"!==(null===(t=a.state.openDialog)||void 0===t?void 0:t.name)){var Z=(0,v.ak)((0,v.bj)(Y),y,x,a.state.zoom,e.pointerType,a.device);if(Z)return void(0,v.bd)(a.interactiveCanvas,(0,v.bk)({transformHandleType:Z}))}}else if(a.state.selectedLinearElement&&a.handleHoverSelectedLinearElement(a.state.selectedLinearElement,y,x),(!a.state.selectedLinearElement||-1===a.state.selectedLinearElement.hoverPointIndex)&&"elementLinkSelector"!==(null===(V=a.state.openDialog)||void 0===V?void 0:V.name)&&(1!==Y.length||!(0,v.ec)(Y[0]))){var K=(0,v.$j)(G,a.state,y,x,a.state.zoom,e.pointerType,a.scene.getNonDeletedElementsMap(),a.device);if(K&&K.transformHandleType)return void(0,v.bd)(a.interactiveCanvas,(0,v.bk)(K))}var q=a.getElementAtPosition(b.x,b.y);a.hitLinkElement=a.getElementLinkAtPosition(b,q),!(0,v.Gc)(a.state)&&(a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id]?((0,v.bd)(a.interactiveCanvas,v.z.POINTER),function(e,t,n){Fs&&clearTimeout(Fs),Fs=window.setTimeout((function(){return Os(e,t,n)}),v.ca)}(a.hitLinkElement,a.state,a.scene.getNonDeletedElementsMap())):(zs(),q&&(q.link||(0,v.Xb)(q))&&a.state.selectedElementIds[q.id]&&!a.state.contextMenu&&!a.state.showHyperlinkPopup?a.setState({showHyperlinkPopup:"info"}):"text"===a.state.activeTool.type?(0,v.bd)(a.interactiveCanvas,(0,v._b)(q)?v.z.TEXT:v.z.CROSSHAIR):a.state.viewModeEnabled?(0,v.bd)(a.interactiveCanvas,v.z.GRAB):"elementLinkSelector"===(null===(n=a.state.openDialog)||void 0===n?void 0:n.name)||g?(0,v.bd)(a.interactiveCanvas,v.z.AUTO):a.state.selectedLinearElement?a.handleHoverSelectedLinearElement(a.state.selectedLinearElement,y,x):e[v.hg.CTRL_OR_CMD]?(0,v.bd)(a.interactiveCanvas,v.z.AUTO):(q||a.isHittingCommonBoundingBoxOfSelectedElements(b,Y))&&!(null!==q&&void 0!==q&&q.locked)&&(q&&(0,v.Zb)(q)&&a.isIframeLikeElementCenter(q,e,y,x)?((0,v.bd)(a.interactiveCanvas,v.z.POINTER),a.setState({activeEmbeddable:{element:q,state:"hover"}})):(!q||!(0,v.ec)(q))&&((0,v.bd)(a.interactiveCanvas,v.z.MOVE),"hover"===(null===(r=a.state.activeEmbeddable)||void 0===r?void 0:r.state)&&a.setState({activeEmbeddable:null})))),"elementLinkSelector"===(null===(i=a.state.openDialog)||void 0===i?void 0:i.name)&&q?a.setState((function(e){return{hoveredElementIds:(0,v.Ob)(e.hoveredElementIds,(0,v.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:(0,l.default)({},q.id,!0)},a.scene.getNonDeletedElements(),e,a).selectedElementIds)}})):"elementLinkSelector"===(null===(o=a.state.openDialog)||void 0===o?void 0:o.name)&&!q&&a.setState((function(e){return{hoveredElementIds:(0,v.Ob)(e.hoveredElementIds,{})}})))}}})),(0,b.d)(a,"handleEraser",(function(e,t,n){a.eraserTrail.addPointToPath(n.x,n.y);for(var r=!1,i=new Set,o=a.scene.getNonDeletedElements(),l=function(t){var n,l=(0,c.default)(t);try{for(l.s();!(n=l.n()).done;){var s,u=n.value;if(u.locked)return;if(e.altKey?a.elementsPendingErasure.delete(u.id)&&(r=!0):a.elementsPendingErasure.has(u.id)||(r=!0,a.elementsPendingErasure.add(u.id)),r&&null!==(s=u.groupIds)&&void 0!==s&&s.length){var d=u.groupIds.at(-1);if(!i.has(d)){i.add(d);var f,h=(0,v.Qc)(o,d),p=(0,c.default)(h);try{for(p.s();!(f=p.n()).done;){var U=f.value;e.altKey?a.elementsPendingErasure.delete(U.id):a.elementsPendingErasure.add(U.id)}}catch(m){p.e(m)}finally{p.f()}}}}}catch(m){l.e(m)}finally{l.f()}},u=(0,v.Wa)((0,v.Ua)(t.lastCoords.x,t.lastCoords.y),(0,v.Ua)(n.x,n.y)),d=a.getElementHitThreshold(),f=(0,s.default)({},t.lastCoords),h=0;h<=u;){if(l(a.getElementsAtPosition(f.x,f.y)),h===u)break;var p=(h=Math.min(h+d,u))/u,U=(1-p)*f.x+p*n.x,m=(1-p)*f.y+p*n.y;f.x=U,f.y=m}if(t.lastCoords.x=n.x,t.lastCoords.y=n.y,r){var g,b=(0,c.default)(a.scene.getNonDeletedElements());try{for(b.s();!(g=b.n()).done;){var y=g.value;(0,v.nc)(y)&&(a.elementsPendingErasure.has(y.id)||a.elementsPendingErasure.has(y.containerId))&&(e.altKey?(a.elementsPendingErasure.delete(y.id),a.elementsPendingErasure.delete(y.containerId)):(a.elementsPendingErasure.add(y.id),a.elementsPendingErasure.add(y.containerId)))}}catch(x){b.e(x)}finally{b.f()}a.elementsPendingErasure=new Set(a.elementsPendingErasure),a.triggerRender()}})),(0,b.d)(a,"handleTouchMove",(function(e){mv=!0})),(0,b.d)(a,"handleCanvasPointerDown",(function(e){var t,n,r=e.target;if(r.setPointerCapture&&r.setPointerCapture(e.pointerId),a.maybeCleanupAfterMissingPointerUp(e.nativeEvent),a.maybeUnfollowRemoteUser(),a.state.searchMatches&&(a.setState((function(e){return{searchMatches:e.searchMatches.map((function(e){return(0,s.default)((0,s.default)({},e),{},{focus:!1})}))}})),Mi.set(_f,null)),a.state.contextMenu&&a.setState({contextMenu:null}),a.state.snapLines&&a.setAppState({snapLines:[]}),a.updateGestureOnPointerDown(e),"touch"===e.pointerType&&a.state.newElement&&"freedraw"===a.state.newElement.type){var i,o=a.state.newElement;a.updateScene((0,s.default)((0,s.default)({},o.points.length<10?{elements:a.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==o.id}))}:{}),{},{appState:{newElement:null,editingTextElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,v.xk)(Object.keys(a.state.selectedElementIds).filter((function(e){return e!==o.id})).reduce((function(e,t){return e[t]=a.state.selectedElementIds[t],e}),{}),a.state)},captureUpdate:"elementLinkSelector"===(null===(i=a.state.openDialog)||void 0===i?void 0:i.name)?v.Wg.EVENTUALLY:v.Wg.NEVER}))}else{var l=document.getSelection();if(null!==l&&void 0!==l&&l.anchorNode&&l.removeAllRanges(),a.maybeOpenContextMenuAfterPointerDownOnTouchDevices(e),!a.state.penDetected&&"pen"===e.pointerType&&a.setState((function(e){return{penMode:!0,penDetected:!0}})),!a.device.isTouchScreen&&["pen","touch"].includes(e.pointerType)&&(a.device=(0,v.Db)(a.device,{isTouchScreen:!0})),!hv&&(a.lastPointerDownEvent=e,!a.handleCanvasPanUsingWheelOrSpaceDrag(e)))if(a.setState({lastPointerDownWith:e.pointerType,cursorButton:"down"}),a.savePointer(e.clientX,e.clientY,"down"),e.button!==v.A.ERASER||a.state.activeTool.type===v.Aa.eraser){if(!(e.button!==v.A.MAIN&&e.button!==v.A.TOUCH&&e.button!==v.A.ERASER||Ev.pointers.size>1)){var c=a.initialPointerDownState(e);if(a.setState({selectedElementsAreBeingDragged:!1}),!(a.handleDraggingScrollBar(e,c)||(a.clearSelectionIfNotUsingSelection(),a.updateBindingEnabledOnPointerMove(e),a.handleSelectionOnPointerDown(e,c))||a.state.penMode&&"touch"===e.pointerType&&"selection"!==a.state.activeTool.type&&"text"!==a.state.activeTool.type&&"image"!==a.state.activeTool.type)){if("text"===a.state.activeTool.type)a.handleTextOnPointerDown(e,c);else if("arrow"===a.state.activeTool.type||"line"===a.state.activeTool.type)a.handleLinearElementOnPointerDown(e,a.state.activeTool.type,c);else if("image"===a.state.activeTool.type){(0,v.bd)(a.interactiveCanvas,v.z.CROSSHAIR);var u=a.state.pendingImageElementId&&a.scene.getElement(a.state.pendingImageElementId);if(!u)return;a.setState({newElement:u,pendingImageElementId:null,multiElement:null});var d=(0,v.lb)(e,a.state),f=d.x,h=d.y,p=a.getTopLayerFrameAtSceneCoords({x:f,y:h});(0,v.Pj)(u,{x:f,y:h,frameId:p?p.id:null})}else"freedraw"===a.state.activeTool.type?a.handleFreeDrawElementOnPointerDown(e,a.state.activeTool.type,c):"custom"===a.state.activeTool.type?(0,v.dd)(a.interactiveCanvas,a.state):a.state.activeTool.type===v.Aa.frame||a.state.activeTool.type===v.Aa.magicframe?a.createFrameElementOnPointerDown(c,a.state.activeTool.type):"laser"===a.state.activeTool.type?a.laserTrails.startPath(c.lastCoords.x,c.lastCoords.y):"eraser"!==a.state.activeTool.type&&"hand"!==a.state.activeTool.type&&a.createGenericElementOnPointerDown(a.state.activeTool.type,c);null!==(t=a.props)&&void 0!==t&&null!==(n=t.onPointerDown)&&void 0!==n&&n.call(t,a.state.activeTool,c),a.onPointerDownEmitter.trigger(a.state.activeTool,c,e),"eraser"===a.state.activeTool.type&&a.eraserTrail.startPath(c.lastCoords.x,c.lastCoords.y);var U=a.onPointerMoveFromPointerDownHandler(c),m=a.onPointerUpFromPointerDownHandler(c),g=a.onKeyDownFromPointerDownHandler(c),b=a.onKeyUpFromPointerDownHandler(c);a.missingPointerEventCleanupEmitter.once((function(t){return m(t||e.nativeEvent)})),(!a.state.viewModeEnabled||"laser"===a.state.activeTool.type)&&(window.addEventListener("pointermove",U),window.addEventListener("pointerup",m),window.addEventListener("keydown",g),window.addEventListener("keyup",b),c.eventListeners.onMove=U,c.eventListeners.onUp=m,c.eventListeners.onKeyUp=b,c.eventListeners.onKeyDown=g)}}}else a.setState({activeTool:(0,v.jb)(a.state,{type:v.Aa.eraser,lastActiveToolBeforeEraser:a.state.activeTool})},(function(){a.handleCanvasPointerDown(e);var t,n=function(){var e;r(),null!==(e=t)&&void 0!==e&&e(),(0,v.Gc)(a.state)&&a.setState({activeTool:(0,v.jb)(a.state,(0,s.default)((0,s.default)({},a.state.activeTool.lastActiveTool||{type:v.Aa.selection}),{},{lastActiveToolBeforeEraser:null}))})},r=(0,v.Pb)(window,"pointerup",n,{once:!0});requestAnimationFrame((function(){t=a.missingPointerEventCleanupEmitter.once(n)}))}))}})),(0,b.d)(a,"handleCanvasPointerUp",(function(e){var t,n;a.removePointer(e),a.lastPointerUpEvent=e;var r=(0,v.lb)({clientX:e.clientX,clientY:e.clientY},a.state),i=e.timeStamp-(null!==(t=null===(n=a.lastPointerDownEvent)||void 0===n?void 0:n.timeStamp)&&void 0!==t?t:0);if(a.device.editor.isMobile&&i<300){var o=a.getElementAtPosition(r.x,r.y);if((0,v.Zb)(o)&&a.isIframeLikeElementCenter(o,e,r.x,r.y))return void a.handleEmbeddableCenterClick(o)}if(a.device.isTouchScreen){var l=a.getElementAtPosition(r.x,r.y);a.hitLinkElement=a.getElementLinkAtPosition(r,l)}a.hitLinkElement&&!a.state.selectedElementIds[a.hitLinkElement.id]?i<300&&(0,v.Zb)(a.hitLinkElement)&&!(0,v.Th)(a.hitLinkElement,a.scene.getNonDeletedElementsMap(),a.state,(0,v.Ua)(r.x,r.y))?a.handleEmbeddableCenterClick(a.hitLinkElement):a.redirectToLink(e,a.device.isTouchScreen):a.state.viewModeEnabled&&a.setState({activeEmbeddable:null,selectedElementIds:{}})})),(0,b.d)(a,"maybeOpenContextMenuAfterPointerDownOnTouchDevices",(function(e){"touch"===e.pointerType&&(mv=!1,Uv?mv=!0:Uv=window.setTimeout((function(){Uv=0,mv||a.handleCanvasContextMenu(e)}),v.Z))})),(0,b.d)(a,"resetContextMenuTimer",(function(){clearTimeout(Uv),Uv=0,mv=!1})),(0,b.d)(a,"maybeCleanupAfterMissingPointerUp",(function(e){var t;null!==(t=wv)&&void 0!==t&&t(),a.missingPointerEventCleanupEmitter.trigger(e).clear()})),(0,b.d)(a,"handleCanvasPanUsingWheelOrSpaceDrag",(function(e){if(!(Ev.pointers.size<=1&&(e.button===v.A.WHEEL||e.button===v.A.MAIN&&fv||(0,v.Hc)(a.state)||a.state.viewModeEnabled)))return!1;hv=!0,a.focusContainer(),a.state.editingTextElement||e.preventDefault();var t=!1,n=void 0!==typeof window&&/Linux/.test(window.navigator.platform);(0,v.bd)(a.interactiveCanvas,v.z.GRABBING);var r=e.clientX,i=e.clientY,o=up((function(e){var o=r-e.clientX,l=i-e.clientY;if(r=e.clientX,i=e.clientY,n&&!t&&(Math.abs(o)>1||Math.abs(l)>1)){t=!0;var s=function(e){document.body.removeEventListener("paste",s),e.stopPropagation()},c=function(){setTimeout((function(){document.body.removeEventListener("paste",s),window.removeEventListener("pointerup",c)}),100)};document.body.addEventListener("paste",s),window.addEventListener("pointerup",c)}a.translateCanvas({scrollX:a.state.scrollX-o/a.state.zoom.value,scrollY:a.state.scrollY-l/a.state.zoom.value})})),l=cp(wv=function(){wv=null,hv=!1,fv||(a.state.viewModeEnabled?(0,v.bd)(a.interactiveCanvas,v.z.GRAB):(0,v.dd)(a.interactiveCanvas,a.state)),a.setState({cursorButton:"up"}),a.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),o.flush()});return window.addEventListener("blur",l),window.addEventListener("pointermove",o,{passive:!0}),window.addEventListener("pointerup",l),!0})),(0,b.d)(a,"clearSelectionIfNotUsingSelection",(function(){"selection"!==a.state.activeTool.type&&a.setState({selectedElementIds:(0,v.xk)({},a.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})})),(0,b.d)(a,"handleSelectionOnPointerDown",(function(e,t){if("selection"===a.state.activeTool.type){var n=a.scene.getNonDeletedElements(),r=a.scene.getNonDeletedElementsMap(),i=a.scene.getSelectedElements(a.state);if(1!==i.length||a.state.editingLinearElement||(0,v.ec)(i[0])||a.state.selectedLinearElement&&-1!==a.state.selectedLinearElement.hoverPointIndex)i.length>1&&(t.resize.handleType=(0,v.ak)((0,v.bj)(i),t.origin.x,t.origin.y,a.state.zoom,e.pointerType,a.device));else{var o=(0,v.$j)(n,a.state,t.origin.x,t.origin.y,a.state.zoom,e.pointerType,a.scene.getNonDeletedElementsMap(),a.device);null!=o&&("rotation"===o.transformHandleType?(a.setState({resizingElement:o.element}),t.resize.handleType=o.transformHandleType):(a.state.croppingElementId||a.setState({resizingElement:o.element}),t.resize.handleType=o.transformHandleType))}if(t.resize.handleType)t.resize.isResizing=!0,t.resize.offset=(0,v.ob)((0,v.ek)(t.resize.handleType,i,r,t.origin.x,t.origin.y)),1===i.length&&(0,v.cc)(i[0])&&2===i[0].points.length&&(t.resize.arrowDirection=(0,v.fk)(t.resize.handleType,i[0]));else{var c,u;if(a.state.selectedLinearElement){var d=a.state.editingLinearElement||a.state.selectedLinearElement,f=v.pj.handlePointerDown(e,a,a.store,t.origin,d,a.scene);if(f.hitElement&&(t.hit.element=f.hitElement),f.linearElementEditor&&(a.setState({selectedLinearElement:f.linearElementEditor}),a.state.editingLinearElement&&a.setState({editingLinearElement:f.linearElementEditor})),f.didAddPoint)return!0}if(t.hit.element=null!==(c=t.hit.element)&&void 0!==c?c:a.getElementAtPosition(t.origin.x,t.origin.y),a.hitLinkElement=a.getElementLinkAtPosition(t.origin,t.hit.element),a.hitLinkElement)return!0;if(a.state.croppingElementId&&(null===(u=t.hit.element)||void 0===u?void 0:u.id)!==a.state.croppingElementId&&a.finishImageCropping(),t.hit.element&&a.getElementLinkAtPosition({x:t.origin.x,y:t.origin.y},t.hit.element))return!1;t.hit.allHitElements=a.getElementsAtPosition(t.origin.x,t.origin.y);var h=t.hit.element,p=t.hit.allHitElements.some((function(e){return a.isASelectedElement(e)}));if((null===h||!p)&&!e.shiftKey&&!t.hit.hasHitCommonBoundingBoxOfSelectedElements&&a.clearSelection(h),a.state.editingLinearElement)a.setState({selectedElementIds:(0,v.xk)((0,l.default)({},a.state.editingLinearElement.elementId,!0),a.state)});else if(null!=h){if(e[v.hg.CTRL_OR_CMD])return a.state.selectedElementIds[h.id]||(t.hit.wasAddedToSelection=!0),a.setState((function(e){return(0,s.default)((0,s.default)({},(0,v.Oc)(e,h)),{},{previousSelectedElementIds:a.state.selectedElementIds})})),!1;a.state.selectedElementIds[h.id]||(a.state.editingGroupId&&!(0,v.Pc)(h,a.state.editingGroupId)&&a.setState({selectedElementIds:(0,v.xk)({},a.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),!p&&!t.hit.hasHitCommonBoundingBoxOfSelectedElements&&(a.setState((function(e){var t,n=(0,s.default)((0,s.default)({},e.selectedElementIds),{},(0,l.default)({},h.id,!0)),r=[];if(Object.keys(e.selectedElementIds).forEach((function(e){var t=a.scene.getElement(e);t&&r.push(t)})),(0,v.bc)(h))(0,v.Bi)(r,h.id).forEach((function(e){delete n[e.id]}));else if(h.frameId)n[h.frameId]&&delete n[h.id];else{var i=h.groupIds,o=new Set(i.flatMap((function(e){return(0,v.Qc)(a.scene.getNonDeletedElements(),e)})).filter((function(e){return(0,v.bc)(e)})).map((function(e){return e.id})));o.size>0&&r.forEach((function(e){e.frameId&&o.has(e.frameId)&&(delete n[e.id],e.groupIds.flatMap((function(e){return(0,v.Qc)(a.scene.getNonDeletedElements(),e)})).forEach((function(e){delete n[e.id]})))}))}return"elementLinkSelector"===(null===(t=e.openDialog)||void 0===t?void 0:t.name)&&(h.groupIds.some((function(t){return e.selectedGroupIds[t]}))||(n=(0,l.default)({},h.id,!0))),(0,s.default)((0,s.default)({},(0,v.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:n},a.scene.getNonDeletedElements(),e,a)),{},{showHyperlinkPopup:!(!h.link&&!(0,v.Xb)(h))&&"info"})})),t.hit.wasAddedToSelection=!0))}a.setState({previousSelectedElementIds:a.state.selectedElementIds})}}return!1})),(0,b.d)(a,"handleTextOnPointerDown",(function(e,t){if(!a.state.editingTextElement){var n=t.origin.x,r=t.origin.y,i=a.getElementAtPosition(n,r,{includeBoundTextElement:!0}),o=a.getTextBindableContainerAtPosition(n,r);(0,v.mc)(i)&&(o=i,n=i.x+i.width/2,r=i.y+i.height/2),a.startTextEditing({sceneX:n,sceneY:r,insertAtParentCenter:!e.altKey,container:o,autoEdit:!1}),(0,v.ad)(a.interactiveCanvas),a.state.activeTool.locked||a.setState({activeTool:(0,v.jb)(a.state,{type:"selection"})})}})),(0,b.d)(a,"handleFreeDrawElementOnPointerDown",(function(e,t,n){var r=(0,v.oj)(n.origin.x,n.origin.y,null),i=(0,d.default)(r,2),o=i[0],l=i[1],c=a.getTopLayerFrameAtSceneCoords({x:o,y:l}),u=.5===e.pressure,f=(0,v.Zf)({type:t,x:o,y:l,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:null,simulatePressure:u,locked:!1,frameId:c?c.id:null,points:[(0,v.Ua)(0,0)],pressures:u?[]:[e.pressure]});a.scene.insertElement(f),a.setState((function(e){var t=(0,s.default)({},e.selectedElementIds);return delete t[f.id],{selectedElementIds:(0,v.xk)(t,e)}}));var h=(0,v.Og)(n.origin,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom);a.setState({newElement:f,startBoundElement:h,suggestedBindings:[]})})),(0,b.d)(a,"insertIframeElement",(function(e){var t,n=e.sceneX,r=e.sceneY,i=e.width,o=e.height,l=(0,v.oj)(n,r,null!==(t=a.lastPointerDownEvent)&&void 0!==t&&t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),s=(0,d.default)(l,2),c=s[0],u=s[1],f=(0,v.Uf)({type:"iframe",x:c,y:u,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,roundness:a.getCurrentItemRoundness("iframe"),opacity:a.state.currentItemOpacity,locked:!1,width:i,height:o});return a.scene.insertElement(f),f})),(0,b.d)(a,"insertEmbeddableElement",(function(e){var t,n=e.sceneX,r=e.sceneY,i=e.link,o=(0,v.oj)(n,r,null!==(t=a.lastPointerDownEvent)&&void 0!==t&&t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),l=(0,d.default)(o,2),s=l[0],c=l[1],u=(0,v.Zg)(i);if(u){u.error instanceof URIError&&a.setToast({message:Pi("toast.unrecognizedLinkFormat"),closable:!0});var f=(0,v.Tf)({type:"embeddable",x:s,y:c,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,roundness:a.getCurrentItemRoundness("embeddable"),opacity:a.state.currentItemOpacity,locked:!1,width:u.intrinsicSize.w,height:u.intrinsicSize.h,link:i});return a.scene.insertElement(f),f}})),(0,b.d)(a,"createImageElement",(function(e){var t,n=e.sceneX,r=e.sceneY,i=e.addToFrameUnderCursor,o=void 0===i||i,l=(0,v.oj)(n,r,null!==(t=a.lastPointerDownEvent)&&void 0!==t&&t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),s=(0,d.default)(l,2),c=s[0],u=s[1],f=o?a.getTopLayerFrameAtSceneCoords({x:c,y:u}):null;return(0,v.ag)({type:"image",x:c,y:u,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,roundness:null,opacity:a.state.currentItemOpacity,locked:!1,frameId:f?f.id:null})})),(0,b.d)(a,"handleLinearElementOnPointerDown",(function(e,t,n){if(a.state.multiElement){var r=a.state.multiElement;if("line"===r.type&&(0,v.xg)(r.points,a.state.zoom.value))return(0,v.Pj)(r,{lastCommittedPoint:r.points[r.points.length-1]}),void a.actionManager.executeAction(Nl);if((0,v.ec)(r)&&r.points.length>1)return(0,v.Pj)(r,{lastCommittedPoint:r.points[r.points.length-1]}),void a.actionManager.executeAction(Nl);var i=r.x,o=r.y,c=r.lastCommittedPoint;if(r.points.length>1&&c&&(0,v.Wa)((0,v.Ua)(n.origin.x-i,n.origin.y-o),c)<v.u)return void a.actionManager.executeAction(Nl);a.setState((function(e){return{selectedElementIds:(0,v.xk)((0,s.default)((0,s.default)({},e.selectedElementIds),{},(0,l.default)({},r.id,!0)),e)}})),(0,v.Pj)(r,{lastCommittedPoint:r.points[r.points.length-1]}),(0,v.bd)(a.interactiveCanvas,v.z.POINTER)}else{var u=(0,v.oj)(n.origin.x,n.origin.y,e[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),f=(0,d.default)(u,2),h=f[0],U=f[1],m=a.getTopLayerFrameAtSceneCoords({x:h,y:U}),g=a.state,b=g.currentItemStartArrowhead,y=g.currentItemEndArrowhead,x="arrow"===t?[b,y]:[null,null],w=(0,d.default)(x,2),E=w[0],k=w[1],S="arrow"===t?(0,v.$f)({type:t,x:h,y:U,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:a.state.currentItemArrowType===v.Fa.round?{type:v.ua.PROPORTIONAL_RADIUS}:null,startArrowhead:E,endArrowhead:k,locked:!1,frameId:m?m.id:null,elbowed:a.state.currentItemArrowType===v.Fa.elbow,fixedSegments:a.state.currentItemArrowType===v.Fa.elbow?[]:null}):(0,v._f)({type:t,x:h,y:U,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:"round"===a.state.currentItemRoundness?{type:v.ua.PROPORTIONAL_RADIUS}:null,locked:!1,frameId:m?m.id:null});a.setState((function(e){var t=(0,s.default)({},e.selectedElementIds);return delete t[S.id],{selectedElementIds:(0,v.xk)(t,e)}})),(0,v.Pj)(S,{points:[].concat((0,p.default)(S.points),[(0,v.Ua)(0,0)])});var M=(0,v.Og)(n.origin,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom,(0,v.ec)(S),(0,v.ec)(S));a.scene.insertElement(S),a.setState({newElement:S,startBoundElement:M,suggestedBindings:[]})}})),(0,b.d)(a,"createGenericElementOnPointerDown",(function(e,t){var n,r,i=(0,v.oj)(t.origin.x,t.origin.y,null!==(n=a.lastPointerDownEvent)&&void 0!==n&&n[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),o=(0,d.default)(i,2),l=o[0],c=o[1],u=a.getTopLayerFrameAtSceneCoords({x:l,y:c}),f={x:l,y:c,strokeColor:a.state.currentItemStrokeColor,backgroundColor:a.state.currentItemBackgroundColor,fillStyle:a.state.currentItemFillStyle,strokeWidth:a.state.currentItemStrokeWidth,strokeStyle:a.state.currentItemStrokeStyle,roughness:a.state.currentItemRoughness,opacity:a.state.currentItemOpacity,roundness:a.getCurrentItemRoundness(e),locked:!1,frameId:u?u.id:null};"selection"===(r="embeddable"===e?(0,v.Tf)((0,s.default)({type:"embeddable"},f)):(0,v.Sf)((0,s.default)({type:e},f))).type?a.setState({selectionElement:r}):(a.scene.insertElement(r),a.setState({multiElement:null,newElement:r}))})),(0,b.d)(a,"createFrameElementOnPointerDown",(function(e,t){var n,r=(0,v.oj)(e.origin.x,e.origin.y,null!==(n=a.lastPointerDownEvent)&&void 0!==n&&n[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),i=(0,d.default)(r,2),o=i[0],l=i[1],c=(0,s.default)({x:o,y:l,opacity:a.state.currentItemOpacity,locked:!1},v.H),u=t===v.Aa.magicframe?(0,v.Wf)(c):(0,v.Vf)(c);a.scene.insertElement(u),a.setState({multiElement:null,newElement:u})})),(0,b.d)(a,"restoreReadyToEraseElements",(function(){a.elementsPendingErasure=new Set,a.triggerRender()})),(0,b.d)(a,"eraseElements",(function(){var e=!1,t=a.scene.getElementsIncludingDeleted().map((function(t){return a.elementsPendingErasure.has(t.id)||t.frameId&&a.elementsPendingErasure.has(t.frameId)||(0,v.nc)(t)&&a.elementsPendingErasure.has(t.containerId)?(e=!0,(0,v.Qj)(t,{isDeleted:!0})):t}));a.elementsPendingErasure=new Set,e&&(a.store.shouldCaptureIncrement(),a.scene.replaceAllElements(t))})),(0,b.d)(a,"initializeImage",function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,i,o,l,s,c,u,d,p,U,m,g,b,y;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.imageFile,s=t.imageElement,c=t.showCursorImagePreview,u=void 0!==c&&c,(0,v.th)(l)){e.next=3;break}throw new Error(Pi("errors.unsupportedFileType"));case 3:if(d=l.type,(0,v.bd)(a.interactiveCanvas,"wait"),d!==v.T.svg){e.next=19;break}return e.prev=5,e.t0=v.Fh,e.t1=v.Rh,e.next=10,l.text();case 10:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=l.name,l=(0,e.t0)(e.t3,e.t4),e.next=19;break;case 16:throw e.prev=16,e.t5=e.catch(5),console.warn(e.t5),new Error(Pi("errors.svgImageInsertError"));case 19:return e.next=21,(null===(n=(r=a.props).generateIdForFile)||void 0===n?void 0:n.call(r,l))||(0,v.zh)(l);case 21:if(p=e.sent){e.next=24;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error(Pi("errors.imageInsertError"));case 24:if(null!==(i=a.files[p])&&void 0!==i&&i.dataURL){e.next=36;break}return e.prev=25,e.next=28,(0,v.Eh)(l,{maxWidthOrHeight:v.na});case 28:l=e.sent,e.next=34;break;case 31:e.prev=31,e.t6=e.catch(25),console.error("Error trying to resizing image file on insertion",e.t6);case 34:if(!(l.size>v.oa)){e.next=36;break}throw new Error(Pi("errors.fileTooBig",{maxSize:"".concat(Math.trunc(v.oa/1024/1024),"MB")}));case 36:if(u&&(m=null===(U=a.files[p])||void 0===U?void 0:U.dataURL,g=m&&(0,v.Ch)(m),a.setImagePreviewCursor(g||l)),e.t7=null===(o=a.files[p])||void 0===o?void 0:o.dataURL,e.t7){e.next=42;break}return e.next=41,(0,v.Ah)(l);case 41:e.t7=e.sent;case 42:return b=e.t7,y=(0,v.Pj)(s,{fileId:p},!1),e.abrupt("return",new Promise(function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n){var r,i;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.addMissingFiles([{mimeType:d,id:p,dataURL:b,created:Date.now(),lastRetrieved:Date.now()}]),i=a.imageCache.get(p),e.t0=i,e.t0){e.next=8;break}return a.addNewImagesToImageCache(),e.next=8,a.updateImageCache([y]);case 8:if(e.t1=(null===i||void 0===i?void 0:i.image)instanceof Promise,!e.t1){e.next=12;break}return e.next=12,i.image;case 12:a.state.pendingImageElementId!==y.id&&(null===(r=a.state.newElement)||void 0===r?void 0:r.id)!==y.id&&a.initializeImageDimensions(y,!0),t(y),e.next=19;break;case 16:e.prev=16,e.t2=e.catch(0),console.error(e.t2),n(new Error(Pi("errors.imageInsertError")));case 19:return e.prev=19,u||(0,v.ad)(a.interactiveCanvas),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()));case 45:case"end":return e.stop()}}),e,null,[[5,16],[25,31]])})));return function(t){return e.apply(this,arguments)}}()),(0,b.d)(a,"insertImageElement",function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n,r){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.isToolSupported("image")){e.next=3;break}return a.setState({errorMessage:Pi("errors.imageToolNotSupported")}),e.abrupt("return");case 3:return a.scene.insertElement(t),e.prev=4,e.next=7,a.initializeImage({imageFile:n,imageElement:t,showCursorImagePreview:r});case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",((0,v.Pj)(t,{isDeleted:!0}),a.actionManager.executeAction(Nl),a.setState({errorMessage:e.t0.message||Pi("errors.imageInsertError")}),null));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()),(0,b.d)(a,"setImagePreviewCursor",function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,i,o,l,s;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.Eh)(t,{maxWidthOrHeight:96});case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),"UNSUPPORTED"===e.t0.cause?new Error(Pi("errors.unsupportedFileType")):e.t0;case 9:return e.next=11,(0,v.Ah)(n);case 11:if(r=e.sent,t.type!==v.T.svg){e.next=21;break}return e.next=15,(0,v.Oh)(r);case 15:i=e.sent,o=Math.min(i.height,96),(l=o*(i.width/i.height))>96&&(o=(l=96)*(i.height/i.width)),(s=document.createElement("canvas")).height=o,s.width=l,s.getContext("2d").drawImage(i,0,0,l,o),r=s.toDataURL(v.T.svg);case 21:a.state.pendingImageElementId&&(0,v.bd)(a.interactiveCanvas,"url(".concat(r,") 4 4, auto"));case 22:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),(0,b.d)(a,"onImageAction",function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,i,o,s,c,u,d;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.insertOnCanvasDirectly,e.prev=1,r=a.state.width/2+a.state.offsetLeft,i=a.state.height/2+a.state.offsetTop,o=(0,v.lb)({clientX:r,clientY:i},a.state),s=o.x,c=o.y,e.next=9,(0,v.fh)({description:"Image",extensions:Object.keys(v.S)});case 9:u=e.sent,d=a.createImageElement({sceneX:s,sceneY:c,addToFrameUnderCursor:!1}),n?(a.insertImageElement(d,u),a.initializeImageDimensions(d),a.setState({selectedElementIds:(0,v.xk)((0,l.default)({},d.id,!0),a.state)},(function(){a.actionManager.executeAction(Nl)}))):a.setState({pendingImageElementId:d.id},(function(){a.insertImageElement(d,u,!0)})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),"AbortError"!==e.t0.name?console.error(e.t0):console.warn(e.t0),a.setState({pendingImageElementId:null,newElement:null,activeTool:(0,v.jb)(a.state,{type:"selection"})},(function(){a.actionManager.executeAction(Nl)}));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()),(0,b.d)(a,"initializeImageDimensions",(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,v.Vb)(e)&&(null===(t=a.imageCache.get(e.fileId))||void 0===t?void 0:t.image);if(!r||r instanceof Promise){if(e.width<v.t/a.state.zoom.value&&e.height<v.t/a.state.zoom.value){var i=100/a.state.zoom.value;(0,v.Pj)(e,{x:e.x-i/2,y:e.y-i/2,width:i,height:i})}}else if(n||e.width<v.t/a.state.zoom.value&&e.height<v.t/a.state.zoom.value){var o=Math.max(a.state.height-120,160),l=Math.min(o,Math.floor(.5*a.state.height)/a.state.zoom.value),s=Math.min(r.naturalHeight,l),c=s*(r.naturalWidth/r.naturalHeight),u=e.x+e.width/2-c/2,d=e.y+e.height/2-s/2;(0,v.Pj)(e,{x:u,y:d,width:c,height:s,crop:null})}})),(0,b.d)(a,"updateImageCache",function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,i,o,l,s,u,d=arguments;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:a.files,e.next=3,(0,v.Ph)({imageCache:a.imageCache,fileIds:t.map((function(e){return e.fileId})),files:n});case 3:if(r=e.sent,i=r.updatedFiles,o=r.erroredFiles,i.size||o.size){l=(0,c.default)(t);try{for(l.s();!(s=l.n()).done;)u=s.value,i.has(u.fileId)&&v.ed.delete(u)}catch(f){l.e(f)}finally{l.f()}}return e.abrupt("return",(o.size&&a.scene.replaceAllElements(a.scene.getElementsIncludingDeleted().map((function(e){return(0,v.Vb)(e)&&o.has(e.fileId)?(0,v.Qj)(e,{status:"error"}):e}))),{updatedFiles:i,erroredFiles:o}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,b.d)(a,"addNewImagesToImageCache",(0,h.default)((0,f.default)().mark((function e(){var t,n,r,i,o=arguments;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:(0,v.Qh)(a.scene.getNonDeletedElements()),n=o.length>1&&void 0!==o[1]?o[1]:a.files,r=t.filter((function(e){return!e.isDeleted&&!a.imageCache.has(e.fileId)})),!r.length){e.next=9;break}return e.next=6,a.updateImageCache(r,n);case 6:i=e.sent,i.updatedFiles.size&&a.scene.triggerUpdate();case 9:case"end":return e.stop()}}),e)})))),(0,b.d)(a,"scheduleImageRefresh",zn((function(){a.addNewImagesToImageCache()}),v.X)),(0,b.d)(a,"updateBindingEnabledOnPointerMove",(function(e){var t=(0,v.Eg)(e);a.state.isBindingEnabled!==t&&a.setState({isBindingEnabled:t})})),(0,b.d)(a,"maybeSuggestBindingAtCursor",(function(e,t){var n=(0,v.Og)(e,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom,!1,t);a.setState({suggestedBindings:null!=n?[n]:[]})})),(0,b.d)(a,"maybeSuggestBindingsForLinearElementAtCoords",(function(e,t,n){if(t.length){var r=t.reduce((function(t,r){var i=(0,v.Og)(r,a.scene.getNonDeletedElements(),a.scene.getNonDeletedElementsMap(),a.state.zoom,(0,v.ec)(e),(0,v.ec)(e));return null!=i&&!(0,v.Ng)(e,null===n||void 0===n?void 0:n.id,i)&&t.push(i),t}),[]);a.setState({suggestedBindings:r})}})),(0,b.d)(a,"handleInteractiveCanvasRef",(function(e){var t,n;null!==e?(a.interactiveCanvas=e,a.interactiveCanvas.addEventListener("touchstart",a.onTouchStart,{passive:!1}),a.interactiveCanvas.addEventListener("touchend",a.onTouchEnd)):(null!==(t=a.interactiveCanvas)&&void 0!==t&&t.removeEventListener("touchstart",a.onTouchStart),null===(n=a.interactiveCanvas)||void 0===n||n.removeEventListener("touchend",a.onTouchEnd))})),(0,b.d)(a,"handleAppOnDrop",function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n,r,i,o,c,u,d,h,p,U,m,g,b,y,x;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Hh)(t);case 2:if(r=e.sent,i=r.file,o=r.fileHandle,c=(0,v.lb)(t,a.state),u=c.x,d=c.y,e.prev=8,!(0,v.th)(i)||!a.isToolSupported("image")){e.next=26;break}if((null===i||void 0===i?void 0:i.type)!==v.T.png&&(null===i||void 0===i?void 0:i.type)!==v.T.svg){e.next=23;break}return e.prev=11,e.next=14,(0,v.vh)(i,a.state,a.scene.getElementsIncludingDeleted(),o);case 14:return h=e.sent,a.syncActionResult((0,s.default)((0,s.default)({},h),{},{appState:(0,s.default)((0,s.default)({},h.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,captureUpdate:v.Wg.IMMEDIATELY})),e.abrupt("return");case 19:if(e.prev=19,e.t0=e.catch(11),"EncodingError"===e.t0.name){e.next=23;break}throw new Error(Pi("alerts.couldNotLoadInvalidFile"));case 23:return p=a.createImageElement({sceneX:u,sceneY:d}),a.insertImageElement(p,i),a.initializeImageDimensions(p),a.setState({selectedElementIds:(0,v.xk)((0,l.default)({},p.id,!0),a.state)}),e.abrupt("return");case 26:e.next=31;break;case 28:return e.prev=28,e.t1=e.catch(8),e.abrupt("return",a.setState({isLoading:!1,errorMessage:e.t1.message}));case 31:if(!(U=t.dataTransfer.getData(v.T.excalidrawlib))||"string"!=typeof U){e.next=35;break}try{m=(0,v.wh)(U),a.addElementsFromPasteOrLibrary({elements:oc(m),position:t,files:null})}catch(S){a.setState({errorMessage:S.message})}return e.abrupt("return");case 35:if(e.t2=i,!e.t2){e.next=39;break}return e.next=39,a.loadFileToCanvas(i,o);case 39:if(null===(n=t.dataTransfer)||void 0===n||null===(n=n.types)||void 0===n||!n.includes("text/plain")){e.next=42;break}(y=null===(g=t.dataTransfer)||void 0===g?void 0:g.getData("text"))&&(0,v.$g)(y,a.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(y)||"video"===(null===(b=(0,v.Zg)(y))||void 0===b?void 0:b.type))&&(x=a.insertEmbeddableElement({sceneX:u,sceneY:d,link:(0,v.Xc)(y)}))&&a.setState({selectedElementIds:(0,l.default)({},x.id,!0)});case 42:case"end":return e.stop()}}),e,null,[[8,28],[11,19]])})));return function(t){return e.apply(this,arguments)}}()),(0,b.d)(a,"loadFileToCanvas",function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n){var r,i,o,l;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Ih)(t);case 2:return t=e.sent,e.prev=3,r=a.scene.getElementsIncludingDeleted(),e.prev=5,e.next=8,(0,v.uh)(t,a.state,r,n);case 8:i=e.sent,e.next=19;break;case 11:if(e.prev=11,e.t0=e.catch(5),!(o=e.t0 instanceof v.uc)||"IMAGE_NOT_CONTAINS_SCENE_DATA"!==e.t0.code||a.isToolSupported("image")){e.next=17;break}return a.setState({isLoading:!1,errorMessage:Pi("errors.imageToolNotSupported")}),e.abrupt("return");case 17:l=Pi(o?"alerts.cannotRestoreFromImage":"alerts.couldNotLoadInvalidFile"),a.setState({isLoading:!1,errorMessage:l});case 19:if(i){e.next=21;break}return e.abrupt("return");case 21:if(i.type!==v.T.excalidraw){e.next=25;break}(0,v.Nj)(r.concat(i.data.elements)),a.store.updateSnapshot((0,v.xb)(r),a.state),a.setState({isLoading:!0}),a.syncActionResult((0,s.default)((0,s.default)({},i.data),{},{appState:(0,s.default)((0,s.default)({},i.data.appState||a.state),{},{isLoading:!1}),replaceFiles:!0,captureUpdate:v.Wg.IMMEDIATELY})),e.next=29;break;case 25:if(e.t1=i.type===v.T.excalidrawlib,!e.t1){e.next=29;break}return e.next=29,a.library.updateLibrary({libraryItems:t,merge:!0,openLibraryMenu:!0}).catch((function(e){console.error(e),a.setState({errorMessage:Pi("errors.importLibraryError")})}));case 29:e.next=34;break;case 31:e.prev=31,e.t2=e.catch(3),a.setState({isLoading:!1,errorMessage:e.t2.message});case 34:case"end":return e.stop()}}),e,null,[[3,31],[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,b.d)(a,"handleCanvasContextMenu",(function(e){if(e.preventDefault(),!("pointerType"in e.nativeEvent&&"touch"===e.nativeEvent.pointerType||"pointerType"in e.nativeEvent&&"pen"===e.nativeEvent.pointerType&&e.button!==v.A.SECONDARY)||"selection"===a.state.activeTool.type){var t=(0,v.lb)(e,a.state),n=t.x,r=t.y,i=a.getElementAtPosition(n,r,{preferSelected:!0,includeLockedElements:!0}),o=a.scene.getSelectedElements(a.state),c=a.isHittingCommonBoundingBoxOfSelectedElements({x:n,y:r},o),u=i||c?"element":"canvas",d=a.excalidrawContainerRef.current.getBoundingClientRect(),f=d.top,h=d.left,p=e.clientX-h,U=e.clientY-f;ho("contextMenu","openContextMenu",u),a.setState((0,s.default)((0,s.default)({},i&&!a.state.selectedElementIds[i.id]?(0,s.default)((0,s.default)((0,s.default)({},a.state),(0,v.Jc)({editingGroupId:a.state.editingGroupId,selectedElementIds:(0,l.default)({},i.id,!0)},a.scene.getNonDeletedElements(),a.state,a)),{},{selectedLinearElement:(0,v.cc)(i)?new v.pj(i):null}):a.state),{},{showHyperlinkPopup:!1}),(function(){a.setState({contextMenu:{top:U,left:p,items:a.getContextMenuItems(u)}})}))}})),(0,b.d)(a,"maybeDragNewGenericElement",(function(e,t){var n,r,i,o,l,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=a.state.selectionElement,u=e.lastCoords;if(c&&"eraser"!==a.state.activeTool.type)(0,v.kk)({newElement:c,elementType:a.state.activeTool.type,originX:e.origin.x,originY:e.origin.y,x:u.x,y:u.y,width:(0,v.ib)(e.origin.x,u.x),height:(0,v.ib)(e.origin.y,u.y),shouldMaintainAspectRatio:(0,v.lg)(t),shouldResizeFromCenter:(0,v.kg)(t),zoom:a.state.zoom.value,informMutation:s});else{var f=a.state.newElement;if(f){var h=(0,v.oj)(u.x,u.y,t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),p=(0,d.default)(h,2),U=p[0],m=p[1],g=(0,v.Vb)(f)&&(null===(n=a.imageCache.get(f.fileId))||void 0===n?void 0:n.image),b=!g||g instanceof Promise?null:g.width/g.height;a.maybeCacheReferenceSnapPoints(t,[f]);var y=(0,v.lj)(f,a,t,{x:e.originInGrid.x+(null!==(r=null===(i=a.state.originSnapOffset)||void 0===i?void 0:i.x)&&void 0!==r?r:0),y:e.originInGrid.y+(null!==(o=null===(l=a.state.originSnapOffset)||void 0===l?void 0:l.y)&&void 0!==o?o:0)},{x:U-e.originInGrid.x,y:m-e.originInGrid.y},a.scene.getNonDeletedElementsMap()),x=y.snapOffset,w=y.snapLines;U+=x.x,m+=x.y,a.setState({snapLines:w}),(0,v.kk)({newElement:f,elementType:a.state.activeTool.type,originX:e.originInGrid.x,originY:e.originInGrid.y,x:U,y:m,width:(0,v.ib)(e.originInGrid.x,U),height:(0,v.ib)(e.originInGrid.y,m),shouldMaintainAspectRatio:(0,v.Wb)(f)?!(0,v.lg)(t):(0,v.lg)(t),shouldResizeFromCenter:(0,v.kg)(t),zoom:a.state.zoom.value,widthAspectRatio:b,originOffset:a.state.originSnapOffset,informMutation:s}),a.setState({newElement:f}),(a.state.activeTool.type===v.Aa.frame||a.state.activeTool.type===v.Aa.magicframe)&&a.setState({elementsToHighlight:(0,v.Ei)(a.scene.getNonDeletedElements(),f,a.state,a.scene.getNonDeletedElementsMap())})}}})),(0,b.d)(a,"maybeHandleCrop",(function(e,t){if(!a.state.croppingElementId)return!1;var n=e.resize.handleType,r=e.lastCoords,i=(0,v.oj)(r.x-e.resize.offset.x,r.y-e.resize.offset.y,t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),o=(0,d.default)(i,2),l=o[0],s=o[1],c=a.scene.getNonDeletedElementsMap().get(a.state.croppingElementId);if(n&&c&&(0,v.Wb)(c)){var u,f=e.originalElements.get(c.id),h=(0,v.Vb)(c)&&(null===(u=a.imageCache.get(c.fileId))||void 0===u?void 0:u.image);if(f&&(0,v.Wb)(f)&&h&&!(h instanceof Promise)){var p=(0,v.oj)(r.x,r.y,t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),U=(0,d.default)(p,2),m=U[0],g=U[1],b={x:m-e.originInGrid.x,y:g-e.originInGrid.y};a.maybeCacheReferenceSnapPoints(t,[c]);var y=(0,v.kj)([c],[f],a,t,b,n),x=y.snapOffset,w=y.snapLines;(0,v.Pj)(c,(0,v.bh)(c,n,h.naturalWidth,h.naturalHeight,l+x.x,s+x.y,t.shiftKey?f.width/f.height:void 0)),(0,v.Pg)(c,a.scene.getNonDeletedElementsMap(),{newSize:{width:c.width,height:c.height}}),a.setState({isCropping:n&&"rotation"!==n,snapLines:w})}return!0}return!1})),(0,b.d)(a,"maybeHandleResize",(function(e,t){var n=a.scene.getSelectedElements(a.state),r=n.filter((function(e){return(0,v.bc)(e)})),i=e.resize.handleType;if(r.length>0&&"rotation"===i||1===n.length&&(0,v.ec)(n[0])||a.state.croppingElementId)return!1;a.setState({isResizing:i&&"rotation"!==i,isRotating:"rotation"===i,activeEmbeddable:null});var o=e.lastCoords,l=(0,v.oj)(o.x-e.resize.offset.x,o.y-e.resize.offset.y,t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),s=(0,d.default)(l,2),c=s[0],u=s[1],f=new Map;if(r.forEach((function(e){(0,v.Bi)(a.scene.getNonDeletedElements(),e.id).forEach((function(t){f.set(e.id+t.id,{x:t.x-e.x,y:t.y-e.y})}))})),!a.state.selectedElementsAreBeingDragged){var h=(0,v.oj)(o.x,o.y,t[v.hg.CTRL_OR_CMD]?null:a.getEffectiveGridSize()),U=(0,d.default)(h,2),m=U[0],g=U[1],b={x:m-e.originInGrid.x,y:g-e.originInGrid.y},y=(0,p.default)(e.originalElements.values());a.maybeCacheReferenceSnapPoints(t,n);var x=(0,v.kj)(n,(0,v.vk)(y,a.state),a,t,b,i),w=x.snapOffset,E=x.snapLines;c+=w.x,u+=w.y,a.setState({snapLines:E})}if((0,v.ck)(e.originalElements,i,n,a.scene.getElementsMapIncludingDeleted(),a.scene,(0,v.mg)(t),(0,v.kg)(t),n.some((function(e){return(0,v.Wb)(e)}))?!(0,v.lg)(t):(0,v.lg)(t),c,u,e.resize.center.x,e.resize.center.y)){var k=(0,v.Kg)(n,a.scene.getNonDeletedElementsMap(),a.state.zoom),S=new Set;return r.forEach((function(e){(0,v.Ei)(a.scene.getNonDeletedElements(),e,a.state,a.scene.getNonDeletedElementsMap()).forEach((function(e){return S.add(e)}))})),a.setState({elementsToHighlight:(0,p.default)(S),suggestedBindings:k}),!0}return!1})),(0,b.d)(a,"getContextMenuItems",(function(e){var t=[];return t.push(Es,ws),"canvas"===e?a.state.viewModeEnabled?[].concat(t,[Ss,Ms,qh,Is]):[ys,ed,Es,ws,ks,ed,lo,Vs,ed,Ss,Cs,Ms,qh,Is]:(t.push(ks),a.state.viewModeEnabled?[bs].concat(t):[ed,xs,bs,ys,ed,Qh,Jh,ep,ed,Hu,ed].concat(t,[ed,es,ts,ed,as,Hp,js,Ts,Ds,is,ed,cs,ed,ro,ao,io,oo,ed,vs,Us,ed,zu,ed,Hs,Au,ed,co,Xs,ed,Xi]))})),(0,b.d)(a,"handleWheel",cp((function(e){if(e.target instanceof HTMLCanvasElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLIFrameElement){if(e.preventDefault(),!hv){var t=e.deltaX,n=e.deltaY;if(e.metaKey||e.ctrlKey){var r=Math.sign(n),i=100*v.$,o=Math.abs(n),l=n;o>i&&(l=i*r);var c=a.state.zoom.value-l/100;return c+=Math.log10(Math.max(1,a.state.zoom.value))*-r*Math.min(1,o/20),a.translateCanvas((function(e){return(0,s.default)((0,s.default)({},Sl({viewportX:a.lastViewportPosition.x,viewportY:a.lastViewportPosition.y,nextZoom:(0,v.Ak)(c)},e)),{},{shouldCacheIgnoreZoom:!0})})),void a.resetShouldCacheIgnoreZoomDebounced()}e.shiftKey?a.translateCanvas((function(e){var r=e.zoom;return{scrollX:e.scrollX-(n||t)/r.value}})):a.translateCanvas((function(e){var r=e.zoom,a=e.scrollX,i=e.scrollY;return{scrollX:a-t/r.value,scrollY:i-n/r.value}}))}}else e[v.hg.CTRL_OR_CMD]&&e.preventDefault()}))),(0,b.d)(a,"savePointer",(function(e,t,n){var r,i;if(e&&t){var o=(0,v.lb)({clientX:e,clientY:t},a.state),l=o.x,s=o.y;isNaN(l)||isNaN(s);var c={x:l,y:s,tool:"laser"===a.state.activeTool.type?"laser":"pointer"};null===(r=(i=a.props).onPointerUpdate)||void 0===r||r.call(i,{pointer:c,button:n,pointersMap:Ev.pointers})}})),(0,b.d)(a,"resetShouldCacheIgnoreZoomDebounced",(0,v.db)((function(){a.unmounted||a.setState({shouldCacheIgnoreZoom:!1})}),300)),(0,b.d)(a,"updateDOMRect",(function(e){var t;if(null!==(t=a.excalidrawContainerRef)&&void 0!==t&&t.current){var n=a.excalidrawContainerRef.current.getBoundingClientRect(),r=n.width,i=n.height,o=n.left,l=n.top,s=a.state,c=s.width,u=s.height,d=s.offsetTop,f=s.offsetLeft;if(r===c&&i===u&&o===f&&l===d)return void(e&&e());a.setState({width:r,height:i,offsetLeft:o,offsetTop:l},(function(){e&&e()}))}})),(0,b.d)(a,"refresh",(function(){a.setState((0,s.default)({},a.getCanvasOffsets()))}));var o=(0,v.Fc)(),u=e.excalidrawAPI,U=e.viewModeEnabled,m=void 0!==U&&U,g=e.zenModeEnabled,x=void 0!==g&&g,w=e.gridModeEnabled,E=void 0!==w&&w,k=e.objectsSnapModeEnabled,S=void 0!==k&&k,M=e.theme,C=void 0===M?o.theme:M,I=e.name,j=void 0===I?"".concat(Pi("labels.untitled"),"-").concat((0,v.Xa)()):I;if(a.state=(0,s.default)((0,s.default)((0,s.default)({},o),{},{theme:C,isLoading:!0},a.getCanvasOffsets()),{},{viewModeEnabled:m,zenModeEnabled:x,objectsSnapModeEnabled:S,gridModeEnabled:null!==E&&void 0!==E?E:o.gridModeEnabled,name:j,width:window.innerWidth,height:window.innerHeight}),a.id=(0,se.Ak)(),a.library=new ic(a),a.actionManager=new Ku(a.syncActionResult,(function(){return a.state}),(function(){return a.scene.getElementsIncludingDeleted()}),a),a.scene=new v.Oj,a.canvas=document.createElement("canvas"),a.rc=le.A.canvas(a.canvas),a.renderer=new Dp(a.scene),a.visibleElements=[],a.store=new v.Xg,a.history=new Xu,u){var T={updateScene:a.updateScene,updateLibrary:a.library.updateLibrary,addFiles:a.addFiles,resetScene:a.resetScene,getSceneElementsIncludingDeleted:a.getSceneElementsIncludingDeleted,history:{clear:a.resetHistory},scrollToContent:a.scrollToContent,getSceneElements:a.getSceneElements,getAppState:function(){return a.state},getFiles:function(){return a.files},getName:a.getName,registerAction:function(e){a.actionManager.registerAction(e)},refresh:a.refresh,setToast:a.setToast,id:a.id,setActiveTool:a.setActiveTool,setCursor:a.setCursor,resetCursor:a.resetCursor,updateFrameRendering:a.updateFrameRendering,toggleSidebar:a.toggleSidebar,onChange:function(e){return a.onChangeEmitter.on(e)},onPointerDown:function(e){return a.onPointerDownEmitter.on(e)},onPointerUp:function(e){return a.onPointerUpEmitter.on(e)},onScrollChange:function(e){return a.onScrollChangeEmitter.on(e)},onUserFollow:function(e){return a.onUserFollowEmitter.on(e)}};"function"==typeof u?u(T):console.error("excalidrawAPI should be a function!")}return a.excalidrawContainerValue={container:a.excalidrawContainerRef.current,id:a.id},a.fonts=new v.Qf(a.scene),a.history=new Xu,a.actionManager.registerAll(v._c),a.actionManager.registerAction(function(e,t){return{name:"undo",label:"buttons.undo",icon:v.Rd,trackEvent:{category:"history"},viewMode:!1,perform:function(n,r,a,i){return Yu(i,r,(function(){return e.undo((0,v.xb)(n),r,t.snapshot)}))},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&(0,v.ig)(e,v.hg.Z)&&!e.shiftKey},PanelComponent:function(t){var n=t.updateData,r=t.data,a=Gu(e.onHistoryChangedEmitter,new Wu(e.isUndoStackEmpty,e.isRedoStackEmpty)).isUndoStackEmpty;return(0,X.jsx)(Hi,{type:"button",icon:v.Rd,"aria-label":Pi("buttons.undo"),onClick:n,size:(null===r||void 0===r?void 0:r.size)||"medium",disabled:a,"data-testid":"button-undo"})}}}(a.history,a.store)),a.actionManager.registerAction(function(e,t){return{name:"redo",label:"buttons.redo",icon:v.Sd,trackEvent:{category:"history"},viewMode:!1,perform:function(n,r,a,i){return Yu(i,r,(function(){return e.redo((0,v.xb)(n),r,t.snapshot)}))},keyTest:function(e){return e[v.hg.CTRL_OR_CMD]&&e.shiftKey&&(0,v.ig)(e,v.hg.Z)||v.m&&e.ctrlKey&&!e.shiftKey&&(0,v.ig)(e,v.hg.Y)},PanelComponent:function(t){var n=t.updateData,r=t.data,a=Gu(e.onHistoryChangedEmitter,new Wu(e.isUndoStackEmpty,e.isRedoStackEmpty)).isRedoStackEmpty;return(0,X.jsx)(Hi,{type:"button",icon:v.Sd,"aria-label":Pi("buttons.redo"),onClick:n,size:(null===r||void 0===r?void 0:r.size)||"medium",disabled:a,"data-testid":"button-redo"})}}}(a.history,a.store)),a}return(0,a.default)(t,e),(0,o.default)(t,[{key:"onWindowMessage",value:function(e){if("https://player.vimeo.com"===e.origin||"https://www.youtube.com"===e.origin){var t=null;try{t=JSON.parse(e.data)}catch(d){}if(t)switch(e.origin){case"https://player.vimeo.com":if("paused"===t.method){var n,r=null,a=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!a)break;var i,o=(0,c.default)(a);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.contentWindow===e.source&&(r=l.contentWindow)}}catch(f){o.e(f)}finally{o.f()}null===(n=r)||void 0===n||n.postMessage(JSON.stringify({method:t.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if("infoDelivery"===t.event&&t.info&&t.id&&"number"==typeof t.info.playerState){var s=t.id,u=t.info.playerState;Object.values(v.C).includes(u)&&gv.set(s,u)}}}}},{key:"cacheEmbeddableRef",value:function(e,t){t&&this.iFrameRefs.set(e.id,t)}},{key:"getHTMLIFrameElement",value:function(e){return this.iFrameRefs.get(e.id)}},{key:"handleEmbeddableCenterClick",value:function(e){var t,n,r,a,i=this;if(!((null===(t=this.state.activeEmbeddable)||void 0===t?void 0:t.element)===e&&"active"===(null===(n=this.state.activeEmbeddable)||void 0===n?void 0:n.state)||(setTimeout((function(){i.setState({activeEmbeddable:{element:e,state:"active"},selectedElementIds:(0,l.default)({},e.id,!0),newElement:null,selectionElement:null})}),100),(0,v.Yb)(e)))){var o=this.getHTMLIFrameElement(e);if(null!==o&&void 0!==o&&o.contentWindow){if(o.src.includes("youtube")){var s=gv.get(e.id);switch(s||(gv.set(e.id,v.C.UNSTARTED),o.contentWindow.postMessage(JSON.stringify({event:"listening",id:e.id}),"*")),s){case v.C.PLAYING:case v.C.BUFFERING:null===(r=o.contentWindow)||void 0===r||r.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:null===(a=o.contentWindow)||void 0===a||a.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}o.src.includes("player.vimeo.com")&&o.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isIframeLikeElementCenter",value:function(e,t,n,r){var a,i;return e&&!t.altKey&&!t.shiftKey&&!t.metaKey&&!t.ctrlKey&&((null===(a=this.state.activeEmbeddable)||void 0===a?void 0:a.element)!==e||"hover"===(null===(i=this.state.activeEmbeddable)||void 0===i?void 0:i.state)||!this.state.activeEmbeddable)&&n>=e.x+e.width/3&&n<=e.x+2*e.width/3&&r>=e.y+e.height/3&&r<=e.y+2*e.height/3}},{key:"renderEmbeddables",value:function(){var e=this,t=this.state.zoom.value,n=this.state.width,r=this.state.height,a=this.scene.getNonDeletedElements().filter((function(t){return(0,v.Xb)(t)&&!0===e.embedsValidationStatus.get(t.id)||(0,v.Yb)(t)}));return(0,X.jsx)(X.Fragment,{children:a.map((function(a){var i,o,l,s,c,u,d,f,h,p,U,m,g,b,y=(0,v.mb)({sceneX:a.x,sceneY:a.y},e.state),x=y.x,w=y.y,E=(0,v.Tj)(a,n,r,e.state,e.scene.getNonDeletedElementsMap()),k=e.initializedEmbeds.has(a.id);if(E&&!k&&e.initializedEmbeds.add(a.id),!E&&!k)return null;if((0,v.Yb)(a)){var S,M;b=null;var C=(null!==(S=null===(M=a.customData)||void 0===M?void 0:M.generationData)&&void 0!==S?S:e.magicGenerations.get(a.id))||{status:"error",message:"No generation data",code:"ERR_NO_GENERATION_DATA"};if("done"===C.status){var I=C.html;b={intrinsicSize:{w:a.width,h:a.height},type:"document",srcdoc:function(){return I}}}else if("pending"===C.status)b={intrinsicSize:{w:a.width,h:a.height},type:"document",srcdoc:function(){return(0,v.Yg)("\n                    <style>\n                      html, body {\n                        width: 100%;\n                        height: 100%;\n                        color: ".concat(e.state.theme===v.G.DARK?"white":"black",';\n                      }\n                      body {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        flex-direction: column;\n                        gap: 1rem;\n                      }\n\n                      .Spinner {\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        margin-left: auto;\n                        margin-right: auto;\n                      }\n\n                      .Spinner svg {\n                        animation: rotate 1.6s linear infinite;\n                        transform-origin: center center;\n                        width: 40px;\n                        height: 40px;\n                      }\n\n                      .Spinner circle {\n                        stroke: currentColor;\n                        animation: dash 1.6s linear 0s infinite;\n                        stroke-linecap: round;\n                      }\n\n                      @keyframes rotate {\n                        100% {\n                          transform: rotate(360deg);\n                        }\n                      }\n\n                      @keyframes dash {\n                        0% {\n                          stroke-dasharray: 1, 300;\n                          stroke-dashoffset: 0;\n                        }\n                        50% {\n                          stroke-dasharray: 150, 300;\n                          stroke-dashoffset: -200;\n                        }\n                        100% {\n                          stroke-dasharray: 1, 300;\n                          stroke-dashoffset: -280;\n                        }\n                      }\n                    </style>\n                    <div class="Spinner">\n                      <svg\n                        viewBox="0 0 100 100"\n                      >\n                        <circle\n                          cx="50"\n                          cy="50"\n                          r="46"\n                          stroke-width="8"\n                          fill="none"\n                          stroke-miter-limit="10"\n                        />\n                      </svg>\n                    </div>\n                    <div>Generating...</div>\n                  '))}};else{var j;j="ERR_GENERATION_INTERRUPTED"===C.code?"Generation was interrupted...":C.message||"Generation failed",b={intrinsicSize:{w:a.width,h:a.height},type:"document",srcdoc:function(){return(0,v.Yg)("\n                    <style>\n                    html, body {\n                      height: 100%;\n                    }\n                      body {\n                        display: flex;\n                        flex-direction: column;\n                        align-items: center;\n                        justify-content: center;\n                        color: ".concat(v.e.red[3],";\n                      }\n                      h1, h3 {\n                        margin-top: 0;\n                        margin-bottom: 0.5rem;\n                      }\n                    </style>\n                    <h1>Error!</h1>\n                    <h3>").concat(j,"</h3>\n                  "))}}}}else b=(0,v.Zg)((0,v.Zc)(a.link||""));var T=(null===(i=e.state.activeEmbeddable)||void 0===i?void 0:i.element)===a&&"active"===(null===(o=e.state.activeEmbeddable)||void 0===o?void 0:o.state),A=(null===(l=e.state.activeEmbeddable)||void 0===l?void 0:l.element)===a&&"hover"===(null===(s=e.state.activeEmbeddable)||void 0===s?void 0:s.state);return(0,X.jsx)("div",{className:(0,ie.A)("excalidraw__embeddable-container",{"is-hovered":A}),style:{transform:E?"translate(".concat(x-e.state.offsetLeft,"px, ").concat(w-e.state.offsetTop,"px) scale(").concat(t,")"):"none",display:E?"block":"none",opacity:(0,v.Ri)(a,(0,v.Gi)(a,e.scene.getNonDeletedElementsMap()),e.elementsPendingErasure,null,"elementLinkSelector"===(null===(c=e.state.openDialog)||void 0===c?void 0:c.name)?v.Ga:1),"--embeddable-radius":"".concat((0,v.wg)(Math.min(a.width,a.height),a),"px")},children:(0,X.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:E?"".concat(a.width,"px"):0,height:E?"".concat(a.height,"px"):0,transform:E?"rotate(".concat(a.angle,"rad)"):"none",pointerEvents:T?v.B.enabled:v.B.disabled},children:[A&&(0,X.jsx)("div",{className:"excalidraw__embeddable-hint",children:Pi("buttons.embeddableInteractionButton")}),(0,X.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(a.strokeWidth,"px")},children:null!==(u=(0,v.Xb)(a)?null===(d=(f=e.props).renderEmbeddable)||void 0===d?void 0:d.call(f,a,e.state):null)&&void 0!==u?u:(0,X.jsx)("iframe",{ref:function(t){return e.cacheEmbeddableRef(a,t)},className:"excalidraw__embeddable",srcDoc:"document"===(null===(h=b)||void 0===h?void 0:h.type)?b.srcdoc(e.state.theme):void 0,src:"document"!==(null===(p=b)||void 0===p?void 0:p.type)?null!==(U=null===(m=b)||void 0===m?void 0:m.link)&&void 0!==U?U:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(null!==(g=b)&&void 0!==g&&null!==(g=g.sandbox)&&void 0!==g&&g.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},a.id)}))})}},{key:"toggleOverscrollBehavior",value:function(e){document.documentElement.style.overscrollBehaviorX="pointerenter"===e.type?"none":"auto"}},{key:"render",value:function(){var e,t,n,r,a,i,o,s=this,c=this.scene.getSelectedElements(this.state),u=this.props,d=u.renderTopRightUI,f=u.renderCustomStats,h=this.scene.getSceneNonce(),p=this.renderer.getRenderableElements({sceneNonce:h,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingTextElement:this.state.editingTextElement,newElementId:null===(e=this.state.newElement)||void 0===e?void 0:e.id,pendingImageElementId:this.state.pendingImageElementId}),U=p.elementsMap,m=p.visibleElements;this.visibleElements=m;var g=this.scene.getNonDeletedElementsMap(),b=!("setPointerCapture"in HTMLElement.prototype)&&(this.state.selectionElement||this.state.newElement||this.state.selectedElementsAreBeingDragged||this.state.resizingElement||"laser"===this.state.activeTool.type&&"down"===this.state.cursorButton),y=c[0];return(0,X.jsx)("div",{className:(0,ie.A)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled||"elementLinkSelector"===(null===(t=this.state.openDialog)||void 0===t?void 0:t.name),"excalidraw--mobile":this.device.editor.isMobile}),style:{"--ui-pointerEvents":b?v.B.disabled:v.B.enabled,"--right-sidebar-width":"302px"},ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,onPointerEnter:this.toggleOverscrollBehavior,onPointerLeave:this.toggleOverscrollBehavior,children:(0,X.jsx)(Yp.Provider,{value:this,children:(0,X.jsx)(Zp.Provider,{value:this.props,children:(0,X.jsx)($p.Provider,{value:this.excalidrawContainerValue,children:(0,X.jsx)(qp.Provider,{value:this.device,children:(0,X.jsx)(ev.Provider,{value:this.setAppState,children:(0,X.jsx)(Jp.Provider,{value:this.state,children:(0,X.jsxs)(Qp.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,X.jsxs)(tv.Provider,{value:this.actionManager,children:[(0,X.jsx)(Zh,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:Li().code,renderTopRightUI:d,renderCustomStats:f,showExitZenModeBtn:typeof(null===(n=this.props)||void 0===n?void 0:n.zenModeEnabled)>"u"&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&"selection"===this.state.activeTool.type&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,generateLinkForSelection:this.props.generateLinkForSelection,children:this.props.children}),(0,X.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,X.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,X.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,X.jsx)(_p,{trails:[this.laserTrails,this.eraserTrail]}),1===c.length&&"elementLinkSelector"!==(null===(r=this.state.openDialog)||void 0===r?void 0:r.name)&&this.state.showHyperlinkPopup&&(0,X.jsx)(Rs,{element:y,elementsMap:g,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast,updateEmbedValidationStatus:this.updateEmbedValidationStatus},y.id),!1!==this.props.aiEnabled&&1===c.length&&(0,v.ac)(y)&&(0,X.jsx)(Lp,{element:y,elementsMap:U,children:(0,X.jsx)(Rp,{title:Pi("labels.convertToCode"),icon:v.jf,checked:!1,onChange:function(){return s.onMagicFrameGenerate(y,"button")}})}),1===c.length&&(0,v.Yb)(y)&&"done"===(null===(a=y.customData)||void 0===a||null===(a=a.generationData)||void 0===a?void 0:a.status)&&(0,X.jsxs)(Lp,{element:y,elementsMap:U,children:[(0,X.jsx)(Rp,{title:Pi("labels.copySource"),icon:v._e,checked:!1,onChange:function(){return s.onIframeSrcCopy(y)}}),(0,X.jsx)(Rp,{title:"Enter fullscreen",icon:v.kf,checked:!1,onChange:function(){var e=s.getHTMLIFrameElement(y);if(e)try{e.requestFullscreen(),s.setState({activeEmbeddable:{element:y,state:"active"},selectedElementIds:(0,l.default)({},y.id,!0),newElement:null,selectionElement:null})}catch(t){console.warn(t),s.setState({errorMessage:"Couldn't enter fullscreen"})}}})]}),null!==this.state.toast&&(0,X.jsx)(Kh,{message:this.state.toast.message,onClose:function(){return s.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,X.jsx)(td,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(e){s.setState({contextMenu:null},(function(){s.focusContainer(),null===e||void 0===e||e()}))}}),(0,X.jsx)(Ap,{canvas:this.canvas,rc:this.rc,elementsMap:U,allElementsMap:g,visibleElements:m,sceneNonce:h,selectionNonce:null===(i=this.state.selectionElement)||void 0===i?void 0:i.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:(0,v.fj)(this),canvasBackgroundColor:this.state.viewBackgroundColor,embedsValidationStatus:this.embedsValidationStatus,elementsPendingErasure:this.elementsPendingErasure,pendingFlowchartNodes:this.flowChartCreator.pendingNodes}}),this.state.newElement&&(0,X.jsx)(Gp,{appState:this.state,scale:window.devicePixelRatio,rc:this.rc,elementsMap:U,allElementsMap:g,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!1,canvasBackgroundColor:this.state.viewBackgroundColor,embedsValidationStatus:this.embedsValidationStatus,elementsPendingErasure:this.elementsPendingErasure,pendingFlowchartNodes:null}}),(0,X.jsx)(jp,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elementsMap:U,visibleElements:m,allElementsMap:g,selectedElements:c,sceneNonce:h,selectionNonce:null===(o=this.state.selectionElement)||void 0===o?void 0:o.versionNonce,scale:window.devicePixelRatio,appState:this.state,device:this.device,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.state.userToFollow&&(0,X.jsx)(Pp,{width:this.state.width,height:this.state.height,userToFollow:this.state.userToFollow,onDisconnect:this.maybeUnfollowRemoteUser}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"setPlugins",value:function(e){Object.assign(this.plugins,e)}},{key:"onMagicFrameGenerate",value:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n){var r,a,i,o,s,c,u;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(r=this.plugins.diagramToCode)||void 0===r?void 0:r.generate){e.next=4;break}return this.setState({errorMessage:"No diagram to code plugin found"}),e.abrupt("return");case 4:if(i=(0,v.Pi)(this.scene.getNonDeletedElements(),t).filter((function(e){return!(0,v.ac)(e)})),i.length){e.next=8;break}return"button"===n?(this.setState({errorMessage:"Cannot generate from an empty frame"}),ho("ai","generate (no-children)","d2c")):this.setActiveTool({type:"magicframe"}),e.abrupt("return");case 8:if(!(o=this.insertIframeElement({sceneX:t.x+t.width+30,sceneY:t.y,width:t.width,height:t.height}))){e.next=26;break}return this.updateMagicGeneration({frameElement:o,data:{status:"pending"}}),this.setState({selectedElementIds:(0,l.default)({},o.id,!0)}),ho("ai","generate (start)","d2c"),e.prev=11,e.next=14,a({frame:t,children:i});case 14:if(s=e.sent,c=s.html,ho("ai","generate (success)","d2c"),c.trim()){e.next=19;break}return this.updateMagicGeneration({frameElement:o,data:{status:"error",code:"ERR_OAI",message:"Nothing genereated :("}}),e.abrupt("return");case 19:u=c.includes("<!DOCTYPE html>")&&c.includes("</html>")?c.slice(c.indexOf("<!DOCTYPE html>"),c.indexOf("</html>")+7):c,this.updateMagicGeneration({frameElement:o,data:{status:"done",html:u}}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),ho("ai","generate (failed)","d2c"),this.updateMagicGeneration({frameElement:o,data:{status:"error",code:"ERR_OAI",message:e.t0.message||"Unknown error during generation"}});case 26:case"end":return e.stop()}}),e,this,[[11,23]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onIframeSrcCopy",value:function(e){var t;"done"===(null===(t=e.customData)||void 0===t||null===(t=t.generationData)||void 0===t?void 0:t.status)&&((0,v.oi)(e.customData.generationData.html),this.setToast({message:"copied to clipboard",closable:!1,duration:1500}))}},{key:"clearImageShapeCache",value:function(e){var t=this,n=null!==e&&void 0!==e?e:this.files;this.scene.getNonDeletedElements().forEach((function(e){(0,v.Vb)(e)&&n[e.fileId]&&(t.imageCache.delete(e.fileId),v.ed.delete(e))}))}},{key:"componentDidMount",value:function(){var e=(0,h.default)((0,f.default)().mark((function e(){var t,n=this;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,(U.a.MODE===v.D.TEST||U.a.DEV)&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return n.state}},setState:{configurable:!0,value:function(){return n.setState.apply(n,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history},store:{configurable:!0,value:this.store},fonts:{configurable:!0,value:this.fonts}})),this.store.onStoreIncrementEmitter.on((function(e){n.history.record(e.elementsChange,e.appStateChange)})),this.scene.onUpdate(this.triggerRender),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,v.Ab)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),v.r&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver((function(){n.refreshEditorBreakpoints(),n.updateDOMRect()})),null!==(t=this.resizeObserver)&&void 0!==t&&t.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,v.q)()&&!(0,v.yc)()&&this.setState({errorMessage:(0,X.jsx)(tp,{})});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e,t;null!==(e=window.launchQueue)&&void 0!==e&&e.setConsumer((function(){})),this.renderer.destroy(),this.scene.destroy(),this.scene=new v.Oj,this.fonts=new v.Qf(this.scene),this.renderer=new Dp(this.scene),this.files={},this.imageCache.clear(),null!==(t=this.resizeObserver)&&void 0!==t&&t.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.library.destroy(),this.laserTrails.stop(),this.eraserTrail.stop(),this.onChangeEmitter.clear(),this.store.onStoreIncrementEmitter.clear(),v.ed.destroy(),v.ej.destroy(),clearTimeout(Uv),v.tk.clearCache(),v.Jc.clearCache(),Uv=0,document.documentElement.style.overscrollBehaviorX=""}},{key:"removeEventListeners",value:function(){this.onRemoveEventListenersEmitter.trigger()}},{key:"addEventListeners",value:function(){var e=this;this.removeEventListeners(),this.props.handleKeyboardGlobally&&this.onRemoveEventListenersEmitter.once((0,v.Pb)(document,"keydown",this.onKeyDown,!1)),this.onRemoveEventListenersEmitter.once((0,v.Pb)(this.excalidrawContainerRef.current,"wheel",this.handleWheel,{passive:!1}),(0,v.Pb)(window,"message",this.onWindowMessage,!1),(0,v.Pb)(document,"pointerup",this.removePointer,{passive:!1}),(0,v.Pb)(document,"copy",this.onCopy,{passive:!1}),(0,v.Pb)(document,"keyup",this.onKeyUp,{passive:!0}),(0,v.Pb)(document,"pointermove",this.updateCurrentCursorPosition,{passive:!1}),(0,v.Pb)(document.fonts,"loadingdone",(function(t){var n=t.fontfaces;e.fonts.onLoaded(n)}),{passive:!1}),(0,v.Pb)(document,"gesturestart",this.onGestureStart,!1),(0,v.Pb)(document,"gesturechange",this.onGestureChange,!1),(0,v.Pb)(document,"gestureend",this.onGestureEnd,!1),(0,v.Pb)(window,"focus",(function(){e.maybeCleanupAfterMissingPointerUp(null),e.triggerRender(!0)}),{passive:!1})),!this.state.viewModeEnabled&&(this.onRemoveEventListenersEmitter.once((0,v.Pb)(document,"fullscreenchange",this.onFullscreenChange,{passive:!1}),(0,v.Pb)(document,"paste",this.pasteFromClipboard,{passive:!1}),(0,v.Pb)(document,"cut",this.onCut,{passive:!1}),(0,v.Pb)(window,"resize",this.onResize,!1),(0,v.Pb)(window,"unload",this.onUnload,!1),(0,v.Pb)(window,"blur",this.onBlur,!1),(0,v.Pb)(this.excalidrawContainerRef.current,"wheel",this.handleWheel,{passive:!1}),(0,v.Pb)(this.excalidrawContainerRef.current,"dragover",this.disableEvent,!1),(0,v.Pb)(this.excalidrawContainerRef.current,"drop",this.disableEvent,!1)),this.props.detectScroll&&this.onRemoveEventListenersEmitter.once((0,v.Pb)((0,v.ub)(this.excalidrawContainerRef.current),"scroll",this.onScroll,{passive:!1})))}},{key:"componentDidUpdate",value:function(e,t){var n,r,a,i,o,l,s,c,u,d,f=this;this.updateEmbeddables();var h=this.scene.getElementsIncludingDeleted(),p=this.scene.getElementsMapIncludingDeleted(),U=this.scene.getNonDeletedElementsMap();!this.state.showWelcomeScreen&&!h.length&&this.setState({showWelcomeScreen:!0}),e.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),t.userToFollow&&!this.state.collaborators.has(t.userToFollow.socketId)&&this.maybeUnfollowRemoteUser(),(t.zoom.value!==this.state.zoom.value||t.scrollX!==this.state.scrollX||t.scrollY!==this.state.scrollY)&&(null!==(n=this.props)&&void 0!==n&&null!==(r=n.onScrollChange)&&void 0!==r&&r.call(n,this.state.scrollX,this.state.scrollY,this.state.zoom),this.onScrollChangeEmitter.trigger(this.state.scrollX,this.state.scrollY,this.state.zoom)),t.userToFollow!==this.state.userToFollow&&(t.userToFollow&&this.onUserFollowEmitter.trigger({userToFollow:t.userToFollow,action:"UNFOLLOW"}),this.state.userToFollow&&this.onUserFollowEmitter.trigger({userToFollow:this.state.userToFollow,action:"FOLLOW"})),Object.keys(this.state.selectedElementIds).length&&(0,v.Gc)(this.state)&&this.setState({activeTool:(0,v.jb)(this.state,{type:"selection"})}),"eraser"===this.state.activeTool.type&&t.theme!==this.state.theme&&(0,v.cd)(this.interactiveCanvas,this.state.theme),"selection"===t.activeTool.type&&"selection"!==this.state.activeTool.type&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),e.langCode!==this.props.langCode&&this.updateLanguage(),(0,v.Gc)(t)&&!(0,v.Gc)(this.state)&&this.eraserTrail.endPath(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),("elementLinkSelector"===(null===(a=t.openDialog)||void 0===a?void 0:a.name)||"elementLinkSelector"===(null===(i=this.state.openDialog)||void 0===i?void 0:i.name))&&(null===(o=t.openDialog)||void 0===o?void 0:o.name)!==(null===(l=this.state.openDialog)||void 0===l?void 0:l.name)&&(this.deselectElements(),this.setState({hoveredElementIds:{}})),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),null!==(s=this.excalidrawContainerRef.current)&&void 0!==s&&s.classList.toggle("theme--dark",this.state.theme===v.G.DARK),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){f.state.editingLinearElement&&f.actionManager.executeAction(Nl)})),null!==(c=this.state.editingTextElement)&&void 0!==c&&c.isDeleted&&this.setState({editingTextElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var m=t.multiElement;t.activeTool!==this.state.activeTool&&null!=m&&(0,v.Fg)(this.state)&&(0,v.gc)(m,!1)&&(0,v.Lg)(m,this.state,(0,v.ob)(v.pj.getPointAtIndexGlobalCoordinates(m,-1,U)),this.scene.getNonDeletedElementsMap(),this.scene.getNonDeletedElements()),this.store.commit(p,this.state),this.state.isLoading||(null!==(u=(d=this.props).onChange)&&void 0!==u&&u.call(d,h,this.state,this.files),this.onChangeEmitter.trigger(h,this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:function(){var e=(0,h.default)((0,f.default)().mark((function e(t,n){var r,a,i,o,l,s,u,d,p,U,m,g,b,y,x;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.isPlainPaste,a=n.sceneX,i=n.sceneY,r||!t.some((function(e){return"imageUrl"===e.type}))||!this.isToolSupported("image")){e.next=35;break}return o=t.filter((function(e){return"imageUrl"===e.type})).map((function(e){return e.value})),e.next=5,Promise.all(o.map(function(){var e=(0,h.default)((0,f.default)().mark((function e(t){var n;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.Gh)(t);case 3:return e.t0=e.sent,e.abrupt("return",{file:e.t0});case 7:return e.prev=7,e.t1=e.catch(0),n=e.t1.message,e.abrupt("return",("FETCH_ERROR"===e.t1.cause?n=Pi("errors.failedToFetchImage"):"UNSUPPORTED"===e.t1.cause&&(n=Pi("errors.unsupportedFileType")),{errorMessage:n}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 5:l=e.sent,s=i,u=!1,d={},p=(0,c.default)(l),e.prev=10,p.s();case 12:if((U=p.n()).done){e.next=22;break}if(!(m=U.value).file){e.next=20;break}return g=this.createImageElement({sceneX:a,sceneY:s}),e.next=18,this.insertImageElement(g,m.file);case 18:(b=e.sent)&&(u||(u=!0,s-=b.height/2),(0,v.Pj)(b,{y:s},!1),s=g.y+g.height+25,d[g.id]=!0);case 20:e.next=12;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),p.e(e.t0);case 27:return e.prev=27,p.f(),e.finish(27);case 30:this.setState({selectedElementIds:(0,v.xk)(d,this.state)}),y=l.find((function(e){return!!e.errorMessage})),y&&y.errorMessage&&this.setState({errorMessage:y.errorMessage}),e.next=37;break;case 35:x=t.filter((function(e){return"text"===e.type})),x.length&&this.addTextFromPaste(x.map((function(e){return e.value})).join("\n\n"),r);case 37:case"end":return e.stop()}}),e,this,[[10,24,27,30]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addTextFromPaste",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,v.lb)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),a=r.x,i=r.y,o={x:a,y:i,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:v.K,verticalAlign:v.L,locked:!1},l=(0,v.cb)({fontSize:o.fontSize,fontFamily:o.fontFamily}),c=(0,v.Rf)(o.fontFamily),u=(0,v.dj)(this.state),f=(0,d.default)(u,3),h=f[0],p=f[2],U=Math.max(Math.min(.5*(p-h),800),200),m=i,g=n?[e]:e.split("\n"),b=g.reduce((function(e,n,r){var i,u=(0,v.zc)(n).trim();if(u.length){var d=t.getTopLayerFrameAtSceneCoords({x:a,y:m}),f=(0,v.vc)(u,l,c),h=f.width>U,p=h?(0,v.Ec)(u,l,U):u;f=h?(0,v.vc)(p,l,c):f;var b=a-f.width/2,y=m-f.height/2,x=(0,v.Xf)((0,s.default)((0,s.default)({},o),{},{x:b,y:y,text:p,originalText:u,lineHeight:c,autoResize:!h,frameId:d?d.id:null}));e.push(x),m+=x.height+10}else(null===(i=g[r-1])||void 0===i?void 0:i.trim())&&(m+=(0,v.Ac)(o.fontSize,c)+10);return e}),[]);0!==b.length&&(this.scene.insertElements(b),this.setState({selectedElementIds:(0,v.xk)(Object.fromEntries(b.map((function(e){return[e.id,!0]}))),this.state)}),!n&&b.length>1&&!1===xv&&!this.device.editor.isMobile&&(this.setToast({message:Pi("toast.pasteAsSingleElement",{shortcut:(0,v.kb)("CtrlOrCmd+Shift+V")}),duration:5e3}),xv=!0),this.store.shouldCaptureIncrement())}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,a=void 0!==r&&r,i=this.scene.getElementsMapIncludingDeleted(),o=function(t,r){n.scene.replaceAllElements((0,p.default)(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&(0,v._b)(n)?(0,v.Qj)(n,(0,s.default)({originalText:t,isDeleted:null!==r&&void 0!==r?r:n.isDeleted},(0,v.Yf)(n,(0,v.Aj)(n,i),i,t))):n}))))};Bp({id:e.id,canvas:this.canvas,getViewportCoords:function(e,t){var r=(0,v.mb)({sceneX:e,sceneY:t},n.state),a=r.x,i=r.y;return[a-n.state.offsetLeft,i-n.state.offsetTop]},onChange:cp((function(t){o(t,!1),(0,v.qk)(e)&&(0,v.Pg)(e,n.scene.getNonDeletedElementsMap())})),onSubmit:cp((function(t){var r=t.viaKeyboard,i=t.nextOriginalText,c=!i.trim();if(o(i,c),!c&&r){var u=e.containerId?e.containerId:e.id;(0,oe.flushSync)((function(){n.setState((function(e){return{selectedElementIds:(0,v.xk)((0,s.default)((0,s.default)({},e.selectedElementIds),{},(0,l.default)({},u,!0)),e)}}))}))}c&&(0,v.Tg)(n.scene.getNonDeletedElements(),[e]),(!c||a)&&n.store.shouldCaptureIncrement(),(0,oe.flushSync)((function(){n.setState({newElement:null,editingTextElement:null})})),n.state.activeTool.locked&&(0,v.dd)(n.interactiveCanvas,n.state),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current,app:this,autoSelect:!this.device.isTouchScreen}),this.deselectElements(),o(e.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,v.xk)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t,{includeBoundTextElement:!0});return n&&(0,v._b)(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t,null===n||void 0===n?void 0:n.includeBoundTextElement,null===n||void 0===n?void 0:n.includeLockedElements);if(r.length>1){if(null!==n&&void 0!==n&&n.preferSelected)for(var a=r.length-1;a>-1;a--)if(this.state.selectedElementIds[r[a].id])return r[a];var i=r[r.length-1];return(0,v.ng)({x:e,y:t,element:i,shape:(0,v.tg)(i,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold()/2,frameNameBound:(0,v.bc)(i)?this.frameNameBoundsCache.get(i):null})?i:r[r.length-2]}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=this.scene.getNonDeletedElementsMap();return(r&&a?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter((function(e){return(a||!e.locked)&&(r||!((0,v._b)(e)&&e.containerId))}))).filter((function(r){return n.hitElement(e,t,r)})).filter((function(r){var a=(0,v.Gi)(r,o);return!(a&&n.state.frameRendering.enabled&&n.state.frameRendering.clip)||(0,v.zi)({x:e,y:t},a,o)})).filter((function(e){return!(0,v.Yb)(e)||(i.push(e),!1)})).concat(i)}},{key:"getElementHitThreshold",value:function(){return v.N/this.state.zoom.value}},{key:"hitElement",value:function(e,t,n){if((!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&this.state.selectedElementIds[n.id]&&(0,v._j)([n],this.state)){var r=(0,v.eg)(n,this.scene.getNonDeletedElementsMap(),(0,v.Wb)(n)?0:this.getElementHitThreshold());if((0,v.fg)((0,v.Ua)(e,t),r))return!0}return!!(0,v.qg)(e,t,(0,v.ug)(n,this.scene.getNonDeletedElementsMap()))||(0,v.ng)({x:e,y:t,element:n,shape:(0,v.tg)(n,this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold(),frameNameBound:(0,v.bc)(n)?this.frameNameBoundsCache.get(n):null})}},{key:"getTextBindableContainerAtPosition",value:function(e,t){var n=this.scene.getNonDeletedElements(),r=this.scene.getSelectedElements(this.state);if(1===r.length)return(0,v.jc)(r[0],!1)?r[0]:null;for(var a=null,i=n.length-1;i>=0;--i)if(!n[i].isDeleted){var o=(0,v.aj)(n[i],this.scene.getNonDeletedElementsMap()),l=(0,d.default)(o,4),s=l[0],c=l[1],u=l[2],f=l[3];if((0,v.dc)(n[i])&&(0,v.ng)({x:e,y:t,element:n[i],shape:(0,v.tg)(n[i],this.scene.getNonDeletedElementsMap()),threshold:this.getElementHitThreshold()})){a=n[i];break}if(s<e&&e<u&&c<t&&t<f){a=n[i];break}}return(0,v.jc)(a,!1)?a:null}},{key:"handleHoverSelectedLinearElement",value:function(e,t,n){var r=this.scene.getNonDeletedElementsMap(),a=v.pj.getElement(e.elementId,r);if(a)if(this.state.selectedLinearElement){var i=-1,o=null;(0,v.ng)({x:t,y:n,element:a,shape:(0,v.tg)(a,this.scene.getNonDeletedElementsMap())})?(i=v.pj.getPointIndexUnderCursor(a,r,this.state.zoom,t,n),o=v.pj.getSegmentMidpointHitCoords(e,{x:t,y:n},this.state,this.scene.getNonDeletedElementsMap()),((0,v.ec)(a)?0===i||i===a.points.length-1:i>=0)||o?(0,v.bd)(this.interactiveCanvas,v.z.POINTER):this.hitElement(t,n,a)&&(0,v.bd)(this.interactiveCanvas,v.z.MOVE)):this.hitElement(t,n,a)&&(!(0,v.ec)(a)||!(a.startBinding||a.endBinding))&&(0,v.bd)(this.interactiveCanvas,v.z.MOVE),this.state.selectedLinearElement.hoverPointIndex!==i&&this.setState({selectedLinearElement:(0,s.default)((0,s.default)({},this.state.selectedLinearElement),{},{hoverPointIndex:i})}),v.pj.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,o)||this.setState({selectedLinearElement:(0,s.default)((0,s.default)({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:o})})}else(0,v.bd)(this.interactiveCanvas,v.z.AUTO)}},{key:"updateGestureOnPointerDown",value:function(e){Ev.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===Ev.pointers.size&&(Ev.lastCenter=qu(Ev.pointers),Ev.initialScale=this.state.zoom.value,Ev.initialDistance=$u(Array.from(Ev.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=(0,v.lb)(e,this.state),n=this.scene.getSelectedElements(this.state),r=(0,v.bj)(n),a=(0,d.default)(r,4),i=a[0],o=a[1],l=a[2],c=a[3],u=0===n.findIndex(v.ec);return{origin:t,withCmdOrCtrl:e[v.hg.CTRL_OR_CMD],originInGrid:(0,v.ob)((0,v.oj)(t.x,t.y,e[v.hg.CTRL_OR_CMD]||u?null:this.getEffectiveGridSize())),scrollbars:Cd(vv,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:(0,s.default)({},t),originalElements:this.scene.getNonDeletedElements().reduce((function(e,t){return e.set(t.id,(0,v.bg)(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(l+i)/2,y:(c+o)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;pv=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=up((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),a=cp((function(){wv=null,pv=!1,(0,v.dd)(n.interactiveCanvas,n.state),n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",a),r.flush()}));return wv=a,window.addEventListener("pointermove",r),window.addEventListener("pointerup",a),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=this.getElementHitThreshold(),r=(0,v.bj)(t),a=(0,d.default)(r,4),i=a[0],o=a[1],l=a[2],s=a[3];return e.x>i-n&&e.x<l+n&&e.y>o-n&&e.y<s+n}},{key:"getCurrentItemRoundness",value:function(e){return"round"===this.state.currentItemRoundness?{type:(0,v.oc)(e)?v.ua.ADAPTIVE_RADIUS:v.ua.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,v.gj)({event:e,app:this,selectedElements:t})&&(n||!v.ej.getReferenceSnapPoints())&&v.ej.setReferenceSnapPoints((0,v.ij)(this.scene.getNonDeletedElements(),t,this.state,this.scene.getNonDeletedElementsMap()))}},{key:"maybeCacheVisibleGaps",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,v.gj)({event:e,app:this,selectedElements:t})&&(n||!v.ej.getVisibleGaps())&&v.ej.setVisibleGaps((0,v.hj)(this.scene.getNonDeletedElements(),t,this.state,this.scene.getNonDeletedElementsMap()))}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return cp((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return cp((function(n){n.key===v.hg.ALT&&n.preventDefault(),!t.maybeHandleResize(e,n)&&t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return up((function(n){var r,a,i;if("elementLinkSelector"!==(null===(r=t.state.openDialog)||void 0===r?void 0:r.name)){var o=(0,v.lb)(n,t.state);if(t.state.selectedLinearElement&&t.state.selectedLinearElement.elbowed&&t.state.selectedLinearElement.pointerDownState.segmentMidpoint.index){var u=(0,v.oj)(o.x,o.y,n[v.hg.CTRL_OR_CMD]?null:t.getEffectiveGridSize()),f=(0,d.default)(u,2),h=f[0],U=f[1],m=t.state.selectedLinearElement.pointerDownState.segmentMidpoint.index;if(m<0){var g=v.pj.getSegmentMidpointHitCoords((0,s.default)((0,s.default)({},t.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:null}),{x:h,y:U},t.state,t.scene.getNonDeletedElementsMap());m=g?v.pj.getSegmentMidPointIndex(t.state.selectedLinearElement,t.state,g,t.scene.getNonDeletedElementsMap()):-1}var b=v.pj.moveFixedSegment(t.state.selectedLinearElement,m,h,U,t.scene.getNonDeletedElementsMap());(0,oe.flushSync)((function(){t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,s.default)((0,s.default)({},t.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:b.segmentMidPointHoveredCoords,pointerDownState:b.pointerDownState})})}))}else{var y=null!==(a=t.lastPointerMoveCoords)&&void 0!==a?a:e.origin;if(t.lastPointerMoveCoords=o,null===e.drag.offset&&(e.drag.offset=(0,v.ob)((0,v.jk)(t.scene.getSelectedElements(t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e))if((0,v.Gc)(t.state))t.handleEraser(n,e,o);else{"laser"===t.state.activeTool.type&&t.laserTrails.addPointToPath(o.x,o.y);var x=(0,v.oj)(o.x,o.y,n[v.hg.CTRL_OR_CMD]?null:t.getEffectiveGridSize()),w=(0,d.default)(x,2),E=w[0],k=w[1];if(e.drag.hasOccurred||"arrow"!==t.state.activeTool.type&&"line"!==t.state.activeTool.type||!((0,v.Wa)((0,v.Ua)(o.x,o.y),(0,v.Ua)(e.origin.x,e.origin.y))<v.t)){if(e.resize.isResizing&&(e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeHandleCrop(e,n)||t.maybeHandleResize(e,n)))return!0;var S=t.scene.getNonDeletedElementsMap();if(t.state.selectedLinearElement){var M=t.state.editingLinearElement||t.state.selectedLinearElement;if(v.pj.shouldAddMidpoint(t.state.selectedLinearElement,o,t.state,S)){var C=v.pj.addMidpoint(t.state.selectedLinearElement,o,t,!n[v.hg.CTRL_OR_CMD],S);if(!C)return;return void(0,oe.flushSync)((function(){t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,s.default)((0,s.default)({},t.state.selectedLinearElement),{},{pointerDownState:C.pointerDownState,selectedPointsIndices:C.selectedPointsIndices})}),t.state.editingLinearElement&&t.setState({editingLinearElement:(0,s.default)((0,s.default)({},t.state.editingLinearElement),{},{pointerDownState:C.pointerDownState,selectedPointsIndices:C.selectedPointsIndices})})}))}if(null!==M.pointerDownState.segmentMidpoint.value&&!M.pointerDownState.segmentMidpoint.added)return;if(v.pj.handlePointDragging(n,t,o.x,o.y,(function(e,n){t.maybeSuggestBindingsForLinearElementAtCoords(e,n)}),M,t.scene))return e.lastCoords.x=o.x,e.lastCoords.y=o.y,e.drag.hasOccurred=!0,t.state.editingLinearElement&&!t.state.editingLinearElement.isDragging&&t.setState({editingLinearElement:(0,s.default)((0,s.default)({},t.state.editingLinearElement),{},{isDragging:!0})}),void(t.state.selectedLinearElement.isDragging||t.setState({selectedLinearElement:(0,s.default)((0,s.default)({},t.state.selectedLinearElement),{},{isDragging:!0})}))}var I=e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)})),j=t.state.editingLinearElement&&n.shiftKey&&t.state.editingLinearElement.elementId===(null===(i=e.hit.element)||void 0===i?void 0:i.id);if((I||e.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!j){var T,A=t.scene.getSelectedElements(t.state);if(A.every((function(e){return e.locked})))return;var D=A.find((function(e){return(0,v.bc)(e)})),_=t.getTopLayerFrameAtSceneCoords(o),L=_&&!D?_:null;if(t.state.frameToHighlight!==L&&(0,oe.flushSync)((function(){t.setState({frameToHighlight:L})})),e.drag.hasOccurred=!0,A.length>0&&!e.withCmdOrCtrl&&!t.state.editingTextElement&&"active"!==(null===(T=t.state.activeEmbeddable)||void 0===T?void 0:T.state)){var R={x:o.x-e.origin.x,y:o.y-e.origin.y},P=(0,p.default)(e.originalElements.values()),N=n.shiftKey;if(N){var F=Math.abs(R.x),O=Math.abs(R.y),z=N&&F>O;N&&F<O&&(R.x=0),z&&(R.y=0)}if(t.state.croppingElementId){var B=t.scene.getNonDeletedElementsMap().get(t.state.croppingElementId);if(B&&(0,v.Wb)(B)&&null!==B.crop&&e.hit.element===B){var H,W=B.crop,X=(0,v.Vb)(B)&&(null===(H=t.imageCache.get(B.fileId))||void 0===H?void 0:H.image);if(X&&!(X instanceof Promise)){var V=(0,v.Sa)((0,v.Oa)(o.x-y.x,o.y-y.y),Math.max(t.state.zoom.value,2)),G=(0,v.aj)(B,S),Y=(0,d.default)(G,6),Z=Y[0],K=Y[1],q=Y[2],$=Y[3],Q=Y[4],J=Y[5],ee=(0,v.Pa)((0,v.Va)((0,v.Ua)(Z,K),(0,v.Ua)(Q,J),B.angle)),te=(0,v.Pa)((0,v.Va)((0,v.Ua)(q,K),(0,v.Ua)(Q,J),B.angle)),ne=(0,v.Pa)((0,v.Va)((0,v.Ua)(Z,$),(0,v.Ua)(Q,J),B.angle)),re=(0,v.Ta)((0,v.Ra)(te,ee)),ae=(0,v.Ta)((0,v.Ra)(ne,ee)),ie=(0,v.Oa)((0,v.Qa)(V,re),(0,v.Qa)(V,ae)),le=(0,s.default)((0,s.default)({},W),{},{x:(0,v.Ia)(W.x-ie[0]*Math.sign(B.scale[0]),0,X.naturalWidth-W.width),y:(0,v.Ia)(W.y-ie[1]*Math.sign(B.scale[1]),0,X.naturalHeight-W.height)});return void(0,v.Pj)(B,{crop:le})}}}t.maybeCacheVisibleGaps(n,A),t.maybeCacheReferenceSnapPoints(n,A);var se=(0,v.jj)(P,R,t,n,t.scene.getNonDeletedElementsMap()),ce=se.snapOffset,ue=se.snapLines;if(t.setState({snapLines:ue}),t.state.editingFrame||(0,v.ik)(e,A,R,t.scene,ce,n[v.hg.CTRL_OR_CMD]?null:t.getEffectiveGridSize()),t.setState({selectedElementsAreBeingDragged:!0,selectionElement:null}),(1!==A.length||!(0,v.ec)(A[0]))&&t.setState({suggestedBindings:(0,v.Kg)(A,t.scene.getNonDeletedElementsMap(),t.state.zoom)}),n.altKey&&!e.hit.hasBeenDuplicated){var de,fe;e.hit.hasBeenDuplicated=!0;var he,pe=[],ve=[],Ue=new Map,me=new Map,ge=e.hit.element,be=new Set(t.scene.getSelectedElements({selectedElementIds:t.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map((function(e){return e.id}))),ye=t.scene.getElementsIncludingDeleted(),xe=(0,c.default)(ye);try{for(xe.s();!(he=xe.n()).done;){var we=he.value,Ee=be.has(we.id)||we.id===(null===ge||void 0===ge?void 0:ge.id)&&e.hit.wasAddedToSelection;if(Math.abs(we.x)>1e7||Math.abs(we.x)>1e7||Math.abs(we.width)>1e7||Math.abs(we.height)>1e7)return void console.error("Alt+dragging element in scene with invalid dimensions",we.x,we.y,we.width,we.height,Ee);if(Ee){var ke=(0,v.cg)(t.state.editingGroupId,Ue,we);if(Math.abs(ke.x)>1e7||Math.abs(ke.x)>1e7||Math.abs(ke.width)>1e7||Math.abs(ke.height)>1e7)return void console.error("Alt+dragging duplicated element with invalid dimensions",ke.x,ke.y,ke.width,ke.height);var Se=e.originalElements.get(we.id);if(Math.abs(Se.x)>1e7||Math.abs(Se.x)>1e7||Math.abs(Se.width)>1e7||Math.abs(Se.height)>1e7)return void console.error("Alt+dragging duplicated element with invalid dimensions",Se.x,Se.y,Se.width,Se.height);(0,v.Pj)(ke,{x:Se.x,y:Se.y}),e.originalElements.set(ke.id,ke),pe.push(ke),ve.push(we),me.set(we.id,ke.id)}else pe.push(we)}}catch(ze){xe.e(ze)}finally{xe.f()}var Me=[].concat(pe,ve);Me=(null===(de=(fe=t.props).onDuplicate)||void 0===de?void 0:de.call(fe,Me,ye))||Me,(0,v.Mj)(Me,(0,v.xb)(ve)),(0,v.vj)(pe,ve,me),(0,v.Sg)(Me,ve,me,"duplicatesServeAsOld"),(0,v.wi)(Me,ve,me),t.scene.replaceAllElements(Me),t.maybeCacheVisibleGaps(n,A,!0),t.maybeCacheReferenceSnapPoints(n,A,!0)}return}}if(t.state.selectionElement)e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeDragNewGenericElement(e,n);else{var Ce=t.state.newElement;if(!Ce)return;if("freedraw"===Ce.type){var Ie=Ce.points,je=o.x-Ce.x,Te=o.y-Ce.y,Ae=Ie.length>0&&Ie[Ie.length-1];if(!Ae||Ae[0]!==je||Ae[1]!==Te){var De=Ce.simulatePressure?Ce.pressures:[].concat((0,p.default)(Ce.pressures),[n.pressure]);(0,v.Pj)(Ce,{points:[].concat((0,p.default)(Ie),[(0,v.Ua)(je,Te)]),pressures:De},!1),t.setState({newElement:Ce})}}else if((0,v.cc)(Ce)){var _e;e.drag.hasOccurred=!0;var Le=Ce.points,Re=E-Ce.x,Pe=k-Ce.y;(0,v.mg)(n)&&2===Le.length&&(Re=(_e=(0,v.Vj)(Ce.x,Ce.y,o.x,o.y)).width,Pe=_e.height),1===Le.length?(0,v.Pj)(Ce,{points:[].concat((0,p.default)(Le),[(0,v.Ua)(Re,Pe)])},!1):(2===Le.length||Le.length>1&&(0,v.ec)(Ce))&&(0,v.Pj)(Ce,{points:[].concat((0,p.default)(Le.slice(0,-1)),[(0,v.Ua)(Re,Pe)])},!1,{isDragging:!0}),t.setState({newElement:Ce}),(0,v.gc)(Ce,!1)&&t.maybeSuggestBindingsForLinearElementAtCoords(Ce,[o],t.state.startBoundElement)}else e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeDragNewGenericElement(e,n,!1)}if("selection"===t.state.activeTool.type){e.boxSelection.hasOccurred=!0;var Ne=t.scene.getNonDeletedElements();if(t.state.editingLinearElement)v.pj.handleBoxSelection(n,t.state,t.setState.bind(t),t.scene.getNonDeletedElementsMap());else{var Fe=!0;!n.shiftKey&&(0,v.tk)(Ne,t.state)&&(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return(0,v.Jc)((0,s.default)((0,s.default)({},n),{},{selectedElementIds:(0,l.default)({},e.hit.element.id,!0)}),t.scene.getNonDeletedElements(),n,t)})):Fe=!1);var Oe=t.state.selectionElement?(0,v.sk)(Ne,t.state.selectionElement,t.scene.getNonDeletedElementsMap(),!1):[];t.setState((function(n){var r=(0,s.default)((0,s.default)({},Fe&&n.selectedElementIds),Oe.reduce((function(e,t){return e[t.id]=!0,e}),{}));return e.hit.element&&(Oe.length?delete r[e.hit.element.id]:r[e.hit.element.id]=!0),n=Fe?n:(0,s.default)((0,s.default)({},n),{},{selectedGroupIds:{},editingGroupId:null}),(0,s.default)((0,s.default)({},(0,v.Jc)({editingGroupId:n.editingGroupId,selectedElementIds:r},t.scene.getNonDeletedElements(),n,t)),{},{selectedLinearElement:1===Oe.length&&(0,v.cc)(Oe[0])?new v.pj(Oe[0]):null,showHyperlinkPopup:!(1!==Oe.length||!Oe[0].link&&!(0,v.Xb)(Oe[0]))&&"info"})}))}}}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var a=e.clientY,i=a-t.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-i/this.state.zoom.value}),t.lastCoords.y=a,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return cp((function(n){var r,a,i,o,u,d;t.removePointer(n),e.eventListeners.onMove&&e.eventListeners.onMove.flush();var f=t.state,h=f.newElement,U=f.resizingElement,m=f.croppingElementId,g=f.multiElement,b=f.activeTool,y=f.isResizing,x=f.isRotating,w=f.isCropping;t.setState((function(e){return{isResizing:!1,isRotating:!1,isCropping:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",snapLines:(0,v.Ob)(e.snapLines,[]),originSnapOffset:null}})),t.lastPointerMoveCoords=null,v.ej.setReferenceSnapPoints(null),v.ej.setVisibleGaps(null),t.savePointer(n.clientX,n.clientY,"up"),t.setState({selectedElementsAreBeingDragged:!1});var E=t.scene.getNonDeletedElementsMap();if(e.drag.hasOccurred&&null!==(r=e.hit)&&void 0!==r&&null!==(r=r.element)&&void 0!==r&&r.id){var k,S=E.get(e.hit.element.id);(0,v.ic)(S)&&(null===(k=S.boundElements)||void 0===k||k.filter((function(e){return"arrow"===e.type})).map((function(e){return E.get(e.id)})).filter((function(e){return(0,v.ec)(e)})).forEach((function(e){e&&(0,v.Pj)(e,{},!0)})))}if(t.state.editingLinearElement)if(e.boxSelection.hasOccurred||(null===(a=e.hit)||void 0===a||null===(a=a.element)||void 0===a?void 0:a.id)===t.state.editingLinearElement.elementId){var M=v.pj.handlePointerUp(n,t.state.editingLinearElement,t.state,t.scene);M!==t.state.editingLinearElement&&t.setState({editingLinearElement:M,suggestedBindings:[]})}else t.actionManager.executeAction(Nl);else if(t.state.selectedLinearElement){var C;if(t.state.selectedLinearElement.elbowed){var I=v.pj.getElement(t.state.selectedLinearElement.elementId,t.scene.getNonDeletedElementsMap());I&&(0,v.Pj)(I,{},!0)}if((null===(C=e.hit)||void 0===C||null===(C=C.element)||void 0===C?void 0:C.id)!==t.state.selectedLinearElement.elementId)t.scene.getSelectedElements(t.state).length>1&&t.setState({selectedLinearElement:null});else{var j=v.pj.handlePointerUp(n,t.state.selectedLinearElement,t.state,t.scene),T=j.startBindingElement,A=j.endBindingElement,D=t.scene.getElement(j.elementId);(0,v.gc)(D)&&(0,v.Ig)(D,T,A,E,t.scene),j!==t.state.selectedLinearElement&&t.setState({selectedLinearElement:(0,s.default)((0,s.default)({},j),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(t.missingPointerEventCleanupEmitter.clear(),window.removeEventListener("pointermove",e.eventListeners.onMove),window.removeEventListener("pointerup",e.eventListeners.onUp),window.removeEventListener("keydown",e.eventListeners.onKeyDown),window.removeEventListener("keyup",e.eventListeners.onKeyUp),t.state.pendingImageElementId&&t.setState({pendingImageElementId:null}),null!==(i=t.props)&&void 0!==i&&null!==(o=i.onPointerUp)&&void 0!==o&&o.call(i,b,e),t.onPointerUpEmitter.trigger(t.state.activeTool,e,n),"freedraw"===(null===h||void 0===h?void 0:h.type)){var _=(0,v.lb)(n,t.state),L=h.points,R=_.x-h.x,P=_.y-h.y;R===L[0][0]&&P===L[0][1]&&(P+=1e-4,R+=1e-4);var N=h.simulatePressure?[]:[].concat((0,p.default)(h.pressures),[n.pressure]);return(0,v.Pj)(h,{points:[].concat((0,p.default)(L),[(0,v.Ua)(R,P)]),pressures:N,lastCommittedPoint:(0,v.Ua)(R,P)}),void t.actionManager.executeAction(Nl)}if((0,v.Wb)(h)){var F=h;try{t.initializeImageDimensions(F),t.setState({selectedElementIds:(0,v.xk)((0,l.default)({},F.id,!0),t.state)},(function(){t.actionManager.executeAction(Nl)}))}catch(T){console.error(T),t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==F.id}))),t.actionManager.executeAction(Nl)}}else if((0,v.cc)(h)){h.points.length>1&&t.store.shouldCaptureIncrement();var O=(0,v.lb)(n,t.state);e.drag.hasOccurred||!h||g?e.drag.hasOccurred&&!g&&((0,v.Fg)(t.state)&&(0,v.gc)(h,!1)&&(0,v.Lg)(h,t.state,O,t.scene.getNonDeletedElementsMap(),t.scene.getNonDeletedElements()),t.setState({suggestedBindings:[],startBoundElement:null}),b.locked?t.setState((function(e){return{newElement:null}})):((0,v.ad)(t.interactiveCanvas),t.setState((function(e){return{newElement:null,activeTool:(0,v.jb)(t.state,{type:"selection"}),selectedElementIds:(0,v.xk)((0,s.default)((0,s.default)({},e.selectedElementIds),{},(0,l.default)({},h.id,!0)),e),selectedLinearElement:new v.pj(h)}}))),t.scene.triggerUpdate()):((0,v.Pj)(h,{points:[].concat((0,p.default)(h.points),[(0,v.Ua)(O.x-h.x,O.y-h.y)])}),t.setState({multiElement:h,newElement:h}))}else{if((0,v._b)(h)){var z=(0,v.xc)((0,v.cb)({fontSize:h.fontSize,fontFamily:h.fontFamily}),h.lineHeight);h.width<z&&(0,v.Pj)(h,{autoResize:!0}),t.resetCursor(),t.handleTextWysiwyg(h,{isExistingElement:!0})}if("selection"!==b.type&&h&&(0,v.Sj)(h))t.updateScene({elements:t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==h.id})),appState:{newElement:null},captureUpdate:v.Wg.NEVER});else{if((0,v.bc)(h)){var B=(0,v.Fi)(t.scene.getElementsIncludingDeleted(),h,t.scene.getNonDeletedElementsMap());t.scene.replaceAllElements((0,v.Ii)(t.scene.getElementsMapIncludingDeleted(),B,h,t.state))}if(h&&((0,v.Pj)(h,(0,v.Wj)(h)),t.scene.triggerUpdate()),e.drag.hasOccurred){var H=(0,v.lb)(n,t.state);if(t.state.selectedLinearElement&&t.state.selectedLinearElement.isDragging){var W=t.scene.getElement(t.state.selectedLinearElement.elementId);if(null!==W&&void 0!==W&&W.frameId){var X=(0,v.Gi)(W,E);X&&W&&((0,v.yi)(W,X,t.scene.getNonDeletedElementsMap())||((0,v.Pj)(W,{groupIds:[]}),(0,v.Ji)([W],t.scene.getNonDeletedElementsMap()),t.scene.triggerUpdate()))}}else{var V=t.getTopLayerFrameAtSceneCoords(H),G=t.scene.getSelectedElements(t.state),Y=t.scene.getElementsMapIncludingDeleted(),Z=function(e){if(e.length>0){var n,r=(0,c.default)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.groupIds.indexOf(t.state.editingGroupId);(0,v.Pj)(a,{groupIds:a.groupIds.slice(0,i)},!1)}}catch(o){r.e(o)}finally{r.f()}Y.forEach((function(e){e.groupIds.length&&(0,v.Qc)(Y,e.groupIds[e.groupIds.length-1]).length<2&&(0,v.Pj)(e,{groupIds:[]},!1)})),t.setState({editingGroupId:null})}};if(V&&!t.state.selectedElementIds[V.id]){var K=G.filter((function(e){return e.frameId!==V.id&&(0,v.Ni)(e,Y,t.state)}));t.state.editingGroupId&&Z(K),Y=(0,v.Ii)(Y,K,V,t.state)}else if(!V&&t.state.editingGroupId){Z(G.filter((function(e){return e.frameId&&!(0,v.Ni)(e,Y,t.state)})))}Y=(0,v.Mi)(Y,t.state,t),t.scene.replaceAllElements(Y)}}if(U&&t.store.shouldCaptureIncrement(),U&&(0,v.Sj)(U)&&t.updateScene({elements:t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==U.id})),captureUpdate:v.Wg.NEVER}),e.resize.isResizing){var q,$=(0,v.Mi)(t.scene.getElementsIncludingDeleted(),t.state,t),Q=t.scene.getSelectedElements(t.state).filter((function(e){return(0,v.bc)(e)})),J=(0,c.default)(Q);try{for(J.s();!(q=J.n()).done;){var ee=q.value;$=(0,v.Li)($,(0,v.Ei)(t.scene.getElementsIncludingDeleted(),ee,t.state,E),ee,t)}}catch(se){J.e(se)}finally{J.f()}t.scene.replaceAllElements($)}var te=e.hit.element;(null===(u=t.state.selectedLinearElement)||void 0===u?void 0:u.elementId)!==(null===te||void 0===te?void 0:te.id)&&(0,v.cc)(te)&&1===t.scene.getSelectedElements(t.state).length&&t.setState({selectedLinearElement:new v.pj(te)}),(!m||m&&(!te&&!w||te&&te.id!==m))&&t.finishImageCropping();var ne=t.lastPointerDownEvent,re=t.lastPointerUpEvent||t.lastPointerMoveEvent;if((0,v.Gc)(t.state)&&ne&&re){if(t.eraserTrail.endPath(),0===(0,v.Wa)((0,v.Ua)(ne.clientX,ne.clientY),(0,v.Ua)(re.clientX,re.clientY))){var ae=(0,v.lb)({clientX:re.clientX,clientY:re.clientY},t.state);t.getElementsAtPosition(ae.x,ae.y).forEach((function(e){return t.elementsPendingErasure.add(e.id)}))}t.eraseElements()}else{if(t.elementsPendingErasure.size&&t.restoreReadyToEraseElements(),te&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection&&(!t.state.editingLinearElement||!e.boxSelection.hasOccurred)&&(n.shiftKey&&!t.state.editingLinearElement?t.state.selectedElementIds[te.id]?(0,v.Kc)(t.state,te)?t.setState((function(e){var n,r=(0,s.default)({},e.selectedElementIds),a=(0,c.default)(te.groupIds.flatMap((function(e){return(0,v.Qc)(t.scene.getNonDeletedElements(),e)})));try{for(a.s();!(n=a.n()).done;){delete r[n.value.id]}}catch(se){a.e(se)}finally{a.f()}return{selectedGroupIds:(0,s.default)((0,s.default)({},e.selectedElementIds),te.groupIds.map((function(e){return(0,l.default)({},e,!1)})).reduce((function(e,t){return(0,s.default)((0,s.default)({},e),t)}),{})),selectedElementIds:(0,v.xk)(r,e)}})):(null===(d=t.state.selectedLinearElement)||void 0===d?void 0:d.isDragging)||t.setState((function(e){var n=(0,s.default)({},e.selectedElementIds);delete n[te.id];var r=(0,v.vk)(t.scene.getNonDeletedElements(),{selectedElementIds:n});return(0,s.default)((0,s.default)({},(0,v.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:n},t.scene.getNonDeletedElements(),e,t)),{},{selectedLinearElement:1===r.length&&(0,v.cc)(r[0])?new v.pj(r[0]):e.selectedLinearElement})})):te.frameId&&t.state.selectedElementIds[te.frameId]?t.setState((function(e){var n,r,a=(0,s.default)((0,s.default)({},e.selectedElementIds),{},(0,l.default)({},te.id,!0));return delete a[te.frameId],(null!==(n=null===(r=t.scene.getElement(te.frameId))||void 0===r?void 0:r.groupIds)&&void 0!==n?n:[]).flatMap((function(e){return(0,v.Qc)(t.scene.getNonDeletedElements(),e)})).forEach((function(e){delete a[e.id]})),(0,s.default)((0,s.default)({},(0,v.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:a},t.scene.getNonDeletedElements(),e,t)),{},{showHyperlinkPopup:!(!te.link&&!(0,v.Xb)(te))&&"info"})})):t.setState((function(e){return{selectedElementIds:(0,v.xk)((0,s.default)((0,s.default)({},e.selectedElementIds),{},(0,l.default)({},te.id,!0)),e)}})):t.setState((function(e){var n;return(0,s.default)((0,s.default)({},(0,v.Jc)({editingGroupId:e.editingGroupId,selectedElementIds:(0,l.default)({},te.id,!0)},t.scene.getNonDeletedElements(),e,t)),{},{selectedLinearElement:(0,v.cc)(te)&&(null===(n=e.selectedLinearElement)||void 0===n?void 0:n.elementId)!==te.id?new v.pj(te):e.selectedLinearElement})}))),(!te||!(0,v.ec)(te))&&!e.drag.hasOccurred&&!t.state.isResizing&&(te&&(0,v.pg)({x:e.origin.x,y:e.origin.y,element:te,shape:(0,v.tg)(te,t.scene.getNonDeletedElementsMap()),threshold:t.getElementHitThreshold(),frameNameBound:(0,v.bc)(te)?t.frameNameBoundsCache.get(te):null},E)||!te&&e.hit.hasHitCommonBoundingBoxOfSelectedElements))return t.state.editingLinearElement?t.setState({editingLinearElement:null}):t.setState({selectedElementIds:(0,v.xk)({},t.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),void(0,v.bd)(t.interactiveCanvas,v.z.AUTO);if(!b.locked&&"freedraw"!==b.type&&h&&t.setState((function(e){return{selectedElementIds:(0,v.xk)((0,s.default)((0,s.default)({},e.selectedElementIds),{},(0,l.default)({},h.id,!0)),e),showHyperlinkPopup:(0,v.Xb)(h)&&!h.link?"editor":e.showHyperlinkPopup}})),("selection"!==b.type||(0,v.tk)(t.scene.getNonDeletedElements(),t.state)||!(0,v.Hb)(t.state.previousSelectedElementIds,t.state.selectedElementIds))&&t.store.shouldCaptureIncrement(),e.drag.hasOccurred||y||x||w){var ie,oe,le=t.scene.getSelectedElements(t.state).filter(v.cc);(0,v.Jg)(le,t.scene.getNonDeletedElementsMap(),t.scene.getNonDeletedElements(),t.scene,(0,v.Fg)(t.state),null!==(ie=null===(oe=t.state.selectedLinearElement)||void 0===oe?void 0:oe.selectedPointsIndices)&&void 0!==ie?ie:[],t.state.zoom)}"laser"!==b.type?(b.locked||"freedraw"===b.type?t.setState({newElement:null,suggestedBindings:[]}):((0,v.ad)(t.interactiveCanvas),t.setState({newElement:null,suggestedBindings:[],activeTool:(0,v.jb)(t.state,{type:"selection"})})),te&&t.lastPointerUpEvent&&t.lastPointerDownEvent&&t.lastPointerUpEvent.timeStamp-t.lastPointerDownEvent.timeStamp<300&&Ev.pointers.size<=1&&(0,v.Zb)(te)&&t.isIframeLikeElementCenter(te,t.lastPointerUpEvent,e.origin.x,e.origin.y)&&t.handleEmbeddableCenterClick(te)):t.laserTrails.endPath()}}}}))}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:(0,v.xk)({},t),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&(0,v.Pc)(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:(0,v.xk)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r){if(r){var a=r.x+r.width/2,i=r.y+r.height/2,o=(0,v.Bj)(r,n,this.scene.getNonDeletedElementsMap());if(o&&(a=o.x,i=o.y),Math.hypot(e-a,t-i)<v.x){var l=(0,v.mb)({sceneX:a,sceneY:i},n);return{viewportX:l.x,viewportY:l.y,elementCenterX:a,elementCenterY:i}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:function(){var e=(0,h.default)((0,f.default)().mark((function e(){var t,n=this;return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ji.find((function(e){return e.code===n.props.langCode}))||Ii,e.next=3,_i(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"resetTapTwice",value:function(){uv=!1}}])}(y.Component);(U.a.MODE===v.D.TEST||U.a.DEV)&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene.getElementsIncludingDeleted()},set:function(e){var t;return null===(t=this.app)||void 0===t?void 0:t.scene.replaceAllElements((0,v.Nj)(e))}},scene:{configurable:!0,get:function(){var e;return null===(e=this.app)||void 0===e?void 0:e.scene}}}));var Sv=kv,Mv=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},Cv=function(e){var t=e.children,n=Uu().FooterCenterTunnel,r=_o();return(0,X.jsx)(n.In,{children:(0,X.jsx)("div",{className:(0,ie.A)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":r.zenModeEnabled}),children:t})})};Cv.displayName="FooterCenter";var Iv=function(){return(0,X.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,X.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},jv=function(){return(0,X.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,X.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,X.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,X.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,X.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Tv=function(e){var t=e.style,n=e.size,r=void 0===n?"small":n,a=e.withText;return(0,X.jsxs)("div",{className:"ExcalidrawLogo is-".concat(r),style:t,children:[(0,X.jsx)(Iv,{}),a&&(0,X.jsx)(jv,{})]})},Av=function(e){var t=e.icon,n=e.shortcut,r=e.children,a=av();return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("div",{className:"welcome-screen-menu-item__icon",children:t}),(0,X.jsx)("div",{className:"welcome-screen-menu-item__text",children:r}),n&&!a.editor.isMobile&&(0,X.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:n})]})};Av.displayName="WelcomeScreenMenuItemContent";var Dv=function(e){var t=e.onSelect,n=e.children,r=e.icon,a=e.shortcut,i=e.className,o=void 0===i?"":i,l=(0,u.default)(e,vi);return(0,X.jsx)("button",(0,s.default)((0,s.default)({},l),{},{type:"button",className:"welcome-screen-menu-item ".concat(o),onClick:t,children:(0,X.jsx)(Av,{icon:r,shortcut:a,children:n})}))};Dv.displayName="WelcomeScreenMenuItem";var _v=function(e){var t=e.children,n=e.href,r=e.icon,a=e.shortcut,i=e.className,o=void 0===i?"":i,l=(0,u.default)(e,Ui);return(0,X.jsx)("a",(0,s.default)((0,s.default)({},l),{},{className:"welcome-screen-menu-item ".concat(o),href:n,target:"_blank",rel:"noreferrer",children:(0,X.jsx)(Av,{icon:r,shortcut:a,children:t})}))};_v.displayName="WelcomeScreenMenuItemLink";var Lv=function(e){var t=e.children,n=Uu().WelcomeScreenCenterTunnel;return(0,X.jsx)(n.In,{children:(0,X.jsx)("div",{className:"welcome-screen-center",children:t||(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Rv,{}),(0,X.jsx)(Pv,{children:Pi("welcomeScreen.defaults.center_heading")}),(0,X.jsxs)(Nv,{children:[(0,X.jsx)(Ov,{}),(0,X.jsx)(Fv,{})]})]})})})};Lv.displayName="Center";var Rv=function(e){var t=e.children;return(0,X.jsx)("div",{className:"welcome-screen-center__logo excalifont welcome-screen-decor",children:t||(0,X.jsx)(Tv,{withText:!0})})};Rv.displayName="Logo";var Pv=function(e){var t=e.children;return(0,X.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor excalifont",children:t})};Pv.displayName="Heading";var Nv=function(e){var t=e.children;return(0,X.jsx)("div",{className:"welcome-screen-menu",children:t})};Nv.displayName="Menu";var Fv=function(){var e=cv();return(0,X.jsx)(Dv,{onSelect:function(){return e.executeAction(ns)},shortcut:"?",icon:v.Bd,children:Pi("helpDialog.title")})};Fv.displayName="MenuItemHelp";var Ov=function(){var e=_o(),t=cv();return e.viewModeEnabled?null:(0,X.jsx)(Dv,{onSelect:function(){return t.executeAction($l)},shortcut:cu("loadScene"),icon:v.Ld,children:Pi("buttons.load")})};Ov.displayName="MenuItemLoadScene";var zv=function(e){var t=e.onSelect,n=Fi().t;return(0,X.jsx)(Dv,{shortcut:null,onSelect:t,icon:v.fe,children:n("labels.liveCollaboration")})};zv.displayName="MenuItemLiveCollaborationTrigger",Lv.Logo=Rv,Lv.Heading=Pv,Lv.Menu=Nv,Lv.MenuItem=Dv,Lv.MenuItemLink=_v,Lv.MenuItemHelp=Fv,Lv.MenuItemLoadScene=Ov,Lv.MenuItemLiveCollaborationTrigger=zv;var Bv=function(e){var t=e.children,n=Uu().WelcomeScreenMenuHintTunnel;return(0,X.jsx)(n.In,{children:(0,X.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[v.ld,(0,X.jsx)("div",{className:"welcome-screen-decor-hint__label",children:t||Pi("welcomeScreen.defaults.menuHint")})]})})};Bv.displayName="MenuHint";var Hv=function(e){var t=e.children,n=Uu().WelcomeScreenToolbarHintTunnel;return(0,X.jsx)(n.In,{children:(0,X.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,X.jsx)("div",{className:"welcome-screen-decor-hint__label",children:t||Pi("welcomeScreen.defaults.toolbarHint")}),v.nd]})})};Hv.displayName="ToolbarHint";var Wv=function(e){var t=e.children,n=Uu().WelcomeScreenHelpHintTunnel;return(0,X.jsx)(n.In,{children:(0,X.jsxs)("div",{className:"excalifont welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,X.jsx)("div",{children:t||Pi("welcomeScreen.defaults.helpHint")}),v.md]})})};Wv.displayName="HelpHint";var Xv=function(e){return(0,X.jsx)(X.Fragment,{children:e.children||(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Lv,{}),(0,X.jsx)(Bv,{}),(0,X.jsx)(Hv,{}),(0,X.jsx)(Wv,{})]})})};Xv.displayName="WelcomeScreen",Xv.Center=Lv,Xv.Hints={MenuHint:Bv,ToolbarHint:Hv,HelpHint:Wv};var Vv=function(e){var t=e.isCollaborating,n=e.onSelect,r=(0,u.default)(e,mi),a=_o(),i=a.width<830;return(0,X.jsxs)(ou,(0,s.default)((0,s.default)({},r),{},{className:(0,ie.A)("collab-button",{active:t}),type:"button",onSelect:n,style:{position:"relative",width:i?void 0:"auto"},title:Pi("labels.liveCollaboration"),children:[i?v.Ud:Pi("labels.share"),a.collaborators.size>0&&(0,X.jsx)("div",{className:"CollabButton-collaborators",children:a.collaborators.size})]}))};Vv.displayName="LiveCollaborationTrigger";var Gv=function(e,t,n){var r,a,i;return!(!t||!(t.id===(null===(r=e.editingTextElement)||void 0===r?void 0:r.id)||t.id===(null===(a=e.resizingElement)||void 0===a?void 0:a.id)||t.id===(null===(i=e.newElement)||void 0===i?void 0:i.id)||t.version>n.version||t.version===n.version&&t.versionNonce<n.versionNonce))},Yv=zn((function(e,t,n){var r;if(U.a.DEV||U.a.MODE===v.D.TEST||null!==(r=window)&&void 0!==r&&r.DEBUG_FRACTIONAL_INDICES){var a=(0,v.Nj)(e.map((function(e){return(0,s.default)({},e)})));(0,v.Kj)(a,{shouldThrow:U.a.DEV||U.a.MODE===v.D.TEST,includeBoundTextValidation:!0,reconciliationContext:{localElements:t,remoteElements:n}})}}),6e4,{leading:!0,trailing:!1}),Zv=function(e,t,n){var r,a=(0,v.xb)(e),i=[],o=new Set,l=(0,c.default)(t);try{for(l.s();!(r=l.n()).done;){var s=r.value;if(!o.has(s.id)){var u=a.get(s.id),d=Gv(n,u,s);u&&d?(i.push(u),o.add(u.id)):(i.push(s),o.add(s.id))}}}catch(m){l.e(m)}finally{l.f()}var f,h=(0,c.default)(e);try{for(h.s();!(f=h.n()).done;){var p=f.value;o.has(p.id)||(i.push(p),o.add(p.id))}}catch(m){h.e(m)}finally{h.f()}var U=(0,v.Lj)(i);return Yv(U,e,t),(0,v.Nj)(U),U};Mv();var Kv=y.memo((function(e){var t,r,a,i,o,l=e.onChange,c=e.initialData,u=e.excalidrawAPI,d=e.isCollaborating,p=void 0!==d&&d,U=e.onPointerUpdate,m=e.renderTopRightUI,g=e.langCode,b=void 0===g?Ii.code:g,x=e.viewModeEnabled,w=e.zenModeEnabled,E=e.gridModeEnabled,k=e.libraryReturnUrl,S=e.theme,M=e.name,C=e.renderCustomStats,I=e.onPaste,j=e.detectScroll,T=void 0===j||j,A=e.handleKeyboardGlobally,D=void 0!==A&&A,_=e.onLibraryChange,L=e.autoFocus,R=void 0!==L&&L,P=e.generateIdForFile,N=e.onLinkOpen,F=e.generateLinkForSelection,O=e.onPointerDown,z=e.onPointerUp,B=e.onScrollChange,H=e.onDuplicate,W=e.children,V=e.validateEmbeddable,G=e.renderEmbeddable,Y=e.aiEnabled,Z=e.showDeprecatedFonts,K=null===(t=e.UIOptions)||void 0===t?void 0:t.canvasActions,q=(0,s.default)((0,s.default)({},e.UIOptions),{},{canvasActions:(0,s.default)((0,s.default)({},v.ga.canvasActions),K),tools:{image:null===(r=null===(a=e.UIOptions)||void 0===a||null===(a=a.tools)||void 0===a?void 0:a.image)||void 0===r||r}});return null!==K&&void 0!==K&&K.export&&(q.canvasActions.export.saveFileToDisk=null!==(i=null===(o=K.export)||void 0===o?void 0:o.saveFileToDisk)&&void 0!==i?i:v.ga.canvasActions.export.saveFileToDisk),null===q.canvasActions.toggleTheme&&typeof S>"u"&&(q.canvasActions.toggleTheme=!0),(0,y.useEffect)((function(){(0,h.default)((0,f.default)().mark((function e(){return(0,f.default)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4223),n.e(966)]).then(n.t.bind(n,30966,19));case 2:case"end":return e.stop()}}),e)})))();var e=function(e){"number"==typeof e.scale&&1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]),(0,X.jsx)(Si,{store:Mi,children:(0,X.jsx)(Bi,{langCode:b,theme:S,children:(0,X.jsx)(Sv,{onChange:l,initialData:c,excalidrawAPI:u,isCollaborating:p,onPointerUpdate:U,renderTopRightUI:m,langCode:b,viewModeEnabled:x,zenModeEnabled:w,gridModeEnabled:E,libraryReturnUrl:k,theme:S,name:M,renderCustomStats:C,UIOptions:q,onPaste:I,detectScroll:T,handleKeyboardGlobally:D,onLibraryChange:_,autoFocus:R,generateIdForFile:P,onLinkOpen:N,generateLinkForSelection:F,onPointerDown:O,onPointerUp:z,onScrollChange:B,onDuplicate:H,validateEmbeddable:V,renderEmbeddable:G,aiEnabled:!1!==Y,showDeprecatedFonts:Z,children:W})})})}),(function(e,t){if(e.children!==t.children)return!1;e.initialData;var n=e.UIOptions,r=void 0===n?{}:n,a=(0,u.default)(e,gi),i=(t.initialData,t.UIOptions),o=void 0===i?{}:i,l=(0,u.default)(t,bi),s=Object.keys(r),c=Object.keys(o);return s.length===c.length&&(s.every((function(e){return"canvasActions"===e?Object.keys(r.canvasActions).every((function(e){var t,n,a,i;return"export"===e&&null!==r&&void 0!==r&&null!==(t=r.canvasActions)&&void 0!==t&&t.export&&null!==o&&void 0!==o&&null!==(n=o.canvasActions)&&void 0!==n&&n.export?r.canvasActions.export.saveFileToDisk===o.canvasActions.export.saveFileToDisk:(null===r||void 0===r||null===(a=r.canvasActions)||void 0===a?void 0:a[e])===(null===o||void 0===o||null===(i=o.canvasActions)||void 0===i?void 0:i[e])})):r[e]===o[e]}))&&(0,v.Hb)(a,l))}));Kv.displayName="Excalidraw"},96772:function(e,t,n){"use strict";n.d(t,{Ak:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}},90782:function(e){"use strict";e.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')}},function(e){e.O(0,[4223],(function(){return t=36297,e(e.s=t);var t}));e.O()}]);