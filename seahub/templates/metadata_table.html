{% extends "base.html" %}
{% load i18n %}

{% block main_panel %}
<div style="display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0;">  
    <table style="border-collapse: collapse; width: 100%; max-width: 800px;">  
        <thead>  
            <tr>  
                <th style="border: 1px solid black; padding: 8px; text-align: center;">id</th>  
                <th style="border: 1px solid black; padding: 8px; text-align: center;">Creator</th>  
                <th style="border: 1px solid black; padding: 8px; text-align: center;">Created Time</th>
                <th style="border: 1px solid black; padding: 8px; text-align: center;">Modifier</th>  
                <th style="border: 1px solid black; padding: 8px; text-align: center;">Modified Time</th>  
                <th style="border: 1px solid black; padding: 8px; text-align: center;">Parent Folder</th>  
                <th style="border: 1px solid black; padding: 8px; text-align: center;">Name</th>  
                <th style="border: 1px solid black; padding: 8px; text-align: center;">Is Folder</th>  
            </tr>  
        </thead>  
        <tbody>  
            {% for record in metadata_records %}  
            <tr>  
                <td style="border: 1px solid black; padding: 8px;">{{ record.id }}</td>  
                <td style="border: 1px solid black; padding: 8px;">{{ record.creator }}</td>  
                <td style="border: 1px solid black; padding: 8px;">{{ record.file_ctime }}</td>
                <td style="border: 1px solid black; padding: 8px;">{{ record.modifier }}</td>
                <td style="border: 1px solid black; padding: 8px;">{{ record.file_mtime }}</td>
                <td style="border: 1px solid black; padding: 8px;">{{ record.parent_dir }}</td>
                <td style="border: 1px solid black; padding: 8px;">{{ record.name }}</td>
                <td style="border: 1px solid black; padding: 8px;">{{ record.is_dir|yesno:"Yes,No" }}</td>
            </tr>  
            {% endfor %}  
        </tbody>  
    </table>  
</div>  
{% endblock %}

{% block extra_script %}
<script type="text/javascript">
window.app.metadatas = [];
{% for record in metadata_records %}
window.app.metadatas.push({
    id: '{{ record.id }}',
    creator: '{{ record.creator }}',
    createdTime: '{{ record.file_ctime }}',
    modifier: '{{ record.modifier }}',
    modifiedTime: '{{ record.file_mtime }}',
    parentDir: '{{ record.parent_dir }}',
    name: '{{ record.name }}',
    isDir: '{{ record.is_dir }}',
});
{% endfor %} 
</script>
{% endblock %}