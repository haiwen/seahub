{% extends 'view_file_base.html' %}
{% load i18n %}
{% load url from future %}

{% block extra_style %}{{block.super}}
<style type="text/css">
html { overflow:hidden; }
#file-view { 
    text-align:center;
    padding:30px 0;
    position:relative;
}
</style>
{% endblock %}

{% block file_view %}
<img src="{{ raw_path }}" alt="{{ u_filename}}" id="image-view" />
{% endblock %}

{% block extra_script %}{{ block.super }}

<script type="text/javascript">
function setImgMaxHeight() {
    var file_view = $('#file-view');
    file_view.outerHeight($(window).height() - file_view.offset().top);
    $('#image-view').css({
        'max-height': $(window).height() - file_view.offset().top - parseInt(file_view.css('padding-top')) - parseInt(file_view.css('padding-bottom'))
    });
}
$(function() {
    setImgMaxHeight();
});
$(window).resize(setImgMaxHeight);
</script>
{% endblock %}
