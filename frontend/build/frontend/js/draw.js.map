{"version":3,"sources":["../js/draw.js","../config/polyfills.js","draw/draw.js","draw/draw-viewer.js","utils/constants.js","utils/seafile-api.js"],"names":["webpackJsonp","12","module","exports","__webpack_require__","Promise","enable","window","Object","assign","1321","1322","loadFile","editorUi","seafileAPI","getFileContent","app","config","rawPath","then","res","doc","mxUtils","parseXml","data","editor","setGraphXml","documentElement","setModified","undoManager","clear","saveFile","content","getUpdateLink","repoID","parentDir","updateFile","path","filename","_seafileApi","_drawViewer","_drawViewer2","obj","__esModule","default","DrawViewer","1323","_classCallCheck","instance","Constructor","TypeError","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","mxRectangle","mxGraph","mxCodec","graph","this","setEnabled","_this","console","log","node","gridEnabled","gridSize","parseFloat","getAttribute","graphHandler","guidesEnabled","setTooltips","setConnectable","connectionArrowsEnabled","foldingEnabled","cellRenderer","forceControlClickHandler","ps","pageScale","pageVisible","pageBreaksVisible","preferPageSize","pw","ph","pageFormat","bg","background","defaultGraphBackground","dec","ownerDocument","nodeName","model","beginUpdate","view","scale","readGraphState","updateGraphComponents","decode","getModel","endUpdate","resetGraph","container","validateBackground","style","overflow","scrollbars","defaultScrollbars","defaultPageVisible","currentScale","currentTranslate","x","y","setScale","2","dirPath","gettext","siteRoot","loginUrl","avatarInfo","logoPath","mediaUrl","siteTitle","siteName","logoWidth","logoHeight","isPro","isDocs","lang","fileServerRoot","seafileVersion","serviceURL","seafileCollabServer","pageOptions","name","contactEmail","username","canAddRepo","canGenerateShareLink","canGenerateUploadLink","canViewOrg","fileAuditEnabled","enableFileComment","folderPermEnabled","enableResetEncryptedRepoPassword","isEmailConfigured","enableUploadFolder","enableResumableFileUpload","storages","enableRepoSnapshotLabel","shareLinkExpireDaysMin","shareLinkExpireDaysMax","maxFileName","enableWiki","enableEncryptedLibrary","enableRepoHistorySetting","isSystemStaff","thumbnailSizeForOriginal","repoPasswordMinLength","curNoteMsg","curNoteID","slug","wiki","repoId","initialPath","initial_path","permission","isDir","serviceUrl","isPublicWiki","PER_PAGE","historyRepoID","fileHistory","repoName","filePath","fileName","draftFilePath","draft","draftOriginFilePath","draftFileName","draftID","draftRepoID","author","authorAvatar","originFileExists","draftFileExists","draftStatus","draftPublishVersion","originFileVersion","orgID","org","invitationLink","orgMemberQuotaEnabled","constanceEnabled","sysadmin","constance_enabled","multiTenancy","multi_tenancy","multiInstitution","multi_institution","sysadminExtraEnabled","sysadmin_extra_enabled","enableGuestInvitation","enable_guest_invitation","enableTermsAndConditions","enable_terms_and_conditions","isDefaultAdmin","is_default_admin","enableFileScan","enable_file_scan","canViewSystemInfo","admin_permissions","can_view_system_info","canViewStatistic","can_view_statistic","canConfigSystem","can_config_system","canManageLibrary","can_manage_library","canManageUser","can_manage_user","canManageGroup","can_manage_group","canViewUserLog","can_view_user_log","canViewAdminLog","can_view_admin_log","3","undefined","_reactCookies","_reactCookies2","_seafileJs","_constants","SeafileAPI","xcsrfHeaders","cookie","load","initForSeahubUsage"],"mappings":"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","file":"js/draw.js","sourcesContent":["webpackJsonp([30],{\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  __webpack_require__(33).enable();\n  window.Promise = __webpack_require__(34);\n}\n\n// fetch() polyfill for making API calls.\n__webpack_require__(32);\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = __webpack_require__(21);\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (false) {\n  require('raf').polyfill(global);\n}\n\n\n/***/ }),\n\n/***/ 1321:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(12);\nmodule.exports = __webpack_require__(1322);\n\n\n/***/ }),\n\n/***/ 1322:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar _seafileApi=__webpack_require__(3);var _drawViewer=__webpack_require__(1323);var _drawViewer2=_interopRequireDefault(_drawViewer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function loadFile(editorUi){return _seafileApi.seafileAPI.getFileContent(window.app.config.rawPath).then(function(res){var doc=window.mxUtils.parseXml(res.data);//console.log(doc.documentElement);\neditorUi.editor.setGraphXml(doc.documentElement);editorUi.editor.setModified(false);editorUi.editor.undoManager.clear();});}function saveFile(content){return _seafileApi.seafileAPI.getUpdateLink(window.app.config.repoID,window.app.config.parentDir).then(function(res){return _seafileApi.seafileAPI.updateFile(res.data,window.app.config.path,window.app.config.filename,content);});}window.loadFile=loadFile;window.saveFile=saveFile;window.DrawViewer=_drawViewer2.default;\n\n/***/ }),\n\n/***/ 1323:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _seafileApi=__webpack_require__(3);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var mxRectangle=window.mxRectangle;var mxGraph=window.mxGraph;var mxCodec=window.mxCodec;var mxUtils=window.mxUtils;var DrawViewer=function(){function DrawViewer(graph){_classCallCheck(this,DrawViewer);this.graph=graph;graph.setEnabled(false);}_createClass(DrawViewer,[{key:'loadFile',value:function loadFile(){var _this=this;_seafileApi.seafileAPI.getFileContent(window.app.config.rawPath).then(function(res){var doc=mxUtils.parseXml(res.data);/* eslint-disable */console.log(doc.documentElement);/* eslint-enable */_this.setGraphXml(doc.documentElement);});}},{key:'readGraphState',value:function readGraphState(node){this.graph.gridEnabled=false;this.graph.gridSize=parseFloat(node.getAttribute('gridSize'))||window.mxGraph.prototype.gridSize;this.graph.graphHandler.guidesEnabled=node.getAttribute('guides')!='0';this.graph.setTooltips(node.getAttribute('tooltips')!='0');this.graph.setConnectable(node.getAttribute('connect')!='0');this.graph.connectionArrowsEnabled=node.getAttribute('arrows')!='0';this.graph.foldingEnabled=node.getAttribute('fold')!='0';if(this.graph.foldingEnabled){this.graph.foldingEnabled=false;this.graph.cellRenderer.forceControlClickHandler=this.graph.foldingEnabled;}var ps=node.getAttribute('pageScale');if(ps!=null){this.graph.pageScale=ps;}else{this.graph.pageScale=window.mxGraph.prototype.pageScale;}this.graph.pageVisible=false;this.graph.pageBreaksVisible=this.graph.pageVisible;this.graph.preferPageSize=this.graph.pageBreaksVisible;var pw=node.getAttribute('pageWidth');var ph=node.getAttribute('pageHeight');if(pw!=null&&ph!=null){this.graph.pageFormat=new mxRectangle(0,0,parseFloat(pw),parseFloat(ph));}// Loads the persistent state settings\nvar bg=node.getAttribute('background');if(bg!=null&&bg.length>0){this.graph.background=bg;}else{this.graph.background=this.graph.defaultGraphBackground;}}/**\n   * Sets the XML node for the current diagram.\n   */},{key:'setGraphXml',value:function setGraphXml(node){if(node!=null){var dec=new mxCodec(node.ownerDocument);if(node.nodeName=='mxGraphModel'){this.graph.model.beginUpdate();try{this.graph.model.clear();this.graph.view.scale=1;this.readGraphState(node);this.updateGraphComponents();dec.decode(node,this.graph.getModel());}finally{this.graph.model.endUpdate();}}}else{this.resetGraph();this.graph.model.clear();}}/**\n  * Keeps the graph container in sync with the persistent graph state\n  */},{key:'updateGraphComponents',value:function updateGraphComponents(){var graph=this.graph;if(graph.container!=null){graph.view.validateBackground();graph.container.style.overflow=graph.scrollbars?'auto':'hidden';}}/**\n  * Sets the XML node for the current diagram.\n  */},{key:'resetGraph',value:function resetGraph(){this.graph.gridEnabled=false;this.graph.graphHandler.guidesEnabled=true;this.graph.setTooltips(true);this.graph.setConnectable(true);this.graph.foldingEnabled=true;this.graph.scrollbars=this.graph.defaultScrollbars;this.graph.pageVisible=this.graph.defaultPageVisible;this.graph.pageBreaksVisible=this.graph.pageVisible;this.graph.preferPageSize=this.graph.pageBreaksVisible;this.graph.background=this.graph.defaultGraphBackground;this.graph.pageScale=mxGraph.prototype.pageScale;this.graph.pageFormat=mxGraph.prototype.pageFormat;this.graph.currentScale=1;this.graph.currentTranslate.x=0;this.graph.currentTranslate.y=0;this.updateGraphComponents();this.graph.view.setScale(1);}}]);return DrawViewer;}();exports.default=DrawViewer;\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});var dirPath=exports.dirPath='/';var gettext=exports.gettext=window.gettext;var siteRoot=exports.siteRoot=window.app.config.siteRoot;var loginUrl=exports.loginUrl=window.app.config.loginUrl;var avatarInfo=exports.avatarInfo=window.app.config.avatarInfo;var logoPath=exports.logoPath=window.app.config.logoPath;var mediaUrl=exports.mediaUrl=window.app.config.mediaUrl;var siteTitle=exports.siteTitle=window.app.config.siteTitle;var siteName=exports.siteName=window.app.config.siteName;var logoWidth=exports.logoWidth=window.app.config.logoWidth;var logoHeight=exports.logoHeight=window.app.config.logoHeight;var isPro=exports.isPro=window.app.config.isPro==='True';var isDocs=exports.isDocs=window.app.config.isDocs==='True';var lang=exports.lang=window.app.config.lang;var fileServerRoot=exports.fileServerRoot=window.app.config.fileServerRoot;var seafileVersion=exports.seafileVersion=window.app.config.seafileVersion;var serviceURL=exports.serviceURL=window.app.config.serviceURL;//pageOptions\nvar seafileCollabServer=exports.seafileCollabServer=window.app.pageOptions.seafileCollabServer;var name=exports.name=window.app.pageOptions.name;var contactEmail=exports.contactEmail=window.app.pageOptions.contactEmail;var username=exports.username=window.app.pageOptions.username;var canAddRepo=exports.canAddRepo=window.app.pageOptions.canAddRepo;var canGenerateShareLink=exports.canGenerateShareLink=window.app.pageOptions.canGenerateShareLink;var canGenerateUploadLink=exports.canGenerateUploadLink=window.app.pageOptions.canGenerateUploadLink?true:false;var canViewOrg=exports.canViewOrg=window.app.pageOptions.canViewOrg==='True';var fileAuditEnabled=exports.fileAuditEnabled=window.app.pageOptions.fileAuditEnabled?true:false;var enableFileComment=exports.enableFileComment=window.app.pageOptions.enableFileComment?true:false;var folderPermEnabled=exports.folderPermEnabled=window.app.pageOptions.folderPermEnabled==='True';var enableResetEncryptedRepoPassword=exports.enableResetEncryptedRepoPassword=window.app.pageOptions.enableResetEncryptedRepoPassword==='True';var isEmailConfigured=exports.isEmailConfigured=window.app.pageOptions.isEmailConfigured==='True';var enableUploadFolder=exports.enableUploadFolder=window.app.pageOptions.enableUploadFolder==='True';var enableResumableFileUpload=exports.enableResumableFileUpload=window.app.pageOptions.enableResumableFileUpload==='True';var storages=exports.storages=window.app.pageOptions.storages;// storage backends\nvar enableRepoSnapshotLabel=exports.enableRepoSnapshotLabel=window.app.pageOptions.enableRepoSnapshotLabel;var shareLinkExpireDaysMin=exports.shareLinkExpireDaysMin=window.app.pageOptions.shareLinkExpireDaysMin;var shareLinkExpireDaysMax=exports.shareLinkExpireDaysMax=window.app.pageOptions.shareLinkExpireDaysMax;var maxFileName=exports.maxFileName=window.app.pageOptions.maxFileName;var enableWiki=exports.enableWiki=window.app.pageOptions.enableWiki;var enableEncryptedLibrary=exports.enableEncryptedLibrary=window.app.pageOptions.enableEncryptedLibrary;var enableRepoHistorySetting=exports.enableRepoHistorySetting=window.app.pageOptions.enableRepoHistorySetting;var isSystemStaff=exports.isSystemStaff=window.app.pageOptions.isSystemStaff;var thumbnailSizeForOriginal=exports.thumbnailSizeForOriginal=window.app.pageOptions.thumbnailSizeForOriginal;var repoPasswordMinLength=exports.repoPasswordMinLength=window.app.pageOptions.repoPasswordMinLength;var curNoteMsg=exports.curNoteMsg=window.app.pageOptions.curNoteMsg;var curNoteID=exports.curNoteID=window.app.pageOptions.curNoteID;// wiki\nvar slug=exports.slug=window.wiki?window.wiki.config.slug:'';var repoID=exports.repoID=window.wiki?window.wiki.config.repoId:'';var initialPath=exports.initialPath=window.wiki?window.wiki.config.initial_path:'';var permission=exports.permission=window.wiki?window.wiki.config.permission==='True':'';var isDir=exports.isDir=window.wiki?window.wiki.config.isDir:'';var serviceUrl=exports.serviceUrl=window.wiki?window.wiki.config.serviceUrl:'';var isPublicWiki=exports.isPublicWiki=window.wiki?window.wiki.config.isPublicWiki==='True':'';// file history\nvar PER_PAGE=exports.PER_PAGE=25;var historyRepoID=exports.historyRepoID=window.fileHistory?window.fileHistory.pageOptions.repoID:'';var repoName=exports.repoName=window.fileHistory?window.fileHistory.pageOptions.repoName:'';var filePath=exports.filePath=window.fileHistory?window.fileHistory.pageOptions.filePath:'';var fileName=exports.fileName=window.fileHistory?window.fileHistory.pageOptions.fileName:'';// Draft review\nvar draftFilePath=exports.draftFilePath=window.draft?window.draft.config.draftFilePath:'';var draftOriginFilePath=exports.draftOriginFilePath=window.draft?window.draft.config.draftOriginFilePath:'';var draftFileName=exports.draftFileName=window.draft?window.draft.config.draftFileName:'';var draftID=exports.draftID=window.draft?window.draft.config.draftID:'';var draftRepoID=exports.draftRepoID=window.draft?window.draft.config.draftRepoID:'';var author=exports.author=window.draft?window.draft.config.author:'';var authorAvatar=exports.authorAvatar=window.draft?window.draft.config.authorAvatar:'';var originFileExists=exports.originFileExists=window.draft?window.draft.config.originFileExists:'';var draftFileExists=exports.draftFileExists=window.draft?window.draft.config.draftFileExists:'';var draftStatus=exports.draftStatus=window.draft?window.draft.config.draftStatus:'';var draftPublishVersion=exports.draftPublishVersion=window.draft?window.draft.config.draftPublishVersion:'';var originFileVersion=exports.originFileVersion=window.draft?window.draft.config.originFileVersion:'';// org admin\nvar orgID=exports.orgID=window.org?window.org.pageOptions.orgID:'';var invitationLink=exports.invitationLink=window.org?window.org.pageOptions.invitationLink:'';var orgMemberQuotaEnabled=exports.orgMemberQuotaEnabled=window.org?window.org.pageOptions.orgMemberQuotaEnabled:'';// sys admin\nvar constanceEnabled=exports.constanceEnabled=window.sysadmin?window.sysadmin.pageOptions.constance_enabled:'';var multiTenancy=exports.multiTenancy=window.sysadmin?window.sysadmin.pageOptions.multi_tenancy:'';var multiInstitution=exports.multiInstitution=window.sysadmin?window.sysadmin.pageOptions.multi_institution:'';var sysadminExtraEnabled=exports.sysadminExtraEnabled=window.sysadmin?window.sysadmin.pageOptions.sysadmin_extra_enabled:'';var enableGuestInvitation=exports.enableGuestInvitation=window.sysadmin?window.sysadmin.pageOptions.enable_guest_invitation:'';var enableTermsAndConditions=exports.enableTermsAndConditions=window.sysadmin?window.sysadmin.pageOptions.enable_terms_and_conditions:'';var isDefaultAdmin=exports.isDefaultAdmin=window.sysadmin?window.sysadmin.pageOptions.is_default_admin:'';var enableFileScan=exports.enableFileScan=window.sysadmin?window.sysadmin.pageOptions.enable_file_scan:'';var canViewSystemInfo=exports.canViewSystemInfo=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_system_info:'';var canViewStatistic=exports.canViewStatistic=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_statistic:'';var canConfigSystem=exports.canConfigSystem=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_config_system:'';var canManageLibrary=exports.canManageLibrary=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_library:'';var canManageUser=exports.canManageUser=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_user:'';var canManageGroup=exports.canManageGroup=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_manage_group:'';var canViewUserLog=exports.canViewUserLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_user_log:'';var canViewAdminLog=exports.canViewAdminLog=window.sysadmin?window.sysadmin.pageOptions.admin_permissions.can_view_admin_log:'';\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports,\"__esModule\",{value:true});exports.seafileAPI=undefined;var _reactCookies=__webpack_require__(25);var _reactCookies2=_interopRequireDefault(_reactCookies);var _seafileJs=__webpack_require__(35);var _constants=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var seafileAPI=new _seafileJs.SeafileAPI();var xcsrfHeaders=_reactCookies2.default.load('sfcsrftoken');seafileAPI.initForSeahubUsage({siteRoot:_constants.siteRoot,xcsrfHeaders:xcsrfHeaders});exports.seafileAPI=seafileAPI;\n\n/***/ })\n\n},[1321]);\n\n\n// WEBPACK FOOTER //\n// js/draw.js","'use strict';\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  window.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\n// Object.assign() is commonly used with React.\n// It will use the native implementation if it's present and isn't buggy.\nObject.assign = require('object-assign');\n\n// In tests, polyfill requestAnimationFrame since jsdom doesn't provide it yet.\n// We don't polyfill it in the browser--this is user's responsibility.\nif (process.env.NODE_ENV === 'test') {\n  require('raf').polyfill(global);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/polyfills.js\n// module id = 12\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30","import { seafileAPI } from '../utils/seafile-api';\nimport DrawViewer from './draw-viewer';\n\n\nfunction loadFile(editorUi) {\n  return seafileAPI.getFileContent(window.app.config.rawPath).then((res) => {\n    var doc = window.mxUtils.parseXml(res.data);\n    //console.log(doc.documentElement);\n    editorUi.editor.setGraphXml(doc.documentElement);\n    editorUi.editor.setModified(false);\n    editorUi.editor.undoManager.clear();\n  });\n}\n\nfunction saveFile(content) {\n  return seafileAPI.getUpdateLink(window.app.config.repoID, window.app.config.parentDir).then((res) => {\n    return seafileAPI.updateFile(res.data, window.app.config.path, window.app.config.filename, content);\n  });\n}\n\n\nwindow.loadFile = loadFile;\nwindow.saveFile = saveFile;\nwindow.DrawViewer = DrawViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/draw.js","import { seafileAPI } from '../utils/seafile-api';\n\nvar mxRectangle = window.mxRectangle;\nvar mxGraph = window.mxGraph;\nvar mxCodec = window.mxCodec;\nvar mxUtils = window.mxUtils;\n\nclass DrawViewer {\n\n  constructor(graph) {\n    this.graph = graph;\n    graph.setEnabled(false);\n  }\n\n  loadFile() {\n    seafileAPI.getFileContent(window.app.config.rawPath).then((res) => {\n      var doc = mxUtils.parseXml(res.data);\n      /* eslint-disable */\n      console.log(doc.documentElement);\n      /* eslint-enable */\n      this.setGraphXml(doc.documentElement);\n    });\n  }\n\n  readGraphState(node) {\n    this.graph.gridEnabled = false;\n    this.graph.gridSize = parseFloat(node.getAttribute('gridSize')) || window.mxGraph.prototype.gridSize;\n    this.graph.graphHandler.guidesEnabled = node.getAttribute('guides') != '0';\n    this.graph.setTooltips(node.getAttribute('tooltips') != '0');\n    this.graph.setConnectable(node.getAttribute('connect') != '0');\n    this.graph.connectionArrowsEnabled = node.getAttribute('arrows') != '0';\n    this.graph.foldingEnabled = node.getAttribute('fold') != '0';\n\n    if (this.graph.foldingEnabled)\n    {\n      this.graph.foldingEnabled = false;\n      this.graph.cellRenderer.forceControlClickHandler = this.graph.foldingEnabled;\n    }\n\n    var ps = node.getAttribute('pageScale');\n\n    if (ps != null)\n    {\n      this.graph.pageScale = ps;\n    }\n    else\n    {\n      this.graph.pageScale = window.mxGraph.prototype.pageScale;\n    }\n\n\n    this.graph.pageVisible = false;\n    this.graph.pageBreaksVisible = this.graph.pageVisible;\n    this.graph.preferPageSize = this.graph.pageBreaksVisible;\n\n    var pw = node.getAttribute('pageWidth');\n    var ph = node.getAttribute('pageHeight');\n\n    if (pw != null && ph != null)\n    {\n      this.graph.pageFormat = new mxRectangle(0, 0, parseFloat(pw), parseFloat(ph));\n    }\n\n    // Loads the persistent state settings\n    var bg = node.getAttribute('background');\n\n    if (bg != null && bg.length > 0)\n    {\n      this.graph.background = bg;\n    }\n    else\n    {\n      this.graph.background = this.graph.defaultGraphBackground;\n    }\n  }\n\n  /**\n   * Sets the XML node for the current diagram.\n   */\n  setGraphXml(node) {\n    if (node != null)\n    {\n      var dec = new mxCodec(node.ownerDocument);\n\n      if (node.nodeName == 'mxGraphModel')\n      {\n        this.graph.model.beginUpdate();\n\n        try\n        {\n          this.graph.model.clear();\n          this.graph.view.scale = 1;\n          this.readGraphState(node);\n          this.updateGraphComponents();\n          dec.decode(node, this.graph.getModel());\n        }\n        finally\n        {\n          this.graph.model.endUpdate();\n        }\n      }\n    }\n    else\n    {\n      this.resetGraph();\n      this.graph.model.clear();\n    }\n  }\n\n  /**\n  * Keeps the graph container in sync with the persistent graph state\n  */\n  updateGraphComponents() {\n    var graph = this.graph;\n\n    if (graph.container != null)\n    {\n      graph.view.validateBackground();\n      graph.container.style.overflow = (graph.scrollbars) ? 'auto' : 'hidden';\n    }\n  }\n\n  /**\n  * Sets the XML node for the current diagram.\n  */\n  resetGraph() {\n    this.graph.gridEnabled = false;\n    this.graph.graphHandler.guidesEnabled = true;\n    this.graph.setTooltips(true);\n    this.graph.setConnectable(true);\n    this.graph.foldingEnabled = true;\n    this.graph.scrollbars = this.graph.defaultScrollbars;\n    this.graph.pageVisible = this.graph.defaultPageVisible;\n    this.graph.pageBreaksVisible = this.graph.pageVisible;\n    this.graph.preferPageSize = this.graph.pageBreaksVisible;\n    this.graph.background = this.graph.defaultGraphBackground;\n    this.graph.pageScale = mxGraph.prototype.pageScale;\n    this.graph.pageFormat = mxGraph.prototype.pageFormat;\n    this.graph.currentScale = 1;\n    this.graph.currentTranslate.x = 0;\n    this.graph.currentTranslate.y = 0;\n    this.updateGraphComponents();\n    this.graph.view.setScale(1);\n  }\n}\n\nexport default DrawViewer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw/draw-viewer.js","export const dirPath = '/';\nexport const gettext = window.gettext;\n\nexport const siteRoot = window.app.config.siteRoot;\nexport const loginUrl = window.app.config.loginUrl;\nexport const avatarInfo = window.app.config.avatarInfo;\nexport const logoPath =  window.app.config.logoPath;\nexport const mediaUrl = window.app.config.mediaUrl;\nexport const siteTitle = window.app.config.siteTitle;\nexport const siteName = window.app.config.siteName;\nexport const logoWidth = window.app.config.logoWidth;\nexport const logoHeight = window.app.config.logoHeight;\nexport const isPro = window.app.config.isPro === 'True';\nexport const isDocs = window.app.config.isDocs === 'True';\nexport const lang = window.app.config.lang;\nexport const fileServerRoot = window.app.config.fileServerRoot;\nexport const seafileVersion = window.app.config.seafileVersion;\nexport const serviceURL = window.app.config.serviceURL;\n\n//pageOptions\nexport const seafileCollabServer = window.app.pageOptions.seafileCollabServer;\nexport const name = window.app.pageOptions.name;\nexport const contactEmail = window.app.pageOptions.contactEmail;\nexport const username = window.app.pageOptions.username;\nexport const canAddRepo = window.app.pageOptions.canAddRepo;\nexport const canGenerateShareLink = window.app.pageOptions.canGenerateShareLink;\nexport const canGenerateUploadLink = window.app.pageOptions.canGenerateUploadLink ? true : false;\nexport const canViewOrg = window.app.pageOptions.canViewOrg === 'True';\nexport const fileAuditEnabled = window.app.pageOptions.fileAuditEnabled ? true : false;\nexport const enableFileComment = window.app.pageOptions.enableFileComment ? true : false;\nexport const folderPermEnabled = window.app.pageOptions.folderPermEnabled === 'True';\nexport const enableResetEncryptedRepoPassword = window.app.pageOptions.enableResetEncryptedRepoPassword === 'True';\nexport const isEmailConfigured = window.app.pageOptions.isEmailConfigured === 'True';\nexport const enableUploadFolder = window.app.pageOptions.enableUploadFolder === 'True';\nexport const enableResumableFileUpload = window.app.pageOptions.enableResumableFileUpload === 'True';\nexport const storages = window.app.pageOptions.storages; // storage backends\nexport const enableRepoSnapshotLabel = window.app.pageOptions.enableRepoSnapshotLabel;\nexport const shareLinkExpireDaysMin = window.app.pageOptions.shareLinkExpireDaysMin;\nexport const shareLinkExpireDaysMax = window.app.pageOptions.shareLinkExpireDaysMax;\nexport const maxFileName = window.app.pageOptions.maxFileName;\nexport const enableWiki = window.app.pageOptions.enableWiki;\nexport const enableEncryptedLibrary = window.app.pageOptions.enableEncryptedLibrary;\nexport const enableRepoHistorySetting = window.app.pageOptions.enableRepoHistorySetting;\nexport const isSystemStaff = window.app.pageOptions.isSystemStaff;\nexport const thumbnailSizeForOriginal = window.app.pageOptions.thumbnailSizeForOriginal;\nexport const repoPasswordMinLength = window.app.pageOptions.repoPasswordMinLength;\n\nexport const curNoteMsg = window.app.pageOptions.curNoteMsg;\nexport const curNoteID = window.app.pageOptions.curNoteID;\n\n// wiki\nexport const slug = window.wiki ? window.wiki.config.slug : '';\nexport const repoID = window.wiki ? window.wiki.config.repoId : '';\nexport const initialPath = window.wiki ? window.wiki.config.initial_path : '';\nexport const permission = window.wiki ? window.wiki.config.permission === 'True' : '';\nexport const isDir = window.wiki ? window.wiki.config.isDir : '';\nexport const serviceUrl = window.wiki ? window.wiki.config.serviceUrl : '';\nexport const isPublicWiki = window.wiki ? window.wiki.config.isPublicWiki === 'True': '';\n\n// file history\nexport const PER_PAGE = 25;\nexport const historyRepoID = window.fileHistory ? window.fileHistory.pageOptions.repoID : '';\nexport const repoName = window.fileHistory ? window.fileHistory.pageOptions.repoName : '';\nexport const filePath = window.fileHistory ? window.fileHistory.pageOptions.filePath : '';\nexport const fileName = window.fileHistory ? window.fileHistory.pageOptions.fileName : '';\n\n// Draft review\nexport const draftFilePath = window.draft ? window.draft.config.draftFilePath: '';\nexport const draftOriginFilePath = window.draft ? window.draft.config.draftOriginFilePath: '';\nexport const draftFileName = window.draft ? window.draft.config.draftFileName: '';\nexport const draftID = window.draft ? window.draft.config.draftID : '';\nexport const draftRepoID = window.draft ? window.draft.config.draftRepoID : '';\nexport const author = window.draft ? window.draft.config.author : '';\nexport const authorAvatar = window.draft ? window.draft.config.authorAvatar : '';\nexport const originFileExists = window.draft ? window.draft.config.originFileExists : '';\nexport const draftFileExists = window.draft ? window.draft.config.draftFileExists : '';\nexport const draftStatus = window.draft ? window.draft.config.draftStatus : '';\nexport const draftPublishVersion = window.draft ? window.draft.config.draftPublishVersion : '';\nexport const originFileVersion = window.draft ? window.draft.config.originFileVersion : '';\n\n// org admin\nexport const orgID = window.org ? window.org.pageOptions.orgID : '';\nexport const invitationLink = window.org ? window.org.pageOptions.invitationLink : '';\nexport const orgMemberQuotaEnabled = window.org ? window.org.pageOptions.orgMemberQuotaEnabled : '';\n\n// sys admin\nexport const constanceEnabled = window.sysadmin ? window.sysadmin.pageOptions.constance_enabled : '';\nexport const multiTenancy = window.sysadmin ? window.sysadmin.pageOptions.multi_tenancy : '';\nexport const multiInstitution = window.sysadmin ? window.sysadmin.pageOptions.multi_institution : '';\nexport const sysadminExtraEnabled = window.sysadmin ? window.sysadmin.pageOptions.sysadmin_extra_enabled : '';\nexport const enableGuestInvitation = window.sysadmin ? window.sysadmin.pageOptions.enable_guest_invitation : '';\nexport const enableTermsAndConditions = window.sysadmin ? window.sysadmin.pageOptions.enable_terms_and_conditions : '';\nexport const isDefaultAdmin = window.sysadmin ? window.sysadmin.pageOptions.is_default_admin : '';\nexport const enableFileScan = window.sysadmin ? window.sysadmin.pageOptions.enable_file_scan : '';\nexport const canViewSystemInfo = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_system_info : '';\nexport const canViewStatistic = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_statistic : '';\nexport const canConfigSystem = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_config_system : '';\nexport const canManageLibrary = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_library : '';\nexport const canManageUser = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_user : '';\nexport const canManageGroup = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_manage_group : '';\nexport const canViewUserLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_user_log : '';\nexport const canViewAdminLog = window.sysadmin ? window.sysadmin.pageOptions.admin_permissions.can_view_admin_log : '';\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/constants.js","import cookie from 'react-cookies';\nimport { SeafileAPI } from 'seafile-js';\nimport { siteRoot } from './constants';\n\nlet seafileAPI = new SeafileAPI();\nlet xcsrfHeaders = cookie.load('sfcsrftoken');\nseafileAPI.initForSeahubUsage({ siteRoot, xcsrfHeaders });\n\nexport { seafileAPI };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/seafile-api.js"],"sourceRoot":""}